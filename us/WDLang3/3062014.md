


## sEvent (Function)

***In french: sEvénement***



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Branches an event on a serial port.




<a name="Example1"></a>
<a name="sample_code"></a>

## Example


```wl
// Detect characters on COM1 port
sEvent(1, sEveCharReceived, "ReadCharacter")
```

```wl
// -- ReadCharacter procedure
PROCEDURE ReadCharacter(PortNum, EventNum)
Trace(sRead(1, sInEntryQueue(1)))
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Syntax

`<Result> = sEvent(<Port number> , <Event managed> , <WLanguage procedure>)`
---

**`<Result>: (Boolean)`**



- <u><u><u><u>True</u></u></u></u> if the function was run,

- <u><u><u><u>False</u></u></u></u> otherwise. **sEvent** has no effect if the port has not been previously opened in "Event management" mode (with [sOpen](../WDLang3/3062013.md)).




**`<Port number>: (Integer)`**



- Number of the serial port (1, 2, 3, up to 32 for COM1, COM2, COM3, ... COM32). 

- Port number returned by [sOpen](../WDLang3/3062013.md) (if this function was called with a port name).




**`<Event managed>: (Integer constant (or combination of constants))`**

Event to retrieve on the port:


|   |   |
| --- | --- |
| *sEveBreak*<br>(value: 64) | Receive a "Break line" event |
| *sEveCharReceived*<br>(value: 1) | Receive a character |
| *sEveCTS*<br>(value: 8) | Change of CTS status |
| *sEveDSR*<br>(value: 16) | Change of DSR status |
| *sEveEntryQueue80*<br>(value: 1024) | The input buffer is full at 80%<br>![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) This constant is not available. |
| *sEveError* <br>(value: 128) | Detect an error on the line<br>![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) This constant is not available. |
| *sEvePrinterError*<br>(value: 512) | Printer error detected<br>![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) This constant is not available. |
| *sEveRing*<br>(value: 256) | Detect the "Ring" signal (ring) |
| *sEveRLSD*<br>(value: 32) | Change of RLSD status<br>![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) This constant is not available. |
| *sEveTransmitCompleted*<br>(value: 4) | The output buffer is empty |



**`<WLanguage procedure>: (Procedure name)`**

Name of the WLanguage procedure called whenever the specified event is detected. This procedure has the following format:


```txt
PROCEDURE <Procedure name>(<Port number>, <Event number>)
```
where &lt;Port number&gt; corresponds to the port where the event occurred

where &lt;Event number&gt; corresponds to one of the event constants.  



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarks


### Detecting events and threads
<a name="detecting_events_and_threads_ELTPARAGRAPHE000151"></a>

The detection of events is performed in a specific thread of WLanguage. The call to the WLanguage procedure is performed in this thread. Therefore, this procedure is subject to thread limitations (especially for the display).

For more details on threads, see [Managing threads](../WDLang1/3077026.md).
<a name="NOTE0_2"></a>


### Managing very close events
<a name="managing_very_close_events_ELTPARAGRAPHE000163"></a>

If another event is triggered during the procedure triggered by the event, this last event will not be detected. 

If very close events are likely to be triggered, we advise you to: 

- read the event data (with [sRead](../WDLang3/3062012.md)) in the procedure triggered by **sEvent**, 

- continue the rest of the process in another thread.



<a name="NOTE0_3"></a>


### Disabling one or more events
<a name="disabling_one_more_events_ELTPARAGRAPHE000180"></a>

To disable the management of one or more events, use [sEndEvent](../WDLang3/3062008.md).
<a name="NOTE0_4"></a>


### Closing the port
<a name="closing_the_port_ELTPARAGRAPHE000190"></a>

When closing the port, all the events managed on this port are disabled. When re-opening the port, you must re-run **sEvent** to define the events managed on this port.
![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) 

### Using an external library: RXTX
<a name="using_external_library_rxtx_ELTPARAGRAPHE000346"></a>

In Java, the use of functions for handling the serial and parallel ports ([sOpen](../WDLang3/3062013.md), [sWrite](../WDLang3/3062009.md), [sRead](../WDLang3/3062012.md), ...) requires the presence of an external library: RXTX. 

This library includes a Jar archive and one or more native libraries that depend on the operating system on which the application is run.
 
To use these functions: 

- the Jar archive (RXTXComm.jar) must: 

	- be found in the same directory as the Java application generated by WINDEV, 

	- be found in the execution classpath of the application, 

	- be directly included in the generated application (from the wizard for Java generation). 




- the native libraries corresponding to the operating system on which the application is run must be found: 

	- in the same directory as the Java application generated by WINDEV, 

	- in the path of the application libraries (librarypath).







The RXTX library and its documentation can be downloaded from: [http://users.frii.com/jarvi/rxtx/index.html](http://users.frii.com/jarvi/rxtx/index.html) (link valid at the time this documentation was published). 

**Caution**: The management of infrared ports is not available in Java. 

<a name="XComponent"></a>

## Business / UI classification:
Business Logic
## Component:
wd280com.dll
