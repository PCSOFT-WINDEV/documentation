


## Android In-App configuration
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Overview
<a name="overview_ELTTEXTE000135"></a>
A specific configuration is required to manage the In-App purchases in an Android application. 

This help page presents the different operations to perform. 

The different steps are as follows: 

- [Registering the application in the Google Play Developer console](#NOTE2_1). 

- [Creating an "In-App" product](#NOTE3_1). 

- [Testing an "In-App" product](#NOTE4_1). 




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Registering the application in the Google Play Developer console
<a name="registering_the_application_the_google_play_developer_console_ELTTEXTE000159"></a>
To register the application: 

1. Connect to the [Google Play developer console](http://play.google.com/apps/publish). 
	**Caution**: A Google developer account is required as well as a Google Wallet account in order to sell products. 

2. Add the application and specify the requested information (title, description, ...).

3. Display (if necessary) the characteristics of the application and select "Services & API". 

4. Write down the public license key of the application. This key must be copied into the wizard for generating the Android application if your application is using the inAppXXX functions of WLanguage.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Creating an "In-App" product
<a name="creating_inapp_product_ELTTEXTE000183"></a>
To create an "In-App" product: 

1. Generate the Android application in WINDEV Mobile. The generated application must be signed with your key file (don't use a generic signature).

2. In the Google Play developer console, select the application that was added beforehand and select "APK file"

3. Click "Import a new APK file" and select the APK file generated by WINDEV Mobile (this file is located in the Exe directory of the project).

4. In "Products integrated to the application", click "Add a new product". Choose the type of product to add: Product managed or subscription

5. Type the product identifier: any identifier can be used. This identifier will be used in the WLanguage code of the application in order to retrieve information about the product ([inAppListProductInfo](../WDLang3/1000020872.md)).  

6. Specify the other information about the product: title, description, price, recurrence of invoicing for the subscriptions, ...

7. Save the created product and enable this product so that it can be sold.




Remark: A few hours can pass between the time when the APK file of the application is imported and the time when the Google Play service takes the new version of the application into account.

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Testing an "In-App" product
<a name="testing_inapp_product_ELTTEXTE000207"></a>
The test of "In-App" products can be run in your application without having to perform any financial transaction. To do so, the application must be published on Google Play Store in alpha version or in beta version. 

In this case, you must add the Gmail accounts of the users allowed to run the application test. 
**Caution**: 

- This account must be saved on the device on which the application to test will be installed. If several accounts are saved on the device, the account used will be the one that downloaded the application. If the application was not downloaded, the first account of the list will be used.

- The account used for the tests MUST NOT be the one used to connect to the Google Play developer console.




**To run the application test**: 

1. Install the application on your device (the emulator cannot be used).
	**Important**: The application installed must have: 

	- a version identical to the one whose APK was imported into the developer console (same version numbers and same code version)

	- the same signature as the APK imported into the developer console. 
			Import the new version of the application in the developer console if necessary.




2. Run the application test.





