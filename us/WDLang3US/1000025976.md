
## TwoFactorAuthenticationCheckCode (Function)

***In french: DoubleAuthVérifieCode***



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Verifies the code given by an authentication application.
<a name="Example1"></a>
<a name="sample_code"></a>

## Example


```wl
IF TwoFactorAuthenticationCheckCode(nCode, sTOTPKey) = False THEN
	Error("Invalid code.")
	RETURN
END
```

<a name="XSYNTAX"></a>

## Syntax
<a name="SYNTAX1"></a>

`<Result> = TwoFactorAuthenticationCheckCode(<Code> , <TOTP key>)`
---

**`<Result>: (Boolean)`**



- <u><u><u><u>True</u></u></u></u> if the code is valid,

- <u><u><u><u>False</u></u></u></u> otherwise.




**`<Code>: (Integer or character string)`**

6-digit code generated by the authentication application.



**`<TOTP key>: (Character string)`**

ANSI string that contains the TOTP key of the user to be authenticated.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarks


### Validity period
<a name="validity_period_ELTPARAGRAPHE000051"></a>

- The code validity period is slightly longer than the period shown by the authentication application. For example, when Google Authenticator shows a new code, the previous code is still valid for 1 minute.

- **TwoFactorAuthenticationCheckCode** checks the codes generated 1 minute before and 1 minute after the verification request is made. 





- ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=3&name=WDTwo-factorAuthentication.gif) ***Training (WINDEV)*** : **WD Two-factor Authentication** <br>This example shows how to use two-factor authentication to secure access to user accounts.<br>It uses TOTP authentication, which generates a 6-digit code every 30 seconds.<br><br>The code is generated by all Authenticators that use TOTP (Google, Microsoft, etc.)
- ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=3&name=WW_Two-factor_Authentication.gif) ***Training (WEBDEV)*** : **WW_Two-factor_Authentication** <br>This example shows how to use two-factor authentication to secure access to user accounts.<br>It uses TOTP authentication, which generates a 6-digit code every 30 seconds.<br><br>The code is generated by all Authenticators that use TOTP (Google, Microsoft, etc.)



<a name="XComponent"></a>

## Component:
wd280ggl.dll
