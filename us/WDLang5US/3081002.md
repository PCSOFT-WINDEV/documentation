


## XMLAddChild (Function)

***In french: XMLAjouteFils***



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Adds a child tag into an XML document. This child tag is added at the end of list of attributes for the current position.






<a name="Example1"></a>
<a name="sample_code"></a>

## Example
<a class="notetitle" target="_blank" href="$DOC$=1000003081002&name=xmladdchild_function&product=WD">See additional examples</a>

```wl
// Add a new order line
XMLParent("XMLOrd")
XMLAddChild("XMLOrd", "orderline", "", True)
XMLAddAttribute("XMLOrd", "number", "2")

// Add the "productcode" tag
XMLAddChild("XMLOrd", "productcode", "sro2125")

// Add the "description" tag
XMLAddChild("XMLOrd", "description", "optical mouse")

// Add the "quantity" tag
XMLAddChild("XMLOrd", "quantity", "15")
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Syntax

`XMLAddChild(<XML document> , <Tag> [, <Tag value> [, <Change of position> [, <Option>]]])`
---

**`<XML document>: (Character string)`**

Name of the XML document into which the addition must be performed. This document contains the XML code and it was created by [XMLDocument](../WDLang5/3081008.md).

**`<Tag>: (Character string)`**

Name of tag to add. 
If this parameter corresponds to the *CDATA* constant, the content of the CDATA tag will not be interpreted by the XML parser. You have the ability to include an image in binary format in this tag. Caution: the encoding used must respect the encoding of the XML document.



**`<Tag value>: (Optional character string)`**

Value of new tag. This parameter corresponds to an empty string by default.

**`<Change of position>: (Optional boolean)`**



- <u><u><u><u>True</u></u></u></u> to be positioned on the added element. In this case, the added element becomes the current position. 

- <u><u><u><u>False</u></u></u></u> (default value) to avoid modifying the current position during the addition.




**`<Option>: (Optional Integer constant)`**

Addition options. The possible values are:



|   |   |
| --- | --- |
| *XMLEncodingAmpersand* | If the "&" character (ampersand) is found in the value of added tag, it will be encoded in "&" format.<br>If this constant is not specified, the "&" character must be encoded in the XML tag. No encoding will be performed. |





<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarks


### Managing the addition 
<a name="managing_the_addition_ELTPARAGRAPHE000089"></a>

- If the current position is an attribute, the new tag is added at the end of the current list of child tags for the tag that contains the attribute.

- The current position in the document does not change during the call to **XMLAddChild** except if &lt;Change of position&gt; is set to <u><u><u><u>True</u></u></u></u>.


**Remark**: [XMLDocument](../WDLang5/3081008.md) creates no root for the document. To create a first child element in an empty document, this document must necessarily contain a root.
<a name="NOTE0_2"></a>


### Saving the modifications in the XML file
<a name="saving_the_modifications_the_xml_file_ELTPARAGRAPHE000108"></a>

To save the modifications performed in an XML file, you must:

1. Use the [XMLBuildString](../WDLang5/3081016.md) function. This function retrieves and formats the content of an XML document.

2. Save the character string generated by [XMLBuildString](../WDLang5/3081016.md) in an XML file. To do so, use the [fSaveText](../WDLang1/3036046.md) function.




Example:


```wl
// Once the XML document was modified 
XMLSource = XMLBuildString("XMLDoc")
// Save the XML file
fSaveText("ModifiedExample.xml", XMLSource)
```

<a name="NOTE0_3"></a>


### XML functions and threads
<a name="xml_functions_and_threads_ELTPARAGRAPHE000269"></a>

If your application uses threads, the XML document is shared between all these threads. For more details on threads, see [Managing threads](../WDLang1/3077026.md).

<a name="XComponent"></a>

## Component:
wd280xml.dll
