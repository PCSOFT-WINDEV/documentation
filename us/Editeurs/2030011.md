


## Events associated with the project
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Default events
<a name="default_events_ELTTEXTE000314"></a>
WINDEV, WEBDEV and WINDEV Mobile handle the following events by default (order of appearance in the code editor):

| Event | Runtime condition |
| --- | --- |
| Initializing | Run when the application is started. Here is the order in which the events are run when starting an application (also when running a test):<br><br>- Initialization of the components "loaded when starting the application".<br><br>	- Initialization of sub-components(\*).<br><br>	- Initialization of component classes.<br><br>	- Initialization of the sets of procedures of the component.<br><br>	- Initialization of the component project(\*).<br><br><br><br><br>- Initialization of classes.<br><br>- Initialization of sets of procedures.<br><br>- Initialization of the project.<br><br>- Initialization of the first project window or of the element whose test is run.<br><br><br>(\*) The initialization event of a component is run only when the component uses the same execution context as the project. For more details on the component generation options, see [Creating and generating an external component](../Editeurs/2014002.md).<br><br>If [Use](../WDLang1/3038044.md) is run, the project initialization event is interrupted (all the lines of code after [Use](../WDLang1/3038044.md) will not be run).<br><br>**Examples**<br>Some examples of how to use this event:<br><br>- Initializing the global variables of the project.<br><br>- Creating the data files ([HCreation](../WDLang4/3044255.md) and [HCreationIfNotFound](../WDLang4/3044254.md)).<br><br>- Defining directories to create data files ([HChangeDir](../WDLang4/3044168.md) and [HSubstDir](../WDLang4/3044028.md)).<br><br>- Describing the temporary connections to a database ([HDescribeConnection](../WDLang4/3044205.md)).<br><br><br> |
|   | Used if the site is run with cached sessions. <br><br>To manage pre-launched sessions, two events are associated with the project:<br><br>- "Initializing the project", run before the request reaches the WEBDEV application server. This code is run when starting the pre-launched session. <br><br>- "Initializing the project after connection to the site", run when the WEBDEV application server processes the request. <br><br><br><br><br>Caution: Some WLanguage functions must not be used in the event "Initializing the project". They must be moved to the event "Initializing the project after connection to the site". <br><br>For more details, see [Pre-launched sessions](../WDLang2/1000019485.md). |
| Closing | Run when the closing application (when the last window of the application is closed for example).<br>Here is the order in which the events for closing the project are run:<br><br>- Closing the project.<br><br>- Event for ending the sets of procedures.<br><br>- Event for ending the classes.<br><br>- Closing the components (closing the component project, then its sets of procedures, then its classes, then its sub-components).<br><br><br>**This event will not be executed:**<br><br>- When [EndProgram](../WDLang1/3013033.md) is run and the "Closing code" parameter is not specified or is set to "False".<br><br>- When [AppControl](../WDLang1/3013003.md) is run and the "Run project closing code" parameter is not specified or is set to "False".<br><br><br> |
| ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/us/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/us/LX.png) Closing the session | Run in the following cases if the application is currently used:<br><br>- When closing the current user session.<br><br>- When stopping the system of the current computer.<br><br>- When restarting the current computer.<br><br><br>In these cases, only this event will be run. The events for closing the project as well as the events for ending the classes and the sets of procedures will not be run.<br>**Remark**: Depending on the operating system of the current computer, the operating system may try to abruptly stop the application after a while.<br><br>**Examples**<br>Some examples of how to use this event:<br><br>- Freeing the libraries loaded in memory by [FreeDLL](../WDLang1/3014009.md) (if libraries have been loaded in memory).<br><br>- Freeing classes, OLE Automation objects and dynamic arrays ([Free](../Motscles/1511012.md) keyword).<br><br>- Canceling the current transactions ([HTransactionCancel](../WDLang4/3044001.md)).<br><br>- Closing the HFSQL files ([HClose](../WDLang4/3044073.md)).<br><br>- Sending information messages to other computers ([SendMessage](../WDLang1/3015003.md)).<br><br>- Running the event for closing the project with [EndProgram](../WDLang1/3013033.md) with "Closing code" set to "True".<br><br><br> |
| ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/us/WINDOWS.png) <br>Automated test | Optional event.<br><br>To enable this event, go to the "Automated tests" tab, "Tests" group, click the dialog box launcher (![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=3&name=ico_regroup.gif)) and select "Enable automated test code of the project".<br><br>To disable this event, go to the "Automated tests" tab, "Tests" group, click the dialog box launcher (![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=3&name=ico_regroup.gif)) and select "Disable automated test code of the project".<br><br>In the case of an automated test, this event is run before the project initialization code. This code us used to process some special cases where the automated test may be locked: opening a window in the initialization code of the project (configuration window, license window, custom login window, ...).<br><br>The project automated test code allows you to use [EmulateWindow](../WDLang1/1000009009.md) to validate the window. |
|   | Run when the application is moved to the background. This event is used, for example, to save the data.<br><br>Remark: This event is run AFTER the optional window event "Move application to the background". |
|   | Run when the application is re-enabled and when it is moved to the foreground. This event is used, for example, to refresh the displayed data.<br><br>Remarks:<br><br>- This event is not run when the application starts.<br><br>- This event is run BEFORE the optional window event "Move application to the foreground".<br><br><br> |
|   | Run in the following cases: <br><br>- When the application starts (after the "Initializing" event of the project).<br><br>- When the theme is changed in the code with [ChangeTheme](../WDLang3/1000025266.md) only if the *withCodeExecution* constant has been specified.<br><br>- When the system automatically changes the theme: modification of system settings, changing the day/night time, activating/deactivating the battery saver, etc.<br><br><br><br><br>Remark: This event is only available if dark theme management is enabled. For more details, see [Dark theme management on mobile](../WDLang3/1000025338.md). |
|   | Executed when the WEBDEV Application Server or the application is started.<br><br>Remark: Since scheduled tasks are not persistent in WEBDEV, this event allows you to add scheduled tasks programmatically ([AppServerAddScheduledTask](../WDLang2/1000022347.md)). |
|   | Executed when an application is installed, updated or unlocked. |
|   | Executed when the WEBDEV Application Server is stopped. |




