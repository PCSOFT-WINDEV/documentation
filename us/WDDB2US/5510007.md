
## Native DB2 Connector: Specific features and remarks
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Overview
<a name="overview_ELTTEXTE000215"></a>
The following paragraphs present the main aspects and specific features of the Native DB2 Connector.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Main remarks
<a name="main_remarks_ELTTEXTE000239"></a>


### Required versions
<a name="required_versions_ELTPARAGRAPHE000018"></a>

**Caution**: This version of the Native DB2 Connector works with WINDEV and WEBDEV 28.
<a name="NOTE2_2"></a>


### Unicode items
<a name="unicode_items_ELTPARAGRAPHE000027"></a>

The Native DB2 Connector does not support Unicode items. We advise you to use text items in Ansi format and to perform the conversion (if necessary) with [UnicodeToAnsi](../WDLang1/3024025.md).

[HCreation](../WDLang4/3044255.md) will display an error message when creating files containing items in Unicode format.
<a name="NOTE2_3"></a>


### Lock timeout
<a name="lock_timeout_ELTPARAGRAPHE000041"></a>

The lock timeouts on a DB2 database are not limited by default. The application can be locked if the two following conditions occur at the same time:

- record locked by [SQLLock](../WDLang4/3072003.md), 

- this record is already locked.




We strongly advise you to define a lock timeout for each DB2 database used with the Native DB2 Connector. The lock timeout is usually set to 30 seconds.

See the documentation specific to DB2 for more details.
<a name="NOTE2_4"></a>


### Default values of items
<a name="default_values_items_ELTPARAGRAPHE000060"></a>

The default values of items are managed by Native DB2 Connector. The default values can be: 

- a value, 

- an SQL formula. In this case, the SQL expression must be recognized by the HFSQL engine and by the DB2 database. The only expression that can be used is CURRENT_TIMESTAMP. 




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Specific features of Native DB2 Connector
<a name="specific_features_native_db2_connector_ELTTEXTE000281"></a>


### Analysis options
<a name="analysis_options_ELTPARAGRAPHE000072"></a>

- The analysis options regarding the full-text indexes are not supported by the Native Connector.

- The analysis options regarding the partial indexing of text memos are not supported by the Native Connector.



<a name="NOTE3_2"></a>


### User types
<a name="user_types_ELTPARAGRAPHE000080"></a>

The Native DB2 Connector does not support the user types defined in DB2.
<a name="NOTE3_3"></a>


### INSERT queries and automatic identifier
<a name="insert_queries_and_automatic_identifier_ELTPARAGRAPHE000087"></a>

The automatic identifiers are not supported by the INSERT queries (created through programming or in the query editor). To use an automatic identifier, call [HAdd](../WDLang4/3044147.md) on the table.
<a name="NOTE3_4"></a>


### Identical records
<a name="identical_records_ELTPARAGRAPHE000097"></a>

The Native DB2 Connector cannot differentiate between two identical records (which means records with identical values for all items, excluding memo items).

When a record is modified or deleted, all the identical records will be modified or deleted.
<a name="NOTE3_5"></a>


### Independent contexts
<a name="independent_contexts_ELTPARAGRAPHE000106"></a>

The Native DB2 Connector does not support the independent contexts. All the operations are performed in the same HFSQL context, even if an independent context was requested for a window, a page or a report.
<a name="NOTE3_6"></a>


### SQL locks
<a name="sql_locks_ELTPARAGRAPHE000113"></a>

In a browse performed by [SQLFetch](../WDLang4/3072011.md) and [SQLGetCol](../WDLang4/3072019.md), the record currently read is locked in write mode.

When using [SQLLock](../WDLang4/3072003.md), the Native Connector browses the data on a "repeatable read" isolation level (for more details, see the documentation about DB2).

Therefore, several users can simultaneously lock a record in write mode ([SQLLock](../WDLang4/3072003.md) returns <u><u><u><u>True</u></u></u></u> for both users). However, only the user who locked the record first will be able to modify it or to delete it. The other users will be able to access the record in read-only.
<a name="NOTE3_7"></a>


### HFSQL lock
<a name="hfsql_lock_ELTPARAGRAPHE000140"></a>

The locks CANNOT be used with the HFSQL functions in this version.
<a name="NOTE3_8"></a>


### Duplicate error on the Automatic Identifier item
<a name="duplicate_error_the_automatic_identifier_item_ELTPARAGRAPHE000147"></a>

The "Automatic identifier" column of a table created by [HCreation](../WDLang4/3044255.md) is as follows:


```txt
BIGINT NOT NULL GENERATED BY DEFAULT 
AS IDENTITY (START WITH 1, INCREMENT BY 1), PRIMARY KEY
```


The value of the automatic identifier is automatically managed by DB2.

To do so, a counter is incremented whenever an addition is performed.

However, DB2 does not increment the counter if you force the value of the automatic identifier in an INSERT query.

When another addition is performed, a duplicate error may occur if DB2 automatically generates a value that already exists for the automatic identifier.

**To avoid this problem**, run the following query to reinitialize the value of the counter to a value greater than the specified identifier:


```txt
ALTER TABLE <Table name> ALTER COLUMN <Name of auto ID> 
RESTART WITH <Max value of auto ID in file +1>
```


**Remark**: The Native DB2 Connector automatically performs this operation after the call to **HAdd(hSetIDAuto)**. 


