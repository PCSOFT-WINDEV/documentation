
## BrowserHistoryAdd (Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Añade una entrada en la historia de la navegación asociando datos. Estos datos se transmitirán al volver a esta entrada.
<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// Goes to the next application plane
CELL_Main..Plane++
// Adds an history entry
// The transmitted data is the plane number
BrowserHistoryAdd(CELL_Main..Plane, MyPage..Title, "#Plane" + CELL_Main..Plane)
```

<a name="XSYNTAX"></a>

## Sintaxis
<a name="SYNTAX1"></a>

`NavegadorHistorialAñadir(<Data> [, <Title> [, <URL>]])`
---

**`<Data>: (Tipo de datos)`**

Estado asociado a la página de la nueva entrada en el historial. 

**`<Title>: (Cadena de caracteres opcional (con comillas))`**

Nuevo título para la página.
Atención: este título es actualmente ignorado por la mayoría de los navegadores.

**`<URL>: (Cadena de caracteres opcional (con comillas))`**

Nueva URL que será mostrada por el navegador. Esta URL se utiliza sólo para la visualización en la barra de direcciones.. Por lo tanto, no es necesario utilizar una URL válida.. Sin embargo, si el usuario copia esta URL para utilizarla en otro navegador, la carga de la página fallará si la URL no es válida.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Modo de funcionamiento
<a name="modo_funcionamiento_ELTPARAGRAPHE000038"></a>

Los datos añadidos describen el estado asociado a la página para la nueva entrada en el historial.. 

Si el usuario web vuelve a una entrada del historial, los datos almacenados se transmitirán al evento "Mover en el historial de navegación" (evento de página opcional).. Este evento debe procesar los datos para restaurar el estado de la página.. Este proceso debe estar asociado a un procedimiento que espera que los datos transmitidos en el parámetro: 

```txt
// Event "Move in the navigation history (onpopstate)"
PROCEDURE <ProcedureName>(<Data>)
```


Ejemplo: Este ejemplo añade la página al historial y almacena la hora de inserción. Al volver a la página del historial anterior se muestra la hora.

```wl
x is Variant
x.Time = TimeSys()
BrowserHistoryAdd(x, MyPage..Title, "#before") 

x.Time = TimeSys()
BrowserHistoryAdd(x, MyPage..Title, "#after")
```

```wl
// Event "Move in the navigation history (onpopstate)" 
PROCEDURE ProcessHistory(stStatus)
Info(stStatus.Time)
```


Observación: Dependiendo del navegador, el evento "Move in the navigation history (onpopstate)" también se ejecuta al cargar la página y al volver a la visualización inicial de la página.. En este caso, el parámetro &lt;Data&gt; transmitido al evento corresponde a Null.
<a name="NOTE0_2"></a>


### Impedir el uso de la tecla "Back" del navegador
<a name="impedir_uso_tecla_back_del_navegador_ELTPARAGRAPHE000060"></a>

Puede impedir el uso de la tecla "Back" del navegador. Para obtener más información, consulte [Impedir el uso de la tecla "Back" del navegador](../WDChamp/1012009.md). 

<a name="XComponent"></a>

## Componente:
WDJS.DLL
