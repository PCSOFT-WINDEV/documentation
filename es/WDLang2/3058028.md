
## DeclareAWPContext( Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Permite declarar una lista de variables cuyo valor será persistente entre las sucesivas visualizaciones de las páginas de AWP. Esta función indica las variables que se guardarán y restaurarán cada vez que se visualicen las páginas de Active WEBDEV. Permite gestionar un contexto AWP. Hay dos modos disponibles para gestionar los contextos:

- Gestionando los contextos a través de cookies (por Default).

- Gestión de los contextos en el disco.


El modo de gestión de los contextos se selecciona en [ConfigurarAWPContext](../WDLang2/1000017066.md). Si no se llama a esta función, los contextos se gestionan a través de las cookies de Default. 

**DeclareAWPContext** sólo se tiene en cuenta en el modo AWP.

Se recomienda utilizar esta función en la inicialización del proyecto Event( para las variables del proyecto) y/o en la inicialización de la página Event( para las variables de la página). En la mayoría de los casos, esta función debe ser utilizada en la Process donde las variables son declaradas e inicializadas.
Si el proyecto utiliza sesiones preiniciadas, esta función no debe utilizarse en el evento "Inicialización" del proyecto. Debe utilizarse en el evento "Inicialización del proyecto después de la conexión al sitio". 

**Observación**: Para más detalles:

- sobre las páginas de Active WEBDEV, véase [Las dinámicas páginas de Active WEBDEV](../WDChamp/3539009.md).

- sobre la gestión de los contextos AWP, véase [Gestión de los contextos de AWP](../WDChamp/3539060.md).




**Atención**: Esta función requiere un buen conocimiento de la WEBDEV.
<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// -- Project initialization code 
gnNumCurrentProduct is int = 1

// Indicate that the value of gnNumCurrentProduct must be saved
// whenever an Active WEBDEV Page is displayed
DeclareAWPContext(gnNumCurrentProduct)

// During the next displays of the page:
// - either the value of gnNumCurrentProduct is not retrieved 
// and it is automatically reinitialized with "1"
// (during the first page display for example)
// - or the value of gnNumCurrentProduct is retrieved and used
// (during the next displays for example)
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis

`<Result> = DeclareAWPContext(<Name of variable 1> [, <Name of variable 2> [... [, <Name of variable N>]]])`
---

**`<Result>: (booleano)`**



- <u><u><u><u>True</u></u></u></u> si se restauraron las variables especificadas,

- <u><u><u><u>False</u></u></u></u> en caso contrario (al mostrar la página por primera vez, por ejemplo).




**`<Name of variable 1>: (Tipo de variable)`**

Nombre de la primera Variable que se guardará al final de la visualización. El valor de esta Variable se recuperará durante las sucesivas visualizaciones de la página.

**`<Name of variable 2>: (Tipo de Variable (parámetro opcional))`**

Nombre de la 2ª Variable que se guardará al final de la pantalla. El valor de esta Variable se recuperará durante las sucesivas visualizaciones de la página.



**`<Name of variable N>: (Tipo de Variable (parámetro opcional))`**

Nombre de la Nth Variable que se guardará al final de la visualización. El valor de esta Variable se recuperará durante las sucesivas visualizaciones de la página.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones




### Si se utiliza el modo de gestión de contextos mediante cookies (constante ctxCookie utilizada en ConfigureAWPContext): 
<a name="utiliza_modo_gestion_contextos_mediante_cookies_constante_ctxcookie_utilizada_configureawpcontext_ELTPARAGRAPHE000076"></a>

- **DeclareAWPContext** utiliza cookies HTTP. Los valores de las variables no serán restaurados si las cookies HTTP son ignoradas por el navegador utilizado en el ordenador actual.

- El tamaño total de los valores de las diferentes variables no puede exceder los 4KB. Si el tamaño de estos valores es demasiado importante, estos valores serán truncados (falta de Variable y/o contenido truncado).

- No se recomienda utilizar la función **DeclareAWPContext** para datos confidenciales (contraseña del usuario, por ejemplo). De hecho, los datos fluyen a través del navegador. Esta función NO debe utilizarse, por ejemplo, para almacenar una conexión de usuario.

- Si se guardan dos Variable con el mismo nombre (uno en el proyecto y el otro en una página, por ejemplo), sólo se guardará el primer Variable.

- **DeclareAWPContext** devuelve <u><u><u><u>False</u></u></u></u> si una de las variables no fue restaurada.

- Solo las variables pasadas a la función **DeclareAWPContext** durante la visualización de una página se recuperarán durante la siguiente visualización. Las variables que se han pasado anteriormente no se vuelven a guardar automáticamente.

- Sólo se soportan las variables simples (entero, cadena, ....).



<a name="NOTE0_2"></a>




### Si se utiliza el modo de gestión de contextos en el disco (constante ctxDisk utilizada en ConfigureAWPContext): 
<a name="utiliza_modo_gestion_contextos_disco_constante_ctxdisk_utilizada_configureawpcontext_ELTPARAGRAPHE000102"></a>

- La función **DeclareAWPContext** utiliza contextos en el disco. Los valores de las variables siempre se restauran.

- El tamaño total de los valores de las diferentes variables no está limitado.

- **DeclareAWPContext** puede utilizarse para datos sensibles (contraseña de usuario, por ejemplo). 

- Si se guardan dos variables con el mismo nombre (una en el proyecto y la otra en una página, por ejemplo), las dos variables se guardan independientemente.

- **DeclareAWPContext** devuelve <u><u><u><u>False</u></u></u></u> si una de las variables no fue restaurada.

- Todas las variables pasadas a la función **DeclareAWPContext** durante la visualización de una página se recuperarán durante la siguiente visualización. Las variables que se pasaron de antemano se guardan automáticamente de nuevo.

- Se soportan las variables simples (entero, cadena, ...) así como las variables de estructura, clase, array o asociativas array. No se admite la arrays fija, los miembros globales de las clases, la arrays asociativa de las estructuras locales y las referencias a objetos dinámicos.




<a name="XComponent"></a>

## Componente:
wd280page.dll
