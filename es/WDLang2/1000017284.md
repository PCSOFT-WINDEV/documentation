
## JSONExecute( Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Llama a una URL del servidor que devuelve datos en formato JSON (JavaScript Object Notation). Los datos del servidor se evalúan y se devuelven en formato de objeto.
<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
MyContacts is dynamic object
MyContacts = JSONExecute(FolderWeb() + "US/Page_Object.awp?id=12")

// Process the data received
FOR i = 1 _TO_ Dimension(MyContacts:List)
	ListAdd(LIST_List_of_contacts, MyContacts:List[i]:Name + ...
	" " + MyContacts:List[i]:FirstName)
END
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis

### Sintaxis sincrónica: la función se bloquea hasta que se reciben los datos

`<Result> = JSONExecute(<Page URL>)`
---

**`<Result>: (Objeto dinámico)`**

Datos devueltos por el servidor. Este resultado debe asignarse a un objeto cuyo tipo sea objeto dinámico.

**`<Page URL>: (Cadena de caracteres)`**

URL de la página que devuelve los datos en formato JSON. Esta URL puede ser una URL de Partial o una URL completa.

- Si la URL no comienza con 'http:', esta URL se utiliza directamente. Atención: el dominio debe encontrarse en el dominio de la página actual (o en un subdominio), de lo contrario la llamada falla.

- Si la URL empieza por '/', se considera como ruta completa en el dominio actual.

- En todos los demás casos, la URL se considera como ruta relativa al directorio de la página actual..  





<a name="SYNTAX2"></a>

### Sintaxis asíncrona: un Procedure se ejecuta cuando se reciben los datos

`JSONExecute(<Page URL> , <Procedure name>)`
---

**`<Page URL>: (Cadena de caracteres)`**

URL de la página que devuelve los datos en formato JSON. Este URL puede ser un URL de Partial o un URL completo.  

- Si la URL no comienza con 'http:', esta URL se utiliza directamente. Atención: el dominio debe encontrarse en el dominio de la página actual (o en un subdominio), de lo contrario la llamada falla.

- Si la URL empieza por '/', se considera como ruta completa en el dominio actual.

- En todos los demás casos, la URL se considera como ruta relativa al directorio de la página actual..  




**`<Procedure name>: (Cadena de caracteres)`**

Nombre del procedimiento del navegador (procedimiento global o local) que realiza la Process de los datos de la JSON.
Este procedimiento tiene el siguiente formato:


```txt
PROCEDURE <Browser procedure> (<JSON result of call>)
```
El parámetro pasado a este Procedure es un objeto dinámico, que contiene los datos de JSON. Debe indicarse en la declaración de la Procedure.  



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones




### Interrogar un servidor del mismo dominio o de un dominio diferente
<a name="interrogar_servidor_del_mismo_dominio_dominio_diferente_ELTPARAGRAPHE000055"></a>

En la mayoría de los casos, el servidor se encuentra en el dominio que alberga el sitio.. En este caso, no se requiere ninguna operación específica.. 

Al interrogar a un servidor desde otro dominio: 

- el servidor debe implementar el protocolo CORS,

- el sitio curernt debe ser permitido a Contact el servidor. 




Para más detalles, consulte [https://www.w3.org/wiki/CORS](https://www.w3.org/wiki/CORS) sobre el protocolo CORS (Cross-Origin Resource Sharing). 
<a name="NOTE0_2"></a>




### Página de devolución de los datos en formato JSON
<a name="pagina_devolucion_los_datos_formato_json_ELTPARAGRAPHE000073"></a>

La página que devuelve los datos en formato JSON puede ser una página AWP, una página PHP u otro tipo de página.

**Si esta página es una página WEBDEV,** esta página puede estar en formato AWP o en formato PHP. Esta página debe devolver los datos en formato JSON con [Pantalla StringDisplay](../WDLang2/3012001.md). Además, [StringToUTF8](../WDLang1/3024042.md) también debe utilizarse para get un formato válido.

Por ejemplo, el siguiente código se utiliza para crear la cadena que será devuelta. Este string contiene el código utilizado para definir un objeto y un array. El código utilizado es código Javascript.


```wl
sObject is string = [
{id: 12,
List:  [
	{Name: "smith", FirstName: "john"},
	{Name: "doe", FirstName: "mary"},
	{Name: "martin", FirstName: "laura"}]
}
]
StringDisplay(StringToUTF8(sObject))
```

<a name="NOTE0_3"></a>


### IMPORTANTE: Validez de JSON
<a name="importante_validez_json_ELTPARAGRAPHE000092"></a>

No se realiza ningún control sobre la validez de la JSON recibida del servidor. Asegúrese de que la página llamada sea una página de confianza para evitar tener una inyección de JavaScript en la página actual.
<a name="NOTE0_4"></a>


### Seguridad
<a name="seguridad_ELTPARAGRAPHE000099"></a>

Para aumentar la seguridad de los datos transmitidos, tiene la posibilidad de utilizar una página secure (https).  

<a name="XComponent"></a>

## Componente:
WDJS.DLL
