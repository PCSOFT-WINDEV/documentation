
## Declaración de compilación: COMPILAR IF

*** ***
				

<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
La declaración **&lt;COMPILAR SI&gt;** permite Compile( o no) un código WLanguage según una condición. 

Esta instrucción se utiliza para obtener fácilmente un código de configuración múltiple sin mostrar ningún error de compilación (utilizando las palabras clave **Configuration** y **ConfigurationType**). 

**Diferencia entre &lt;COMPILE IF&gt; y el código destino condicional**: 

- El código de destino condicional compila el código.
	El código de destino condicional es interesante para un componente que se ejecutará en diferentes plataformas, por ejemplo. El código está compilado en todas las plataformas y se ejecutará de acuerdo con la plataforma actual.. Para obtener más información, consulte [Código de destino condicional](../Editeurs/9000033.md). 

- La compilación condicional (&lt;COMPILE IF&gt; sentencia) no compila el código. Se utiliza principalmente para evitar mostrar errores de compilación (utilizando las palabras clave **Configuration** y **ConfigurationType**). Para obtener más información, consulte [Beneficios y limitaciones](#NOTE0_4). 



<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
<COMPILE IF Configuration <> "Java archive">
	Trace("No Java archive")	
<END>
```



```wl
<COMPILE IF Configuration <> "Java archive" AND Configuration = "Windows 32-bit executable">
	Trace("No Java archive and Exe32")	
<END>
```



```wl
<COMPILE IF Configuration = "Linux64" OR ConfigurationType = Android>
	Trace("Linux64")
	i is int = 12
<ELSE>
	Trace("Other")
	i is string = 24
<END>


Trace("i = " + i)
```



```wl
// Declare a constant whose value depends on the configuration
<COMPILE IF Configuration <> "Java archive">
	CONSTANT
		Constant_Name = 10
    END
<ELSE>
	CONSTANT
		Constant_Name = 20
    END
<END>
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis

### Recopilación según una condición

`<COMPILE IF <Condition>>
... // Code compiled if the condition is true
<END>`
---



### Compilar un código u otro según una condición

`<COMPILE IF <Condition>>
... // Code compiled if the condition is true
<ELSE>
... // Code compiled if the condition is false
<END>`
---



### Compilar un código u otro según varias condiciones

`<COMPILE IF <Condition1>>
... // Code compiled if <Condition1> is true
<SINON IF <Condition2>>
... // Code compiled if <Condition2> is true
...
<SINON IF <ConditionN>>
... // Code compiled if <ConditionN> is true
<END>`
---



### Compilar un código u otro según varias condiciones

`<COMPILE IF <Condition1>>
... // code compiled if <Condition1> is true
<SINON IF <Condition2>>
... // Code compiled if <Condition2> is true
...
<SINON IF <ConditionN>>
... // Code compiled if <ConditionN> is true
<ELSE>
... // Code compiled if all the conditions are false
<END>`
---



### Compilar un código según los tipos de cadenas utilizadas

`<COMPILE IF ConfigurationANSI/ConfigurationUNICODE>
... // code compiled if the current configuration is using ANSI strings or UNICODE strings
<END>`
---



### Compilación de un código según el tipo de configuración utilizada (32 o 64 bits)

`<COMPILE IF Configuration32/Configuration64>
... // compiled code if the current configuration is a 32-bit or 64-bit configuration
<END>`
---



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Parámetro de condición
<a name="parametro_condicion_ELTPARAGRAPHE000061"></a>

La condición debe ser evaluada durante la compilación: por lo tanto, sólo puede contener elementos literales (números, strings, True, False,...) o constantes.

Observaciones: 

- No se puede utilizar ninguna función en la condición. 

- La condición puede utilizar los operadores de comparison. 

- Se pueden utilizar palabras clave específicas: Configuración y tipo de configuración.



<a name="NOTE0_2"></a>


### Palabra clave de configuración
<a name="palabra_clave_configuracion_ELTPARAGRAPHE000074"></a>

La palabra clave **Configuration** devuelve el nombre de la configuración actual.. Por lo tanto, usted tiene la capacidad de escribir: 


```txt
<COMPILE If Configuration = "TestConfig">
	// Code compiled in the "TestConfig" configuration
<END>
```

<a name="NOTE0_3"></a>


### ConfiguraciónEscriba la palabra clave
<a name="configuracionescriba_palabra_clave_ELTPARAGRAPHE000083"></a>

**ConfigurationType** devuelve el tipo de la configuración actual. Por lo tanto, usted tiene la capacidad de escribir: 


```txt
<COMPILE IF ConfigurationType=WindowsApplication>
	// Code compiled in all the Windows configurations
<END>
```


Los tipos de configuración disponibles son:

- Aplicación Windows

- Windows32Aplicación

- Windows64Aplicación

- emplazamiento

- Biblioteca

- Componente externo

- Webservice

- DotNetAssembly

- DotNetAplicación

- Java

- LinuxAplicación

- Linux32Aplicación

- Linux64Aplicación

- Patrón RADP

- WindowsService

- Windows32Servicio

- Windows64Servicio

- Servicio Linux

- Servicio Linux32

- Servicio Linux64

- Android

- Plan de Acción

- iOS

- MacOSX

- UniversalWindowsApp

- WindowsMobile







<a name="NOTE0_4_UNICODE_ANSI"></a>


### Compilaciones según el tipo de cadenas utilizadas (UNICODE o ANSI)
<a name="compilaciones_segun_tipo_cadenas_utilizadas_unicode_ansi_ELTPARAGRAPHE000124"></a>

La sintaxis que utiliza las palabras clave **ANSIConfiguration** y **UNICODEConfiguration** permite compilar un código según el tipo de cadenas utilizado. 

Este parámetro se define en la ventana description de la configuración actual (pestaña "Unicode").  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Instruction%20de%20compilation%20COMPILE%20-%20HC%20N%B0001.gif)







<a name="NOTE0_4"></a>


### Beneficios y limitaciones
<a name="beneficios_limitaciones_ELTPARAGRAPHE000136"></a>

Si no se cumplen las condiciones especificadas en &lt;COMPILE IF&gt;, no se compila el código WLanguage.. El código no compilado se muestra en gris en el editor de código, con un formato mínimo.. 

Beneficios: 

- No hay ningún error de compilación: las características específicas de cada plataforma (Android, iOS) pueden ser codificadas sin provocar ningún error de compilación en las otras configuraciones. 

- La misma Variable puede ser declarada en las dos partes de una condición de compilación con diferentes tipos. 




Limitaciones: En el código no compilado: 

- no se dispone de entrada de código asistido.

- no hay disponible ningún cruce de reference: no Shift+F2, los usos de los elementos no se muestran, los elementos pueden aparecer en la lista de elementos huérfanos y código muerto.

- no hay análisis de código: no hay renombramiento inteligente. 

- no hay ningún error de compilación: si se modifica el prototipo de una Procedure, el error se mostrará cuando se utilice una configuración que permita la compilación del código. 





