
## Operadores en strings de caracteres
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## aprovechamiento
<a name="aprovechamiento_ELTTEXTE000546"></a>
Las cadenas de caracteres pueden ser manejadas por funciones específicas de WLanguage o por los operadores +, [[ y ]].

Los operadores de los strings son los siguientes:

- "** +**": Para concatenar cadenas

- "** [**" y "** ]**": Para concatenar cadenas opcionalmente

- "** [[**" y "**]]**" (doble corchete al abrir y doble corchete al cerrar): Operador para extraer una subcadena

- " **=**": Estricta equality

- " **~=**": equality flexible 

- " **~~**": Igualdad muy flexible

- " **[=**": Comienza por

- " **[% %]**": Cadena construida dinámicamente. Para obtener más información, consulte [Interpolación de cadenas](../Motscles/1514044.md).





```wl
Text is string = "San Francisco"
Text[[5]]                // Returns "F"
Text[[5 to 10]]           // Returns "Franci"
Text[[5 to]]              // Returns "Francisco"
Text[[to 10]]              // Returns "San Franci"
Text[[10 on 4]]          // Returns "isco"
Text + " and New York"      // Returns "San Francisco and New York"
If Text [= "San" Then Trace(Text)
```




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Notas
<a name="notas_ELTTEXTE000570"></a>


### El operador [ y ]
<a name="operador_ELTPARAGRAPHE000101"></a>

El operador [ y ] se utiliza para concatenar opcionalmente cadenas. El separador no se concatena si la cadena de origen es una cadena vacía ("") o si la cadena de origen termina con el separador.

Por ejemplo:

- StartString += [ EndString]
	EndString se concatena con StartString sólo si StartString no termina con EndString..
	Por ejemplo:
	
	```wl
	StartString = "San Francisco"
	EndString = "Francisco"
	StartString += [EndString]
	// StartString contains "San Francisco"
	```

	
	```wl
	StartString = "San "
	EndString = "Francisco"
	StartString += [EndString]
	// StartString contains "San Francisco"
	```


- StartString += [ MiddleString] + EndString 
	MiddleString se concatena con StartString sólo si StartString no termina con MiddleString y si EndString no comienza con MiddleString.. El separador no se concatena si la cadena de origen es una cadena vacía (""). 
	Por ejemplo:
	
	```wl
	StartString = "C:\MyFiles\"
	MiddleString = "\"
	EndString = "MyFile.TXT"
	StartString += [MiddleString] + EndString
	// StartString contains "C:\MyFiles\MyFile.TXT"
	```

	
	```wl
	StartString = "C:\MyFiles"
	MiddleString = "\"
	EndString = "\MyFile.TXT"
	StartString += [MiddleString] + EndString
	// StartString contains "C:\MyFiles\MyFile.TXT"
	```

	
	```wl
	StartString = "C:\MyFiles"
	MiddleString = "\"
	EndString = "MyFile.TXT"
	StartString += [MiddleString] + EndString
	// StartString contains "C:\MyFiles\MyFile.TXT"
	```


- MiCadena = [ InicioCadena] + FinCadena 
	StartString se concatena con EndString sólo si EndString no comienza con StartString..
	Por ejemplo:
	
	```wl
	StartString = "Type"
	EndString = "Type of programming"
	MyString = [StartString] + EndString
	// StartString contains "Type of programming"
	```

	
	```wl
	StartString = "Type"
	EndString = " of programming"
	MyString = [StartString] + EndString
	// StartString contains "Type of programming"
	```





**Ejemplos:**

- Rellenar una cadena con elementos separados por caracteres CR (Carriage Return). El separador no se concatena si la cadena de origen es una cadena vacía..
	
	```wl
	ResString is string
	FOR EACH Customer
		ResString += [CR] + Customer.Name
	END
	```


- Crear una ruta de archivo sin preocuparse por los caracteres "\\".
	
	```wl
	fOpen(DirectoryName + ["\"] + FileName)
	```








<a name="NOTE2_2"></a>


### El operador [[ y ]]
<a name="operador_ELTPARAGRAPHE000179"></a>

El operador [[ y ]] se utiliza para extraer y sustituir una subcadena.



Por ejemplo:

- CADENAPOREXTRAER][&lt;Posición&gt;][

- STRINGTOEXTRACT[[]] = : Reemplaza el carácter encontrado en la cadena por la nueva cadena. 
	

- CADENAPOREXTRAER][&lt;Inicio&gt; a &lt;Fin&gt;][

- STRINGTOEXTRACT[[ to]]

- CADENAPOREXTRAER][a &lt;Fin&gt;][

- CADENAPOREXTRAER][&lt;Iniciar&gt; en &lt;Número&gt;][




**Atención**: Si está utilizando un Procedure que maneja cadenas con los operadores [[]], preste mucha atención a la sintaxis utilizada. Puede modificar inadvertidamente las cadenas de caracteres. 
Por ejemplo, el siguiente Procedure puede modificar parte de la cadena.


```wl
PROCEDURE P(sString)
IF sString then sString="5"
// -- Call to the procedure via the line:
p(sVar[[3 to]])
```


Para evitar modificar la cadena inicial, el parámetro debe ser pasado por valor:

- usando paréntesis alrededor del parámetro en la llamada a la Procedure, 

- utilizando el [Palabra clave local](../Motscles/1513001.md) en la cabecera del Procedure.




 **Diferencia con WINDEV 7.5**: 

- WINDEV: El operador ][][ utilizado con un valor negativo en el segundo límite devuelve una cadena vacía ("").

- WINDEV 7.5: El operador [[]] utilizado con un valor negativo en el segundo límite devuelve la cadena completa.




**Ejemplo**: Análisis de una cadena de caracteres, carácter por carácter: EDT_HTML y EDT_TEXT son 2 controles de edición.


```wl
// Variables
sString is string = EDT_HTML
sCharact is string
i is int = 1
// Browse the HTML control
sCharact = sString[[i TO i]]
WHILE i <= Length(sString) 
	i++
	// Process on sCharact here 
	// Next characters
	sCharact = sString[[i TO i]]
END
```
<a name="NOTE2_3"></a>


### equality flexible y equality muy flexible 
<a name="equality_flexible_equality_muy_flexible_ELTPARAGRAPHE000343"></a>

La flexible equality (~=) y la muy flexible equality (~~) operan únicamente sobre las cadenas de caracteres (excepto las cadenas fijas). Estos operadores están acostumbrados:

- no hacen ninguna diferencia entre los caracteres en mayúsculas y en minúsculas, 

- ignorar los caracteres de espacio encontrados antes y después de la cadena cuya prueba debe ejecutarse, 

- ignorar los caracteres acentuados en minúsculas, 

- ignore los caracteres de espacio y los caracteres de puntuación dentro de las cadenas **(solo equality muy flexible).**




**equivalencia HFSQL**: Para recuperar la equivalencia con el muy flexible equality al realizar una búsqueda en una clave de texto en un archivo HFSQL, deben configurarse las siguientes opciones cuando se describe el elemento en el análisis:<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Indexation%20des%20m%E9mos%20-%20HC%20N%B0002.gif)



<a name="NOTE2_4"></a>


### Operadores en los strings de caracteres y UNICODE
<a name="operadores_los_strings_caracteres_unicode_ELTPARAGRAPHE000362"></a>

Los operadores disponibles son los siguientes:

- "** +**": Para concatenar cadenas

- "** [**" y " **]**": Para concatenar cadenas opcionalmente

- "** ][**" y " **]**" (doble corchete al abrir y doble corchete al cerrar): Operador para extraer una subcadena

- "** [=**": Comienza por




**Operadores "+", " [ " y " ] "**
Se pueden concatenar dos cadenas UNICODE. Una cadena UNICODE y una cadena ANSI no pueden concatenarse.
Observación: Si la concatenación de dos cadenas AINSI se asigna a una cadena UNICODE (y a la inversa), la conversión se realizará implícitamente.

**Operador "][" y "]["**
Todas las sintaxis del operador [[]] están disponibles para las cadenas Unicode.

- Si la cadena pasada como parámetro está en formato ANSI, el resultado devuelto por el operador [[]] estará en formato ANSI.

- Si la cadena pasada como parámetro está en formato Unicode, el resultado devuelto por el operador [[]] estará en formato UNICODE.

- Los parámetros de posición y los parámetros de longitud se expresan en número de caracteres.


**Observación**: Si el resultado del operador [[]] sobre una cadena ANSI se asigna a una cadena UNICODE (y a la inversa), la conversión se realizará implícitamente. 
<a name="NOTE2_5"></a>


### Posición en un string
<a name="posicion_string_ELTPARAGRAPHE000463"></a>

- La posición del primer personaje es set a 1 (y no a 0).

- [ubicación](../WDLang1/3024027.md) devuelve la posición inicial de una cadena de caracteres especificada dentro de otra cadena de caracteres.



<a name="NOTE2_6"></a>


### Funciones de WLanguage
<a name="funciones_wlanguage_ELTPARAGRAPHE000473"></a>

Los strings de caracteres también pueden ser manejados por las funciones:

- [Derecho](../WDLang1/3024016.md)

- [Izquierda](../WDLang1/3024001.md)

- [Medio](../WDLang1/3024023.md)

- [para gestionar los strings de caracteres](../WDLang1/3024015.md)


**Observación**: en la mayoría de los casos, los operadores [[]] son más eficaces que las funciones de WLanguage.








