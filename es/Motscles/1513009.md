


## Procedimiento local
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000436"></a>
Existen dos tipos de procedimientos disponibles:

- ***[Procedimiento global](../Motscles/1513005.md)***: puede ser utilizado en todos los procesos/eventos del proyecto. Este Procedure global está almacenado en el proyecto.

- ***Procedimiento local***: se puede utilizar en todos los procesos/eventos que dependen del objeto (ventana, página, reporte o control) en el que se declaró este Procedure. Esta Procedure local se almacena en el objeto. 
	




**Importante**: No debes declarar dos Procedure con el mismo nombre (especialmente un Procedure global y un Procedure local).

**Recordatorio**:

- En WLanguage, no hay distinción entre los procedimientos y las funciones. Las sintaxis para declarar y utilizar los procedimientos también se aplican a las funciones.

- Tiene la capacidad de crear procedimientos sobrecargados. Para obtener más información, consulte [Prototipo overload](../Motscles/1514063.md).






<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Procedimiento local
<a name="procedimiento_local_ELTTEXTE000460"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) 

### Procedimientos locales a una ventana
<a name="procedimientos_locales_una_ventana_ELTPARAGRAPHE000072"></a>

Los procedimientos locales ***declarados en una ventana*** pueden ser llamados desde todos los procesos/eventos:

- de la ventana,

- de los controles de la ventana,

- de los procedimientos locales associated con la ventana.




Estos procedimientos se almacenan en la ventana.

**Límites:**Límites

- Los procedimientos locales de una ventana no pueden ser utilizados por sus ventanas hermanas.

- Los procedimientos locales declarados en una ventanilla para niños no pueden ser utilizados en su ventanilla para padres.



<a name="NOTE2_2"></a>
<a name="NOTE2_3"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/us/WINDOWS.png) 

### Procedimientos locales a un reporte
<a name="procedimientos_locales_reporte_ELTPARAGRAPHE000125"></a>

Los procedimientos locales ***declarados en un reporte*** pueden ser llamados desde todos los procesos/eventos:

- de la reporte,

- de los controles reporte,

- de los procedimientos locales associated con el reporte.


Estos procedimientos se almacenan en el reporte.
<a name="NOTE2_4"></a>


### Procedimientos locales de una control
<a name="procedimientos_locales_una_control_ELTPARAGRAPHE000140"></a>

Los procedimientos locales ***declarados en un control*** pueden ser llamados desde todos los procesos/eventos:

- de la control,

- de los procedimientos locales associated con el control.


Estos procedimientos se almacenan con el sistema control. Cuando se copie el control, se copiarán los procedimientos locales associated con él. 

Puede hacer que los procedimientos sean locales a los controles de una ventana, página o reporte. 



<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Creación de una Procedure local
<a name="creacion_una_procedure_local_ELTTEXTE000502"></a>


### Creación desde el editor de código
<a name="creacion_desde_editor_codigo_ELTPARAGRAPHE000160"></a>

Para crear un local de Procedure al elemento actual ** a partir del editor de código**:

- **Método 1**: 

	1. Crear procedimiento: 

		- ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) Para crear una Procedure local a una ventana, control o reporte, vaya a la pestaña "Código", grupo "Procedimientos", expanda "Nuevo" y seleccione "Nuevo local Procedure" (o pulse F4).




2. En la ventana que aparece: 

	- Especifique el nombre de la Procedure a crear. 

	- La opción "Generar un encabezado comment" se usa para generar automáticamente el comment para el prototipo Procedure.
						Para obtener más información, consulte [Documentación de procedimientos de automatic](../Motscles/1513006.md).

	- Especifique el papel de la Procedure: Indefinido, Negocios, UI. Por Default, los procedimientos tienen un papel "Indefinido".

	- Si el editor de código muestra el código de un control, la opción "Crear el procedimiento dentro del control" permite especificar si el Procedure local debe ser associated con el control. 




- **Método 2**:  

	1. Crear procedimiento:

		- ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) Para crear un Procedure local: seleccione "Nuevo... Nuevo local Procedure" en el menú contextual.




2. En la ventana que aparece: 

	- Especifique el nombre de la Procedure a crear. 

	- La opción "Generar un encabezado comment" se usa para generar automáticamente el comment para el prototipo Procedure.
						Para obtener más información, consulte [Documentación de procedimientos de automatic](../Motscles/1513006.md).

	- Especifique el papel de la Procedure: Indefinido, Negocios, UI. Por Default, los procedimientos tienen un papel "Indefinido".

	- Si el editor de código muestra el código de un control, la opción "Crear el procedimiento dentro del control" permite especificar si el Procedure local debe ser associated con el control. 

- **Método 3**: Para crear una Procedure local:

	1. Coloque el cursor en las "Declaraciones globales" Event de la ventana o página, en un Event del control o en la "Apertura" Event del reporte.

	2. Escriba el prototipo de Procedure para crear. 

	3. Validar. El Procedure local se crea automáticamente.







**Observación**: Transformar una sección de código ya introducida en un Procedure local en un Procedure local:

1. Seleccione el código correspondiente.

2. Seleccione en el menú contextual "Nuevo... Crear una Procedure local que contenga el código seleccionado".

3. Especifique: 

	- el nombre de la Procedure. 

	- el ámbito de la Procedure. El Procedure creado es público por Default. Para obtener más información, consulte [Procedure local público o privado](#NOTE6_1).




4. Se crea la Procedure, se sustituye el código correspondiente por la llamada a la Procedure con los parámetros necesarios.





<a name="NOTE3_3"></a>


### Creación desde el panel "Explorador de proyectos
<a name="creacion_desde_panel_explorador_proyectos_ELTPARAGRAPHE000302"></a>

Para crear un Procedure local a partir del panel "Explorador del proyecto":

1. Seleccione el elemento asociado a la Procedure local (ventana, página, reporte, control, etc.).

2. Despliegue las opciones de los elementos y seleccione "Procedimientos"..
	Observación: Si un control no tiene procedimientos associated, la opción "Procedimientos" no aparecerá. En este caso, seleccione el nombre de la control. 

3. Abra el menú contextual. 

4. Seleccione: 

	- ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) "Nuevo procedimiento".




5. En la ventana que aparece: 

	- Especifique el nombre del nuevo Procedure local. 

	- La opción "Generar un encabezado comment" se usa para generar automáticamente el comment para el prototipo Procedure.
			Para obtener más información, consulte [Documentación de procedimientos de automatic](../Motscles/1513006.md).

	- Especifique el papel de la Procedure: Indefinido, Negocios, UI. Por Default, los procedimientos tienen un papel "Indefinido".




6. Haga clic en el botón "Agregar". Se crea la Procedure local. El Procedure creado es público por Default. Para obtener más información, consulte [Procedure local público o privado](#NOTE6_1). 

7. Valide.



<a name="NOTE3_5"></a>


### Visualización de la lista de procedimientos locales
<a name="visualizacion_lista_procedimientos_locales_ELTPARAGRAPHE000343"></a>

Para mostrar la lista de procedimientos locales en el panel "Explorador de proyectos", vaya al editor de código y pulse F8. 

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Borrar un Procedure local
<a name="borrar_procedure_local_ELTTEXTE000556"></a>
Para borrar un Procedure local del panel "Explorador del proyecto":

1. Seleccione el elemento asociado a la Procedure local (ventana, página, reporte, control, etc.).

2. Ampliar las opciones de los elementos. 

3. Ampliar "Procedimientos".

4. Seleccione la Procedure deseada.

5. Abra el menú contextual de la Procedure y seleccione "Eliminar".




<a name="NOTE6"></a>
<a name="NOTE6_1"></a>


## Procedure local público o privado
<a name="procedure_local_publico_privado_ELTTEXTE000580"></a>
Un Procedure local es público por Default: se puede acceder a él desde cualquier parte del código. 

En algunos casos, puede ser útil restringir el acceso a un Procedure local haciéndolo "privado".. 

Cuando se crea un Procedure local, se puede especificar si el Procedure es público o privado.

**To modificar el modo de acceso a un Procedure** local: 

1. Selecciona el Procedure local en el panel "Explorador del proyecto".. 

2. En el menú contextual del Procedure, seleccione el nuevo modo de acceso:: 

	- público.

	- privado.







El color de la barra de Procedure cambia según su modo de acceso: 

- rojo comienzo de la barra: el soldado Procedure.

- inicio estándar de la barra: Procedure público.


**Observación: Componente externo y procedimientos locales privados o públicos**: 
El uso de procedimientos locales privados o públicos tiene un impacto en los componentes externos. De hecho, sólo los procedimientos declarados explícitamente como públicos (con la palabra clave PÚBLICO utilizada en su prototipo) que se encuentran en un componente externo no pueden ser accedidos desde el proyecto que incluye este componente. 


