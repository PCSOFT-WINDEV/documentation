
## Romper en un control Tabla
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000358"></a>
Una pausa en una control Tabla sirve para agrupar las filas según uno o varios criterios. 

Por ejemplo, tienes la capacidad de agruparse:

- los clientes por Country y por la ciudad,

- los productos según su familia, ...




![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) La implementación de un total en una ruptura se utiliza para realizar automáticamente un cálculo (suma, conteo, promedio) para todas las filas encontradas en una ruptura determinada. Por ejemplo, el total de una pausa se utiliza para calcular el volumen de negocios generado por cada cliente. 

Las pausas en una control Tabla están disponibles para:

- el controles Tabla archivo de datos cargado en la memoria,

- la controles Tabla poblada programáticamente.




![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) Observaciones: 

- En tiempo de ejecución, el usuario tiene la posibilidad de almacenar el estado de las pausas actuales en la control Tabla (pausas colapsadas, pausas expandidas, ...). Para obtener más información, consulte [Almacenamiento de las pausas en los controles Table/Looper (AAF)](../WDChamp/9500138.md). 

- ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) En tiempo de ejecución, las pausas pueden expandirse o colapsarse haciendo doble clic en ellas.

- Tiene la capacidad de gestionar el [roturas encontradas en una control Tabla a través de la programación](#NOTE8_1). 






<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## ¿Cómo proceder?
<a name="¿como_proceder_ELTTEXTE000382"></a>


### Añadir una pausa en una control Tabla
<a name="anadir_una_pausa_una_control_tabla_ELTPARAGRAPHE000071"></a>

Para añadir una pausa en una control Tabla: 

1. Mostrar la description de la control Tabla ("Descripción" de el menú contextual).

2. En la pestaña "Contenido", haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ico_rupture_table.gif). Se muestra la ventana para la gestión de las rupturas.
	**Observación**: Las pausas no están disponibles para la controles Tabla archivo de datos con acceso directo.

3. Seleccione el elemento sobre el que debe realizarse la pausa. Se pueden seleccionar varios elementos para realizar varias pausas. Los artículos propuestos dependen del tipo de control Tabla:

	- **control Tabla basado en un archivo de datos cargado en memoria**:

		- *automatic navegar*: se proponen la posición de búsqueda, la columna relacionado para la posición de búsqueda y las columnas relacionado para ninguna posición. Si la posición de búsqueda corresponde a una clave compuesta, se proponen los componentes de esta clave compuesta, las columnas relacionado para estos componentes y las columnas relacionado para ninguna posición.

		- *Buscar programas*: se proponen los elementos de archivo de datos y las columnas relacionado a estos elementos.




- **Control Tabla archivo de datos relacionado con una consulta**:

	- *automatic navegar*: se proponen la posición de búsqueda, las columnas relacionado para esta posición de búsqueda y las columnas relacionado para ninguna posición. Si no se especifica el elemento de búsqueda (opción "&lt;automatic&gt;"), se proponen los elementos ordenados de la consulta, las columnas relacionado a estos elementos y las columnas relacionado a ningún elemento.

	- *Buscar programas*: se proponen los elementos de consulta, las columnas relacionado para estos elementos y las columnas relacionado para ningún elemento.

4. Los descansos se realizan según su orden de visualización. Modifique (si es necesario) este orden a través de los botones de flecha que se encuentran a la derecha de tabla.

5. Valide.



<a name="NOTE2_2"></a>


### Romper encabezado y pie de página
<a name="romper_encabezado_pie_pagina_ELTPARAGRAPHE000098"></a>

Cuando se añade una nueva pausa, se añaden automáticamente una cabecera y un pie de página de pausa a control Tabla. Si la control Tabla incluye varios cortes, habrá tantas cabeceras y pies de corte como cortes haya.

**Las cabeceras de ruptura y los pies de página de ruptura aparecen en edición en el control Tabla**. 

Las características de estas cabeceras y pies de página (nombre, visibilidad, color de fondo, ...) pueden modificarse en su ventana description ("description" de el menú contextual).

Cada cabecera y pie de página de ruptura se asocia a la "Visualización de una fila" Event. Esta Event se ejecuta cuando se visualiza una nueva cabecera de ruptura o un pie de ruptura en la control Tabla.

Estos encabezamientos y pies de página de los rompehuesos pueden contener controles. Estos controles pueden ser manejados a través de la programación. Los eventos de Notas adicionales WLanguage son associated con cabeceras de ruptura. 

![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) Las sumas, medios y recuentos se realizan automáticamente en las pausas de la control Tabla. Los controles que se encuentran en los encabezamientos y pies de página de los frenos pueden mostrar estos cálculos. Para obtener más información, consulte [Los cálculos de la automatic en las rupturas de la tabla](#NOTE4_1).

**Observaciones**: 

- ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) En la description del control Tabla (pestaña "Contenido"), tiene la posibilidad de especificar si las pausas deben mostrar (o no) un botón que sirva para colapsar/expandir la pausa (opción "Pausas con colapso/expansión").

- ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) En el description del control Tabla, tienes la capacidad de configurar el Image usado para dibujar los botones "+" y "-" en los descansos del tabla. Para ello, seleccione el elemento "Romper, Border en creación" en la tabla "Estilo" y luego haga clic en el botón "Más/Menos Image de rupturas".

- ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) Un encabezado de ruptura puede ser siempre Visible. En este caso, durante el pergamino, la barra de la ruptura no se moverá. Para que un encabezado de ruptura sea siempre Visible: 

	- Seleccione la cabecera de ruptura y visualice su description ("description" en el menú contextual). 

	- En la pestaña "UI", marque "Romper la cabecera siempre Visible". 






<a name="NOTE2_3"></a>


### ¿Cómo se llena una control Tabla con descansos?
<a name="¿como_llena_una_control_tabla_con_descansos_ELTPARAGRAPHE000146"></a>

***Para los controles Tabla archivo de datos***, los registros se agregan automáticamente de acuerdo con el archivo o consulta asociada. La clasificación se realiza según el elemento de búsqueda.

***Para controles Tabla rellenado programáticamente***, los datos se añaden con [TableAddLine](../WDLang1/3074006.md). Para que una control Tabla se ordene según las pausas especificadas, debe utilizar [TableSort](../WDLang1/3074035.md).

**Ejemplo: control Tabla poblada programáticamente**: Se ha definido una ruptura en las columnas Country y Ciudad:


```wl
// Fill the Table control
TableAddLine(TABLE_Breaks, "FRANCE", "Montpellier", "TEXT1", "Text1")
TableAddLine(TABLE_Breaks, "FRANCE", "Paris", "TEXT2", "Text2")
TableAddLine(TABLE_Breaks, "FRANCE", "Montpellier", "TEXT3", "Text3")
TableAddLine(TABLE_Breaks, "FRANCE", "Lille", "TEXT4", "Text4")

TableAddLine(TABLE_Breaks, "SPAIN", "Madrid", "TEXT1", "Text1")
TableAddLine(TABLE_Breaks, "SPAIN", "Barcelona", "TEXT3", "Text3")
TableAddLine(TABLE_Breaks, "SPAIN", "Barcelona", "TEXT4", "Text4")

TableAddLine(TABLE_Breaks, "ALGERIA", "Alger", "TEXT5", "Text5")
TableAddLine(TABLE_Breaks, "ALGERIA", "Oran", "TEXT6", "Text6")
TableAddLine(TABLE_Breaks, "ALGERIA", "Alger", "TEXT7", "Text7")
TableAddLine(TABLE_Breaks, "ALGERIA", "Chlef", "TEXT8", "Text8")
TableAddLine(TABLE_Breaks, "ALGERIA", "Alger", "TEXT9", "Text9")

TableAddLine(TABLE_Breaks, "SPAIN", "Madrid", "TEXT2", "Text2")

// Sort the content of the Table control according to the breaks
TableSort(TABLE_Breaks, TABLE_Breaks.Country.Name, TABLE_Breaks.City.Name)
```


<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Manejar los controles que se encuentran en los cabezales y pies de los frenos
<a name="manejar_los_controles_que_encuentran_los_cabezales_pies_los_frenos_ELTTEXTE000418"></a>


### ¿Cómo proceder?
<a name="¿como_proceder_ELTPARAGRAPHE000167"></a>

Para manipular los controles que se encuentran en las cabeceras y pies de página de las pausas

- manipular cada control que se encuentra en todas las cabeceras y pies de página de las rupturas: 
	
	```txt
	<Control name>.<Property name> = <Value>
		or
	<Table name>.<Break header/footer name>.<Control name>.<Property name> = <Value>
	```


- manipular cada control que se encuentre en una ruptura determinada:
	
	```txt
	<Table name>[<Index>].<Control name>.<Property name> = <Value>
	```

	&lt;Subguión&gt; corresponde al número fila de la pausa.




Observaciones: 

- Estas líneas de código deben estar en el evento "Visualización de una fila" del encabezado o pie de ruptura.

- Caso especial: Control Casilla de verificación: una control Casilla de verificación que contiene varias opciones y que se encuentra en las cabeceras y pies de página de las interrupciones no puede asignarse mediante programación. Si se requieren varias casillas de verificación en las cabeceras y pies de página de las rupturas, se recomienda utilizar una control Casilla de verificación para cada marca de verificación.



<a name="NOTE3_2"></a>


### Ejemplo
<a name="ejemplo_ELTPARAGRAPHE000188"></a>

Este código se utiliza para mostrar en el "STC_Country" control el nombre del Country mostrado en la columna Country. Este código se introduce en el código para mostrar un fila de BreakHeader:


```wl
// Code for displaying the break
// Retrieves the index of the break (BRK_BreakHeader) 
BreakIndex is int = TableBreakIndex(BRK_BreakHeader)

// Fixes the value of the text in the break
TABLE_CUSTOMERS[BreakIndex].STC_COUNTRY = "Country: " + TABLE_Articles.COL_CountryName
```


<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Los cálculos de la automatic en las roturas de una control Tabla
<a name="los_calculos_automatic_las_roturas_una_control_tabla_ELTTEXTE000448"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) 
Tienes la capacidad de realizar cálculos de automatic (suma, recuento y promedio) en los encabezados y pies de página de los descansos.

Para implementar los cálculos de automatic:

1. Insertar una control Estático o una control Campo de entrada en la cabecera y el pie de página de la pausa. Este control contendrá el cálculo de automatic. 

2. Abra la ventana de descripción del control (seleccione "Descripción" en el menú contextual).

3. En la pestaña "UI", en el área "En una pausa, visualización", haga clic en el enlace "Sin cálculo" o haga clic en el cálculo description (si ya se definió un cálculo automatic). Se muestra la ventana de descripción de un cálculo de automatic.

4. Seleccione el cálculo a realizar. Puedes elegir:

	- "La suma de": la control mostrará la suma por ruptura.

	- "El promedio de": la control mostrará el promedio en el descanso.

	- "El número (cuenta) de": la control contará el número de elementos por ruptura.




5. Seleccione el elemento sobre el que debe realizarse el cálculo. Usted tiene la capacidad de realizar el cálculo en una columna de la control Tabla.

6. Validar las diferentes ventanas. 




Consejos:

- No olvides modificar la máscara de entrada de la control que muestra el cálculo según el tipo de información calculada.

- No dudes en usar la tecnología "eye magnet" en los controles de edición que muestran los cálculos en los descansos. Esto le da la posibilidad de resaltar un cálculo (mostrando una rotación insuficiente en rojo por ejemplo).








<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Manejando los encabezamientos y pies de página de los rompecabezas
<a name="manejando_los_encabezamientos_pies_pagina_los_rompecabezas_ELTTEXTE000472"></a>


### Para inicializar los encabezamientos y pies de página de la ruptura
<a name="para_inicializar_los_encabezamientos_pies_pagina_ruptura_ELTPARAGRAPHE000229"></a>

Todos los encabezados y pies de página de los rompimientos pueden ser manejados:


```txt
<Break header/footer name>.<Property name> = <Value>
```


**Observación**: Estas líneas de código deben estar en el evento "Visualización de una fila" del encabezado o pie de ruptura.

**Ejemplo**: Código utilizado para modificar la altura de los cabezales de los frenos:


```wl
BreakHeader1.Height += 10
```

<a name="NOTE6_2"></a>


### Propiedades associated con los encabezamientos y pies de página de la ruptura
<a name="propiedades_associated_con_los_encabezamientos_pies_pagina_ruptura_ELTPARAGRAPHE000244"></a>

Las siguientes propiedades son associated con las cabeceras y pies de página:


|   |   |
| --- | --- |
| [Altura](../Proprietes/2510050.md) | Permite averiguar y modificar la altura de un encabezado o pie de página de ruptura. |
| [Colapsado](../Proprietes/2513014.md) | Permite averiguar y modificar el estado de "colapso" de una ruptura. |
| [denominar](../Proprietes/2510082.md) | Devuelve el nombre de un encabezado o pie de página de ruptura. |
| [escribir a máquina](../Proprietes/2510131.md) | Devuelve el tipo de un elemento. |
| [Visible](../Proprietes/2510138.md) | Permite averiguar si una cabecera o un pie de página de ruptura es Visible y hacer una cabecera o un pie de página de ruptura Visible. |


Para ver la lista completa de propiedades disponibles, consulte [Propiedades disponibles para los descansos (Tabla)](../WDChamp/9500144.md). 

<a name="NOTE7"></a>
<a name="NOTE7_1"></a>


## Funciones del lenguaje de trabajo específicas de la controles Tabla con pausas
<a name="funciones_del_lenguaje_trabajo_especificas_controles_tabla_con_pausas_ELTTEXTE000502"></a>
Las siguientes funciones pueden utilizarse para manipular las pausas en el controles Tabla:



|   |   |
| --- | --- |
| [TableBreakIndex](../WDLang1/1000018758.md) | Devuelve el índice de la cabecera y el pie de página de una pausa dada en una control Tabla. |
| [TableCollapse](../WDLang1/1000010008.md) | Colapsos:<br><br>- una sucursal que fue ampliada previamente en un control Tabla TreeView. <br><br>- una ruptura que se expandió previamente en un control Tabla. <br><br>- una ventana detallada que se muestra para un fila.<br><br><br> |
| [TableCollapseAll](../WDLang1/1000010003.md) | Colapsos:<br><br>- la jerarquía completa (todos los nodos) de un control Tabla TreeView.<br><br>- todas las roturas de un control Tabla. <br><br><br> |
| [TableExpand](../WDLang1/1000010007.md) | Se expande:<br><br>- una rama que estaba colapsada previamente en un control Tabla TreeView. <br><br>- una rama que estaba colapsada previamente en un control Tabla. <br><br>- una ventana detallada que se muestra para un fila.<br><br><br> |
| [TableExpandAll](../WDLang1/1000010001.md) | Se expande:<br><br>- la jerarquía completa (todos los nodos) de un control Tabla TreeView.<br><br>- todas las roturas de un control Tabla. <br><br><br> |





<a name="NOTE8"></a>
<a name="NOTE8_1"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) 

## Gestión de las pausas en el controles Tabla mediante la programación
<a name="gestion_las_pausas_controles_tabla_mediante_programacion_ELTTEXTE000577"></a>
Se utilizan las siguientes funciones para crear y desglosar las pausas de manipular en las tablas: 



|   |   |
| --- | --- |
| [BreakAdd](../WDLang1/1000022737.md) | Añade una pausa en una Tabla o control Looper. |
| [BreakDelete](../WDLang1/1000022738.md) | Borra una pausa de una control Tabla o de una control Looper. |
| [BreakDeleteAll](../WDLang1/1000022739.md) | Borra todas las pausas de un control Tabla o de un control Looper. |





La adición de una pausa en una tabla se realiza mediante [BreakAdd](../WDLang1/1000022737.md). La nueva ruptura corresponde a una Variable de tipo [Control](../WDLang1/1000020967.md) que puede ser manejada con las mismas propiedades de WLanguage que una ruptura creada en el editor. 

Ejemplo: 

```wl
// Add a green break on the date into the Table control
x is Control
x <- BreakAdd(TABLE_Order.COL_DATE, "BrkDate", brkHeader, 50) 
x.BackgroundColor = DarkGreen // Applies green color to the break
```







