


## Romper en un reporte
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000221"></a>
La ruptura se utiliza para agrupar los registros correspondientes a un criterio de ordenación. Se puede solicitar un descanso para cada criterio de clasificación.

Por ejemplo: para listar los clientes por ciudad, clasificar los clientes por ciudad y luego por nombre, y especificar un descanso en la ciudad..<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=EtatRupture.gif)
 Al añadir una interrupción se generan automáticamente los bloques *Inicio de interrupción* y *Fin de interrupción*. Estos bloques están acostumbrados a:

- mostrar el contenido del elemento de ruptura (normalmente en el bloque *Start of break*).

- realizar cálculos en los registros de la pausa (normalmente en el bloque *End of break*).




Hay dos tipos de descansos disponibles:

- **salto automático**. La ruptura se realiza en un elemento perteneciente a la fuente de datos de reporte.

- **programada break**. La interrupción se define mediante programación en el "Valor de la interrupción" Event del bloque *Inicio de la interrupción*.




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Agregar una ruptura
<a name="agregar_una_ruptura_ELTTEXTE000245"></a>


### Presentación
<a name="presentacion_ELTPARAGRAPHE000030"></a>

Las operaciones a realizar para añadir una pausa difieren según la fuente de datos de reporte.

Hay dos casos distintos:

- añadir una pausa en una reporte basada en un archivo de datos, una consulta o una zona de memoria.

- añadir una pausa en una reporte basada en un archivo de texto, una control Tabla o una vista HFSQL.



<a name="NOTE2_2"></a>


### Añadir una pausa en una reporte basada en un archivo de datos, una consulta o una zona de memoria
<a name="anadir_una_pausa_una_reporte_basada_archivo_datos_una_consulta_una_zona_memoria_ELTPARAGRAPHE000042"></a>

Para añadir una interrupción en una reporte basada en un archivo de datos, una consulta o una zona de memoria: 

1. En la pestaña "Creación", en el grupo "Estructura", haga clic en "Rupturas". La siguiente ventana se abre: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=EtatRuptureAjout.gif)
 Los criterios de clasificación de la reporte se encuentran a la izquierda. Las pausas de reporte se indican a la derecha.

2. Para agregar:

	- una ruptura de **basada en un criterio de clasificación**: seleccione el criterio de ordenación solicitado y haga clic en "Crear una pausa en el criterio de ordenación seleccionado" (![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=EtatRuptureAjout%201.gif)).

	- a **rotura programada**: haga clic en "Añadir una pausa programada" (![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=etatIconeNewcritereTri.gif) en la lista de pausas). El código de esta pausa programada debe introducirse en el "Valor de la pausa" Event del bloque *Inicio de la pausa*. Para obtener más información, consulte [Event "¿Romper?"](#NOTE3_1).




3. Las pausas se realizarán de acuerdo a su orden de visualización. Modifique (si es necesario) este orden a través de los botones de flecha que se encuentran a la derecha de tabla.

4. Validar la adición de un nuevo descanso.




**Observación**: Al añadir una nueva interrupción, se crean automáticamente los bloques *Inicio de interrupción* y *Fin de interrupción*.
<a name="NOTE2_3"></a>


### Añadir una pausa en una reporte basada en un archivo de texto, una control Tabla o una vista HFSQL
<a name="anadir_una_pausa_una_reporte_basada_archivo_texto_una_control_tabla_una_vista_hfsql_ELTPARAGRAPHE000080"></a>

Para añadir una interrupción en una reporte basada en un archivo de texto, una control Tabla o una vista HFSQL: 

1. En la pestaña "Creación", en el grupo "Estructura", haga clic en "Rupturas". La siguiente ventana se abre: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=EtatRuptureAjout2.gif)


2. Haga clic en "Añadir una pausa" (![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=etatIconeNewcritereTri.gif)).

3. Para agregar:

	- una ruptura de **basada en un item**: seleccione el elemento solicitado y valide.

	- a **rotura programada**: seleccione "(No item)" y valide. El código de esta pausa programada debe introducirse en el "Valor de la pausa" Event del bloque *Inicio de la pausa*. Para obtener más información, consulte [Event "¿Romper?"](#NOTE3_1).




4. Las pausas se realizarán de acuerdo a su orden de visualización. Modifique (si es necesario) este orden a través de los botones de flecha que se encuentran a la derecha de tabla.

5. Validar la adición de un nuevo descanso.




**Observación**: Al añadir una nueva interrupción, se crean automáticamente los bloques *Inicio de interrupción* y *Fin de interrupción*.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Event "¿Romper?"
<a name="event_¿romper_ELTTEXTE000281"></a>
<a name="Break_process"></a>
Si su reporte contiene una o más pausas programadas, el bloque "Break? Event es associated con el bloque *Inicio de pausa*.

Esta Event le permite utilizar una pausa programada. Se pueden implementar dos tipos de programación para las pausas:

- el evento devuelve <u><u><u><u>True</u></u></u></u> o <u><u><u><u>False</u></u></u></u> (<u><u><u><u>True</u></u></u></u> para realizar la ruptura, <u><u><u><u>False</u></u></u></u> para no realizar la ruptura).

- la Event devuelve el valor de la ruptura. Si el valor cambia, la pausa es realizada automáticamente por el reporte (véase el ejemplo siguiente).
	El valor de ruptura puede corresponder al valor de un artículo, un control reporte, un Variable, ...




**Observación**: Si el valor de ruptura corresponde al valor de un reporte control, el valor devuelto será False si este bloque se encuentra en el bloque *Body* de reporte. En efecto, la ruptura Event se ejecuta antes de rellenar los controles que se encuentran en el bloque *Body*. En este caso, debe devolver el valor del artículo relacionado al control.

```wl
// -- Break code
nSupplier is int = 0
// Retrieve the supplier identifier
nSupplier = ExtractString(gfsLine, 1, TAB)
// Find the supplier name
HReadSeekFirst(Supplier, SupplierNum, nSupplier)
IF HFound() = True THEN
	// Initialize the control
	SupplierName = Supplier.Company
END
// Return the supplier identifier
RESULT nSupplier
```

**Importante**: El código de ruptura se ejecuta **únicamente** si la ruptura correspondiente es una ruptura programada (no relacionada a un criterio de ordenación).

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Salto de página
<a name="salto_pagina_ELTTEXTE000305"></a>
Para ir a la siguiente página después de un descanso: 

1. Abra la ventana description del bloque "Romper pie de página" ("description" en el menú contextual).

2. En la pestaña "UI", seleccione la opción "Salto de página después del bloque".




**Observación**: Este salto de página también se puede realizar a través de la programación:

- [iPageEnd](../WDLang5/3046038.md) si el reporte fue creado en el editor de reportes.

- [iSkipPage](../WDLang5/3046073.md) si el reporte se imprime a través del [funciones de impresión](../WDLang5/3046065.md).





