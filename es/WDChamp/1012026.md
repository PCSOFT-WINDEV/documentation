


## Comunicación con el usuario de la Web
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000258"></a>
Con las nuevas tecnologías Web, los sitios pueden parecerse más a las aplicaciones de Windows y pueden mostrar cuadros de diálogo.

Para que el usuario de la Web identifique fácilmente la página de Active, se utiliza automáticamente el sistema para poner en gris las páginas. La página de Inactive está en gris, por lo que las páginas de Active pueden ser vistas fácilmente por el usuario de la Web.

Por ejemplo:<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=GFI_WebDEv.gif)
 El diálogo con el usuario de INTERNET se puede gestionar: 

- [a través de las ventanas emergentes](#NOTE2_2),

- [a través de los controles Cell](#NOTE2_3),

- [a través de páginas](#NOTE2_4),

- [a través de YesNo y OKCancelar](#NOTE2_5).




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## ¿Cómo proceder?
<a name="¿como_proceder_ELTTEXTE000282"></a>


### Las funciones disponibles de WLanguage
<a name="las_funciones_disponibles_wlanguage_ELTPARAGRAPHE000039"></a>WEBDEV propone varias funciones que le permiten comunicarse con el usuario Web:



|   |   |
| --- | --- |
| [CellCloseDialog](../WDLang2/1000017140.md) | Oculta una control Celda previamente mostrada en la página a través de [CellDisplayDialog](../WDLang2/1000017139.md). |
| [CellDisplayDialog](../WDLang2/1000017139.md) | Muestra un control Celda en una página con un efecto OVI (Oscurecimiento de Ventanas Inactivas).. Esta función se utiliza para simular fácilmente una ventana de diálogo en el código del navegador, utilizando un control Celda en una página. |
| [OKCancel](../WDLang1/3021004.md) | Muestra un mensaje en un cuadro de diálogo estándar que propone "OK" y "Cancel" y devuelve la elección del usuario. |
| [PageCloseDialog](../WDLang2/1000017166.md) | Cierra la página actual. Esta página fue abierta por [PageDisplayDialog](../WDLang2/1000017124.md). Un valor de retorno puede ser devuelto a la página de llamada. |
| [PageDisplayDialog](../WDLang2/1000017124.md) | Muestra una página en modo modal. Esta función se utiliza para establecer un diálogo con el usuario. La página se muestra en primer plano mientras que la página de apertura se muestra en segundo plano, Grayed por el mecanismo de OVI. |
| [PopupClose](../WDLang2/1000019789.md) | Oculta una ventana emergente que se muestra en la página a través de [PopupDisplay](../WDLang2/1000019788.md). |
| [PopupDisplay](../WDLang2/1000019788.md) | Muestra una ventana emergente en una Page con efecto OVI (Oscurecimiento de Ventanas Inactivas). |
| [YesNo](../WDLang1/3021005.md) | Muestra un mensaje en un cuadro de diálogo estándar que propone la opciones "Sí" y "No", y devuelve la respuesta del usuario. |





Todas estas funciones se utilizan para comunicarse con el usuario y tener en cuenta los parámetros de OVI definidos por las siguientes funciones:


|   |   |
| --- | --- |
| [PáginaActivarDW](../WDLang2/1000017087.md) | Habilita o deshabilita la OVI (Dim Disabled Window) al mostrar una página modal (las páginas utilizadas para comunicarse con el usuario, por ejemplo). |
| [PáginaTasaDDDDWW](../WDLang2/1000017086.md) | Define y devuelve la tasa de grises utilizada por OVI. |


<a name="NOTE2_2"></a>
![Windows](https://doc.pcsoft.fr/ext/images/us/WINDOWS.png) 

### Gestión de un diálogo a través de ventanas emergentes
<a name="gestion_dialogo_traves_ventanas_emergentes_ELTPARAGRAPHE000064"></a>

Veamos un ejemplo que se utiliza para administrar un diálogo a través de una ventana emergente que se encuentra en una página.

Para gestionar una conversación a través de una ventana emergente, debe: 

1. Crear un popup en la página que debe mostrar el diálogo: en la pestaña "Creación", en el grupo "Contenedores", haga clic en "Popup". Esta ventana emergente se utilizará para comunicarse con el usuario. Esta ventana emergente debe contener:

	- una control estática utilizada para mostrar el texto del diálogo.

	- un botón para validar el cuadro de diálogo.
			La pestaña "Estilo" de la ventana emergente de description se utiliza para definir todas las opciones de estilo deseadas (fondo emergente Image, etc.). Para obtener más información, consulte [Control Popup](../WDChamp/1000022001.md). 




2. El botón para cerrar la Dialog( que se encuentra en el popup) contiene el siguiente código:
	
	```wl
	PopupClose()
	```

	[PopupCerrar](../WDLang2/1000019789.md) se utiliza para cerrar la ventana emergente.

3. Para comunicarse con el usuario de la web desde la página (desde un botón de la página, por ejemplo), basta con utilizar [PopupDisplay](../WDLang2/1000019788.md) y especificar el nombre de la ventana emergente que se utilizará para el diálogo. Este popup es associated con la página o con la página modelo usada por la página.



<a name="NOTE2_3"></a>
![Windows](https://doc.pcsoft.fr/ext/images/us/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/us/LX.png) 

### Gestionar un diálogo a través de celdas
<a name="gestionar_dialogo_traves_celdas_ELTPARAGRAPHE000108"></a>

Veamos un ejemplo que se usa para administrar un diálogo a través de una celda que se encuentra en una página. Esta solución se recomienda si una sola página del sitio debe proponer un diálogo con el usuario Web.

Para gestionar un diálogo a través de una celda, debe hacerlo:

1. Crear una celda en la página que debe mostrar el diálogo. Esta celda se utilizará para comunicarse con el usuario. Esta celda debe contener:

	- una control estática utilizada para mostrar el texto del diálogo.

	- un botón utilizado para validar el cuadro de diálogo.




2. La célula (así como sus controles) es Invisible. También debe ser apilable.
	Tienes la capacidad de añadir controles en la célula si es necesario (Image, ...).
	Observación: Para evitar que aparezcan barras de desplazamiento innecesarias en el navegador, marque la opción "Posicionamiento automático en la carga para evitar las barras de desplazamiento" (pestaña "Detalles" de la celda description). Esta opción se utiliza para posicionar automáticamente la celda en la posición (0,0) al cargar la página.

3. El botón para cerrar la Dialog( que se encuentra en la celda) contiene el siguiente código:
	
	```wl
	CellCloseDialog(CELL_MyCell)
	```

	[CeldaCerrarDiálogo](../WDLang2/1000017140.md) se utiliza para hacer que la celda mostrada anteriormente sea invisible.
	

4. Para comunicarse con el usuario de la Web desde la página (desde un botón de la página, por ejemplo), basta con utilizar [Diálogo CellDisplayDialog](../WDLang2/1000017139.md) y especificar el nombre de la celda que se utilizará para el diálogo.



<a name="NOTE2_4"></a>
![Windows](https://doc.pcsoft.fr/ext/images/us/WINDOWS.png) 

### Gestión de un diálogo a través de páginas
<a name="gestion_dialogo_traves_paginas_ELTPARAGRAPHE000141"></a>

Veamos un ejemplo que se utiliza para administrar un diálogo a través de una página del sitio. Esta solución se recomienda si varias páginas del sitio deben proponer un diálogo con el usuario Web. La página de diálogo se puede abrir desde cualquier página del sitio.

Para administrar un diálogo a través de una página: 

1. Crear una página (llamada PAGE_Info por ejemplo). Esta página será utilizada para comunicarse con el usuario. Esta página debe contener:

	- una celda que define la ventana de diálogo.

	- una control estática utilizada para mostrar el texto. Esta estática control está contenida en la celda.

	- un botón para validar el cuadro de diálogo. Este botón está contenido en la celda.
			Usted tiene la capacidad de añadir controles a la celda si es necesario (imágenes, ....).
			Le aconsejamos que centre la página en el navegador.




2. El botón para cerrar la Dialog( que se encuentra en la página) contiene el siguiente código: 
	
	```wl
	PageCloseDialog()
	```

	[Diálogo PageCloseDialog](../WDLang2/1000017166.md) se utiliza para devolver un valor a la página que abrió el diálogo.
	

3. Para llamar a la página de diálogo desde otra página, utilice [PageDisplayDialog](../WDLang2/1000017124.md) y especifique el nombre de la página a abrir así como los parámetros a pasar si es necesario. Estos parámetros se pueden utilizar para rellenar dinámicamente el texto que se muestra en la ventana estática, por ejemplo.



<a name="NOTE2_5"></a>
![Windows](https://doc.pcsoft.fr/ext/images/us/WINDOWS.png) 

### Gestionar un diálogo a través de YesNo y OKCancelar
<a name="gestionar_dialogo_traves_yesno_okcancelar_ELTPARAGRAPHE000174"></a>

[YesNo](../WDLang1/3021005.md) y [OKCancel](../WDLang1/3021004.md) también pueden utilizarse para gestionar un sencillo diálogo con el usuario de la web. Estas funciones se utilizan para hacer una pregunta al usuario de la web que responderá con un "Sí" o "No", o "OK" o "Cancel".

Gestionar un diálogo con las funciones YesNo y OKCancel:

**1.** Incluir páginas internas específicas en su proyecto. Estas páginas internas contienen la caja de diálogo:

- WebDevOKCancel para [OKCancel](../WDLang1/3021004.md).

- WebDevYesNo para [YesNo](../WDLang1/3021005.md).


Incluir estas páginas: 

- Haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ico_nouveau.gif) en los botones de acceso rápido. 

- Aparece la ventana de creación: haga clic en "Página", y luego en "Página".

- El asistente de creación de páginas se abre automáticamente. 

- En la asistente, haga clic en "Página interna". 

- Seleccione "OK/Cancelar" o "Sí/No". Estas páginas deben ser guardadas en su proyecto con el nombre propuesto por Default.


**2.** Utilice las funciones [YesNo](../WDLang1/3021005.md) y [OKCancel](../WDLang1/3021004.md) en el código de la aplicación.


