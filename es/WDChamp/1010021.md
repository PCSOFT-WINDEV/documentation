


## Eventos asociados a las ventanas
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Eventos predeterminados
<a name="eventos_predeterminados_ELTTEXTE000477"></a>
WINDEV y WINDEV Mobile gestionan los siguientes eventos de manera predeterminada (orden de aparición en el editor de código):


| Event | Condición de ejecución |
| --- | --- |
| Declaraciones globales | Declaración de variables globales a la ventana. Este es el primer código que se ejecuta al abrir la ventana. |
| Fin de inicialización | Corre cuando se abra la ventana.<br>Los eventos se ejecutan en el siguiente orden:<br><br>- Inicialización de los controles de la ventana (\*)<br><br>- Inicialización de la ventana<br><br>- Obtención de foco<br><br><br>**Observación**: Un efecto de parpadeo puede aparecer si el código para actualizar los controles se incluye en esta Event. De hecho, el código de inicialización de los controles se ejecuta antes que el código de actualización. |
| Cierre | Se ejecuta al cerrar la ventana.<br>**Observaciones**: <br><br>- Reanudar la entrada en uno de los controles de ventana de este código evita que se cierre la ventana.<br><br>- Si la ventana contiene un botón "Cancel", sólo se ejecutará el código de clic de este botón cuando se cierre la ventana.. <br><br><br> |
| Solicitud para actualizar la visualización | Permite agrupar el código de actualización de los controles de la ventana.: contenido de los controles, estado (visible, en gris, etc.), título a actualizar, etc.<br><br>Este evento puede recibir parámetros. Solo se debe declarar un procedimiento en el evento. Por ejemplo: <br><br><br><pre><code>// Request for refreshing the display <br>PROCEDURE AskForRefresh(RefreshType is Boolean)</code></pre><br><br><br>Este evento se ejecuta mediante solicitud previa con las siguientes funciones: <br><br>- [RequestRefreshUI](../WDLang1/1000023899.md) o [RequestRefreshUIParent](../WDLang1/1000023900.md): Ejecuta el evento al final del evento actual (ejecución asíncrona). <br><br>- [ExecuteRefreshUI](../WDLang1/1000023901.md) o [ExecuteRefreshUIParent](../WDLang1/1000023902.md): Ejecuta el evento inmediatamente. <br><br><br>Al llamar a estas funciones, se puede especificar el valor de los parámetros esperados por el evento. |
| ![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) Cambio de orientación | Ejecutar cuando el usuario da la vuelta a la pantalla. Esto le permite reposicionar los controles al cambiar la orientación de la pantalla. |
| Cerrar una ventana hija de la ventana | Se ejecuta al cerrar una ventana hija abierta desde la ventana actual.<br><br>Es posible:<br><br>- utilizar la [denominar](../Proprietes/2510082.md) Property para get el nombre de la ventana hija que se cerró.<br><br>- utilizar la [ReturnedValue](../Proprietes/2510134.md) Property para get el valor de retorno de la ventana hija.Ejemplo:<br><br><br><br><br><br><pre><code>// -- Close a child window of WIN_OrderList<br>// Refreshes the list of orders if necessary<br>IF MyChildWindow.ReturnedValue = True THEN<br>	OrderList()<br>END</code></pre><br>La palabra clave [MiInfantilVentana](../Motscles/1511021.md) se utiliza para manipular la ventana hija. |
|   | Se utiliza para actualizar el contenido del widget. Este Event está dirigido:<br><br>- al abrir una ventana de Widgets.<br><br>- a tiempo regular interval. Este intervalo se define en la pestaña "Detalles" de la ventana description.<br><br><br>Observación: [WidgetDisplay](../WDLang3/1000020647.md) vuelve a mostrar el widget y ejecuta el actualización Event. |


(\*) De forma predeterminada, el evento "Inicialización" de cada control se ejecuta según el orden en el que se crearon los controles en la ventana. Para cambiar este orden de ejecución: 

1. En la pestaña "Ventana", en el grupo "Orden", haga clic en "Inicialización". 

2. En la ventana que aparece, utilice las flechas de la derecha para cambiar el orden en el que se inicializan los controles.




**Atención**: Si uno o varios control s utilizan la persistencia de control s, se puede ejecutar el código "Siempre que se modifique" al inicializar el control. Para obtener más información, consulte [Persistencia de los controles](../WDChamp/9000019.md).

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Eventos opcionales
<a name="eventos_opcionales_ELTTEXTE000501"></a>


### Presentación
<a name="presentacion_ELTPARAGRAPHE000144"></a>Se pueden utilizar varios eventos opcionales.
Para añadir un evento opcional:

1. Seleccione la control deseada.

2. Mostrar la ventana del código de esta control (tecla F2).

3. Haga clic en el enlace "Añadir otras Event s a xxx" en la parte inferior del código de la ventana, después de la última Event.  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Traitements_optionnels_WD_OK%20-%20HC%20N%B0001.gif)


4. Todos los eventos opcionales disponibles para el control se muestran. 

5. Marque la opción Event para agregar y validar. 
	Observación: Puede seleccionar varios eventos opcionales. 

6. El Event opcional seleccionado se agrega automáticamente a los Event s administrados por el control.




Para desactivar un Event opcional, simplemente realice las mismas operaciones para mostrar la lista de Event s opcionales. A continuación, simplemente desmarque los eventos opcionales para eliminar. 
Observación: Si el código desactivado contiene código WLanguage, este código se elimina automáticamente.Se puede gestionar, por ejemplo:

- [Permitir el cierre...](#NOTE2_2aa). 

- [Redimensionamiento](#NOTE2_2a). 

- [Obtención de foco](#NOTE2_2b). 

- [Pérdida de foco](#NOTE2_2c).

- [Modificación de los controles en la ventana](#NOTE2_2e).

- [Llevar la ventana al frente](#NOTE2_2).

- [Envío de la ventana a la Background](#NOTE2_3). 

- [Cambio de diseño](#NOTE2_4).

- [Aplicación del tema luz/oscuridad](#NOTE2_5).

- [Inicio Scrolling](#NOTE2_6).

- [Mientras que Scrolling](#NOTE2_7).

- [Detener a Scrolling](#NOTE2_8).



<a name="NOTE2_2aa"></a>


### Opcional Event: Permitir el cierre...
<a name="opcional_event_permitir_cierre_ELTPARAGRAPHE000200"></a>

Esta Event puede utilizarse para realizar una verificación cuando se cierra la ventana, justo antes de que se ejecute la Event "Cerrar".. 

Esta Event puede utilizarse para: 

- solicitar una confirmación, 

- evitar que la ventana se cierre. Para ello, basta con escribir la siguiente Line de código: 
	
	```wl
	RESULT False
	```





**Atención**: 

- si la ventana contiene un botón "Cancel", sólo se ejecuta el código de clic de este botón cuando se cierra la ventana. 

- la Event "Permitir cierre" se ejecuta sólo cuando la ventana se cierra mediante el botón "X".. Esta Event no se ejecuta cuando se llama a [Cerrar](../WDLang1/3038018.md).





<a name="NOTE2_2a"></a>


### Opcional Event: Redimensionamiento
<a name="opcional_event_redimensionamiento_ELTPARAGRAPHE000233"></a>

Ejecutar en los siguientes casos:

- Minimizar la ventana

- Ampliar o redimensionar la ventana

- Restaurar la ventana una vez que se ha minimizado




![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) Este evento no está disponible.
<a name="NOTE2_2b"></a>


### Opcional Event: Obtención de foco
<a name="opcional_event_obtencion_foco_ELTPARAGRAPHE000248"></a>

Se ejecuta cuando la ventana obtiene el foco (la barra de título es Active) y cuando otra ventana pierde el foco:

- el usuario hizo clic en otra ventana de la aplicación

- [SetFocusAndReturnToUserInput](../WDLang1/1410088107.md) se ejecutó desde otra ventana de la aplicación




Esta Event no se ejecutará:

- al abrir la primera ventana del proyecto.

- cuando se ejecuta [OpenChild](../WDLang1/3038021.md), [OpenMobileWindow](../WDLang1/1000021018.md) o [OpenSister](../WDLang1/3038045.md) desde la ventana actual.

- si se llama a [Cerrar](../WDLang1/3038018.md) en el código de inicialización de la ventana.

- si el usuario hace clic en una ventana de otro programa, vuelve a hacer clic en la ventana inicial.




![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) Este evento no está disponible.
<a name="NOTE2_2c"></a>


### Opcional Event: Pérdida de concentración
<a name="opcional_event_perdida_concentracion_ELTPARAGRAPHE000283"></a>

Ejecutar cuando la ventana pierde el enfoque al ir a otra ventana. Este Event siempre se llama antes de que el foco gane Event de otra ventana en los siguientes casos:

- cerrando la ventana (antes del cierre de Event)

- el usuario hizo clic en otra ventana de la aplicación

- [SetFocusAndReturnToUserInput](../WDLang1/1410088107.md) se ejecutó desde otra ventana de la aplicación




Esta Event no se ejecutará: 

- si se ejecutó [SetFocusAndReturnToUserInput](../WDLang1/1410088107.md) a otra ventana en el código de inicialización de la ventana

- si se llama a [Cerrar](../WDLang1/3038018.md) en el código de inicialización de la ventana

- si el usuario hace clic en una ventana de otro programa, vuelve a hacer clic en la ventana inicial


![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) Este evento no está disponible.
<a name="NOTE2_2e"></a>


### Opcional Event: Siempre que se modifique
<a name="opcional_event_siempre_que_modifique_ELTPARAGRAPHE000312"></a>

Ejecutar cuando se modifica uno de los controles de ventana (entrada realizada por el usuario, por ejemplo).
<a name="NOTE2_2"></a>
<a name="NOTE2_3"></a>
<a name="NOTE2_4"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) 

### Opcional Event: Cambiar el diseño
<a name="opcional_event_cambiar_diseno_ELTPARAGRAPHE000349"></a>

Ejecutar cuando el diseño se modifica automáticamente.   

Observación: [WinChangeLayout](../WDLang1/1000021056.md) no activa este Event. 
<a name="NOTE2_5"></a>
<a name="NOTE2_6"></a>


### Opcional Event: Inicio Scrolling
<a name="opcional_event_inicio_scrolling_ELTPARAGRAPHE000388"></a>

Se ejecuta cuando el usuario comienza a desplazarse por una ventana. Esta Event se utiliza para desplazarse por el contenido, si es necesario. 
Por ejemplo, con esta Event puedes hacer que aparezca un control cuando se llegue al fondo de la ventana o cuando suba la barra de desplazamiento. 
Recordatorio: [ScrollbarPosition](../WDLang1/1000021057.md) obtiene la posición de la barra de desplazamiento. 




<a name="NOTE2_7"></a>


### Opcional Event: Mientras que Scrolling
<a name="opcional_event_mientras_que_scrolling_ELTPARAGRAPHE000405"></a>

Se ejecuta cuando el usuario se desplaza por la ventana. Esta Event se utiliza para desplazarse por el contenido, si es necesario. 
Por ejemplo, con esta Event puedes hacer que aparezca un control cuando se llegue al fondo de la ventana o cuando suba la barra de desplazamiento. 
Recordatorio: [ScrollbarPosition](../WDLang1/1000021057.md) obtiene la posición de la barra de desplazamiento. 
<a name="NOTE2_8"></a>


### Opcional Event: Detener a Scrolling
<a name="opcional_event_detener_scrolling_ELTPARAGRAPHE000421"></a>

Se ejecuta cuando el usuario deja de desplazarse por la ventana. Esta Event se utiliza para desplazarse por el contenido, si es necesario. 
Por ejemplo, con esta Event puedes hacer que aparezca un control cuando se llegue al fondo de la ventana o cuando suba la barra de desplazamiento. 
Recordatorio: [ScrollbarPosition](../WDLang1/1000021057.md) obtiene la posición de la barra de desplazamiento. 


