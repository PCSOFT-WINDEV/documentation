


## Vincular un control Tabla a un archivo de datos o consulta
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000240"></a>
Los controles Tabla pueden mostrar el contenido de un archivo de datos o consulta: los usuarios pueden seleccionar uno o más registros del archivo de datos o de la consulta.

Un control Tabla puede estar vinculado a:

- una consulta ***existente***: solo tiene que seleccionar la consulta deseada en las consultas del proyecto.

- una consulta ***incluida en el control Tabla***: esta consulta se crea en el asistente de creación del control Tabla. En este caso, la consulta solo estará disponible para este control.




Cuando un control Tabla está vinculado a un archivo de datos o consulta, el control puede actualizarse con los datos del archivo de datos:

- **de forma automática**: No es necesario utilizar un código específico para actualizar el control Tabla. Las opciones para recorrer el archivo de datos vinculado se pueden definir en la pestaña "Contenido" de la descripción del control Tabla.

- **mediante programación**: El código utilizado para recorrer el archivo de datos vinculado al control Tabla debe introducirse en los diferentes eventos del control. Este método no está recomendado.
	




**Observación**: Al crear un control Tabla, el asistente pide a los usuarios que introduzcan la información necesaria para vincular el control a un archivo de datos o consulta.

Para obtener más información, consulte [Controles Tabla basados en archivos de datos y consultas](../WDChamp/1013203.md).



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Control Tabla basado en un archivo de datos
<a name="control_tabla_basado_archivo_datos_ELTTEXTE000264"></a>
Un control Tabla basado en un archivo de datos muestra los datos de una fuente de datos específica (archivo de datos, consulta, etc.).

El contenido del control Tabla se define al crear el control y puede modificarse en la ventana de descripción (pestaña "Contenido").<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Champ_Table_Contenu.gif)
Esta ventana permite definir si el control Tabla se basa en un archivo de datos o se rellena mediante programación. Para un control Tabla basado en un archivo de datos, es posible definir cómo se va a recorrer la fuente de datos:



|   |   |
| --- | --- |
| <br><br>- **Archivo recorrido**<br><br><br> | Archivo o consulta que contiene los datos que se van a mostrar.<br>Si el control Tabla se basa en una consulta incrustada, el nombre del archivo recorrido tiene el siguiente formato: &lt;Nombre de la ventana&gt;_&lt;Número&gt;$Consulta. En este caso, todas las opciones del botón "Consulta incrustada" están disponibles. |
| <br><br>- **Campo almacenado** (opcional)<br><br><br> | Campo cuyo valor se devuelve al programa cuando se selecciona una fila del control Tabla. |
| <br><br>- **Recorrer automáticamente (descrito abajo)**<br><br><br> | Si esta opción está seleccionada, el motor de ejecución recorre el archivo y muestra los datos en el control Tabla. No se requiere ningún código WLanguage. |
| <br><br>- **Campo de navegación**<br><br><br> | Campo utilizado para recorrer la fuente de datos. Los registros mostrados en el control Tabla se ordenan en función de este campo. <br>Si se selecciona la opción &lt;Automático&gt;, el motor HFSQL selecciona automáticamente la mejor clave de búsqueda. |
| <br><br>- **Navegación invertida (descendente)**<br><br><br> | La dirección de iteración depende del campo de navegación. La dirección de iteración se define en el editor de análisis, en las características del campo.<br>Si se selecciona esta opción, la dirección de iteración será la opuesta a la definida en el editor de análisis. |
| <br><br>- **Mostrar registros cuyo campo de navegación comienza por**<br><br><br> | Condición utilizada para filtrar los registros mostrados. Este filtro es de tipo "Comienza por" y se aplica al campo de navegación. Para aplicar filtros más complejos, utilice la función [HFilter](../WDLang4/3044100.md). Para obtener más información sobre los filtros, consulte [Filtro en controles Tabla basados en un archivo de datos](../WDChamp/1013202.md).<br><br> |
| ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) **Mostrar contenido al mover la barra de desplazamiento** | Si esta opción está seleccionada, el tamaño del cursor de la barra de desplazamiento vertical será proporcional al número de elementos en el control Tabla. |
| ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) **Utilizar la función HFilter para navegar por el archivo** | Permite filtrar los registros que se muestran en el control Tabla y el archivo de datos base del control. Para obtener más información sobre esta opción, consulte [Filtro en controles Tabla basados en un archivo de datos](../WDChamp/1013202.md).<br><br> |
| ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) **Sincronizar visualización (HFSQL C/S)** | Esta opción actualiza automáticamente el control Tabla basado en un archivo de datos en cuanto se modifica el archivo de datos HFSQL Client/Server asociado. <br><br>Para obtener más información, consulte [Control Tabla basado en un archivo de datos: Sincronización automática (datos HFSQL Client/Server)](../WDChamp/1013177.md). |
| ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) **Mostrar detalles de una fila con [ + ]** | Esta opción permite desplegar una fila en el control Tabla para ver los registros de otros archivos de datos que estén enlazados a la fila seleccionada.  <br><br>Para obtener más información, consulte [Control Tabla basado en un archivo de datos: Visualización automática de registros enlazados](../WDChamp/1013177.md). |



<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Control Tabla basado en un archivo de datos
<a name="control_tabla_basado_archivo_datos_ELTTEXTE000290"></a>
Si utiliza un control Tabla basado en un archivo de datos con inicialización programada, debe introducir el código para recorrer el archivo de datos en los diferentes eventos asociados al control. Este método no se recomienda y solo se conserva por motivos de compatibilidad.

**Por ejemplo**: Inicialización de un control Tabla con clientes del archivo de datos CUSTOMER.


```wl
// Initialize the Table control
HReadFirst(CUSTOMER, NAME)

// Previous record 
HReadPrevious(CUSTOMER, NAME)
// Next record 
HReadNext(CUSTOMER, NAME)
// Last record
HReadLast(CUSTOMER, NAME)
```



