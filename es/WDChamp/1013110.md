


## Eventos associated con controles TreeView
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Eventos utilizados de forma predeterminada
<a name="eventos_utilizados_forma_predeterminada_ELTTEXTE000288"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) 

### Eventos soportados por WINDEV y WINDEV Mobile
<a name="eventos_soportados_por_windev_windev_mobile_ELTPARAGRAPHE000013"></a>

WINDEV y WINDEV Mobile gestionan los siguientes eventos por Default (orden de aparición en el editor de código):

| Event | Condición de ejecución |
| --- | --- |
| Inicialización | Corre cuando se abra la ventana. Se utiliza para inicializar el contenido de la control TreeView por ejemplo. (\*) |
| Fin de inicialización | **Code sólo se encuentra para los controles de navegación TreeView que llenan automáticamente**:<br>Ejecutar una vez que se haya llenado el control TreeView. Este código se utiliza para expandir u ocultar un elemento. |
| partida | Ejecutar cuando el cursor del ratón está posicionado en el control TreeView. |
| salida | Corre cuando la control ya no esté seleccionada. |
| Haga clic | Ejecutar cuando el usuario hace clic en un elemento de la control TreeView.<br>**Atención**: Cuando se realiza un doble clic en un elemento, el código de clic y el código de doble clic se ejecutan sucesivamente. |
| Introduzca un fila en la entrada | Ejecutar cuando el usuario selecciona una fila para realizar una entrada en este fila.<br>**Atención**: Este código sólo está disponible si la entrada está permitida por la control TreeView. |
| Salida de una fila | Ejecutar al pasar de un fila o control a otro (tecla TAB, seleccionar otro control con el ratón, etc.).<br>**Atención**: Este código sólo está disponible si la entrada está permitida por la control TreeView. |
| Visualización de una fila | Ejecutar cuando se debe mostrar una nueva fila en el control TreeView. |
| Selección de una fila | Ejecutar cuando se selecciona un nuevo elemento en la control TreeView. |
| Clic derecho | Ejecutar cuando el usuario realiza un clic derecho sobre el control TreeView (o sobre uno de sus elementos). |
| Doble clic | Ejecutar cuando el usuario realiza un doble clic sobre el control TreeView (o sobre uno de sus elementos). |
| Contracción/Expansión de un nodo | Ejecutar cuando una rama de la control TreeView es expandida o colapsada mediante un clic o un doble clic realizado por el usuario o mediante los iconos + o -..<br><br>**Atención**: Al hacer clic o doble clic, se ejecuta este evento con el evento "Clic". Esta Event se ejecuta antes de que se realice la acción deseada.<br><br>**Observación**: Este Event puede aceptar parámetros (ver abajo). |
| Filtrar registros<br>(Event opcional) | **Event se tiene en cuenta sólo para navegar por los controles de TreeView**<br><br>Ejecutar justo antes de mostrar un fila. Este Event filtra los registros mostrados en el control TreeView. Esta Event se detalla al final de esta página. |


(\*) Por defecto, la "Inicialización" Event de cada control se ejecuta según el orden en que se crearon las control en la ventana. Para modificar este orden de ejecución: 

1. En la pestaña "Ventana", en el grupo "Orden", haga clic en "Inicialización". 

2. En la ventana mostrada, utilice las flechas de la derecha para modificar el orden en el que se inicializan los controles.




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Caso especial: Contracción/Expansión de un nodo
<a name="caso_especial_contraccionexpansion_nodo_ELTTEXTE000318"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) El Event**"Colapsando/Expandiendo un nodo"** se ejecuta cuando el usuario colapsa o expande una rama del control TreeView con un clic o doble clic.

**Atención**: Este Event no debe borrar el nodo actual.

Este Event puede aceptar parámetros.

Para manipular estos parámetros, se debe declarar un Procedure directamente en el Event "Colapsar/Expandir un nodo".

La Procedure debe ser declarada con la siguiente sintaxis:


```txt
PROCEDURE <Procedure name>([<Element path> [, <Collapsed> [, <Identifier> ]]])
```
Donde


|   |   |
| --- | --- |
| &lt;Ruta del elemento&gt; | El texto Variable, que contiene el ruta completo del elemento actualmente colapsado o expandido. Simplemente especifique el nombre de una Variable. Se inicializará automáticamente en tiempo de ejecución. |
| &lt;Contraído&gt; | Variable booleana, usada para averiguar la acción realizada por el usuario (colapso = True, expansión = False). Simplemente especifique el nombre de una Variable. Se inicializará automáticamente en tiempo de ejecución. |
| &lt;Identificador&gt; | El texto Variable, que contiene el identificador del elemento actualmente colapsado o expandido. Simplemente especifique el nombre de una Variable. Se inicializará automáticamente en tiempo de ejecución. El identificador se proporciona cuando se llama a [TreeAdd](../WDLang1/3018012.md). |

![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Se puede declarar un procedimiento en el evento "Contracción/Expansión de un nodo"**Ejemplo**: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ARBRECODE.gif)


<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Eventos opcionales
<a name="eventos_opcionales_ELTTEXTE000342"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Para añadir un evento opcional:

1. Seleccione la control deseada.

2. Mostrar la ventana del código de esta control (tecla F2).

3. Haga clic en el enlace "Añadir otras Event s a xxx" en la parte inferior del código de la ventana, después de la última Event.  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Traitements_optionnels_WD_OK%20-%20HC%20N%B0001.gif)


4. Todos los eventos opcionales disponibles para el control se muestran. 

5. Marque la opción Event para agregar y validar. 
	Observación: Puede seleccionar varios eventos opcionales. 

6. El Event opcional seleccionado se agrega automáticamente a los Event s administrados por el control.




Para desactivar un Event opcional, simplemente realice las mismas operaciones para mostrar la lista de Event s opcionales. A continuación, simplemente desmarque los eventos opcionales para eliminar. 
Observación: Si el código desactivado contiene código WLanguage, este código se elimina automáticamente.Se puede gestionar, por ejemplo:

- el desplazamiento del cursor por encima del control,

- botón izquierdo del ratón abajo, arriba, con un doble clic,

- el botón derecho del ratón presionado, liberado o con doble clic 

- la rueda del ratón.




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Filtrar registros (sólo para navegar por control TreeView)
<a name="filtrar_registros_solo_para_navegar_por_control_treeview_ELTTEXTE000382"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) El Event "Filtrando los registros" se ejecuta justo después de que un fila del control TreeView se muestra. Por lo tanto, se ejecuta:

- al inicializar la control TreeView.

- siempre que se muestre una nueva fila de la control TreeView.




Este Event filtra los registros mostrados en el control TreeView. 

Para implementar un filtro, la Event "Filtrando los registros" debe devolver un valor:

- <u><u><u><u>True</u></u></u></u> para especificar que el registro coincide con el filtro y que debe mostrarse.

- <u><u><u><u>False</u></u></u></u> para especificar que el registro no coincide con el filtro y que no debe mostrarse.

- <u><u><u><u>Cancel</u></u></u></u> para dejar de leer la fuente de datos del control TreeView (caso muy raro).




Ejemplo:

```wl
// -- Filter records --
// Displays the customers who placed orders exceeding 3000 Euros
IF Order.TotalIOT >= 3000 THEN 
	RETURN True
ELSE
	RESULT False
END
```


En este código, los datos utilizados afectan al Record que actualmente lee el control TreeView. Estos datos proceden del fichero de fecha o de la consulta relacionado al control TreeView.


