


## Manejo de los bloques reporte mediante programación
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000188"></a>
Cada bloque de reporte es associated con diferentes eventos. Estos eventos se utilizan para mejorar el modo de funcionamiento de la reporte a través de las funciones de programación de WLanguage.

Además, cada bloque puede ser manejado en WLanguage: para ello, utilice el nombre del bloque en el código WLanguage.



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Eventos de los bloques reporte
<a name="eventos_los_bloques_reporte_ELTTEXTE000212"></a>
Los siguientes eventos son associated con bloques de reporte:

| Eventos | Condición de ejecución |
| --- | --- |
| Inicialización | Ejecutar al inicializar el bloque. Al iniciar una reporte (incluso durante una prueba), los eventos se ejecutan en el siguiente orden:<br><br>- " [Apertura](../WDChamp/1011037.md)" del evento reporte.<br><br>- "Iniciando" Event de los bloques de reporte.<br><br>- " [Inicialización](../WDChamp/1013047.md)" event de los controles.<br><br><br>Este Event está acostumbrado:<br><br>- inicializar los controles "Calculados".<br><br>- inicializar las variables globales declaradas en la Event "de apertura" de la reporte.<br><br>- realizar sustituciones en bloque.<br><br><br> |
| Antes de imprimir | Antes de imprimir un bloque, se realizan las siguientes operaciones:<br><br>- leyendo el actual Record.<br><br>- asignando los valores leídos en los controles del bloque.<br><br>- realizando cálculos sobre los valores de los artículos.<br><br>- corriendo el Event "Antes de la impresión" del bloque.<br><br>- realizando cálculos sobre los controles del bloque.<br><br><br>Cuando se llama este Event, el editor de reportes comprueba si queda suficiente espacio en la página actual para imprimir el bloque actual (caso de bloque no rompible). Si no hay suficiente espacio para imprimir el bloque actual no rompible, se imprimirá en la página siguiente (así como los bloques Pie de página, Cabecera de página y Complemento corporal si es necesario).<br><br>Si el bloque se redimensiona automáticamente, se ejecuta la Event "Antes de imprimir" antes de saber si el bloque se puede imprimir en la página.<br><br>Este Event está acostumbrado:<br><br>- ver y modificar los controles del bloque correspondiente.<br><br>- asignar imágenes.<br><br>- ejecutar [iPageEnd](../WDLang5/3046038.md) en el bloque de la cabecera de ruptura.<br><br><br>**Atención**: Este Event no puede realizar ninguna sustitución del bloque actual. Sin embargo, puede solicitar la sustitución de otro bloque. |
| Después de la impresión | Ejecutar una vez impreso el bloque.<br><br>Este Event está acostumbrado:<br><br>- ver y modificar los controles del bloque correspondiente.<br><br>- asignar imágenes.<br><br>- reajustar a cero los controles que acaban de imprimirse.<br><br>- sustituir los bloques (teniendo en cuenta los bloques siguientes).<br><br>- imprimir un bloque *Iteración* ([iPrintBlock](../WDLang5/3046030.md)).<br><br><br> |
| Valor de ruptura<br>(*Break header* block only) | Ejecutado antes del evento "Antes de imprimir" el bloque *Fin de ruptura*.<br>Para obtener más información, consulte [Romper en un reporte](../WDChamp/1011028.md). |


**Recordatorio**: Si el destino de la impresión es un archivo HTML, los bloques de encabezado y pie de página se editarán una sola vez. 

Para ver los eventos específicos de un bloque, utilice:

- "Código de bloque" de el menú contextual del bloque (clic con el botón derecho del ratón en la cabecera del bloque).

- el icono "Código" del bloque description.


Algunas funciones y propiedades están destinadas específicamente a la manipulación de los bloques. 

**Observación**: Los eventos associated con un bloque reporte se ejecutan cuando este bloque se imprime. Puede utilizar el código WLanguage en estos eventos. Para más detalles sobre la secuencia de estos acontecimientos, véase [Secuencia de eventos associated con un reporte](../WDChamp/1011004.md). 

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Manejar un bloqueo en un evento de WLanguage o Process
<a name="manejar_bloqueo_evento_wlanguage_process_ELTTEXTE000236"></a>
Para manipular un bloque de reporte en un evento de WLanguage o Process, puedes usar uno de los siguientes métodos:

- usar el nombre de este bloque directamente. Esta sintaxis sólo es válida si el bloque se gestiona desde la reporte a la que pertenece.

- utilice la siguiente notación: "&lt;ReportName&gt;.&lt;BlockName&gt;".




Se puede manipular un bloque:

- en una función WLanguage.

- con un WLanguage Property.

- en asignación directa.




Por ejemplo:


```wl
// Print an iteration block
iPrintBlock("ITERATION1") 
// Make the "Body" block invisible 
Body.Visible = False
```



