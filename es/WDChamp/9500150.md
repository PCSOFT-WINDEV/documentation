


## Manipular un control Campo de entrada de tipo Tokens de texto
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Control Campo de entrada de tipo Tokens de texto
<a name="control_campo_entrada_tipo_tokens_texto_ELTTEXTE000226"></a>


### Presentación
<a name="presentacion_ELTPARAGRAPHE000011"></a>

Es común ver interfaces que utilizan controles con tokens. Un control con tokens contiene cantidades variables de información en un zona limitada.

Cuando el usuario final tiene un gran número de opciones múltiples (por ejemplo, la selección de varios colores), el control de tipo token es una forma fácil de presentar estas opciones de forma clara.

Cuando el usuario elige un nuevo criterio, este criterio se agrega en el control.

Para eliminarlo, el usuario puede simplemente hacer clic en la "X" que aparece junto al token.

Para utilizar un control Token en WINDEV, WEBDEV, y WINDEV Mobile, cree un control Campo de entrada de tipo "Tokens de texto". La entrada de tokens puede ser realizada: 

- directamente por el usuario final,

- mediante programación. 




Atención: Los controles Campo de entrada de tipo Tokens de texto no pueden utilizarse en controles Tabla o Looper. 


### Funcionamiento del control Campo de entrada de tipo tokens de texto (en tiempo de ejecución)
<a name="funcionamiento_del_control_campo_entrada_tipo_tokens_texto_tiempo_ejecucion_ELTPARAGRAPHE000029"></a>

- Un token se agrega automáticamente al control cuando el usuario pulsa la tecla Entrar o utiliza uno de los caracteres de separación especificados. 

- Si el área de entrada tiene el foco: 

	- El cursor desaparece al hacer clic en un token. 

	- Se pueden utilizar las flechas para seleccionar los tokens y quitar el cursor.




- Si se selecciona un token:  

	- puede utilizar las flechas del teclado y las teclas Inicio y Fin para seleccionar y moverse entre los tokens. 

	- la tecla Supr borra el token seleccionado. 

	- la tecla Retroceso borra el token anterior. 




- Se pueden eliminar los tokens haciendo clic en la "X".

- Si el usuario aún no ha establecido el foco en el área de entrada: 

	- La tecla Tab establece el foco en el área de entrada si el control Campo de entrada está activo. 

	- La tecla Tab establece el foco en el primer token si el control Campo de entrada no está activo. 




- Si el foco se establece en otro control, el área de entrada seleccionada y/o el token pierden el foco.




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Características de un control Campo de entrada de tipo Tokens de texto
<a name="caracteristicas_control_campo_entrada_tipo_tokens_texto_ELTTEXTE000256"></a>


### Crear un control Campo de entrada de tipo Tokens de texto
<a name="crear_control_campo_entrada_tipo_tokens_texto_ELTPARAGRAPHE000053"></a>

Para crear un control Campo de entrada de tipo Tokens de texto: 

1. En la pestaña "Creación", en el grupo "Controles frecuentes", haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ico_saisie.gif).

2. Haga clic en la ventana o página en la ubicación en la que desea crear el control. El control aparece en el editor.

3. En la ventana de descripción del control Campo de entrada, seleccione "Tokens de texto" y valide. 




**Observación**: También puede crear un control Campo de entrada de tipo Tokens de texto a partir de una lista de controles predefinidos expandiendo el menú "Entrada" (ícono ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ico_saisie.gif)). La lista de controles disponibles se muestra con la plantilla del proyecto. Simplemente seleccione "Entrada con tokens" o "Entrada de correo electrónico con tokens".


### Opciones específicas de los controles Campo de entrada de tipo Tokens de texto
<a name="opciones_especificas_los_controles_campo_entrada_tipo_tokens_texto_ELTPARAGRAPHE000076"></a>

La ventana de descripción de este tipo de control permite definir: 

- las opciones de gestión del control y de los tokens (pestaña "General"). 

- el estilo de los tokens (pestaña "Estilo"). 




La pestaña "General" de la ventana de descripción del control incluye las siguientes opciones: 

- **Máscara de entrada**: Cuando la entrada directa está habilitada en un control Token, es posible elegir una máscara de entrada, como en cada control Campo de entrada. De esta manera se guía al usuario final: correo electrónico, mayúsculas, valores numéricos, código postal, etc.

- **Separadores de entrada (además de &lt;CR&gt;)**: Lista de caracteres considerados como separadores de tokens. Cuando el usuario introduce uno de estos caracteres, se creará un token con el contenido del área de entrada y el usuario podrá introducir el siguiente token. Esta lista se puede manipular mediante programación con la propiedad [TokenListSeparator](../Proprietes/1000023783.md). 

- **Unicode**: Permite la entrada de caracteres Unicode. 

- **Permitir duplicados**: Permite la entrada de tokens duplicados. Si se selecciona esta opción, el usuario podrá convertir el mismo texto en token varias veces. Esta opción puede configurarse mediante programación con la propiedad [TokenAllowDuplicate](../Proprietes/1000023784.md). 

- **Salto de línea automático**: Define el comportamiento del control cuando se introducen múltiples tokens: los tokens pueden mostrarse en varias líneas (opción predeterminada) o en una sola línea con una barra de desplazamiento horizontal. 

- **Tokens eliminables**: Permite al usuario eliminar tokens en el control. En este caso, se mostrará una X en el token. Esta opción puede configurarse mediante programación con la propiedad [TokenDeletable](../Proprietes/1000024025.md). 




La pestaña "Estilo" de la ventana de descripción del control permite definir: 

- el estilo del texto del token (elemento "Tokens: Título"). 

- el estilo del token (elemento "Tokens: Bordes"). En este caso, es posible seleccionar: 

	- el ícono para eliminar el token. La imagen debe tener las siguientes dimensiones: 12 x 12 pixeles (en cada estado).  

	- el color de fondo y de los bordes del token. 

	- el tipo de bordes del token. 




- el estilo del token seleccionado ("Tokens: Selección"). A continuación, puede elegir el color del token seleccionado. El color "Automático" define automáticamente el color del token en función del color del texto. Así, el texto del token siempre será legible.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Manipular un control Campo de entrada de tipo Tokens de texto mediante programación
<a name="manipular_control_campo_entrada_tipo_tokens_texto_mediante_programacion_ELTTEXTE000286"></a>


### Eventos asociados
<a name="eventos_asociados_ELTPARAGRAPHE000126"></a>

En tiempo de ejecución, el usuario puede agregar, eliminar o seleccionar tokens en un control de Campo de entrada. 

Puede usar diferentes eventos para gestionar estas acciones: 

- Adición de un token. 

- Eliminación de un token. 

- Clic en un token. 




Estos eventos tienen un procedimiento que permite almacenar el token actual en una variable de tipo [Token](../WDLang1/1000023942.md).

Para más información sobre estos eventos, consulte [Eventos asociados a los controles Campo de entrada](../WDChamp/1013229.md). 


### Funciones y propiedades WLanguage asociadas
<a name="funciones_propiedades_wlanguage_asociadas_ELTPARAGRAPHE000147"></a>

WLanguage incluye los siguientes elementos para manipular controles Campo de entrada de tipo Tokens de texto: 

- el tipo de variable [Token](../WDLang1/1000023942.md), que se utiliza para obtener y establecer todas las características de un token. 

- funciones de gestión de tokens: 

	- sintaxis estándar: 
			


|   |   |
| --- | --- |
| [EditAddToken](../WDLang1/1000023953.md) | Añade una Token a un "Texto Token" Editar control. |
| [EditDeleteAllToken](../WDLang1/1000023957.md) | Borra todos los Token de un Token "Texto control Campo de entrada". |
| [EditDeleteToken](../WDLang1/1000023956.md) | Borra una Token de una Token"Texto" control Campo de entrada. |
| [EditInsertToken](../WDLang1/1000023954.md) | Inserta un token en un control Campo de entrada de tipo "Tokens de texto". |
| [EditTokenCount](../WDLang1/1000023955.md) | Devuelve el número de Token s presentes en un "Texto Token" control Campo de entrada. |

- sintaxis con prefijo: 
			

- propiedades para gestionar los tokens y sus características: 
	


|   |   |
| --- | --- |
| [StoredValue](../Proprietes/2510127.md) | El **StoredValue** Property se utiliza para get el valor almacenado actualmente por: <br><br>	- una fila de un control List Box, ListView o Combo Box. <br><br>	- a "Texto Token" control Campo de entrada.<br><br><br> |
| [Token](../Proprietes/1000023976.md) | La propiedad **Token** permite manipular los diferentes tokens asociados a un control Campo de entrada de tipo "Tokens de texto". |
| [TokenAllowDuplicate](../Proprietes/1000023784.md) | La propiedad **TokenAllowDuplicate** permite: <br><br>	- Permitir o impedir que el usuario introduzca duplicados en un "Texto Token" control Campo de entrada. <br><br>	- Determinar si se permiten duplicados en un "Texto Token" control Campo de entrada.<br><br><br> |
| [TokenCurrentInput](../Proprietes/1000024224.md) | La propiedad **TokenCurrentInput** permite leer o cambiar el valor que se está introduciendo en un control Campo de entrada de tipo "Tokens de texto". |
| [TokenDeletable](../Proprietes/1000024025.md) | La propiedad **TokenDeletable** permite: <br><br>	- Determinar si el usuario final puede borrar Token s en un "Texto Token" control Campo de entrada. <br><br>	- Permitir o impedir que el usuario final borre Token s en un "Texto Token" control Campo de entrada.<br><br><br> |
| [TokenEnabled](../Proprietes/1000023782.md) | La propiedad **TokenEnabled** determina si un control Campo de entrada es de tipo "Tokens de texto". |
| [TokenListSeparator](../Proprietes/1000023783.md) | El **TokenListSeparator** Property recupera o modifica los separadores que desencadenan la creación de nuevos Token s al introducir información en un "Texto Token" control Campo de entrada. |





### Agregar tokens a una lista de sugerencias de entrada predictiva
<a name="agregar_tokens_una_lista_sugerencias_entrada_predictiva_ELTPARAGRAPHE000168"></a>

Puede agregar tokens a una lista de sugerencias de entrada predictiva utilizando la función [AssistedInputAdd](../WDLang1/1000020043.md). 

Ejemplo: 

```wl
MyToken is Token
MyToken.Caption = "abc"
MyToken.Value = "abc"
MyToken.ToolTip = "tooltip"
MyToken.Color = DarkRed
MyToken.BackgroundColor	= PastelRed
MyToken2 is Token
MyToken2.Caption = "def"
MyToken2.Value = "def"
MyToken2.ToolTip = "tooltip"
MyToken2.Color = DarkRed
MyToken2.BackgroundColor = PastelRed
AssistedInputAdd(EDT_ControlWithTokens, MyToken)
AssistedInputAdd(EDT_ControlWithTokens, MyToken2)
```





