


## Creación de las ventanas de visión del patrón WINDEV RAD
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Los pasos para crear un patrón RAD
<a name="los_pasos_para_crear_patron_rad_ELTTEXTE000263"></a>
Los pasos para crear un patrón WINDEV RAD son los siguientes:

1. [Creación del proyecto "RAD Pattern](../Editeurs/2031021.md). 

2. Creación de las diferentes ventanas de patrones.

	- [Ventana de forma](../Editeurs/2031025.md) (con botones de enlace si es necesario). 

	- [Ventana de la mesa](../Editeurs/2031026.md) (con botones de enlace si es necesario). 

	- [Ventana de relaciones](../Editeurs/2031027.md) (con botones de enlace si es necesario). 

	- **Botones y ventana Vision Plus**. 

	- [Menús](../Editeurs/2031030.md). 




3. [Generación del patrón RAD](../Editeurs/2031023.md).

4. [Usando el patrón RAD](../Editeurs/2031024.md).




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Crear las diferentes ventanas de patrones
<a name="crear_las_diferentes_ventanas_patrones_ELTTEXTE000287"></a>


### Los ficheros a crear
<a name="los_ficheros_crear_ELTPARAGRAPHE000043"></a>

Recordatorio: Para construir un patrón RAD utilizado para crear un proyecto completo, se requieren los siguientes archivos:

- Un formulario para RADFileA.

- Un formulario para RADFileB. Un botón Vision Plus (o un cuadro combinado emergente) debe permitirle seleccionar un elemento de RADFileA.

- Un formulario para RADFileC. Un botón Vision Plus (o un cuadro combinado emergente) debe permitirle seleccionar un elemento de RADFileB.

- Una tabla para RADFileA.

- Una tabla para RADFileB.

- Un tabla para RADFileC.

- Una ventana de relación RADFileB/RADFileD.




Estos diferentes elementos deben contener botones de enlace. También tiene la posibilidad de proporcionar el menú principal de la aplicación.
<a name="NOTE2_2"></a>


### Estándar a seguir
<a name="estandar_seguir_ELTPARAGRAPHE000060"></a>

Esta página de ayuda presenta las diferentes reglas que deben aplicarse al crear las páginas y ventanas del patrón RAD. Estas reglas se han utilizado para crear los diferentes patrones suministrados con WINDEV 28.

Estas reglas son recomendaciones. Puede implementar y utilizar su propio estándar.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Las ventanas Vision Plus
<a name="las_ventanas_vision_plus_ELTTEXTE000317"></a>


### Presentación
<a name="presentacion_ELTPARAGRAPHE000073"></a>

Las ventanas Vision Plus están acostumbradas a:

- seleccionar un elemento de RADFileA de un formulario en RADFileB. 

- seleccionar un elemento de RADFileB de un formulario en RADFileC. 




Ejemplo: Selección de un cliente a partir de un pedido.

Los siguientes elementos le permiten utilizar una ventana Vision Plus:

- en la ventana del formulario: un cuadro combinado y un botón.

- una ventana de Visión Plus.



<a name="NOTE3_2"></a>


### Creación de la ventana Visión Plus
<a name="creacion_ventana_vision_plus_ELTPARAGRAPHE000090"></a>

La ventana Visión Plus es una ventana que contiene:

- una tabla.

- para seleccionar y manipular los elementos del tabla.




**Para crear una ventana de Visión Plus**: 

1. Haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ico_nouveau.gif) en los botones de acceso rápido: 

	- Aparece la ventana de creación: haga clic en "Ventana", y luego en "Ventana".

	- El asistente de creación de ventanas se abre.

	- En la asistente, seleccione "Blank" y valide.




2. En la ventana de description, introduzca la siguiente información:

	- El nombre de la ventana. Este nombre debe contener necesariamente el nombre del archivo mostrado en la tabla (algunos ejemplos: WIN_Vision_RADFileA, WIN_Vis_RADFileA, ....).

	- El título de la ventana. Si el título debe mostrar el nombre del archivo, utilice el nombre del archivo "RADFileXX" (por ejemplo, "RADFileA: Visión más").




3. Grabe la ventana.

4. Cree una control Tabla en la ventana: en la pestaña "Creación", en el grupo "Datos", despliegue "Tabla y List Box" y seleccione "Tabla (Vertical)".

5. En la creación de tabla asistente, especifique las siguientes características:

	- Seleccione la opción "Mostrar datos de un archivo o una consulta existente".

	- Seleccione el fichero base de la tabla (RADFileA por ejemplo).

	- Conserve el artículo propuesto así como el artículo de búsqueda.

	- Especifique la fuente para el proceso de llenado: "Archivo con acceso directo".

	- Validar el nombre de la tabla.




6. Posicionar la control Tabla en la ventana y definir su tamaño. 

7. Crear y posicionar los diferentes botones de su ventana: OK, Cancel y New.
	Atención: si el usuario puede aplicar un plantilla a las ventanas creadas por RAD, debe definir el tipo de botón que se debe utilizar en el plantilla. Esta información se puede definir en el modificador (categoría"Plantilla").

8. Caso de la ***botón OK***.
	Este botón se utilizará para validar la selección en la tabla. El código del botón OK es el siguiente: 
	
	```wl
	// Return value
	MyWindow..ReturnedValue = True
	```

	Este botón es associated con la acción preestablecida "Cerrar la ventana y devolver un valor", siendo el valor especificado en el código por [ReturnedValue](../Proprietes/2510134.md).

9. Caso de los botones ***Cancel***
	Este botón se utiliza para Cancel la selección. Este botón es associated con la acción preestablecida "Cerrar la ventana y devolver un valor", siendo el valor especificado en el código por [ReturnedValue](../Proprietes/2510134.md).

10. Caso de ***Nuevo botón***
	Este botón se utiliza para crear una nueva Record abriendo la ventana del formulario correspondiente. El código del botón Nuevo puede ser:
	
	```wl
	// Reset the record of RADFileA
	HReset(RADFileA)
	// Open the form of RADFileA
	IF Open(WIN_Form_RADFileA) THEN
		// Refresh the table
		TableDisplay(TABLE_RADFileA, taCurrentFirst) 
	END
	```


11. Código de inicialización de la ventana: 
	
	```wl
	// Position on the current record
	TableDisplay(TABLE_RADFileA, taCurrentFirst)
	// Default return value
	MyWindow.ReturnedValue = False
	```




<a name="NOTE3_3"></a>


### Creación de los elementos necesarios en la ventana del formulario
<a name="creacion_los_elementos_necesarios_ventana_del_formulario_ELTPARAGRAPHE000163"></a>

Las ventanas Vision Plus se pueden utilizar desde las siguientes ventanas:

- Formulario en RADFileB

- Formulario en RADFileC

- Ventana de relaciones con el formulario en RADFileB




En estas ventanas se debe crear un cuadro combinado y un botón. Estos elementos se pueden apilar sobre el supercontrol correspondiente a la forma.

**Para crear el cuadro combinado**: 

1. En la pestaña "Creación", en el grupo "Controles frecuentes", haga clic en "Combo Box". El asistente de creación del control Combo Box se abre.

2. En el cuadro combinado de creación de asistente, seleccione las siguientes opciones:

	- "Quiero introducir una lista de valores o rellenar el cuadro combinado mediante programación".

	- el cuadro combinado es relacionado a ningún elemento

	- el control ampliado es una lista

	- el nombre del control es "COMBO_IDRADArchivoX" (COMBO_ es el prefijo definido en el estilo de código: no es necesario si no se utiliza un estilo de código). Por ejemplo, para el formulario RADFileB, el cuadro combinado se llamará COMBO_IDRADFileA.




3. Validar. Se crea la control Combo Box.




**Para crear el botón**: 

1. En la pestaña "Creación", en el grupo "Controles frecuentes", haga clic en "Botón".

2. En la ventana de control de description, especifique el nombre del botón. Esta control tiene un nombre con el siguiente formato "BTN_VISION_RADFileX" (BTN_ es el prefijo definido en el estilo de código: no es necesario si no se utiliza un estilo de código). Por ejemplo, para el formulario RADFileB, el botón se llamará BTN_VISION_RADFileA.
	Atención: si el usuario puede aplicar un plantilla a las ventanas creadas por RAD, debe definir el tipo de botón que se debe utilizar en el plantilla. Esta información se puede definir en el modificador (categoría"Plantilla").

3. El código de clic del botón es el siguiente:
	
	```wl
	// Open the vision window of RADFileA
	IF Open(WIN_Vision_RADFileA) = True THEN
		// Refreshes the content of the RADFileA combo box
		ListDisplay(COMBO_IDRADFileA, taCurrentFirst)
	END
	```






