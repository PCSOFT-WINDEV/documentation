
## Dynamic Island
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000137"></a>
Una de las principales novedades del último iPhone es la Dynamic Island, que transforma la muesca negra ("notch") en un widget. <br>![Dynamic island ampliada, con una acción disponible](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=iphone14-Dynamic-Island-pizza-min.png)
 A partir de la versión 28, WINDEV Mobile soporta esta nueva funcionalidad.. 
Solo tiene que definir la UI de los widgets con Swift UI, y luego con WLanguage podrá generar automáticamente los widgets en el proyecto y especificar el procedimiento callback al que se llamará cuando el usuario interactúe con el widget.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## ¿Cómo utilizar la Isla Dinámica en tus aplicaciones iOS?
<a name="¿como_utilizar_isla_dinamica_tus_aplicaciones_ios_ELTTEXTE000161"></a>
<a name="NOTE1_2"></a>


### Comportamiento y requisitos
<a name="comportamiento_requisitos_ELTPARAGRAPHE000024"></a>

- Es necesario conocer Swift para manipular la información que aparece en la Isla Dinámica. El ejemplo "iOS Dynamic Island" contiene archivos que pueden reutilizarse y editarse. 

- Dynamic Island sólo funciona en dispositivos reales. No puede ejecutarse en un emulador o simulador. 

- Dynamic Island sólo está disponible para iPhone 14 Pro. 

- La aplicación iOS determina cuándo se muestra y rellena la Isla Dinámica. Estos datos sólo serán Visible cuando la aplicación esté en el Background. 







### Visualización de la Isla Dinámica en modo edición y test
<a name="visualizacion_isla_dinamica_modo_edicion_test_ELTPARAGRAPHE000033"></a>

Para ver la Isla Dinámica en modo edición y prueba (Ir), basta con seleccionar "iPhone 14" o una configuración posterior: 

1. Seleccione la configuración iOS de su proyecto. 

2. En la pestaña "Proyecto", en el grupo "Configuración del proyecto", haga clic en "Configuración actual".. 

3. En la ventana que aparece, haga clic en "Plataforma description".. 

4. En "Plataforma description", añada "iPhone14" y suprima "iPhone genérico" si es necesario.. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Dynamic_Island%20-%20HC%20N%B0001.gif)


5. Confirmar las 2 ventanas. 

6. El editor de ventanas muestra ahora una muesca similar a una isla dinámica.. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Dynamic_Island%20-%20HC%20N%B0002.gif)








### Programación
<a name="programacion_ELTPARAGRAPHE000048"></a>

Para aplicar la función de isla dinámica: 

1. Crear los diferentes ficheros Swift necesarios para manipular la interfaz y los datos visualizados por la Isla Dinámica.. 
	**En el ejemplo de iOS Dynamic Island** , los archivos correspondientes son: 

	- InterventionActivityAttributes, que define los atributos que deben actualizarse. 

	- InterventionActivityWidget, que define el aspecto del widget en función del modo de visualización (colapsado, expandido, colapsado con otras aplicaciones visualizadas al mismo tiempo).




2. En el proyecto WINDEV Mobile, cree una set de procedimientos que contenga los distintos procedimientos del lenguaje Swift para visualizar la Isla Dinámica. 
	**En el ejemplo de iOS Dynamic Island** , el "DynamicIsland" set contiene los siguientes procedimientos que se pueden reutilizar: 

	- updateInvervention: Actualiza los datos en la Isla Dinámica. 

	- startIntervention: Muestra los datos en la Isla Dinámica. 

	- listaIntervención: Lista de intervenciones. 

	- stopIntervention: Deja de mostrar datos en la Isla Dinámica. 




3. En el proyecto WINDEV Mobile, utilice una Procedure para definir lo que ocurre cuando el usuario realiza una acción en la Isla Dinámica.. 
	**En el ejemplo de iOS Dynamic Island** , se usa un enlace profundo. En el código de inicialización del proyecto, [iOSApplicationOpenURLProcedure](../WDLang3/1410089346.md) permite especificar el procedimiento al que se llamará cuando la aplicación necesite abrir una Resource identificada por una URL. En este ejemplo, se abre una ventana específica. 







### Generar una aplicación iOS
<a name="generar_una_aplicacion_ios_ELTPARAGRAPHE000075"></a>

La generación de aplicaciones iOS asistente incluye opciones específicas de Dynamic Island.
En "Configuración", seleccione "Incluir los archivos nativos necesarios para generar actividades en vivo para la interfaz de Dynamic Island.
Requiere Xcode 14.1 o posterior." para indicar que la aplicación debe incluir los archivos necesarios. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Dynamic_Island%20-%20HC%20N%B0003.gif&type=thumb)
 Especifique los nombres de las estructuras y archivos necesarios en el siguiente paso de asistente. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Dynamic_Island%20-%20HC%20N%B0004.gif&type=thumb)


Atención: Si esta opción está marcada, es necesario utilizar Xcode 14.1 o posterior. 




