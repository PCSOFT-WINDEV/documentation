


## Creación de un plan de acción
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000198"></a>
Los planes de acción agrupan todas las acciones que serán realizadas por la fábrica de software. Un editor de planes de acción se utiliza para definir fácilmente estas acciones. Se utiliza para definir automáticamente la secuencia de acciones a realizar. La creación de planes de acción se realiza desde WINDEV, WEBDEV o WINDEV Mobile.. 



## ¿Cómo proceder?
<a name="¿como_proceder_ELTTEXTE000222"></a>


### Creación de un plan de acción
<a name="creacion_plan_accion_ELTPARAGRAPHE000015"></a>

Para crear un plan de acción: 

1. Abrir el proyecto para el que se debe crear un plan de acción.. 
	**Observación**: Un plan de acción no es necesariamente relacionado para un proyecto, ya que puede ser utilizado por varios proyectos.. Sin embargo, un proyecto debe ser utilizado para crear un plan de acción. También tiene la posibilidad de crear un proyecto de "Plan de acción. 

2. Haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ico_nouveau.gif) en los botones de acceso rápido. 

	- La ventana para crear nuevos elementos se abre: haga clic en "Automatización" y luego en "Plan de acción".

	- La asistente para crear una configuración de proyecto se inicia automáticamente en el proyecto actual.




3. En la asistente, especifique: 

	- el nombre y la descripción del plan de acción. 

	- los elementos incluidos en el plan de acción. En la mayoría de los casos, no se debe incluir ningún elemento en el plan de acción.. Este plan le permite incluir elementos utilizados por una acción específica del plan de acción (procedimiento utilizado por una acción de WLanguage, por ejemplo).. 




4. Validar la creación de la configuración del proyecto. 

5. Se genera un plan de acción por defecto y se visualiza en el editor de planes de acción.. 

6. Guardar el plan de acción (Ctrl + S). El plan de acción corresponde a un fichero con extensión "wpa. El plan de acción se muestra en el explorador del proyecto. 





### Describir un plan de acción
<a name="describir_plan_accion_ELTPARAGRAPHE000037"></a>

El editor de los planes de acción es el siguiente: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Plan_Action_Description.gif)


**1**: Nombre del plan de acción. La opción "Descripción" de el menú contextual se utiliza para: 

- modificar el nombre del plan de acción. 

- especificar los parámetros del plan de acción. 


**2**: Lista de acciones que puede realizar el plan de acción. Para añadir una acción al plan de acción, todo lo que tienes que hacer es "soltar" una acción en la lista de acciones del plan.. La acción se incluirá en el lugar donde se encuentre el cursor del ratón cuando se suelte la acción.. 
El menú emergente de la acción se utiliza para: 

- Mostrar la ventana de descripción de la acción. Esta ventana se utiliza para especificar los parámetros necesarios (el nombre del proyecto a abrir, por ejemplo) y para gestionar los errores y las personas afectadas por el status reporte.. 

- Mover hacia arriba, mover hacia abajo o eliminar la acción. 


**3**: Lista de acciones que figuran en el plan de acción. 

**4**: Acción realizada si se produce un error. Este modo de operación se configuró en la ventana de configuración de la acción. 



## Características de las acciones
<a name="caracteristicas_las_acciones_ELTTEXTE000252"></a>


### Acción con parámetros
<a name="accion_con_parametros_ELTPARAGRAPHE000061"></a>

Una acción puede requerir parámetros. Por ejemplo, la acción llamada "Abrir un proyecto desde la SCM" requiere que el nombre del proyecto se abra. 

La definición de estos parámetros se realiza en la pestaña "General" de la ventana de descripción de la acción ("Descripción" de el menú contextual de la acción). 

Los parámetros se pueden definir: 

- Como valor "fijo: el valor se especifica directamente en el plan de acción. 

- Como parámetros pasados durante la ejecución del plan de acción. 


Este parámetro será necesario para ejecutar el plan de acción. 

Para que el nombre del proyecto se abra, debe ser especificado en el parámetro por el desarrollador. 

**Consejo**: Si es posible, los parámetros deben ser definidos al crear los planes de acción para que estos planes de acción puedan ser reutilizados para diferentes proyectos..  


### Gestión de los fallos y errores
<a name="gestion_los_fallos_errores_ELTPARAGRAPHE000079"></a>

Punto importante del plan de acción: definir el comportamiento si la acción falla. Ejemplo simple: qué hacer cuando se actualiza una ventana que ha sido comprobada en modo exclusivo por un desarrollador. 

Por defecto se selecciona el modo de gestión de errores más coherente con la acción.. También tiene la posibilidad de personalizarlo. Echemos un vistazo a los posibles modos de gestión de los errores: 

- **Stop la ejecución del plan de acción y grabar el error en el status reporte**.. 
	Este modo de gestión debe reservarse para los errores mayores, por ejemplo, un proyecto que no se abre....: no hay necesidad de intentar continuar. 

- **Ejecutar el proceso de error personalizado del plan de acción**.
	Este modo de gestión permite gestionar un mecanismo de error específico. Por ejemplo, enviar un SMS si se produce un error. 

- **Savega el error en el status reporte y continúa la ejecución**. 
	Este modo de gestión le permite continuar la ejecución del plan de acción incluso si se produce un error.. 
	Por ejemplo, si un componente no se actualiza (servidor offline, etc.), el plan de acción puede continuar. 

- **Guardar para información pero no generar ningún error**. 
	Por ejemplo, cuando la auditoría detecta que los archivos no utilizados se encuentran en el directorio del proyecto, no se trata de un error, pero puede ser importante disponer de la siguiente información.  




Si la acción falla, tiene la posibilidad de seleccionar una o más personas a las que informar (pestaña"Mensaje" de la ventana de descripción de la acción).. 

En cualquier caso, el propietario del plan de acción es informado del resultado de la ejecución (éxito o fracaso).. 

**Consejo**: Para obtener todos los errores potenciales de un proyecto, tiene la posibilidad de utilizar el modo "Grabar el error en el status reporte y continuar" y una acción específica: "Detener la ejecución si se produce un error". Por ejemplo, si no se realiza la sincronización de los modelos, se graba el error y el plan de acción continúa ejecutándose.. En el resto del plan de acción, si la recompilación detecta algunos errores de UI, estos errores serán almacenados. Por lo tanto, todos los errores del proyecto se encuentran en una sola ejecución del plan de acción..  

**Caso especial: Ejecución de un procedimiento en un plan de acción:**

Según el resultado del procedimiento, el plan de acción debe interrumpirse. En el procedimiento WLanguage se debe utilizar el siguiente código: 


```wl
IF bRes = False THEN
	sErrorMessage is string = "Error in XXX function" + CR + ... 
		ErrorInfo(errSystemMessage)
	ExceptionThrow(1, sErrorMessage)
END
```



### Acción específica: Ejecución de un plan de acción
<a name="accion_especifica_ejecucion_plan_accion_ELTPARAGRAPHE000113"></a>

Tiene la capacidad de ejecutar un plan de acción desde otro plan de acción.. 

Esta acción puede ser útil para compartir las operaciones comunes a los proyectos WINDEV, WEBDEV y WINDEV Mobile.. 

Por ejemplo, se puede utilizar un plan de acción específico para iniciar WINDEV, WEBDEV o WINDEV Mobile según un parámetro. Las acciones inútiles pueden ser desactivadas por [apDisableAction](../WDLang6/1000019620.md). 

En este caso: 

- El plan de acción contiene las 3 puestas en marcha de los productos. 

- El código de inicialización del plan de acción es el siguiente: 
	
	```wl
	SWITCH pProductName
		CASE ~= "WD"
			// We don't want to start WEBDEV or WINDEV Mobile
			apDisableAction(Start_WEBDEV)
			apDisableAction(Start_WINDEV_Mobile)
			
		CASE ~= "WB"
			// We don't want to start WINDEV or WINDEV Mobile
			apDisableAction(Start_WINDEV)
			apDisableAction(Start_WINDEV_Mobile)
			
		CASE ~= "WM"
			// We don't want to start WINDEV or WEBDEV
			apDisableAction(Start_WINDEV)
			apDisableAction(Start_WEBDEV)
			
		OTHER CASE
			ExceptionThrow(1, "This type of project is not associated with a product")
	END
	```






### Eventos de WLanguage asociados con un plan de acción
<a name="eventos_wlanguage_asociados_con_plan_accion_ELTPARAGRAPHE000132"></a>

Dos eventos asociados a un plan de acción: 

| Evento | Condición de ejecución |
| --- | --- |
| Inicialización del plan de acción | Ejecutar antes de la ejecución del plan de acción. |
| Fin del plan de acción | Ejecutar después de la ejecución del plan de acción. |





## Ejecución de la prueba de un plan de acción
<a name="ejecucion_prueba_plan_accion_ELTTEXTE000294"></a>
WINDEV le permite realizar un "Go" de un plan de acción para comprobar su modo de funcionamiento localmente, especialmente las acciones personalizadas que contienen código WLanguage.. 


