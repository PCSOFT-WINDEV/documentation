
## Enumeración y Combinación de ítems
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000222"></a>
WINDEV, WEBDEV y WINDEV Mobile proponen los tipos [Enumeración](../Motscles/1514067.md) y [Combinación](../Motscles/1514074.md). Los tipos se utilizan para gestionar conjuntos de valores. 

Esta página de ayuda explica: 

- [Cómo crear elementos de Enumeración y Combinación en el editor de análisis](#NOTE2). 

- [Cómo convertir un elemento existente al tipo Enumeración o Combinación](#NOTE3).




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Creación de elementos de Enumeración y Combinación en el editor de análisis
<a name="creacion_elementos_enumeracion_combinacion_editor_analisis_ELTTEXTE000246"></a>


### Creación de una posición de enumeración
<a name="creacion_una_posicion_enumeracion_ELTPARAGRAPHE000031"></a>

Para crear un elemento de Enumeración:

1. Cree un nuevo campo en la ventana de descripción de los campos del archivo de datos (opción "Descripción de los campos" en el menú contextual del archivo de datos en el editor. 

2. Elija el tipo "Enumeración, Combinación. 

3. En la pestaña "General" del elemento description, haga clic en el botón que se encuentra a la derecha del cuadro combinado "Tipo" y seleccione "Crear una nueva enumeración". <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=TypeRubEnumCombin%20-%20HC%20N%B0003.gif&type=thumb)


4. Aparece la ventana para editar una enumeración:<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=RubriqueEnumCombin2%20-%20HC%20N%B0001.gif)


	- Especifique el nombre de la enumeración.

- Añada valores (botón ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=RubriqueEnumCombinBoutonPlus.gif)) o escriba los valores en el tabla.

- Para cada valor, especifique (si es necesario) el valor associated o el alias (un alias es un valor de enumeración que tiene el mismo valor que otro valor de enumeración pero con un nombre diferente).




Esta enumeración puede ser usada como cualquier Enumeración Variable definida en el editor de código. Para obtener más información, consulte [El tipo Enumeración](../Motscles/1514067.md).

Observación: Si se definió una enumeración Variable en el editor de código, para usar este Variable en un ítem de análisis, esta enumeración debe ser recreada en el editor de análisis.
<a name="NOTE2_2"></a>


### Creación de una posición de combinación
<a name="creacion_una_posicion_combinacion_ELTPARAGRAPHE000058"></a>

Para crear una posición de combinación:

1. Cree un nuevo campo en la ventana de descripción de los campos del archivo de datos (opción "Descripción de los campos" en el menú contextual del archivo de datos en el editor. 

2. Elija el tipo "Enumeración,Combinación
	

3. En la pestaña "General" del elemento description, haga clic en el botón que se encuentra a la derecha del cuadro combinado "Tipo" y seleccione "Crear una nueva combinación".

4. Aparece la ventana para tratar una combinación:
	<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=RubriqueEnumCombin2%20-%20HC%20N%B0002.gif)


	- Especifique el nombre de la combinación.

- Añada valores (botón ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=RubriqueEnumCombinBoutonPlus.gif)) o escriba los valores en el tabla.

- Para cada valor, especifique (si es necesario) el valor associated o el alias.




Esta combinación puede ser usada como cualquier combinación Variable definida en el editor de código. Para obtener más información, consulte [El tipo de combinación](../Motscles/1514074.md).

Observación: Si se definió una combinación Variable en el editor de códigos, para usar este Variable en un elemento de análisis, esta combinación debe ser recreada en el editor de análisis.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## "Convertir" un elemento existente al tipo Enumeración o Combinación
<a name="convertir_elemento_existente_tipo_enumeracion_combinacion_ELTTEXTE000276"></a>
Si sus archivos de datos existentes utilizan elementos que deben transformarse en Enumeración o Combinación (para simplificar el mantenimiento del código, para evitar la asignación de valores no deseados, etc.), puede hacerlo:

- "convertir" el elemento existente en la Enumeración o Combinación Variable. Esta solución es estricta pero es compleja de implementar (especialmente si tiene archivos de datos en producción).

- usar un número entero o una cadena de caracteres para almacenar el valor o el nombre de los elementos que se encuentran en la enumeración o en la combinación. Esta solución es más fácil de implementar, pero no impide que se almacenen valores no deseados.. También se puede utilizar para almacenar un valor de enumeración o un valor de combinación en una base de datos que no sea en formato HFSQL (MySQL, Oracle,...) donde los tipos Enumeración y Combinación no están disponibles.





### "Convertir" un elemento en una Enumeración o Combinación Variable
<a name="convertir_elemento_una_enumeracion_combinacion_variable_ELTPARAGRAPHE000094"></a>

La "conversión" debe realizarse en varios pasos:

1. Añada un nuevo elemento de "Enumeración, Combinación" en la description del archivo de datos deseado (ver párrafos anteriores).

2. Modificar los archivos de datos físicos. Esta modificación se puede hacer:

	- desde el editor de análisis a través de la "Sincronización de la estructura y los datos desplegados". Utilice esta solución si puede acceder directamente a los archivos de datos desde el ordenador de desarrollo.

	- mediante la programación a través de [HModifyStructure](../WDLang4/1000019439.md). Utilice esta solución si no puede acceder a los archivos de datos (aplicaciones implementadas, por ejemplo).




3. Rellene el nuevo elemento Enumeración o Combinación a partir del contenido de un entero de origen o de un elemento de cadena.. Sólo tiene que utilizar [EnumerationFromValue](../WDLang1/1000020768.md) o [CombinationFromValue](../WDLang1/1000020770.md). Esta función devuelve la opción de enumeración o combinación a partir de un valor dado.
	Atención: se debe haber definido un valor para cada opción de la enumeración o combinación. Si el nombre de la opción representa el valor, utilice [EnumerationFromName](../WDLang1/1000020769.md) o [CombinationFromName](../WDLang1/1000020771.md).
	
	```wl
	// If the Status item (integer) contains a valid value for the enumeration
	IF EnumerationCheckValue(EOrderStatus, Order.Status) THEN
		// Fills the Enumeration item with the corresponding value
		Order.EnumStatus = EnumerationFromValue(EOrderStatus, Order.Status)
		// Modifies the record
		HModify(Order)
	END
	```


4. Eliminar el número entero o la cadena de caracteres anterior.

5. Renombrar (si es necesario) el nuevo elemento con el nombre del anterior.





### Usando un número entero o una cadena de caracteres
<a name="usando_numero_entero_una_cadena_caracteres_ELTPARAGRAPHE000127"></a>

También puede utilizar una enumeración o combinación sin modificar su análisis actual. Puede almacenar el valor o el nombre de la opción de enumeración o combinación en un número entero o en la cadena Variable.

En este caso, las conversiones se realizan durante las operaciones de lectura y escritura mediante las funciones WLanguage.

Por ejemplo, para la siguiente enumeración:

```wl
// Enumeration with associated values
EOrderStatus is Enumeration
	WaitingForValidation = 1
	Prepared = 2
	Shipped = 3
	InDelivery = 4
	Delivered = 5
END
```


El status del pedido puede almacenarse en una posición cuya clase es:

- integer: en este caso, el valor de la opción (1, 2, ...) será almacenado,

- cadena de caracteres: en este caso, se almacenará el nombre de la opción (WaitingForValidation, Prepared, ...).


Atención: por Default, si no se define explícitamente ningún valor para las opciones, el valor de la opción será equivalente a su nombre.

Para recuperar la enumeración o la combinación del elemento, utilice las siguientes funciones de WLanguage:

- [EnumerationFromValue](../WDLang1/1000020768.md)o [EnumerationFromName](../WDLang1/1000020769.md) para una enumeración.

- [CombinationFromValue](../WDLang1/1000020770.md)o [CombinationFromName](../WDLang1/1000020771.md) para una combinación.




Por ejemplo: 


```wl
// Reads the desired record
HReadFirst(Order)
// Defines an Enumeration variable
eMyOrder is EOrderStatus
// Retrieves the enumeration from the item
eMyOrder = EnumerationFromValue(EOrderStatus, Order.OrderStatus)
```


Para asignar un elemento de una enumeración o de una combinación, tiene la posibilidad de especificar directamente la Enumeración o Combinación Variable. Esto permite asignar directamente el valor definido para la opción (equivalente a [Valor](../Motscles/1514067.md)).


```wl
// Defines an Enumeration variable
eMyOrder is EOrderStatus
// Applies a value to the variable
eMyOrder = WaitingForValidation
// Assigns the Enumeration variable to the item
// Equivalent to Order.OrderStatus = eMyOrder.Value
Order.OrderStatus= eMyOrder
```


Para almacenar el texto de la opción, se puede utilizar el [denominar](../Motscles/1514067.md) Property.


```wl
// Stores the name of the option in the item
Order.OrderStatus= eMyOrder..Name
```



