


## Registro de ejecución
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000306"></a>
El registro de tiempo de ejecución es la mejor manera de identificar las características más utilizadas de una aplicación. El log de tiempo de ejecución es un log de tiempo de ejecución. Este registro es un archivo simple que contiene los detalles de todas las operaciones realizadas por un usuario en una aplicación WINDEV o WINDEV Mobile o en un sitio WEBDEV:

- detalles sobre los procesos llamados, 

- WLanguage con sus parámetros, 

- procedimientos de usuario con sus parámetros, 

- hilos, 

- componentes.




Este archivo le permite:

- analizar el rendimiento de la aplicación.

- identificar las acciones más frecuentes en la aplicación.

- determinar qué procesos llevan más tiempo.

- seguir el código que se ejecuta durante una Process que desencadena problemas (difícil de aislar en modo de prueba).




El equipo de desarrollo entiende qué partes de la aplicación son las que se utilizan con más frecuencia y puede centrar sus recursos en el código para optimizarlo.

Observación: Hasta la versión 27, el registro en tiempo de ejecución era un archivo ".wlog. A partir de la versión 28, el registro de ejecución contiene un archivo ".wxl", un archivo ".ndx" y un archivo ".mmo".

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Implementación
<a name="implementacion_ELTTEXTE000330"></a>


### Activación del log de tiempo de ejecución
<a name="activacion_del_log_tiempo_ejecucion_ELTPARAGRAPHE000037"></a>

La activación del log de tiempo de ejecución se puede realizar: 

- en la aplicación directamente, **a través de la programación**. 

- ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) sin modificar la aplicación, **a través de un archivo específico**





### Activación en la aplicación directamente a través de la programación
<a name="activacion_aplicacion_directamente_traves_programacion_ELTPARAGRAPHE000047"></a>

Esta activación la realiza [dbgEnableLog](../WDLang1/1000017137.md). Se utilizan varias funciones de WLanguage para gestionar el log de tiempo de ejecución:


|   |   |
| --- | --- |
| [dbgEnableLog](../WDLang1/1000017137.md) | Permite la gestión del log de tiempo de ejecución. |
| [dbgLogOption](../WDLang1/1000017136.md) | Le permite conocer y modificar las opciones del registro de tiempo de ejecución. |
| [dbgLogStatus](../WDLang1/1000017138.md) | Permite conocer y modificar el estado del tiempo de ejecución Log( activado, desactivado, en pausa). |


![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) 

### Activación sin modificar la aplicación, a través de un fichero específico
<a name="activacion_sin_modificar_aplicacion_traves_fichero_especifico_ELTPARAGRAPHE000073"></a>Para ello, cree un archivo denominado .WX junto al ejecutable de la aplicación. Este archivo debe contener las siguientes líneas:


```txt
[LOG]
Active=<0/1>
File=<Name of the log file>
Option=<Value of options>
```


Estudiemos estas líneas:

- **Active**: Este parámetro debe corresponder a 0 para deshabilitar el registro y a 1 para habilitarlo.

- **Archivo**: Nombre del archivo de registro. Este nombre se puede construir con los siguientes elementos: 
	


|   |   |
| --- | --- |
| [%ExeDir%] | Directorio del ejecutable, siempre rellenado con el carácter "\\".. Este directorio es equivalente al resultado de [fExeDir](../WDLang1/3036049.md). |
| [%exeName%] | Nombre del ejecutable. |
| [%Fecha%] | Fecha de inicio del archivo de registro. |
| [%Hora%] | Hora de inicio del archivo de registro. |
| [%NombreUsuario%] | Nombre del usuario actual. |
| [%NombreDeLaComputadora%] | Nombre del ordenador. |
| [%DataDir%] | Directorio de los archivos de datos HFSQL especificados por el usuario al instalar la aplicación. Este directorio es equivalente al resultado de [fDataDir](../WDLang1/3036001.md). |
| [%DirUserData%] | Directorio para los datos del usuario actual de la aplicación actual. Este directorio es equivalente al resultado de [fDataDirUser](../WDLang1/3036071.md). |



- **Opción**: Opciones del archivo de registro.

	- Si no se especifican las opciones en el archivo WX (falta la línea OPTION), se crea el archivo de registro con las opciones de Default: sólo las funciones WLanguage se encuentran en el archivo de registro.

	- "" (cadena vacía): En el log sólo se almacenan los procesos.

	- "\*": el log contiene toda la información.

	- una combinación de valores:

		- "+F" para activar la traza de las funciones,

		- "+P" para activar la traza de los parámetros.





<a name="NOTE2_2"></a>


### Consejos
<a name="consejos_ELTPARAGRAPHE000177"></a>

Dependiendo del propósito del log de tiempo de ejecución, su implementación así como las opciones pueden cambiar:

- Para conocer las opciones más utilizadas de una aplicación, le recomendamos que utilice una simple Log( de tiempo de ejecución sin los detalles de las funciones llamadas). Cuantas más opciones solicite, mayor será el registro de tiempo de ejecución.. 
	![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) Puede activar los registros de tiempo de ejecución con el archivo ".WX".

- Para localizar un problema difícil de reproducir, recomendamos que utilice las funciones WLanguage para implementar el log de tiempo de ejecución.. El registro de tiempo de ejecución se habilitará al principio de la sección que está causando el problema.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Visualización del log de tiempo de ejecución
<a name="visualizacion_del_log_tiempo_ejecucion_ELTTEXTE000372"></a>
Para ver el registro de ejecución: 

1. Abra el proyecto deseado en el editor: el proyecto actual debe ser la aplicación o uno de los componentes utilizados por la aplicación. Sólo se mostrará la información relativa al proyecto actual.

2. Abra el archivo de registro de tiempo de ejecución en el editor WINDEV, WEBDEV o WINDEV Mobile:

	- arrastrando el archivo ".wxl" o ".wlog" y soltándolo en la ventana o el editor de páginas (en las pestañas abiertas de Document, por ejemplo).

	- abriendo directamente el archivo ".wxl" o ".wlog. 
			Recordatorio: Para abrir un archivo desde el editor, en la pestaña "Inicio", en el grupo "General", despliegue "Abrir" y seleccione el archivo deseado.




3. Seleccione los datos que desea ver. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Log_ex%E9cution%20-%20HC%20N%B0001.gif&type=thumb)




<a name="NOTE3_2"></a>


### Información mostrada
<a name="informacion_mostrada_ELTPARAGRAPHE000220"></a>

Se puede visualizar la siguiente información del registro de tiempo de ejecución:

- **Información general sobre el archivo de registro**: nombre, aplicación, fecha y hora de inicio, fecha y hora de finalización.

- Analizar el rendimiento a partir de un registro de ejecución: Muestra la actividad de la aplicación durante su uso. El gráfico utiliza dos estados: El nivel alto representa el tiempo de Active y el nivel bajo representa el tiempo de inactividad. Para cada nivel superior, es posible visualizar los procedimientos ejecutados y los detalles de las funciones WLanguage utilizadas. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Log_ex%E9cution%20-%20HC%20N%B0002.gif&type=thumb)
Para obtener más información, consulte [Perfilador de rendimiento en tiempo real (RTPP)](../Editeurs/9500237.md). 

- **Elementos más utilizados**: se muestran diferentes pestañas: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Log_ex%E9cution%20-%20HC%20N%B0004.gif&type=thumb)


	- ***Estadísticas de elementos***: Muestra los elementos más utilizados de su proyecto, con su tiempo de uso y el número de procesos realizados.. La selección de un elemento le permite: 
			- ver las ubicaciones desde las que se utiliza un elemento (en la sección inferior de la pantalla)
			- ver los elementos en el editor (botón "Mostrar el elemento")
			- acceder a las estadísticas de Process es (botón "Estadísticas Process").

- ***Process estadísticas***: Muestra las estadísticas de tiempo por Process. También puede filtrar la información sobre un elemento específico del proyecto. 
			El motivo de la llamada se muestra en la parte inferior de la pantalla (acción del usuario, etc.). Se puede ver la secuencia de la llamada para el elemento seleccionado (botón "Secuencia de llamadas"). 
			El botón "Mostrar el código Process" permite visualizar el código WLanguage correspondiente en el editor de código. Por favor, note que la ventana de registro esté siempre en primer plano.

- ***Secuencia de llamadas***: Muestra la secuencia de procesos realizados en el código seleccionado. Se visualizan los detalles de las funciones utilizadas. 
			Se puede visualizar información adicional en la parte inferior de la pantalla: Parámetros de la Procedure, resultado, ...
			El botón "Mostrar el código de llamada" permite visualizar el código de llamada. El botón "Recenter on Process" permite visualizar el código del Process actual.

- **Registro de llamadas**: Se utiliza para ver todas las llamadas a los procedimientos y funciones de WLanguage. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Log_ex%E9cution%20-%20HC%20N%B0003.gif&type=thumb)
 Se puede visualizar información adicional en la parte inferior de la pantalla: parámetros de la Procedure, resultado, ...
	El botón "Mostrar el código Process" muestra el código WLanguage correspondiente en el editor de código. Por favor, note que la ventana de registro esté siempre en primer plano.

- **Hilos**: Le permite seleccionar la el hilo que desea analizar y muestra la secuencia de llamadas para esa thread.<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Log_ex%E9cution%20-%20HC%20N%B0006.gif&type=thumb)






