


## Creación de las páginas de relaciones de un patrón WEBDEV RAD
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Los pasos para crear un patrón RAD
<a name="los_pasos_para_crear_patron_rad_ELTTEXTE000264"></a>
Los diferentes pasos para crear un patrón WEBDEV RAD son los siguientes:

1. [Creación del proyecto "RAD Pattern](../Editeurs/2031021.md).

2. Creación de las diferentes páginas del patrón.

	- [Página de formulario](../Editeurs/2031031.md).

	- [Página de la tabla](../Editeurs/2031032.md).

	- **Página de relaciones**.

	- [Botones y páginas de Vision Plus](../Editeurs/2031035.md).

	- [Menús](../Editeurs/2031034.md).




3. [Generación del patrón RAD](../Editeurs/2031023.md).

4. [Usando el patrón RAD](../Editeurs/2031024.md).




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## ¿Qué páginas deben crearse?
<a name="¿que_paginas_deben_crearse_ELTTEXTE000288"></a>


### Los ficheros a crear
<a name="los_ficheros_crear_ELTPARAGRAPHE000043"></a>

Recordatorio: Para construir un patrón RAD utilizado para crear un proyecto completo, se requieren los siguientes archivos:

- Un formulario para RADFileA.

- Un formulario para RADFileB. Un botón Vision Plus (o un cuadro combinado emergente) debe permitirle seleccionar un elemento de RADFileA.

- Un formulario para RADFileC. Un botón Vision Plus (o un cuadro combinado emergente) debe permitirle seleccionar un elemento de RADFileB.

- Una tabla para RADFileA.

- Una tabla para RADFileB.

- Un tabla para RADFileC.

- Una página de relación RADFileB/RADFileD.




El menú principal del sitio puede ser incluido en el modelo associated con las páginas.
<a name="NOTE2_2"></a>


### Estándar a seguir
<a name="estandar_seguir_ELTPARAGRAPHE000060"></a>

Esta página de ayuda presenta las reglas que se aplican al crear las páginas del Patrón RAD. Estas reglas se han utilizado para crear los diferentes patrones suministrados con WEBDEV 16.

Estas reglas son recomendaciones. Puede implementar y utilizar su propio estándar.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Las páginas de relación
<a name="las_paginas_relacion_ELTTEXTE000318"></a>


### Presentación
<a name="presentacion_ELTPARAGRAPHE000071"></a>

Las páginas de relación se utilizan para mostrar simultáneamente información procedente de varios archivos. En un ejemplo sencillo, este tipo de página se utilizaría para mostrar los pedidos y las líneas de pedido correspondientes.. Este tipo de página puede ser Formulario + Tabla.

Una página Formulario + Tabla agrupa los elementos de los formularios y los elementos de las tablas..  

El formulario incluye los siguientes elementos:

- A supercontrol: Este supercontrol contiene los controles del formulario a mostrar. Este supercontrol es relacionado al archivo a mostrar.

- Botones Atrás y Validar. 




La tabla incluye los siguientes elementos:

- Una tabla: Esta tabla es una tabla de navegación.

- Botones utilizados para realizar las acciones principales: Agregar, modificar, eliminar.




Se debe crear una sola página de relación en el patrón RAD: enlaza RADFileB con RADFileD.

**Ejemplo**: Página de relaciones en el patrón RAD simple: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Pattern_RAD_WWRelation.gif)

<a name="NOTE3_2"></a>


### Creación de una página de relaciones
<a name="creacion_una_pagina_relaciones_ELTPARAGRAPHE000095"></a>

Para crear una página de relaciones: 

1. Haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ico_nouveau.gif) en los botones de acceso rápido. 

	- Aparece la ventana de creación: haga clic en "Página", y luego en "Página".

	- El asistente de creación de páginas se abre automáticamente.

	- Seleccione "En blanco" y valide. 




2. En la ventana de description, introduzca el nombre de la página. Este nombre debe contener necesariamente el nombre del fichero visualizado en el formulario (algunos ejemplos: PAGE_Relation_RADFileA, PAGE_Rel_RADFileA, ....).
	Observación: Si desea indicar el nombre del archivo actual al usuario, utilice el nombre del archivo (RADFileA por ejemplo) en una leyenda. El término RADFileX será reemplazado automáticamente por el título del archivo descrito en el análisis.

3. Guardar la página.

4. La página debe estar dividida en dos secciones:

	- una sección de formulario: las características del formulario en RADFileB se mostrarán en esta sección.

	- a Tabla de la sección: las características de la tabla en RADFileD se mostrarán en esta sección. Los botones se utilizan para gestionar los registros que se encuentran en la tabla.








### Creación de la sección Formulario
<a name="creacion_seccion_formulario_ELTPARAGRAPHE000116"></a>

Para crear la sección Formulario: 

1. Crear un supercontrol en la página: en la pestaña "Creación", en el grupo "Contenedores", haga clic en "Supercontrol". Este supercontrol mostrará los controles que se encuentran en el formulario. Coloque esta control en la página y defina su tamaño. Las barras de desplazamiento se mostrarán automáticamente si algunos de los controles no caben en el tamaño especificado.

2. En la ventana del supercontrol description, especifique el nombre del supercontrol. Este nombre debe ser SC_Form_ (SC_ es el prefijo definido en el estilo de código: no es necesario si no se utiliza un estilo de código). Por ejemplo: SC_Form_RADFileB.

3. En la pestaña "Contenido" de la ventana del supercontrol description, especifique:

	- el archivo navegado: RADFileB.

	- el artículo consultado: IDRADFileB.




4. Asignar el supercontrol a un grupo (botón "Grupos..." en la pestaña "Detalles" del supercontrol description). Este grupo le permite cambiar los controles de formulario al modo de visualización en el código de inicialización de la página.. Este grupo puede llamarse "GR_FormSection" por ejemplo.





### Creación de la sección Tabla
<a name="creacion_seccion_tabla_ELTPARAGRAPHE000141"></a>

Para crear la sección Tabla:

1. Crear un control Tabla en la página: en la pestaña "Creación", en el grupo "Datos", despliegue "Tabla" y seleccione "Tabla".

2. En la creación de tabla asistente, especifique las siguientes características:

	- Seleccione "Mostrar los datos de un fichero o de una consulta".

	- Seleccione el fichero base de la tabla: RADFileD.

	- Conserve los artículos propuestos. La clave de búsqueda es IDLinkedRADFileB.

	- Validar el nombre de la tabla.




3. Posicione la control Tabla en la página y defina su tamaño. Las columnas correspondientes a los identificadores pueden ser Invisible si es necesario.





### Crear botones
<a name="crear_botones_ELTPARAGRAPHE000167"></a>

Para crear los diferentes botones:

1. Crear y posicionar los botones utilizados para gestionar los registros mostrados en el tabla. Estos botones pueden tener cualquier nombre. 
	Le aconsejamos que incluya:

	- un botón para añadir un fila,

	- un botón para borrar una fila,

	- un botón para validar y volver a la página anterior.




2. ***Botón de adición*** (botón "Agregar Añadir una fila" por ejemplo).
	Este botón puede usarse para añadir un Record en el tabla. El código del botón Agregar puede ser: 
	
	```wl
	// Initialize the new record
	HReset(RADFileD)
	
	// Assign the identifier of RADFileB 
	// in the corresponding item of RADFileD file
	RADFileD.IDLinkedRADFileB = RADFileB.IDRADFileB
	
	// Add the record
	HAdd(RADFileD)
	
	// Update the table
	TableDisplay(TABLE_RADFileD)
	
	CASE ERROR:
		Error("An error occurred during the addition.", HErrorInfo())
		RETURN
	```

	En el código del botón de adición, le aconsejamos que habilite la gestión de errores de automatic ("Si el error: ", con el automatic Process "Ejecutar el error Process ("CASE ERROR:" en el código)").
	

3. ***Botón de eliminación*** (botón "Eliminar una fila" por ejemplo).
	Este botón puede ser usado para borrar un Record seleccionado del tabla por ejemplo. 
	El código del botón Borrar puede ser:
	
	```wl
	// If the deletion is confirmed, delete the table row and
	// the corresponding record from the RADFileD file
	IF YesNo("Do you want to delete the record?") THEN 
		// Delete the record from the table
		 TableDelete(TABLE_RADFileD)
		// Position on the current record
		 TableDisplay(TABLE_RADFileD, taCurrentFirst)
	END
	
	CASE ERROR:
		 Error("An error occurred during the deletion.", HErrorInfo())
		 RETURN
	```

	En el código del botón de borrado, le aconsejamos que active la gestión de errores de automatic ("Si el error: ", con el automatic Process "Ejecutar el error Process ("CASE ERROR:" en el código)").

4. Caso de ***botón para volver*** (botón"Atrás" por ejemplo).
	
	```wl
	// Are we coming from a page?
	IF PreviousPage() = "" THEN
		// Yes, display this page
		PageDisplay(PreviousPage())
	ELSE
		// No, go back to the home page
		PageDisplay(PAGE_Home) 
	END
	```

	**Observación**: Este código requiere la presencia de una página llamada "PAGE_Home" en el patrón RAD. Esta página puede ser la página de inicio del sitio y puede contener el menú principal del sitio.. Para obtener más información, consulte [Página de menú](../Editeurs/2031034.md).

5. Introduzca el código de declaración de las variables globales de la página. Ejemplo:
	
	```wl
	// Display the records 
	FileToPage()
	
	// Filter for the table of RADFileD
	HFilter(RADFileD,IDRADFileBRel,RADFileB.IDRADFileB)
	
	// The form section is read-only
	GR_FormSection..State = DisplayOnly
	```

	Este código permite:

	- visualizar el valor de los registros en el formulario y en el tabla

	- cambiar los controles de la ficha a modo "Solo lectura".




6. Introduzca el código de cierre de la página. Este código se utiliza para desactivar el filtro:
	
	```wl
	// Disables the filter
	HDeactivateFilter(RADFileD)
	```






