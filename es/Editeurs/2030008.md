


## ¿Cómo crear un parche?
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Creación de un parche
<a name="creacion_parche_ELTTEXTE000227"></a>
Para crear un parche de aplicación: 

1. Realice las modificaciones necesarias en su aplicación.

2. En la pestaña "Proyecto", en el grupo "Generación", despliegue "Patch" y seleccione "Crear un patch de biblioteca".

3. Especifique los elementos a incluir en el nuevo parche (ventanas, informes,...). También es posible:

	- **Añadir elementos** (botón"Añadir"): 
			Cualquier tipo de archivo puede ser añadido a la lista de elementos insertados en el parche.: imágenes, archivos de texto, etc.

	- **Crear el parche de una biblioteca existente description** (botón "WDU"). 
			Al crear una biblioteca WINDEV, se crea automáticamente un archivo ".WDU" con el mismo nombre.. Este archivo contiene todas las referencias de los elementos incluidos en la biblioteca.
			El número de parche está especificado por Default. Se puede modificar.
			Todos los elementos ya encontrados en un parche creado de antemano se seleccionan automáticamente.
			Si ya se han creado parches, se pueden reiniciar (borrar el historial) ([ Reiniciar parches]). En este caso, el parche creado actualmente será el parche número 1.




4. Si es necesario, introduzca una description de las modificaciones realizadas por este parche. Esta description aparecerá cuando se gestione la historia de los diferentes parches realizados de un proyecto.

5. Para instalar el parche, todo lo que tienes que hacer es copy en el directorio de la aplicación.
	También puede generar una instalación del patch (seleccione la opción "Generar una instalación"). Se creará un ejecutable autoextraíble a partir del parche creado actualmente..
	En este caso, puede especificar:

	- un archivo para mostrar antes de extraer el parche,

	- un archivo para mostrar después de extraer el parche,

	- para una aplicación multilingüe, la ruta del fichero TXT que contiene la traducción de la interfaz para la autoextracción. Para obtener más información, consulte [Observaciones](#NOTE5_1).




6. Validar. El parche de aplicación se crea en el subdirectorio PATCH del directorio actual del proyecto, así como en el subdirectorio EXE del proyecto. El nombre del archivo tiene el siguiente formato: ***&lt;Nombre del proyecto&gt;.WDL.001*** donde 001 corresponde al número de versión del parche. Renombrar &lt;Nombre del proyecto&gt; con el nombre de la biblioteca sólo si el nombre del proyecto difiere del nombre de la biblioteca.




Si se solicitó un ejecutable autoextraíble, éste se genera en el directorio PATCH y su nombre tiene el siguiente formato: 
***&lt;Nombre del proyecto&gt;.001.EXE*** donde 001 corresponde al número de versión del parche.

**Observación: Parche que contiene clases**: Si su parche contiene una clase, el código de declaración de la clase no debe modificarse en relación con la versión utilizada con el ejecutable.. El código de declaración debe ser idéntico: mismos miembros, mismas estructuras, mismo orden de declaración. De lo contrario, el ejecutable debe volver a crearse.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Historia de los parches
<a name="historia_los_parches_ELTTEXTE000251"></a>


### Visualización del historial de parches realizados desde un proyecto
<a name="visualizacion_del_historial_parches_realizados_desde_proyecto_ELTPARAGRAPHE000073"></a>

Para ver el historial de parches realizados desde un proyecto: 

1. En la pestaña "Proyecto", en el grupo "Generación", despliegue "Patch" y seleccione "Historial de los patches de bibliotecas".

2. Para cada parche creado, puedes ver los elementos del parche y el correspondiente description.



<a name="NOTE2_2"></a>


### Reiniciar los parches (borrar el historial) realizados desde un proyecto
<a name="reiniciar_los_parches_borrar_historial_realizados_desde_proyecto_ELTPARAGRAPHE000095"></a>

Para reiniciar los parches (borrar el historial) realizados desde un proyecto: 

1. En la pestaña "Proyecto", en el grupo "Generación", despliegue "Patch" y seleccione "Historial de los patches de bibliotecas".

2. Haga clic en el botón "Reiniciar.  




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Instalar un parche
<a name="instalar_parche_ELTTEXTE000281"></a>


### Para instalar un parche
<a name="para_instalar_parche_ELTPARAGRAPHE000119"></a>

**Si no se creó un archivo de instalación**: copy el archivo correspondiente al parche en el directorio de la aplicación (directorio que contiene la biblioteca de la aplicación).

**Si se creó un archivo instalación**: ejecutar el archivo correspondiente al ejecutable autoextraíble en el ordenador del usuario y extraer el parche en el directorio de la aplicación (directorio que contiene la biblioteca de aplicaciones).

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Parche y red instalación
<a name="parche_red_instalacion_ELTTEXTE000305"></a>


### Parche y red instalación
<a name="parche_red_instalacion_ELTPARAGRAPHE000130"></a>

Los parches se pueden utilizar con una red instalación.

Para ello, copie los archivos correspondientes al parche (o instálelos mediante el instalador de parches) en un subdirectorio "PATCH" del directorio "INSTALL" de la aplicación reference.

Los parches se recuperarán automáticamente cuando se inicie la aplicación cliente.

**Observación**: Este método no está soportado para una red instalación vía HTTP.

<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Notas
<a name="notas_ELTTEXTE000329"></a>


### Traducir la interfaz para la autoextracción
<a name="traducir_interfaz_para_autoextraccion_ELTPARAGRAPHE000145"></a>La interfaz del programa autoextraíble puede utilizar un lenguaje distinto al lenguaje Default (inglés).<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Zipcreeexe.gif)
 Para ello, cree un archivo .TXT con la siguiente información:


```txt
[GENERAL]
NATIONDEFAUT=1
[WDAUTOEX01]
R000=Self-extracting PC SOFT archive
R001=Extract the content of the archive in the directory:
R002=Keep the tree structure
R003=Extract
R004=Close
```


Por ejemplo, a get una interfaz en francés:


```txt
[GENERAL]
NATIONDEFAUT=1
[WDAUTOEX01]
R000=Archive Autoextractible PC SOFT
R001=Extraire le contenu de l'archive dans le repertoire:
R002=Conserver l'arborescence 
R003=Extraire
R004=Fermer
```
**Atención**: Las primeras tres líneas de este archivo no deben ser modificadas.

En las siguientes líneas, especifique la traducción deseada.
<a name="NOTE5_2"></a>


### Creación de un nuevo ejecutable
<a name="creacion_nuevo_ejecutable_ELTPARAGRAPHE000163"></a>

Una vez que se han creado varios parches, si crea un nuevo ejecutable que tenga en cuenta todos los parches diferentes, puede eliminar los parches que se crearon anteriormente y que ahora son inútiles.

Cuando se crea un nuevo parche en este nuevo ejecutable, debe respetar la numeración de los parches propuestos por WINDEV.. El número de parche no se puede reiniciar (véase el párrafo siguiente).
<a name="NOTE5_3"></a>


### Reiniciar el número de parche a 1
<a name="reiniciar_numero_parche_1_ELTPARAGRAPHE000172"></a>

Un parche de aplicación se utiliza para aplicar modificaciones a un ejecutable o a una biblioteca sin tener que reinstalar la aplicación.. Esta es una operación de mantenimiento que es fácil, ligera y rápida.

Por cada nuevo parche, se incrementa un número de generación y se almacena en el historial.. Este número de parche y este historial impiden que la aplicación aplique parches obsoletos.

**Por lo tanto, no se pueden reiniciar.**

Sin embargo, WINDEV le permite asignar un número específico a un parche para corregir los posibles errores de mantenimiento.


