


## Cambiar una aplicación a 64 bits
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000267"></a>
Los ordenadores modernos (servidores y ordenadores de sobremesa) están equipados con sistemas operativos de 64 bits. 

La principal diferencia entre un sistema de "32 bits" y uno de "64 bits" es la siguiente: en "64 bits", las aplicaciones y el sistema ya no tienen limitaciones de asignación de memoria. 

En las configuraciones de "32 bits", el sistema operativo está limitado a 4 GB, mientras que en las de "64 bits", casi no hay límite (18.000 millones de GB). 

**Modo de funcionamiento de las aplicaciones de 32 bits**:

- Las aplicaciones WINDEV de 32 bits funcionan en un sistema operativo de 64 bits sin modificaciones: ejecutable, instalación, ... 

- Las aplicaciones de 32 bits que se ejecutan en un sistema de 64 bits se indican en el administrador de tareas. Estas aplicaciones no se interrumpen ni se ejecutan en modo de compatibilidad.: están sujetas a las limitaciones de memoria de las aplicaciones de 32 bits. Esta limitación no es una limitación para la mayoría de las aplicaciones estándar.. 




**Observación**: Todos los proyectos creados con WINDEV 28 y posteriores estarán en modo 64 bits por Default.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## ¿Cómo proceder?
<a name="¿como_proceder_ELTTEXTE000291"></a>


### Condición previa
<a name="condicion_previa_ELTPARAGRAPHE000032"></a>

- Determinar qué ordenadores de usuario ejecutan sistemas operativos de 32 y 64 bits.. 
	Atención: Las aplicaciones de 64 bits no pueden ejecutarse en un sistema de 32 bits. 

- Comprobación de dependencias de aplicaciones de 32 bits. ¿La aplicación utiliza alguno de los siguientes elementos? ¿Está disponible en 64 bits?: 

	- un ActiveX control,

	- una base de datos externa: debe asegurarse de que dispone de un Conector Nativo de 64 bits.

	- el ordenador del usuario debe disponer de una biblioteca cliente de 64 bits para conectarse a la base de datos externa,

	- una API de Windows o una dll,

	- un ensamblado .NET,

	- aplicaciones externas (automatización OLE). Si la aplicación utiliza Word, Excel, LibreOffice, etc..: debe asegurarse de que las versiones de 64 bits de estas aplicaciones externas están instaladas en los ordenadores de los usuarios.










### Cambiar una aplicación WINDEV a 64 bits
<a name="cambiar_una_aplicacion_windev_64_bits_ELTPARAGRAPHE000048"></a>

Para cambiar una aplicación WINDEV de 32 a 64 bits: 


1. Abra el proyecto WINDEV de 32 bits en el editor. 

2. Crear una nueva configuración de proyecto: en la pestaña "Proyecto", en el grupo "Configuración del proyecto", expanda "Nueva configuración", seleccione "Windows executable", y luego seleccione "64-bit". El asistente de creación de nuevas configuraciones de proyecto se abre. 

3. En el asistente: 

	- Especifique el nombre de la configuración del proyecto. Elija un nombre explícito porque este nombre se utilizará para crear el directorio de generación de los ficheros afectados por la configuración del proyecto.. 

	- Seleccionar los elementos (ventanas, consultas,...) de esta nueva configuración. En un caso estándar, se deben seleccionar todos los elementos de la aplicación de 32 bits. 
			Observación: Los elementos del proyecto se compartirán entre las dos configuraciones. 

	- Valide el asistente. 




4. La configuración del proyecto se crea automáticamente. 
	Para más detalles sobre cómo crear y gestionar las configuraciones de los proyectos, véase [Configuraciones de proyecto](../Editeurs/9000030.md). 




Si su ordenador de desarrollo está en modo de 64 bits, tiene la posibilidad de ejecutar la prueba de la aplicación de 64 bits mediante la opción "GO" de 64 bits. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=GO_64bits_Menu_18.gif)


**Observaciones**: 

- Creación de una aplicación de 64 bits solamente: Tiene la posibilidad de definir que una aplicación es de "64 bits" al crear el proyecto. Sin embargo, esta solución es más complicada porque una aplicación de "64 bits" no funciona en un sistema de "32 bits", sino sólo en uno de "64 bits".

- Si ha creado un proyecto para una aplicación de 64 bits únicamente, también puede crear una configuración de proyecto específica para el modo de 32 bits.  



<a name="NOTE3_2"></a>


### Modo de gestión de errores de compilación
<a name="modo_gestion_errores_compilacion_ELTPARAGRAPHE000092"></a>

- Para las aplicaciones y servicios (Windows o Linux) en modo de 32 bits, los errores de compilación de 64 bits están deshabilitados.. 

- Para las aplicaciones y servicios (Windows o Linux) en modo de 64 bits, los errores de compilación de 64 bits siempre están habilitados.. 

- Para los componentes, bibliotecas y Webservices, los errores de 64 bits siempre están habilitados.. 



<a name="NOTE3_3"></a>


### Errores de compilación específicos del modo de 64 bits
<a name="errores_compilacion_especificos_del_modo_64_bits_ELTPARAGRAPHE000101"></a>

Si la aplicación de "32 bits" utilizaba API de Windows o DLL externas, la transformación al modo de "64 bits" puede generar errores de compilación. Estos errores de compilación son específicos del modo "64 bits. 

El error más común consiste en utilizar un "entero" Variable para almacenar una memoria Address.
 
En las máquinas de 64 bits, los punteros ocupan 8 bytes de memoria, mientras que en las máquinas de 32 bits, ocupan 4 bytes.
 
En este caso, si se utiliza un número entero "estándar", la aplicación puede acceder a una memoria truncada Address, por lo tanto a una Address no válida . 

Para evitar este problema, basta con utilizar el tipo de lenguaje WLanguage [System int](../Motscles/1514049.md): este tipo usa un entero de 8 bytes en 64 bits y un entero de 4 bytes en 32 bits.

**Consejos**: 

- No olvide comprobar que las API utilizadas existen en modo "64 bits".. Y asegúrese de que la DLL no tiene un nombre diferente en modo "64 bits" y que su modo de funcionamiento es idéntico. 
	Si se observan diferencias, tiene la posibilidad de utilizar [Modo In64bit](../WDLang1/1000019491.md) para llamar al API correspondiente al sistema actual. 

- En 64 bits, si se asigna un valor demasiado grande a un entero de 1, 2, 4 u 8 bytes Variable, el valor del Variable no será el mismo que en 32 bits.




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Limitaciones y adaptaciones
<a name="limitaciones_adaptaciones_ELTTEXTE000333"></a>


### Diferentes limitaciones
<a name="diferentes_limitaciones_ELTPARAGRAPHE000132"></a>

- [Hasp](../WDLang1/3013038.md) no está disponible en 64 bits.

- **Funciones NetXXX**: Sólo la parte cliente está disponible en 64 bits, y es compatible con un servidor de 32 bits. La parte del servidor ([NetStartServer](../WDLang3/3056013.md) y [Servidor NetEnd](../WDLang3/3056024.md)) no está disponible.

- **Idiomas externos de 64 bits**: sólo C y C++ están disponibles.





### Adaptaciones
<a name="adaptaciones_ELTPARAGRAPHE000147"></a>

- Acceso al registro: en un sistema de 64 bits, las aplicaciones de 32 bits que acceden al registro son redirigidas a la siguiente ubicación: "HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node".
	Observación: [RegistryQueryValue](../WDLang1/3065012.md) tiene un modo de acceso automático ( *registryModeAuto* Constante) que lee el registro derecho de acuerdo de acuerdo con el tipo de configuración de la aplicación.

- Windows API o dll: en algunos casos, será necesario utilizar el tipo de lenguaje WLanguage "system int. Este tipo usa un entero de 8 bytes en 64 bits y un entero de 4 bytes en 32 bits.

- Acceso a los archivos del sistema: en un sistema de 64 bits, las aplicaciones de 32 bits utilizan directorios de sistema diferentes. Por ejemplo, los ejecutables de 64 bits pueden acceder a la carpeta "\\Windows\\system32\\".. Sin embargo, los ejecutables de 32 bits accederán a la carpeta "\\Windows\\SysWOW64".

- Para los Component s externos utilizados en el proyecto, deberá activar la compatibilidad de 64 bits en el código del Component. Para los componentes creados con una versión reciente de WINDEV, este modo está habilitado por Default.

- Para procesos específicos en una configuración de 32 o 64 bits, basta con utilizar [Modo In64bit](../WDLang1/1000019491.md).





### Gestión de bases de datos
<a name="gestion_bases_datos_ELTPARAGRAPHE000164"></a>El acceso a la base de datos (ya sea HFSQL Classic o HFSQL Client/Server) sigue siendo el mismo, incluso cuando la aplicación cambia 
de 32 a 64 bits.

Nota: Por Default, el servidor HFSQL se instala en modo 64 bits.

Dos puntos clave en relación con las bases de datos externas:

- Conectores Nativos están disponibles en modo 64 bits, excepto para los conectores nativos Sybase y Progress.

- no olvide instalar la versión de 64 bits de la biblioteca cliente de la base de datos en los ordenadores de los usuarios finales (consulte al desarrollador de la base de datos).




<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Instalación de la aplicación
<a name="instalacion_aplicacion_ELTTEXTE000369"></a>


### Instalación combinada de 32 y 64 bits
<a name="instalacion_combinada_32_64_bits_ELTPARAGRAPHE000181"></a>

Si la telemetría reporte revela que algunos usuarios siguen utilizando un sistema operativo de 32 bits, puede realizarse una instalación combinada de 32 y 64 bits.

Para obtener más información, consulte [Instalación combinada](../Editeurs/2030065.md).


### Sólo instalación de 64 bits
<a name="solo_instalacion_64_bits_ELTPARAGRAPHE000191"></a>

Si todos los usuarios de la aplicación ejecutan un sistema operativo de 64 bits, la aplicación puede estar disponible sólo en versión de 64 bits.

En este caso, la configuración de 32 bits ya no es useful y puede eliminarse (haga clic con el botón derecho del ratón en la configuración en el panel "Explorador de proyectos" y seleccione "Eliminar").

La instalación Procedure se puede realizar como de costumbre. Para obtener más información, consulte [Configuración Procedure de una aplicación](../Editeurs/2028062.md).  


### Pasar de una instalación de 32 bits a una de 64 bits
<a name="pasar_una_instalacion_32_bits_una_64_bits_ELTPARAGRAPHE000203"></a>

Si la versión de 32 bits de la aplicación ya está instalada en los ordenadores de los usuarios y es necesario actualizarla a la versión de 64 bits, basta con desplegar la instalación de 64 bits en el mismo directorio que la versión de 32 bits.

Live Update mostrará automáticamente un aviso de actualización a los usuarios finales.

La aplicación pasará automáticamente a 64 bits en los ordenadores de los usuarios.

Observación: Al generar el ejecutable de 64 bits, es importante utilizar un número de versión superior al de la versión actual de 32 bits.


### Cambio de una instalación combinada a una instalación de 64 bits
<a name="cambio_una_instalacion_combinada_una_instalacion_64_bits_ELTPARAGRAPHE000214"></a>

Al igual que en el caso anterior, basta con crear un instalación Procedure sólo de 64 bits y desplegarlo en el mismo directorio de red que la instalación combinada.

Recordatorio: Asegúrese de que el ejecutable de 64 bits tiene un número de versión superior al del ejecutable de 32 bits, y haga obligatoria la actualización estableciendo un requisito mínimo de versión.

Cuando los usuarios inicien la aplicación, aparecerá una actualización obligatoria Notification y la aplicación cambiará a la versión de 64 bits.


