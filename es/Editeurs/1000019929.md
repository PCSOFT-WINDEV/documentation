


## Desarrollar un widget para iOS 14
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000205"></a>
Un widget iOS es una aplicación destinada a ser mostrada como un widget en dispositivos iOS (iPhone, iPad, etc.).

Un widget iOS siempre está associated con una aplicación iOS con la que puede intercambiar datos.

Un widget para iOS se desarrolla en varios pasos: 

- [Creación y desarrollo del proyecto en WINDEV Mobile](#NOTE2_1). 

- [Generación de la aplicación](../Editeurs/1000019908.md). 

- [Compilación en Xcode](../Editeurs/1000019878.md). 




Esta página de ayuda presenta únicamente las etapas a seguir para crear y desarrollar un proyecto widget iOS. El proyecto se genera y compila de la misma manera que una aplicación estándar de iOS.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Creación de un proyecto de widget para iOS 14 con WINDEV Mobile
<a name="creacion_proyecto_widget_para_ios_14_con_windev_mobile_ELTTEXTE000229"></a>
Para crear un proyecto de widget iOS 14 con WINDEV Mobile: 

1. Cree un proyecto para iOS (para obtener más información, consulte [Desarrollar una aplicación para iPhone/iPad](../Editeurs/1000019818.md)).

2. Crear una configuración de widgets para iOS 14:

	- Abra el asistente para crear nueva configuración: en la pestaña "Proyecto", en el grupo "Configuración del proyecto", despliegue "Nueva configuración" y seleccione "Nueva configuración (mediante un asistente)". 
			Para obtener más información, consulte [Configuración del proyecto](../Editeurs/9000030.md).

	- En la etapa "Información general" del asistente, seleccione "Widget iOS".<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Cr%E9erAppliWidgetIOS14%20-%20HC%20N%B0001.gif&type=thumb)


	- En la etapa "Aplicación iOS asociada" del asistente, seleccione la configuración iOS del proyecto asociada a la configuración widget iOS.<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Cr%E9erAppliWidgetIOS14%20-%20HC%20N%B0002.gif&type=thumb)




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Desarrollar una aplicación para widget iOS con WINDEV Mobile
<a name="desarrollar_una_aplicacion_para_widget_ios_con_windev_mobile_ELTTEXTE000253"></a>


### Presentación
<a name="presentacion_ELTPARAGRAPHE000070"></a>

El desarrollo de un widget iOS 14 y su aplicación associated iOS es similar al desarrollo de una aplicación estándar.


### Aplicación iOS
<a name="aplicacion_ios_ELTPARAGRAPHE000075"></a>

Crear los diferentes elementos de su aplicación iOS. El proyecto se desarrolla igual que un proyecto WINDEV Mobile. Sin embargo, hay algunos aspectos específicos del desarrollo de iOS. Para obtener más información, consulte [Características específicas de aplicaciones iOS](../Editeurs/1000019865.md).




### Widget iOS 14
<a name="widget_ios_14_ELTPARAGRAPHE000084"></a>

Para desarrollar el widget de iOS 14, tendrá que: 

- crear ventanas Widget. Estas ventanas contienen todas las funciones que necesita su widget. 
	Observaciones: 

	- Para crear ventanas widget, debe haber activado la configuración "widget. 

	- Solo hay dos tipos de controles disponibles para las ventanas widget: Image y los controles estáticos. 

	- Las ventanas de widgets de iOS 14 tienen una serie de características específicas. Para obtener más información, consulte [Ventanas de widgets de iOS](../WDChamp/9000200.md). 




- utilizar funciones, propiedades y tipos WLanguage. Si una función no está disponible, se muestra un error de compilación. La ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ico_IosWidget.gif) Icon aparece en la ayuda Page si la función está disponible para los widgets de iOS 14. 

- definir la Procedure que se ejecutará cuando el usuario haga clic en el widget, utilizando [WidgetProcedimiento](../WDLang3/1410087599.md). Esta función debe utilizarse en el código de inicialización del proyecto. 




En el modo widget de iOS 14, los gestos de desplazamiento y la entrada del teclado no son compatibles. 

**Atención**: iOS limita la memoria disponible para los widgets. Esta limitación depende del dispositivo, de la versión iOS y de otras aplicaciones, ... Se recomienda limitar al máximo el uso de la memoria en las configuraciones de los widgets de iOS 14:

- Limitar el número de controles. 

- Privilegiar las ventanas internas a los planos,

- Verificar el tamaño de las imágenes (especialmente para el estilo de los controles). 


Si el widget excede el límite de memoria, será eliminado por iOS con el siguiente error: EXC_RESOURCE RESOURCE_TYPE_MEMORY (limit=xxx MB, unused=xxx)


### Probando la aplicación de widgets de iOS 14
<a name="probando_aplicacion_widgets_ios_14_ELTPARAGRAPHE000117"></a>

Puede probar directamente las ventanas de widgets de iOS 14 en el simulador de WINDEV Mobile. Se tienen en cuenta las características de las ventanas Widget. 

Observaciones: 

- Las pruebas de WMDev no están disponibles. 

- Cuando se realizan pruebas desde Xcode, se fuerza un modo de widget por parte de Default. Si es necesario, cambia la configuración en Xcode (consulta la documentación de Xcode).  





### Generación de proyectos Xcode
<a name="generacion_proyectos_xcode_ELTPARAGRAPHE000127"></a>

**Cuando termine de desarrollar la aplicación**, puede generar el proyecto Xcode para compilar la aplicación widget iOS y su aplicación iOS asociada en MAC: 

1. Haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Generation_iOS_WM_bl.gif) en los botones de acceso rápido. 

2. Si es necesario, seleccione la primera ventana que se muestra en las diferentes plataformas (iPhone, iPad y iOS widget).

3. El asistente de generación se abre. Para obtener más información sobre la generación de proyectos en Xcode, consulte [Generación de la aplicación](../Editeurs/1000019908.md).


Observación: La asistente muestra un paso específico ("Firma del widget (widget iOS)"). Este paso le permite firmar el widget de iOS. El ID de paquete del widget es el ID de paquete de la aplicación de iOS, más ".widget" al final.. Ambos ID de paquete deben añadirse al perfil de aprovisionamiento. 





<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Funciones de WLanguage específicas para los widgets de iOS 14
<a name="funciones_wlanguage_especificas_para_los_widgets_ios_14_ELTTEXTE000301"></a>


### Funciones para la gestión de widgets
<a name="funciones_para_gestion_widgets_ELTPARAGRAPHE000148"></a>Las siguientes funciones se utilizan para gestionar características específicas de los widgets de iOS 14: 



|   |   |
| --- | --- |
| [InWidgetMode](../WDLang1/1000020649.md) | Indica si el código se ejecuta en modo Widget Android. |
| [WidgetDisplay](../WDLang3/1000020647.md) | Actualiza una ventana de widgets. |
| [WidgetProcedure](../WDLang3/1410087599.md) | Especifica la Procedure que se llamará cuando el usuario haga clic en un widget de iOS 14. |






### Funciones disponibles para los widgets
<a name="funciones_disponibles_para_los_widgets_ELTPARAGRAPHE000154"></a>

La mayoría de las funciones disponibles para las aplicaciones de iOS también están disponibles en el modo widget de iOS 14. Para identificar fácilmente estas funciones, la ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ico_IosWidget.gif) Icon aparece en la barra de las plataformas de funciones. 


