


## Elementos utilizados en una consulta selecta 
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000297"></a>
<a name="Itm_Sel_qry"></a>
Una consulta creada en el editor de consultas puede contener varios tipos de elementos:

- **elementos del análisis** a los que se adjunta la consulta. 
	Estos elementos corresponden a los elementos de los ficheros de datos descritos en el análisis. Usted tiene la capacidad de aplicar cálculos a estos elementos.
	Observación: Puede utilizar una posición de índice de texto completo: en este caso, la consulta realizará una búsqueda de texto completo. 

- **elementos de una consulta** encontrados en el proyecto actual. Estos ítems corresponden a los ítems utilizados en las consultas incluidas en la aplicación.

- **elementos de calculo**. Este tipo de elemento se utiliza para realizar una [cálculo de los valores de una posición](../Editeurs/2032020.md): suma, promedio, máximo y mínimo.

- **contar artículos**. Este tipo de elemento se utiliza para contar el número de registros encontrados en la consulta o el número de registros encontrados en un grupo de registros.

- **artículos "calculados"**. Este tipo de ítem se utiliza para añadir al resultado de la consulta un ítem cuyo valor corresponde a una fórmula de cálculo en los ítems. Por ejemplo, PriceBT \*VATRate.




Los elementos que intervienen en una consulta se seleccionan al crear la consulta.. Sin embargo, tiene la posibilidad de añadir, modificar o eliminar los elementos utilizados en una consulta.. Estas operaciones se describen en los párrafos siguientes.

**Observación**: Los elementos cuyo valor se muestra en el resultado de la consulta se denominan *elementos de resultado* .

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## ¿Cómo añadir un elemento a la consulta de selección actual?
<a name="¿como_anadir_elemento_consulta_seleccion_actual_ELTTEXTE000321"></a>


### Agregar un elemento a la consulta actual
<a name="agregar_elemento_consulta_actual_ELTPARAGRAPHE000036"></a>

**Para agregar un elemento a la consulta actual**:

1. Abrir la ventana de consulta description: en la pestaña "Consulta", en el grupo "Edición", haga clic en "Descripción".

2. En la sección de la izquierda, haga doble clic en el elemento para añadir. El elemento añadido se muestra automáticamente en la sección central.

3. Valide.


Observación: También se puede añadir un elemento a la consulta actual desde uno o más elementos descritos en la editor de análisis: Para ello, arrastre y suelte los elementos seleccionados del panel "Análisis" al editor de consultas.


### Realización de una búsqueda de texto completo
<a name="realizacion_una_busqueda_texto_completo_ELTPARAGRAPHE000059"></a>

**Para realizar una búsqueda de texto completo**: 

1. Seleccione "Consulta description" en el menú contextual de la consulta. La ventana de descripción de la consulta se abre.

2. En la sección izquierda de la ventana, haga doble clic en el elemento "FullText_Índice" para añadir. Se muestra la ventana de description de la búsqueda.

3. Especifique los parámetros de la búsqueda "texto completo" a realizar:

	- el índice utilizado.

	- el valor de búsqueda (valor o parámetro). Si el valor se describe en la consulta, una asistente permite introducir todas las condiciones necesarias sobre el valor de búsqueda.

	- el tipo de resultado de la consulta según la búsqueda de relevancia índice para cada Record. 
			Observación: sólo se almacenan en el resultado de la consulta los registros cuya relevancia índice es superior a 0.






<a name="NOTE2_2"></a>


### Adición de un elemento de recuento a la consulta actual
<a name="adicion_elemento_recuento_consulta_actual_ELTPARAGRAPHE000076"></a>

**Para agregar un elemento de conteo a la consulta actual**:

1. Abrir la ventana de consulta description: en la pestaña "Consulta", en el grupo "Edición", haga clic en "Descripción".

2. En la sección de la derecha, despliegue el botón "Contar".

3. Para contar:

	- el número de valores para el artículo seleccionado en el resultado de la consulta: seleccione "En el elemento seleccionado"..
			Por ejemplo, esta opción puede utilizarse para averiguar el número de clientes que tienen una celda Phone (elemento "CeldaPhone" rellenado).

	- el número de valores para otro artículo en el resultado de la consulta: seleccione "En un nuevo elemento" y el elemento correspondiente.

	- el número de registros encontrados en un fichero o en una consulta (según las condiciones de selección de la consulta actual): seleccione "En un archivo o consulta".
			Por ejemplo, esta opción puede utilizarse para averiguar el número de productos encontrados en el fichero "Producto".





Observación: Independientemente de la operación de conteo realizada, puede indicarse si esta operación debe tener en cuenta o no los duplicados (opción Count(Distinct) en SQL).
<a name="NOTE2_3"></a>


### Añadir un elemento "calculado" a la consulta actual
<a name="anadir_elemento_calculado_consulta_actual_ELTPARAGRAPHE000109"></a>

**Para agregar un elemento "calculado" a la consulta actual**:

1. Abrir la ventana de consulta description: en la pestaña "Consulta", en el grupo "Edición", haga clic en "Descripción".

2. En la sección de la izquierda, despliegue el botón "Elemento calculado" y seleccione "Nuevo elemento calculado".. Se muestra la ventana de description de un artículo calculado. Esta ventana permite introducir el código SQL correspondiente al cálculo a realizar. En esta ventana, usted puede:

	- manipular los ítems encontrados en los archivos del análisis actual y los ítems encontrados en las consultas del proyecto actual.

	- introducir sentencias SQL. Se muestra la lista de sentencias SQL disponibles. Todo lo que tiene que hacer es hacer doble clic en una sentencia para mostrarla en la sección de código.

	- entrar en las funciones de WLanguage. Se muestra la lista de funciones disponibles de WLanguage. Todo lo que tiene que hacer es hacer doble clic en una función para visualizarla en la sección de código. Para utilizar una función WLanguage, su nombre debe ir precedido de "WL".

	- anidar las funciones de WLanguage y el código SQL utilizado.




3. Especificar la fórmula matemática del elemento y validar. El elemento se añade automáticamente.




**Observación**: Utilizando parámetros en el código de la posición calculada. 
Para utilizar parámetros en el código del artículo, el nombre del parámetro debe ir entre paréntesis.. Por ejemplo:

```txt
LEFT(MyItem, {ParameterName})
```
Atención: El resultado puede ser diferente en el modo de prueba y en el tiempo de ejecución. De hecho, en el modo de prueba, el valor del parámetro siempre se pasa en formato de cadena.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## ¿Cómo modificar un "elemento calculado" en la consulta actual?
<a name="¿como_modificar_elemento_calculado_consulta_actual_ELTTEXTE000363"></a>
**Para modificar un "elemento calculado" en la consulta actual**:

1. Abrir la ventana de consulta description: en la pestaña "Consulta", en el grupo "Edición", haga clic en "Descripción".

2. En la sección central, seleccione el elemento calculado que desea modificar.

3. En la sección de la izquierda, haga clic en el botón "Elemento calculado" y seleccione "Modificar el elemento calculado".. Se muestra la ventana de description de un elemento calculado.

4. Modificar la fórmula y validar.


**Observación**: Utilizando parámetros en el código de la posición calculada. 
Para utilizar parámetros en el código del artículo, el nombre del parámetro debe ir entre paréntesis.. Por ejemplo:

```txt
LEFT(MyItem, {ParameterName})
```
Atención: El resultado puede ser diferente en el modo de prueba y en el tiempo de ejecución. De hecho, en el modo de prueba, el valor del parámetro siempre se pasa en formato de cadena.

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## ¿Cómo renombrar un elemento en la consulta actual?
<a name="¿como_renombrar_elemento_consulta_actual_ELTTEXTE000387"></a>
**Para cambiar el nombre de un elemento de resultado en la consulta actual** (creación de alias):

1. Abrir la ventana de consulta description: en la pestaña "Consulta", en el grupo "Edición", haga clic en "Descripción".

2. En la sección central, seleccione el elemento que desea renombrar.

3. En la sección derecha, haga clic en el botón "Mostrar/Renombrar".

4. Introduzca el nuevo nombre del elemento y valide. El elemento se renombra automáticamente.




<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## ¿Cómo mostrar/ocultar un elemento en la consulta actual?
<a name="¿como_mostrarocultar_elemento_consulta_actual_ELTTEXTE000411"></a>
**Para mostrar/ocultar un elemento en el resultado de la consulta**:

1. Abrir la ventana de consulta description: en la pestaña "Consulta", en el grupo "Edición", haga clic en "Descripción".

2. En la sección central, seleccione la posición que desea visualizar/ocultar.

3. En la sección derecha, haga clic en el botón "Mostrar/Renombrar".

4. Responda "No" a la pregunta "¿Mostrar este artículo?".




Observación: Para visualizar/ocultar un artículo en el resultado de la consulta, también puede hacerlo:

- abrir el menú contextual del elemento solicitado (clic con el botón derecho del ratón).

- seleccione "Mostrar elemento" o "No mostrar".




<a name="NOTE6"></a>
<a name="NOTE6_1"></a>


## ¿Cómo eliminar un elemento de la consulta actual?
<a name="¿como_eliminar_elemento_consulta_actual_ELTTEXTE000435"></a>
**Para eliminar un elemento de la consulta actual**:

1. Abrir la ventana de consulta description: en la pestaña "Consulta", en el grupo "Edición", haga clic en "Descripción".

2. En la sección central, seleccione el elemento que desea eliminar y pulse la tecla Supr.. El artículo se borra automáticamente de la consulta.




Observaciones:

- Borrar una posición también borra las condiciones de selección definidas para esta posición.

- Para eliminar un elemento, también tiene la posibilidad de seleccionar "Eliminar el elemento" en el menú contextual del elemento.





