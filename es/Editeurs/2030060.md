
## Uso de sitios fuera de línea
			

<DIV class="specObsolete">
	<IMG style="float:left;margin-right:10px;" src="https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=warning_big.png"><B>Advertencia</B><BR>
	A partir de la versión <B>23 (50)</B>, está funcionalidad no estará disponible.
</DIV><a name="NOTE0_0"></a>


## Presentación
<a name="presentacion_ELTTEXTE000153"></a>
WEBDEV permite especificar que un sitio o un conjunto de páginas puedan funcionar en modo off-line (sin conexión a INTERNET). 

Si el sitio puede funcionar en modo offline, todos los recursos (páginas, imágenes, archivos .js, archivos .css) utilizados por el sitio o por las páginas se almacenan automáticamente en la memoria caché del navegador en el equipo del usuario de la web.

Por lo tanto, el sitio puede ser usado sin necesidad de reconectarse a Internet.

La función del navegador [NavegadorIsConnectado](../WDLang2/1000019392.md) permite averiguar si el navegador está en modo online o offline y adaptar el comportamiento del sitio en consecuencia. 

Esta función utiliza la gestión de los manifiestos disponibles con HTML 5. Algunos navegadores (especialmente el INTERNET Explorer 8 o navegadores anteriores) no soportan esta característica. 

**Observación**: Este mecanismo de almacenamiento en caché del sitio es específico de HTML 5: 

- Antes de HTML 5, sólo las páginas visitadas podían ser almacenadas en caché.. 

- Con HTML 5, el mecanismo de caché se realiza desde la primera conexión a un sitio. Se utiliza un archivo de manifiesto específico para listar todos los recursos a almacenar en caché.. 




<a name="NOTE0_1"></a>


## Implementación
<a name="implementacion_ELTTEXTE000177"></a>


### Definición de los recursos de la caché
<a name="definicion_los_recursos_cache_ELTPARAGRAPHE000032"></a>

La definición de los recursos a cachear se realiza en el entorno de desarrollo. Para indicar las páginas disponibles en modo offline: 

1. Abrir el proyecto WEBDEV si es necesario. 

2. En el panel "Proyecto", expanda "Web" y seleccione "Caché (modo sin conexión)".

3. En la ventana que se abre, seleccione las páginas que desea almacenar en caché. 
	**Atención**: Sólo las páginas dinámicas de PHP, las páginas dinámicas de Active WEBDEV y las páginas estáticas pueden ser almacenadas en caché. 

4. Cerrar ventana. 




Durante la siguiente recompilación del proyecto, el archivo "&lt;Nombre_del_proyecto&gt;.manifest" se genera automáticamente en el subdirectorio de idiomas que se encuentra en el directorio _WEB del proyecto. Este archivo contendrá las páginas especificadas así como todas sus dependencias (imágenes, hojas de estilo CSS, archivos JavaScript, ...). 


### Configuración del servidor
<a name="configuracion_del_servidor_ELTPARAGRAPHE000051"></a>

El uso de un manifiesto requiere una configuración específica del servidor. Debe configurar un tipo de mimo específico:
".manifestar" associated con "texto/cache-manifiesto"

Para ejecutar la prueba de su sitio, esta configuración debe realizarse en el ordenador de desarrollo. 

**Observaciones**: 

- La configuración del tipo de mimo es automatic. 

- Este tipo de mimo aún no está configurado para todas las empresas de hosting. 

- Este tipo de mimo no es soportado por algunos navegadores. 







### Técnica de programación
<a name="tecnica_programacion_ELTPARAGRAPHE000072"></a>

Un sitio almacenado en caché se puede utilizar, por ejemplo: 

- para simular una aplicación iPhone (creación de una aplicación Web que funciona sólo en modo offline). 

- para gestionar un sitio que perdería la conexión con INTERNET. 




Consejos de programación: 

- El principio es utilizar principalmente el código del navegador. De hecho, sólo este código puede ser ejecutado fuera de Line. Sin embargo, tiene la posibilidad de utilizar un código de servidor a través de [AjaxExecute](../WDLang2/3055114.md) (que se utiliza para ejecutar un código de servidor en un navegador Process). 

- Sólo están disponibles los controles del navegador. Sólo los cuadros de lista, botones, controles de edición, controles estáticos, imágenes, enlaces, menús, casillas de verificación y botones de radio pueden ser utilizados en las páginas en modo off-Line. 

- Los botones y los enlaces no deben tener el tipo "Enviar. Sin embargo, puede utilizar la acción "Mostrar la página XXX".. 

- Si se requiere la copia de seguridad de los datos en modo off-Line, se debe utilizar una base de datos local. El estándar HTML 5 permite a los sitios de INTERNET utilizar una base de datos local gestionada por el navegador. Para obtener más información, consulte [Base de datos SQL local a un navegador](../WDLang4/9000119.md). 

- Si el sitio debe funcionar tanto en modo online como en modo offline, tiene la posibilidad de utilizar [NavegadorIsConnectado](../WDLang2/1000019392.md) en el código del navegador para saber si un código del servidor puede ejecutarse o no. En caso de desconexión, se puede iniciar un procedimiento específico o Process para evitar que se ejecute el código del servidor. 

- Utilizar los procesos opcionales de la página ("Cambiar a modo off-Line", "Cambiar a modo on-Line" y "Cada vez que cambie el estado de la caché de HTML") para realizar los procesos necesarios para cambiar el estado (recuperando los datos de la base de datos local, por ejemplo). 







### Prueba de sitio
<a name="prueba_sitio_ELTPARAGRAPHE000099"></a>

Para ejecutar la prueba de un sitio en caché: 

1. Configurar (si es necesario) el servidor del ordenador de desarrollo. 

2. Ejecutar la prueba del sitio (Ir). Todas las páginas necesarias se almacenan en caché. 

3. Utilice la opción "Trabajar sin conexión" del navegador. 

4. Ejecute la prueba de su sitio web. 





