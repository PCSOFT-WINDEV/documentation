


## Optimizar índices
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000206"></a>


### WDOptimizer propone varios modos para optimizar los índices:
<a name="wdoptimizer_propone_varios_modos_para_optimizar_los_indices_ELTPARAGRAPHE000011"></a>

***1. Compruebe los índices***: Comprueba la coherencia entre el índice y los archivos de datos.

***2. Optimizar la velocidad de los índices (recalculando las estadísticas)***: Optimiza los índices calculando estadísticas sobre los índices. Estas estadísticas se utilizan para optimizar los filtros, las consultas y las vistas HFSQL.. 
Observación: Cuanto más se modifique el el archivo de datos, menos las estadísticas reflejarán el contenido del archivo de datos HFSQL. Cuanto más Record s el archivo de datos contiene, menos la modificación de un solo Record impacta las estadísticas generales.

***3. Reconstruir los índices***: Optimiza el acceso a los registros del archivo de datos y recalcula las estadísticas. Todos los registros cruzados se borran automáticamente.

***4. Reconstruir los índices y los memos***: Optimiza todo el archivo de datos, su índice y sus notas.

***5. Revisar y comprimir los índices y los memos***: Optimiza todo el archivo de datos, su índice y sus memorandos. Los memos serán comprimidos. Las opciones avanzadas están disponibles ("Opciones para comprimir los memos").
Observación: El archivo de datos es recreado: la última fecha de escritura de la última Record (obtenida por [HRecordDate](../WDLang4/3044338.md)) es set a la fecha de hoy.

**Observaciones**:

- Aparte de la opción 2, todos los modos de optimización bloquean los archivos de datos durante la optimización.. Se informa a los usuarios de que el archivo de datos está actualmente en mantenimiento.

- Una vez realizada la reindexación, se restaura el contexto HFSQL actual (excepto si se ha elegido la opción de comprimir memos).




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## ¿Cómo proceder?
<a name="¿como_proceder_ELTTEXTE000236"></a>


### Optimización de los índices de un archivo de datos
<a name="optimizacion_los_indices_archivo_datos_ELTPARAGRAPHE000042"></a>

Para optimizar los índices de un archivo de datos:

1. Iniciar WDOptimizer:

	- Desde WINDEV, WEBDEV o WINDEV Mobile directamente: en la pestaña "Herramientas", en el grupo "Base de datos", haga clic en "WDOptimizer".

	- ejecute "WDOptimizer.EXE" directamente.




2. Seleccione los archivos de datos a Process. Es posible: 

	- Arrastrar y soltar los archivos de datos del explorador a WDOptimizer. Los archivos eliminados aparecen automáticamente en la lista. 

	- añadir uno o varios archivos mediante el botón "Añadir un archivo. 

	- añadir los ficheros de datos que se encuentran en un directorio mediante el botón "Añadir una carpeta. 
			Para Process los subdirectorios, seleccione "Al agregar un directorio, incluya los archivos de todos los subdirectorios". 




3. Seleccione los archivos de datos a Process e indique (si es necesario) la contraseña de cada archivo de datos. 
	Observación: Si la contraseña es idéntica para todos los archivos de datos, compruebe "La contraseña es idéntica para todos los archivos".. 

4. Haga clic en el botón "Optimizar los índices" o "Optimizar los índices de los archivos seleccionados" y elija la opción deseada.. 

<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=WDOptimiseur_Index%20-%20HC%20N%B0001%201.gif)
Se genera un reporte si se produce un problema.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Opciones de reindexación
<a name="opciones_reindexacion_ELTTEXTE000260"></a>


### Presentación
<a name="presentacion_ELTPARAGRAPHE000082"></a>

Las opciones de indexación aparecen en la parte inferior de la pantalla:<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=WDOptimiseur_Index%20-%20HC%20N%B0001.gif)

<a name="NOTE3_2"></a>


### Modo avanzado reindexación
<a name="modo_avanzado_reindexacion_ELTPARAGRAPHE000090"></a>

Estas opciones se tienen en cuenta para las operaciones de reindexación de tipo 1 a tipo 4:

- **Borrar los registros de la Inactive (borrados o tachados)**
	Si se selecciona esta opción, los registros cruzados se eliminan de forma permanente..
	**Recordatorio**: Cuando se cruza una Record, se borra lógicamente y se puede recuperar más tarde. El Record se encuentra todavía en el archivo de datos. La eliminación de los registros cruzados elimina estos registros de forma permanente y optimiza el tamaño del archivo de datos.

- **Eliminar los registros dañados**
	Si se selecciona esta opción, los registros dañados se eliminan automáticamente.

- **Reindexar sin bloquear los equipos cliente**
	Si esta opción está marcada, la operación de re-indexación se realiza en la tarea de Background y las aplicaciones cliente no se detienen. 
	**Atención**: Esta opción sólo se tiene en cuenta para los ficheros de datos de HFSQL Client/Server. 

- **Densidad del índice**
	Corresponde a la tasa de densidad de los índices. Esta tasa es set a 80 por Default. 
	Una tasa más alta aumenta la densidad del índice y reduce su tamaño. En este caso, las navegaciones, búsquedas, filtros y consultas son más rápidas. Las adiciones de registros y las modificaciones de registros pueden ser más lentas. 
	Una tasa menor reduce la densidad del índice y aumenta su tamaño.. En este caso, las iteraciones, búsquedas, filtros y consultas serán más lentas. Las adiciones de registros y las modificaciones de registros serán más rápidas. 
	Atención: este parámetro sólo puede utilizarse en los archivos de datos en formato HFSQL Classic o Cliente/Servidor.

- **Conjunto de caracteres**
	El personaje set del archivo de datos es mantenido por Default. Sin embargo, se puede realizar una operación de re-indexación cambiando el carácter set del archivo de datos. En este caso, el nuevo personaje set se tendrá en cuenta durante la operación de re-indexación. El orden, las búsquedas, ... en claves de tipo String (cadenas, caracteres, fecha y hora) se realizarán de acuerdo con este conjunto de caracteres.



<a name="NOTE3_3"></a>


### Opciones de compresión de los memos
<a name="opciones_compresion_los_memos_ELTPARAGRAPHE000123"></a>

Estas opciones se tienen en cuenta durante la revisión con compresión de índices y notas (opción 5):

- **Mantenga los registros cruzados**
	Si se selecciona esta opción, se conservan los registros cruzados.. De lo contrario, se eliminan de forma permanente.

- **Intentar recuperar los datos del memo si este está dañando**
	Si se selecciona esta opción, WDOptimizer intenta recuperar el memo. De lo contrario, los registros dañados se recuperan sin el memorándum de associated. 
	**Atención**: El memorándum puede que no se haya recuperado por completo. Compruebe sus archivos de datos.



<a name="NOTE3_4"></a>


### Opciones
<a name="opciones_ELTPARAGRAPHE000139"></a>

Estas opciones se utilizan para simplificar la gestión de la lista de archivos a reindexar:

- **La contraseña es idéntica para todos los archivos**
	Si se selecciona esta opción, se utiliza la misma contraseña para todos los archivos de datos.. Todo lo que hay que hacer es especificar la contraseña en la columna "Contraseña" del primer archivo de datos que se encuentre en la lista.
	Si esta opción no está marcada, habrá que especificar la contraseña en la columna "Contraseña" del tabla para cada archivo de datos.

- **Al agregar un directorio, incluya los archivos que se encuentran en todos los subdirectorios**
	Si se selecciona esta opción, los archivos de datos que se encuentran en los subdirectorios se añaden automáticamente.



<a name="NOTE3_5"></a>


### Derechos de acceso a el archivo de datos
<a name="derechos_acceso_archivo_datos_ELTPARAGRAPHE000155"></a>

La optimización provoca la recreación de del archivo de datos en el disco. 

Debe comprobar los derechos del archivo optimizado. Estos derechos pueden diferir de los del archivo de origen. En este caso, deben redefinirse en Windows después de la optimización.


