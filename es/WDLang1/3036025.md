


## fWriteLine (Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Escribe un Line en un archivo externo. Los caracteres necesarios para ir al siguiente Line se insertan automáticamente al final del Line añadido.




<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo
<a class="notetitle" target="_blank" href="$DOC$=1000003036025&name=fwriteline_funcion&product=WD">Ver ejemplos adicionales</a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png) 
```wl
// Open an external file
FileID = fOpen("C:\MyDirectories\File.txt", foReadWrite)
IF FileID <> -1 THEN
	// Write a line into this file
	ResWrite = fWriteLine(FileID, "Meeting report")
	IF ResWrite = False THEN
		...
	END
END
```


![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png) 
```wl
// Open an external file
MyFile is DiskFile
MyFile = fOpen("C:\MyDirectories\File.txt", foReadWrite)
IF NOT ErrorOccurred THEN
	// Write a line into this file
	ResWrite = fWriteLine(FileID, "Meeting report")
	IF ResWrite = False THEN
		...
	END
END
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis

### Escribir un Line en un archivo externo

`<Result> = fWriteLine(<File used> , <Line to write>)`
---

**`<Result>: (booleano)`**



- <u><u><u><u>True</u></u></u></u> si se realizó la operación de escritura en el archivo especificado,

- <u><u><u><u>False</u></u></u></u> si se produce un error. Para obtener más información sobre el error, utilice la función [ErrorInfo](../WDLang1/3013008.md) con la constante *errMessage*.




**`<File used>: (Entero o DiskFile Variable)`**



- Identificador del archivo a utilizar, definido por [fOpen](../WDLang1/3036036.md) o [fCreate](../WDLang1/3036017.md).

- Nombre de la variable [DiskFile](../WDLang1/1410088883.md) inicializada con [fOpen](../WDLang1/3036036.md) o [fCreate](../WDLang1/3036017.md).
	






**`<Line to write>: (Cadena de caracteres)`**

Line que se debe escribir en el archivo (hasta 2GB).  


<a name="SYNTAX2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png) 
### Escribir un Line de longitud fija en un archivo externo (acelera la operación de escritura)

`<Result> = fWriteLine(<File used> , <Address of line to write> , <Size to write>)`
---

**`<Result>: (booleano)`**



- <u><u><u><u>True</u></u></u></u> si se realizó la operación de escritura en el archivo especificado,

- <u><u><u><u>False</u></u></u></u> si se produce un error. Para obtener más información sobre el error, utilice la función [ErrorInfo](../WDLang1/3013008.md) con la constante *errMessage*.




**`<File used>: (Entero o DiskFile Variable)`**



- Identificador del archivo a utilizar, definido por [fOpen](../WDLang1/3036036.md) o [fCreate](../WDLang1/3036017.md).

- Nombre de la variable [DiskFile](../WDLang1/1410088883.md) inicializada con [fOpen](../WDLang1/3036036.md) o [fCreate](../WDLang1/3036017.md).




**`<Address of line to write>: (Address)`**

Address de la Line que debe ser escrita en el archivo.

**`<Size to write>: (Integro)`**

Tamaño en bytes (caracteres) de la Line que debe ser escrita (hasta 2GB).
Este parámetro debe ser menor o igual que el tamaño real del vino escrito en el archivo externo.. Por ejemplo, si el tamaño de la Line a escribir es igual a 100 bytes, &lt;Tamaño a escribir&gt; debe ser menor o igual a 100 bytes.
Si este parámetro es menor que el tamaño real del Line escrito, sólo se escribirá en el archivo de texto el número de bytes especificado. La Line será truncada.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Gestión de errores
<a name="gestion_errores_ELTPARAGRAPHE000213"></a>

La función **fWriteLine** genera un error en los siguientes casos:

- el archivo no se abre,

- el archivo no es accesible en modo escritura,

- el archivo está bloqueado por otro ordenador o por otra aplicación,

- no hay espacio en disco disponible.




**Atención**: La función **fWriteLine** solo puede utilizarse en archivos de texto. Esta función no soporta el 0 binario (la operación de escritura se detiene).
<a name="NOTE0_2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png) 

### Modo de funcionamiento en Windows Vista (y posterior)
<a name="modo_funcionamiento_windows_vista_posterior_ELTPARAGRAPHE000485"></a>

Si esta función no funciona correctamente en Windows Vista (y posterior), compruebe si el archivo o directorio utilizado no está en ninguno de los directorios del sistema (directorio de Windows o directorio "Archivos de programa").

**En Windows Vista (y posteriores), con el [Mecanismo UAC](../Editeurs/2025014.md) (Cuenta de usuario control) habilitado**, debe tener privilegios de administrador para manipular y/o modificar los archivos o directorios en los directorios del sistema (directorio de Windows o directorio "Archivos de programa").

**Consejo de programación**: A manipular y/o modificar los archivos o directorios sin privilegios de administrador, debería:

- evite escribir en el directorio de Windows o en el de "Archivos de programa",

- utilizar el directorio del sistema de la aplicación (devuelto por [SysDir](../WDLang1/3073026.md) con la constante *srAppDataCommun*, por ejemplo).


**Observación**: En Windows Vista (y posteriores), el mecanismo de virtualización se utiliza para hacer que las aplicaciones sean compatibles con Vista. Si el archivo se crea en un directorio del sistema sin tener suficientes derechos, este archivo se creará en otro directorio (C:\\Users\\&lt;LOGIN&gt;AppData\\Local\\VirtualStore\\Windows\\). En este caso, el archivo no puede ser compartido entre varias aplicaciones.
<a name="NOTE0_3"></a>


### Posición en el fichero
<a name="posicion_fichero_ELTPARAGRAPHE000243"></a>

Al abrir un archivo, la posición actual corresponde a:

- el primer byte del archivo (por Default),

- el último byte del archivo es el archivo está abierto en modo "adición" (constante *foAdd*).




Esta posición puede ser modificada por [fSeek](../WDLang1/3036039.md).

La función **fWriteLine** escribe los elementos especificados a partir de la posición actual. Una vez ejecutado **fWriteLine**, la posición actual es set al último byte escrito.
<a name="NOTE0_4"></a>


### Gestión del formato ANSI/UNICODE
<a name="gestion_del_formato_ansiunicode_ELTPARAGRAPHE000266"></a>

La función **fWriteLine** permite escribir: 

- una cadena Unicode en un archivo Unicode. 

- una cadena Ansi en un archivo Ansi. 




El archivo se crea o se abre con [fCreate](../WDLang1/3036017.md)/[fOpen](../WDLang1/3036036.md) especificando el tipo de archivo.

**Observaciones**: 

- El tamaño para escribir en un archivo Unicode a debe ser multiplicado por dos comparado con un archivo ANSI.

- Si una cadena de caracteres en formato ANSI se escribe en un fichero UNICODE (y a la inversa), la conversión se realizará implícitamente.. 
	


|   |   |   |   |
| --- | --- | --- | --- |
|   | **Formato de la cadena pasada como parámetro** | **Archivo externo <br>en formato ANSI<br>(función [fOpen](../WDLang1/3036036.md) o [fCreate](../WDLang1/3036017.md) con la constante *foAnsi*)** | **Archivo externo <br>en formato UNICODE<br>(función [fOpen](../WDLang1/3036036.md) o [fCreate](../WDLang1/3036017.md) con la constante *foUnicode*)** |
| Función **fWriteLine** | ANSI | No se requiere conversión antes de la operación de escritura | Conversión automatic de la cadena antes de la operación de escritura |
| UNICODE | Conversión automatic de la cadena antes de la operación de escritura | No se requiere conversión antes de la operación de escritura |






En los proyectos WINDEV y WEBDEV, si la opción "Usar cadenas ANSI en tiempo de ejecución" está activada en la configuración del proyecto description, el modo de apertura de Default es *foAnsi* (1ª columna).

En los proyectos WINDEV y WEBDEV, si la opción "Usar cadenas UNICODE en tiempo de ejecución" está activada en la configuración del proyecto description, el modo de apertura por defecto es *foUnicode* (segunda columna).

En los proyectos WINDEV Mobile, independientemente de la versión y el modo, el modo de apertura predeterminado es *foUnicode* (segunda columna).

Para obtener más información, consulte [Gestión de UNICODE](../WDLang1/3024038.md)



<a name="XComponent"></a>

## Clasificación Lógica de negocio / UI:
Lógica de negocio
## Componente:
wd280std.dll
