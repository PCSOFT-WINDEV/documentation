
## Servicio Variable
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000260"></a>
El Servicio Variable está acostumbrado:

- configurar los parámetros de instalación del servicio (utilizado por [ServicioInstalar](../WDLang1/1000017099.md)).

- recuperar los parámetros de un servicio ([ServiceInfo](../WDLang1/1000017103.md)).

- modificar los parámetros de un servicio ([ServicioModificar](../WDLang1/1000017100.md)).




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Servicio Variable
<a name="servicio_variable_ELTTEXTE000284"></a>
El Servicio Variable incluye los siguientes elementos:

| aspecto | escribir a máquina | Efecto |
| --- | --- | --- |
| Puesta en marcha del servicio | Constante de tipo Integer | Modo de inicio del servicio:<br><br>- *serviceStartupAutomatic*: El arranque de automatic una vez que el sistema es inicializado.<br><br>- *serviceStartupDisabled*: El servicio está desactivado. Cualquier intento de arrancarlo desencadena un error.<br><br>- *serviceStartupManual*: Arranque manual (con [Inicio del servicio](../WDLang1/1000017110.md), por ejemplo).<br><br>- *serviceStartupSystem*: automatic se inicia al mismo tiempo que el sistema operativo (utilizado por los controladores).<br><br><br> |
| Puesta en marcha retardada del servicio | booleano | Especifica que el servicio no se iniciará inmediatamente cuando se inicie el sistema, sino un poco más tarde.<br><br>![Windows](https://doc.pcsoft.fr/ext/images/us/WINDOWS.png) **Observaciones**:<br><br>- Este elemento sólo se tiene en cuenta para los servicios de Windows.<br><br>- Este elemento sólo se tiene en cuenta a partir de Windows Vista.<br><br><br> |
| Servicio. description | Cadena de caracteres | description del servicio.<br><br>![Windows](https://doc.pcsoft.fr/ext/images/us/WINDOWS.png) **Observación**: Esta información aparece en el elemento "Nombre completo" del administrador del servicio. |
| Descripción larga del servicio | Cadena de caracteres | description detallada del servicio.<br><br>![Windows](https://doc.pcsoft.fr/ext/images/us/WINDOWS.png) **Observación**: esta información aparece en la partida "description" del gestor de servicios. |
| Error de puesta en marcha del servicio | Constante de tipo Integer | Los errores que se produjeron al iniciar un servicio son procesados por Windows (para los servicios con inicio de automatic):<br><br>- *serviceErrorCritical*: El sistema escribe el fallo de servicio de arranque en el registro de observadores de Event y se reinicia en el modo "Última configuración adecuada conocida".<br><br>- *serviceErrorSerious*: El sistema escribe el fallo de servicio de arranque en el registro de observadores de Event y se reinicia en el modo "Última configuración adecuada conocida" si no lo está ya es ese modo.<br><br>- *serviceErrorIgnore*: El sistema no realiza ninguna acción si el servicio no se inicia.<br><br>- *serviceErrorLog*: El sistema escribe el fallo del servicio de arranque en el registro de observadores de Event.<br><br><br> |
| Línea de comandos de servicio | Cadena de caracteres | Comando completo Line del servicio (ruta del ejecutable y parámetros). |
| Tipo de servicio | Constante de tipo Integer | Tipo de servicio:<br><br>- *serviceTypeInteractiveShared*: Servicio que permite interactuar con el escritorio y compartir su Process con otros servicios.<br><br>- *serviceTypeInteractiveSimple*: El servicio permite interactuar con el escritorio y operar por sí mismo en su Process.<br><br>- *serviceTypeShared*: Servicio estándar que comparte su proceso con otros servicios.<br><br>- *serviceTypeDriverKernel*: Driver del kernel.<br><br>- *serviceTypeDriverFileSystem*: Controlador del sistema de archivos.<br><br>- *serviceTypeSimple*: Servicio estándar que opera por su cuenta en su Process.<br><br><br> |
| Usuario de servicio | Cadena de caracteres o Constante de cadena | Cuenta de usuario que ejecutará el servicio o una de las siguientes constantes:<br><br>- *AccountLocalService*: Cuenta local que tiene los derechos recomendados para ejecutar un servicio. En la red, esta cuenta será considerada como huésped. Esta constante está disponible sólo en la modificación ([ServicioModificar](../WDLang1/1000017100.md)).<br><br>- *AccountNetworkService*: Cuenta local que tiene los derechos recomendados para ejecutar un servicio. En la red, esta cuenta tendrá los derechos del ordenador actual.<br><br>- *AccountLocalSystem*: Cuenta local que representa al sistema operativo. Esta cuenta tiene todos los derechos. En la red, esta cuenta tendrá los derechos del ordenador actual..<br>	Esta constante corresponde a la cuenta "LocalSystem".<br><br><br>**Observación**: Las cuentas identificadas mediante las constantes *AccountLocalService*,*AccountNetworkService* y *AccountLocalSystem* no tienen contraseña. |
| Contraseña de servicio | Cadena de caracteres | Contraseña de la cuenta de usuario |





**Observación**: Si se permite que un servicio interactúe con el escritorio (*serviceTypeInteractiveShared* o *serviceTypeInteractiveSimple*), la cuenta de usuario debe ser *AccountLocalSystem*. Los otros valores serán ignorados. Los servicios autorizados para interactuar con el escritorio no están disponibles desde Windows Vista.

![Windows](https://doc.pcsoft.fr/ext/images/us/WINDOWS.png) A partir de Windows 2000, se dispone de elementos adicionales para gestionar los fallos del servicio. Un fallo en el servicio es una parada ejecutable tras un error fatal.. En Windows NT y Linux, estos elementos son ignorados.

| aspecto | escribir a máquina | Efecto |
| --- | --- | --- |
| NbActionOnFailure del servicio | Integro | Número de elementos en los arrays Service.ActionOnFailure y Service.TimeoutBeforeActionOnFailure.<br><br>- Al primer fallo del servicio, se ejecuta la acción especificada en Service.ActionOnFailure[1].<br><br>- En el enésimo fallo del servicio, se ejecuta la acción especificada en Service.ActionOnFailure[n]. Si el array contiene menos de n elementos, la última acción descrita se repite para todos los fallos siguientes.<br><br><br> |
| Acción de servicio en caso de fallo | Array de constantes enteras | Acción realizada si el servicio falla:<br><br>- *serviceFailureIgnore*: el fallo del servicio es ignorado, el servicio se detiene.<br><br>- *serviceFailureStartApp*: el administrador del servicio ejecuta el comando descrito en Service.StartAppOnFailure.<br><br>- *serviceFailureReboot*: el jefe de servicio reinicia el equipo.<br><br>- *serviceFailureRestartService*: el administrador de servicios reinicia el servicio.<br><br><br> |
| Tiempo de espera del servicio antes de la acción en caso de fallo | Array de números enteros | Tiempo de espera (en milisegundos) antes de desencadenar la acción especificada en Service.ActionOnFailure. |
| Service.StartAppOnFailure | Cadena de caracteres | Línea de comandos llamada en el proceso de la acción *serviceFailureStartApp*.<br><br>Si este comando Line contiene la cadena %1, ésta será reemplazada por el número de sucesivos fallos de servicio durante la llamada. |
| Mensaje de servicioRebootOnFailure | Cadena de caracteres | Mensaje enviado a los usuarios conectados a el equipo a través de la red en caso de reinicio del sistema. |
| Servicio ReinitFailureCounter | Integro | Tiempo de espera (en segundos) tras el cual el contador de fallos se pone a 0 si no se ha producido ningún fallo. |






