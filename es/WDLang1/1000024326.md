


## &lt;Imagen&gt;.StartDrawing (Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Indica que las funciones de dibujo que se utilizarán están destinadas al control Imagen. 

**Observación**: La función **&lt;Imagen&gt;.StartDrawing** inicializa todos los parámetros necesarios para crear un dibujo de un elemento determinado.

![Linux](https://doc.pcsoft.fr/ext/images/us/LX.png) **Atención**: Se requiere una configuración específica para usar esta función en Linux. Para obtener más información, consulte [Los dibujos](../WDLang1/3029035.md). 
<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// Start drawing in the "IMG_ImageDrawing" control
ResDrawing = IMG_ImageDrawing.StartDrawing()
// Drawings performed in the "IMG_ImageDrawing" control
...
// End of drawing in the "IMG_ImageDrawing" control
```

```wl
IMG_Image1.StartDrawing()
IMG_Image1.Font("Arial", 12, iNormal, 0)
IMG_Image1.DrawText(4, 0, "I'm writing in an Image control!")
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis

`<Result> = <Image control>.StartDrawing([<Options>])`
---

**`<Result>: (Entero del sistema)`**



- DC (device context) memoria del control Imagen,

- 0 si se produce un error. Este parámetro se puede utilizar para llamar a las rutinas de sistema (funciones de la API de Windows). En este caso, recomendamos utilizar un system integer.


![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Caso especial: 

- 1 si la operación se realiza con éxito,

- 0 si se produce un error.




**`<Image control>: (Nombre del control)`**

Nombre del control Imagen a manipular.

**`<Options>: (Constante o combinación de constantes de tipo Integer (opcional))`**

Opciones de dibujo:


|   |   |
| --- | --- |
| *dDisplayAsynchronous* |   |
| *dDisplayManual* |   |
| *dErase*<br>(Valor predeterminado) | Borra el dibujo del control Imagen. |
| *dGridlinesOpacity* | El dibujo se muestra sobre las líneas de cuadrícula para resaltar las secciones transparentes o semitransparentes del dibujo. Las líneas de cuadrícula no se guardan en la imagen.<br>![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) Esta constante no está disponible. |
| *dNoErase* | No borra el dibujo del control Imagen. |
| *dOnChart* | Permite dibujar en un control Imagen en el que ya se ha dibujado un gráfico. En este caso, no se borra el dibujo del gráfico.<br>![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) Esta constante no está disponible. |
| *dWithOpacity* | Permite gestionar la opacidad en las funciones de dibujo utilizadas con el control Imagen. Permite, por ejemplo, crear un dibujo guardado en formato PNG con canales alfa. |





<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Uso en una sintaxis con prefijo
<a name="uso_una_sintaxis_con_prefijo_ELTPARAGRAPHE000434"></a>

- Se debe llamar a la función **&lt;Imagen&gt;.StartDrawing** antes de utilizar otras funciones de dibujo. La función **&lt;Imagen&gt;.StartDrawing** permite definir las opciones de dibujo utilizadas en el control Imagen.

- \* Al dibujar en un control Imagen: 

	- las funciones de dibujo trabajan en una copia ("bitmap") de la imagen. Se pueden utilizar las funciones de dibujo de Windows (con la función [API](../WDLang1/3014005.md) o [CallDLL32](../WDLang1/3014003.md)), pero estas funciones deben utilizar el DC (Device Context) devuelto por la función **&lt;Imagen&gt;.StartDrawing**.

	- no se debe llamar a las funciones [&lt;Imagen&gt;.EndDrawing](../WDLang1/1000024327.md) y **&lt;Imagen&gt;.StartDrawing** en el mismo proceso. Si se llama a las funciones [&lt;Imagen&gt;.EndDrawing](../WDLang1/1000024327.md) y **&lt;Imagen&gt;.StartDrawing** en el mismo proceso, no se mostrará el dibujo: se borrará automáticamente.






<a name="NOTE0_2"></a>
<a name="NOTE0_3"></a>
<a name="NOTE0_4"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png) 

### Dibujo con opacidad
<a name="dibujo_con_opacidad_ELTPARAGRAPHE000576"></a>

Al crear un dibujo que admita la opacidad, puede guardar fácilmente imágenes PNG con canales alfa.

**Para guardar un dibujo PNG con canales Alfa**:

1. Utilice la función **&lt;Imagen&gt;.StartDrawing**. Esta función permite definir, si es necesario, el elemento sobre el que se aplicarán las funciones de dibujo, así como el modo de dibujo. La constante *dWithOpacity* indica que el dibujo gestionará la opacidad. La constante *dGridlinesOpacity* permite mostrar una cuadrícula debajo de las diferentes áreas del dibujo.

2. Configure la opacidad de los dibujos con las siguientes funciones:
	


|   |   |
| --- | --- |
| [&lt;Imagen&gt;.Background](../WDLang1/1000023999.md) | Declara el color de fondo y su opacidad para los siguientes dibujos. |
| [&lt;Imagen&gt;.DrawPoint](../WDLang1/1000024006.md) | Declara el color de los puntos y su opacidad para los siguientes dibujos. |
| [&lt;Imagen&gt;.Pen](../WDLang1/1000024016.md) | Declara el color de las líneas y su opacidad para los siguientes dibujos. |


	**Observación**: La función [&lt;Imagen&gt;.PixelOpacity](../WDLang1/1000024336.md) permite conocer la opacidad de un punto.

3. Utilice la función [&lt;Image&gt;.SavePNG](../WDLang1/1000024345.md) para guardar el dibujo en formato PNG con canales alfa (opacidad).




**Limite**: En modo "Gestión de la opacidad", la función [&lt;Imagen&gt;.DrawText](../WDLang1/1000024017.md) se limita al uso de fuentes True Type.
<a name="NOTE0_5"></a>
<a name="NOTE0_6"></a>



<a name="XComponent"></a>

## Componente:
wd280pnt.dll
