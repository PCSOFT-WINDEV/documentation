


## UI modificable por el usuario final
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000353"></a>
Por Default, las aplicaciones WINDEV permiten a los usuarios finales modificar la interfaz de la aplicación. 

Los usuarios finales pueden decidir si algunos elementos deben estar en la aplicación, pueden modificar y adaptar las ventanas a su propio uso. 

Hoy en día, todo el mundo personaliza la pantalla de su smartphone, ¿por qué no hacer lo mismo con sus aplicaciones?

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Principio
<a name="principio_ELTTEXTE000377"></a>
Cuando se habilita la modificación de la interfaz por parte del usuario final, aparecen varias opciones nuevas en tiempo de ejecución: 

- **Personalizar interfaz** (opción del menú contextual de la ventana): Permite al usuario final personalizar la interfaz de la ventana (ver abajo). <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=IMH_Modifiable_1%20-%20HC%20N%B0001.gif)


- **Notas reposicionables** (opción en el menú contextual de la ventana): Permite al usuario final añadir notas reposicionables en la ventana.. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=IMH_Modifiable_1%20-%20HC%20N%B0002.gif)
Para obtener más información, consulte [note reposicionable (AAF)](../Editeurs/1000021820.md). 




Para algunos tipos de control s, se utiliza una opción del menú contextual para modificar el tooltip de control (opción "Editar el tooltip"). 

**Observaciones**: 

- Las opciones del menú sólo aparecen si el menú AAF está habilitado en la ventana. 
	Recordatorio: Para activar el menú de la AAF: 

	- Abra la pestaña "UI" de la ventana description. 

	- Despliegue la opción "Menú Cont." y seleccione la opción "Mostrar el menú de las FAA (Sistema)".




- Durante la prueba de una ventana o de un proyecto (![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Ico_Go_Fenetre_WD_bl.gif) y ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_GO_Projet_WD.gif)), también están disponibles las opciones de modificación de la interfaz. Si se utilizan estas opciones, WINDEV propone automáticamente, al final de la prueba, incluir las modificaciones realizadas en la ventana actual. Para obtener más información, consulte [Uso de la modificación de la interfaz gráfica de usuario al ejecutar un proyecto o una prueba de ventana](../WDLang1/1000021927.md). 





### Personalizar interfaz
<a name="personalizar_interfaz_ELTPARAGRAPHE000066"></a>

Si la opción "Personalizar la interfaz" está seleccionada, tiene la posibilidad de pasar al modo de modificación (subopción "Pasar al modo de edición"). 

En este modo, el usuario puede realizar todas las operaciones permitidas por el desarrollador: 

- Seleccione uno o más controles,

- Mueve uno o más controles,

- Cree un cable entre varios controles,

- Editar el tooltip de los controles.




También tiene la capacidad de gestionar las modificaciones actuales: 

- **Importar una personalización**: Importa una personalización que se exportó de antemano (archivo\*.wdmodif)..  

- **Exportar la personalización de esta ventana**: Exporta la personalización de la ventana actual mediante un archivo con formato ".wdmodif".. 

- **Exportar todas las personalizaciones de la aplicación**: Exporta la personalización de la aplicación mediante un fichero en formato ".wdmodif".

- **Restaurar la configuración inicial**: Restaura la configuración inicial implementada por el desarrollador.. 




**Observación**: El archivo de exportación "\*.wdmodif" puede abrirse directamente en el editor WINDEV. En este caso, el editor propone aplicar al proyecto actual las modificaciones guardadas en las ventanas correspondientes.. 

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Implementación y configuración
<a name="implementacion_configuracion_ELTTEXTE000407"></a>


### Implementación
<a name="implementacion_ELTPARAGRAPHE000091"></a>

Por Default, todas las aplicaciones WINDEV creadas o compiladas a partir de la versión 21 permiten a los usuarios finales modificar el UI. 

Estas opciones se pueden configurar: 

- en el proyecto. Las opciones se tendrán en cuenta para todas las ventanas del proyecto. 
	Para configurar la modificación del usuario final UI: 

	1. Abra la ventana de descripción del proyecto: en la pestaña "Proyecto", en el grupo "Proyecto", haga clic en "Descripción".

	2. En la pestaña "Avanzado", haga clic en "Permitir que el usuario final modifique la UI". <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=IMH_Modifiable_2%20-%20HC%20N%B0001.gif&type=thumb)


	3. El botón "Opciones" permite especificar las opciones autorizadas. 

- para cada ventana. Las opciones se tendrán en cuenta sólo para la ventana seleccionada. 

	1. Abra la ventana description ("description" en el menú contextual de la ventana).  

	2. En la pestaña "Detalles", seleccione la opción "Permitir que el usuario final modifique la UI". <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=IMH_Modifiable_2%20-%20HC%20N%B0002.gif)


	3. El botón "Opciones" permite especificar las opciones autorizadas. 




Observación: Por Default, la configuración de las ventanas corresponde a la configuración del proyecto. 


### Configuración del proyecto y de las ventanas
<a name="configuracion_del_proyecto_las_ventanas_ELTPARAGRAPHE000135"></a>

Las opciones para configurar la UI son las siguientes: 

- **Ninguna modificación**. Desmarca automáticamente la opción "Permitir que el usuario final modifique la UI". Los usuarios finales no podrán modificar la interfaz de la aplicación. 
	Observaciones: 

	- Las notas reposicionables ya no pueden ser utilizadas por el usuario final.. 

	- Las opciones para modificar la interfaz ya no están disponibles cuando se ejecuta el ejecutable. Estas opciones siguen estando disponibles en el modo GO. 




- **Predeterminado**. Muestra y da la posibilidad de usar las opciones de Default. El botón "Mostrar" permite visualizar las opciones de Default. Estas opciones no se pueden modificar. 

- **Ajustes específicos**: Permite definir las opciones del proyecto o de la ventana.. Si se realiza una configuración específica para el proyecto, estas opciones se aplican automáticamente a las ventanas. 





### Opciones disponibles
<a name="opciones_disponibles_ELTPARAGRAPHE000165"></a>Las opciones disponibles para modificar la UI son las siguientes: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=IMH_Modifiable_2%20-%20HC%20N%B0003.gif)


- **Opciones con respecto a los controles**: 

	- Seleccionar: El usuario puede seleccionar un control. 

	- Selección múltiple: El usuario puede seleccionar varios controles mediante la tecla Ctrl o mediante el ratón. 

	- Mover: El usuario final puede mover los controles en la ventana. 

	- Redimensionar: El usuario final puede cambiar el tamaño de los controles que se encuentran en la ventana. 

	- Hacer visible/invisible: El usuario puede hacer visibles los controles o Invisible (esta opción no está disponible en esta versión). 

	- Editar tooltip: El usuario final puede modificar la información de la herramienta control. 
			Observación: La nueva opción "Editar información sobre herramientas" está disponible. Esta opción puede estar disponible en el menú contextual de la control o al pasar la ventana al modo de modificación. 




- **Opciones con respecto al cable control**: 

	- Agregar un conector: El usuario final puede crear un control de alambre entre dos control s. 

	- Modificar relaciones de un conector: El usuario final puede modificar los enlaces de un control de alambre con dos control s. 




- **Opciones con respecto a las notas reposicionables** (para más detalles, consulte [note reposicionable (AAF)](../Editeurs/1000021820.md) ). 

	- Agregar una nota reposicionable: El usuario final tendrá la posibilidad de añadir una note reposicionable en las ventanas de la aplicación (o en la ventana actual). La ventana contendrá la opción "Reposicionable note s .. Crear un note reposicionable ".. 

	- Editar texto: El usuario final tendrá la posibilidad de modificar el texto de la note reposicionable . 

	- Contraer o expandir: El usuario final tendrá la posibilidad de contraer o expandir la note reposicionable . 

	- Contraer automáticamente: El usuario final podrá utilizar el modo "Contraer automáticamente".: la note reposicionable se colapsará automáticamente después de 5 segundos. 







<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Programación y funciones avanzadas
<a name="programacion_funciones_avanzadas_ELTTEXTE000443"></a>


### Presentación
<a name="presentacion_ELTPARAGRAPHE000235"></a>

Varias propiedades y funciones de WLanguage pueden ser usadas para implementar y manejar la modificación de UI por el usuario final. 

Estas funciones le permiten describir un editor en WLanguage, con soporte para deshacer/rehacer. 


### Configuración de las opciones de modificación de UI mediante programación
<a name="configuracion_las_opciones_modificacion_mediante_programacion_ELTPARAGRAPHE000242"></a>

Para configurar las opciones de modificación de UI mediante programación: 

1. Utilice [WinEditMode](../Proprietes/1000021824.md) para configurar las acciones permitidas en una ventana y sus controles cuando la ventana pasa al modo "Permitir a los usuarios finales modificar el UI".. 

2. Utilice [WinEditPermitido](../Proprietes/1000021850.md) para configurar las acciones permitidas en un control cuando la ventana pasa al modo "Permitir a los usuarios finales modificar el UI".




Observación: Para evitar modificaciones de la interfaz de usuario de la ventana, use [AAFDisable](../WDLang1/1000022018.md) con el *aafCustomizeUI* 0 constante. En este caso, el menú contextual "Personalizar interfaz" ya no estará disponible. 


### Funciones WLanguage para gestionar la modificación de UI
<a name="funciones_wlanguage_para_gestionar_modificacion_ELTPARAGRAPHE000261"></a>

Estas funciones se pueden agrupar por tema: 

- Funciones de activación y copia de seguridad: 
	


|   |   |
| --- | --- |
| [WinEdActive](../WDLang1/1000021843.md) | Permite: <br><br>	- averiguar si el modo "Modificación de UI por el usuario final" está habilitado en una ventana (o ventana interna).<br><br>	- habilitar (o deshabilitar) el modo "Modificación de UI por el usuario final" en una ventana (o ventana interna).<br><br><br> |
| [WinEdLoad](../WDLang1/1000021849.md) | Carga las modificaciones realizadas por el usuario final en una ventana. |
| [WinEdRestore](../WDLang1/1000021869.md) | Cancela todas las modificaciones realizadas por el usuario final (Modo "Modificación de UI por el usuario final" activado). |
| [WinEdSave](../WDLang1/1000021848.md) | Guarda las modificaciones realizadas en el modo "Modificación de UI por el usuario final". |
| [WinEdSaveNote](../WDLang1/1000022120.md) | Exporta las notas reposicionables creadas por el usuario a un archivo. |

- Funciones para gestionar la selección de controles: 
	


|   |   |
| --- | --- |
| [WinEdDeselectAll](../WDLang1/1000021873.md) | Deselecciona todos los controles cuando la interfaz es modificada por el usuario final (Modo "Modificación de UI por el usuario final" activado). |
| [WinEdSelect](../WDLang1/1000021871.md) | Devuelve uno de los controles seleccionados cuando la interfaz es modificada por el usuario final (Modo "Modificación de UI por el usuario final" activado). |
| [WinEdSelectMinus](../WDLang1/1000021874.md) | Desactiva una control cuando la interfaz es modificada por el usuario final (modo "modificación de UI por el usuario final" activado). |
| [WinEdSelectOccurrence](../WDLang1/1000021870.md) | Indica el número de controles seleccionados cuando la interfaz es modificada por el usuario final (Modo "modificación de UI por el usuario final" activado). |
| [WinEdSelectPlus](../WDLang1/1000021872.md) | Selecciona una control cuando la interfaz es modificada por el usuario final (modo "modificación de UI por el usuario final" activado). |

- Funciones para la gestión de deshacer/rehacer: 
	


|   |   |
| --- | --- |
| [WinEdDeclareUndo](../WDLang1/1000021898.md) | Declara como Cancel una acción que fue añadida por [WinEdDo](../WDLang1/1000021897.md). |
| [WinEdDo](../WDLang1/1000021897.md) | Ejecuta una acción (definida mediante programación) con soporte para Deshacer/Rehacer. |
| [WinEdRedo](../WDLang1/1000021905.md) | Ejecuta la última acción cancelada por el usuario final al modificar la interfaz (Modo "Modificación de UI por el usuario final" activado). |
| [WinEdUndo](../WDLang1/1000021904.md) | Cancela la última acción realizada por el usuario final al modificar la interfaz (Modo "Modificación de UI por el usuario final" activado). |





### ¿Cómo conocer el tipo de modificación realizada por el usuario? 
<a name="¿como_conocer_tipo_modificacion_realizada_por_usuario_ELTPARAGRAPHE000278"></a>

Un Event específico se ejecuta cuando el usuario realiza una modificación de la interfaz (seleccionar, mover o redimensionar). 

Para saber el tipo de modificación, simplemente asocie un Event a la modificación de la interfaz de la ONU. Esta operación también puede ser realizada por [Process](../Proprietes/1000020878.md) y por las siguientes constantes: 


|   |   |
| --- | --- |
| *trtWinEdChangeSize* | Ejecución de Event al cambiar el tamaño de los controles. |
| *trtWinEdMove* | Event se ejecuta cuando se mueven los controles. |
| *trtWinEdSelection* | Event se ejecuta cuando se seleccionan los controles. |


Observación: En el procedimiento llamado por [Process](../Proprietes/1000020878.md), también tiene la capacidad de realizar un Process específico según las modificaciones realizadas por el usuario. 




