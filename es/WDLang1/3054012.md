


## Gestión del lenguaje de la aplicación a través de la programación
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000213"></a>
Una aplicación multilingüe puede distribuirse en varios idiomas. El usuario podrá elegir el idioma de la aplicación en tiempo de ejecución. Usted puede por ejemplo:

- pedir al usuario que elija el idioma de ejecución la primera vez que se inicie la aplicación, 

- incluir una opción (opción de menú o botón, por ejemplo) que permita a los usuarios cambiar el idioma mientras se ejecuta la aplicación.




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Definir el lenguaje de la aplicación a través de la programación
<a name="definir_lenguaje_aplicacion_traves_programacion_ELTTEXTE000237"></a>


### Idioma predeterminado
<a name="idioma_predeterminado_ELTPARAGRAPHE000021"></a>

Cuando se ejecuta el proyecto, se selecciona el idioma Default en las opciones del proyecto: 

- en la pestaña "Proyecto", en el grupo "Proyecto", haga clic en "Descripción". 

- seleccione la pestaña "Idioma. 

- seleccione el idioma de Default en la lista de idiomas del proyecto y seleccione "idioma de Default" de el menú contextual.


El cambio de idioma se realiza mediante programación.
<a name="NOTE2_2"></a>


### Cambiar el lenguaje a través de la programación
<a name="cambiar_lenguaje_traves_programacion_ELTPARAGRAPHE000046"></a>

Cambiar de idioma mediante la programación: 

1. Llame a [Nación](../WDLang1/3054014.md) y pase el idioma seleccionado como parámetro. El idioma seleccionado será tenido en cuenta por la primera función WLanguage llamada después de [Nación](../WDLang1/3054014.md) y para todas las ventanas, páginas e informes que se abran a partir de entonces.

2. Llamar a [LoadError](../WDLang1/3054003.md) para cargar el archivo de mensajes de error de los componentes (archivos WD\*.DLL) en el idioma seleccionado. El archivo de mensajes de error tiene una extensión WDM.
	Observaciones:

	- Si un fichero de mensajes está asociado a la lengua elegida en el proyecto description, no es necesario utilizar [LoadError](../WDLang1/3054003.md). 
			**Recordatorio**: El archivo de mensajes se define en la pestaña "Varios" del proyecto description. 
			Recordatorio: para abrir la descripción del proyecto, en la pestaña "Proyecto", en el grupo "Proyecto", haga clic en "Descripción. Seleccione la pestaña "Idioma". 

	- Los mensajes de error de los componentes están en inglés por Default. Se pueden traducir con WDINT.EXE. WDINT es una herramienta adicional. Póngase en contacto con el Departamento de ventas de PC SOFT para más información sobre las condiciones de uso de este producto.




3. **Si su aplicación admite lenguajes que utilizan conjuntos de caracteres específicos (griego, coreano,...)**se debe modificar por programación:

	- el carácter set utilizado ([ChangeCharset](../WDLang1/3054001.md)). Este conjunto de caracteres también se puede utilizar para datos guardados en archivos HFSQL. Para obtener más información, consulte [Gestionar conjuntos de caracteres específicos en los archivos de datos](../WDLang1/3054017.md).

	- el idioma del teclado utilizado por los usuarios de la aplicación (función [ChangeKeyboard](../WDLang1/3054002.md)).







**Ejemplo de inicialización Process del proyecto**:


```wl
// The language is chosen via RADIO_ChooseLanguage
SWITCH RADIO_ChooseLanguage
	CASE 1: // French
		Nation(nationFrench)
	CASE 2: // English
		Nation(nationEnglish)
		IF LoadError("ENGLISH.WDM") > 0 THEN
			Error("Message file not found.",...
				"The messages will be displayed in French.")
		END
	CASE 3: // Spanish
		Nation(nationSpanish)
		IF LoadError("SPANISH.WDM") > 0 THEN
			Error("Message file not found.",...
			"The messages will be displayed in French.")
		END
	CASE 4: // Greek
		Nation(nationGreek)
		IF LoadError("GREEK.WDM") > 0 THEN
			Error("Message file not found.",...
			"The messages will be displayed in French.")
		END
		ChangeCharset(charsetGreek)
		ChangeKeyboard(charsetGreek)
END
```


![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Para cambiar el idioma mediante programación, basta con llamar a [Nación](../WDLang1/3054014.md) con el idioma seleccionado como parámetro. El idioma seleccionado será tenido en cuenta por la primera función WLanguage llamada después de [Nación](../WDLang1/3054014.md) y para todas las ventanas que se abran a partir de entonces.
<a name="NOTE2_3"></a>


### Consejo
<a name="consejo_ELTPARAGRAPHE000116"></a>

Se pueden utilizar varios métodos para elegir el idioma del proyecto:

- Almacenado en un archivo de parámetros. En este caso, el cambio de idioma se puede realizar en la inicialización Process del proyecto y será efectivo desde la primera ventana o página del proyecto.

- Seleccionado por una opción de menú. En este caso, el menú se mostrará en el idioma de Default y el cambio de idioma se realizará cuando se abra la siguiente ventana o página.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Mecanismo de idiomas preferidos para los componentes externos
<a name="mecanismo_idiomas_preferidos_para_los_componentes_externos_ELTTEXTE000273"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/us/WINDOWS.png) 

### Principio
<a name="principio_ELTPARAGRAPHE000130"></a>

Si un componente externo utilizado en el proyecto soporta menos idiomas (o idiomas diferentes) que el proyecto, se utiliza el mecanismo de los idiomas preferidos para mostrar la información deseada (procedente del componente externo) en un idioma cercano al deseado.

**Ejemplo**: Un componente externo propone una ventana que se tradujo al francés, inglés y ruso.. Una opción de menú en la aplicación que utiliza el componente externo permite que esta ventana se muestre en alemán..
El mecanismo de los idiomas preferidos busca el idioma alemán, el idioma inglés y el idioma americano..
En nuestro ejemplo, la ventana se mostrará en inglés.

**Ventaja**: si utiliza un componente externo que no es compatible con los mismos idiomas de su aplicación, siempre se mostrará una traducción (aunque no corresponda exactamente al idioma deseado).

**Observación**: La interfaz del componente externo también puede ser traducida al idioma deseado. Para obtener más información, consulte [Traducción de los componentes externos](../Editeurs/2014014.md).
<a name="NOTE3_2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/us/WINDOWS.png) 

### Secuencia de preferencias
<a name="secuencia_preferencias_ELTPARAGRAPHE000152"></a>

El idioma solicitado es buscado por Default.

Si no se encuentra este idioma, primero se buscan y se muestran las traducciones en inglés.

Si el inglés no está en associated con el elemento, se busca y se muestra el americano.

**Casos especiales**: 

- Si se busca en inglés y no se encuentra, se buscará en americano.

- Si se busca en América y no se encuentra, se buscará en Inglaterra.

- Si se busca el francés canadiense y no se encuentra, se buscará el francés, luego el americano y luego el inglés.

- Si se busca el portugués y no se encuentra, se buscará el portugués brasileño, luego el inglés y luego el americano.

- Si se busca el portugués brasileño y no se encuentra, se buscará el portugués, luego el inglés y luego el americano.





