
## SysDirExternalStorage( Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Devuelve la ruta del directorio que se utilizará para almacenar archivos en el espacio de almacenamiento externo del dispositivo Android.

**En Android 11**, las aplicaciones ya no pueden acceder a determinadas ubicaciones de almacenamiento. Para más detalles sobre los lugares de almacenamiento accesibles, consulte [Android 11: Cambios en el comportamiento de las aplicaciones](../Editeurs/9000201.md).
<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// Save a photo in the application directory 
// on the primary external storage space of application
sPhoto is string = VideoStartApp(viPictureCapture)
IF sPhoto <> "" _AND_ SysStatusExternalStorage(i) = sseAvailable THEN
	fCopyFile(sPhoto, SysDirExternalStorage(1, sseAppPhoto))
END
```

<a name="XSYNTAX"></a>

## Sintaxis
<a name="SYNTAX1"></a>

`<Result> = SysDirExternalStorage(<Index> , <Type>)`
---

**`<Result>: (Cadena de caracteres)`**



- Ruta del directorio especificado. 

- Cadena vacía ("") si se produce un error.




**`<Index>: (Integro)`**

Índice del espacio de almacenamiento externo que se va a utilizar (si el dispositivo incluye varios espacios de almacenamiento externo). 
Observación: [SysNbExternalStorage](../WDLang1/1000021816.md) devuelve el número de espacios de almacenamiento externos encontrados en el dispositivo.

**`<Type>: (Constante de tipo Integer)`**

Tipo de directorio para el que se busca la ruta al almacenamiento externo. Este parámetro puede ser una de las siguientes constantes: 


|   |   |
| --- | --- |
| *sseAppDocument* | Directorio de documentos de aplicación.<br><br>Directorio accesible en modo Lectura/Escritura. |
| *sseAppFile* | Directorio de archivos específicos de la aplicación.<br><br>Directorio accesible en modo Lectura/Escritura. |
| *sseAppMusic* | Directorio de archivos de música de la aplicación.<br><br>Directorio accesible en modo Lectura/Escritura. |
| *sseAppPhoto* | Directorio de imágenes de aplicaciones.<br><br>Directorio accesible en modo Lectura/Escritura. |
| *sseAppDownload* | Directorio de descargas de aplicaciones.<br><br>Directorio accesible en modo Lectura/Escritura. |
| *sseAppVideo* | Directorio de vídeos de aplicaciones.<br><br>Directorio accesible en modo Lectura/Escritura. |
| *ssePublic* | Directorio raíz del espacio de almacenamiento externo.<br><br>Directorio accesible en modo sólo lectura. |
| *ssePublicDocument* | Directorio de documentos compartidos.<br><br>Directorio accesible en modo sólo lectura. |
| *ssePublicMusic* | Directorio de archivos de música compartidos.<br><br>Directorio accesible en modo sólo lectura. |
| *ssePublicPhoto* | Directorio de imágenes compartidas.<br><br>Directorio accesible en modo sólo lectura. |
| *ssePublicDownload* | Directorio de archivos compartidos descargados.<br><br>Directorio accesible en modo sólo lectura. |
| *ssePublicVideo* | Directorio de vídeos compartidos.<br><br>Directorio accesible en modo sólo lectura. |





<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Existencia y disponibilidad
<a name="existencia_disponibilidad_ELTPARAGRAPHE000132"></a>

- El directorio que corresponde a la ruta devuelta por la función **SysDirExternalStorage** podría no existir. Debe comprobar su existencia con [fDirExist](../WDLang1/1000021899.md) y/o crearla con [fMakeDir](../WDLang1/3036043.md).

- Antes de acceder a un directorio situado en el área de almacenamiento externo del dispositivo, se recomienda comprobar su disponibilidad con [SysStatusExternalStorage](../WDLang1/1000021798.md).





### Gestión de archivos y su ubicación
<a name="gestion_archivos_ubicacion_ELTPARAGRAPHE000149"></a>

- Los archivos de la aplicación que no deben ser compartidos con otras aplicaciones deben ser almacenados en el directorio de la aplicación en el espacio de almacenamiento interno de la aplicación. La ruta de los diferentes subdirectorios es devuelta por [fCurrentDir](../WDLang1/3036022.md), [fExeDir](../WDLang1/3036049.md), [fDataDir](../WDLang1/3036001.md) y [fCacheDir](../WDLang1/1000021819.md).

- Al desinstalar la aplicación, el sistema borrará automáticamente los archivos que agrupan las siguientes características: 

	- Los ficheros encontrados en el directorio de la aplicación en el espacio de memoria externo.

	- los archivos correspondientes a las constantes *sseAppFile*, *sseAppMusic*, *sseAppVideo*, *sseAppPhoto*, *seeAppDownload* y *sseAppDocument*.




- Los archivos compartidos del espacio de almacenamiento externo corresponden a las constantes *ssePublic*, *ssePublicVideo*, *ssePublicMusic* , *ssePublicPhoto*, *ssePublicDocument* y *ssePublicDownload* son escaneados regularmente por el sistema que se va a enumerar. A continuación, las fotos, por ejemplo, se muestran en los álbumes del dispositivo.. Estos archivos no se eliminarán al desinstalar la aplicación.

- A partir de Android 4.4 (KitKat), si el espacio de almacenamiento externo corresponde a la memoria móvil (SDCard), las aplicaciones pueden crear, modificar o eliminar archivos sólo en su propio directorio (directorios correspondientes a las constantes *sseAppXXX*). Los demás archivos que se encuentran en el espacio de almacenamiento externo son accesibles en modo de sólo lectura.

- **A partir de Android 10**, las aplicaciones deben acceder únicamente a los archivos situados en sus propios directorios. Cualquier intento de acceder a archivos fuera de estos directorios (en modo de lectura o escritura) puede fallar. Se recomienda no utilizar las constantes *ssePublicxxx* para evitar errores. 
	Observación: Las aplicaciones ejecutadas en Android 10 y generadas con WINDEV Mobile funcionarán como de costumbre (si utiliza el parche 118661 o WINDEV Mobile 25 Actualización 4).. 

- **Cuando la aplicación se utiliza en un dispositivo que ejecuta Android 11**, aparecen nuevas restricciones: 

	- las aplicaciones ya no pueden leer o escribir archivos en el almacenamiento externo fuera de: 

		- directorios públicos como "Documentos", "Descargas", "Imágenes", etc..: utilizar [SysDirExternalStorage](../WDLang1/1000021793.md) con las constantes ssePublicXXX. 

		- directorios específicos de la aplicación: utilizar [SysDirExternalStorage](../WDLang1/1000021793.md) con las constantes sseAppXXX.




- en los directorios públicos, una aplicación sólo puede acceder (en modo de lectura o escritura) a los archivos que ha creado. 
			Observación: si la aplicación se desinstala y se vuelve a instalar, ya no tendrá acceso a los archivos creados por la versión previamente instalada en los directorios públicos del almacenamiento externo.




<a name="XComponent"></a>

## Componente:
wd280android.jar
