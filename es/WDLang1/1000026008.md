
## SysBatteryOptimBackground( Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Se utiliza para gestionar la optimización de la batería: 

- Identifica el modo de optimización de la batería para la aplicación actual. 

- Indica al usuario que desactive la optimización de la batería para una aplicación determinada en el dispositivo. 


Esta función puede utilizarse para indicar al sistema operativo que deje de impedir que la aplicación se ejecute en la Background.
<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// If battery optimization is enabled, 
// prompt the user to disable it.
IF SysBatteryOptimBackground() = sboOptimized THEN
	SysBatteryOptimBackground(sboRequestDisable)
END
```

<a name="XSYNTAX"></a>

## Sintaxis
<a name="SYNTAX1"></a>

### Identificar el modo de optimización de la batería para la aplicación actual

`<Result> = SysBatteryOptimBackground()`
---

**`<Result>: (Constante de tipo Integer)`**

Estado de optimización de la batería para la aplicación: 



|   |   |
| --- | --- |
| *sboNotOptimized* | La optimización de la batería no está habilitada para la aplicación. |
| *sboOptimized* | La optimización de la batería está habilitada para la aplicación. |




<a name="SYNTAX2"></a>

### Cambiar el modo de optimización de la batería para la aplicación actual

`SysBatteryOptimBackground(<Mode>)`
---

**`<Mode>: (Constante de tipo Integer)`**

Modo de llamada de función: 


|   |   |
| --- | --- |
| *sboRequestDisable* | Muestra un mensaje del sistema pidiendo al usuario que desactive la optimización de la batería para una aplicación determinada. Si la optimización de la batería está desactivada, no hay acción. |
| *sboSystemSettings* | Abre la ventana de configuración que contiene la lista de aplicaciones para las que se ha desactivado la optimización de la batería. |





<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Google y desactivar la optimización de la batería
<a name="google_desactivar_optimizacion_bateria_ELTPARAGRAPHE000062"></a>

Google no recomienda desactivar la optimización de la batería. La mayoría de las aplicaciones no deberían utilizar esta opción. Sólo debe utilizarse para casos especiales en los que sea necesario mantener la control completa de la ejecución de la aplicación en la Background.

**Atención**: En algunas Phone s, la lista de aplicaciones no optimizadas/optimizadas no se actualiza a menos que se reinicie la Phone. Este comportamiento ha sido definido por Google. Sin embargo, la petición de desactivar la optimización de la batería sí tiene efecto: la página de ajustes de Android es la única página que puede no estar actualizada (esto puede causar problemas al volver a activar la optimización de la batería).


### Permisos necesarios
<a name="permisos_necesarios_ELTPARAGRAPHE000069"></a>

La llamada a esta función modifica los permisos requeridos por la aplicación. 
Requerido Permission: REQUEST_IGNORE_BATTERY_OPTIMIZATIONS: Permite que la aplicación pida al usuario que desactive la optimización de la batería. 

**Atención**: Si utilizas esta Permission sin una buena razón, Google puede eliminar tu aplicación de la Play Store.


### Requisito
<a name="requisito_ELTPARAGRAPHE000078"></a>

**SysBatteryOptimBackground** sólo está disponible para los dispositivos que funcionan con Android 6.0 o superior (nivel 23 de API)..
Si se utiliza la función con una versión anterior del sistema, se produce un error fatal. 
Para determinar la versión de Android en la que se está ejecutando la aplicación, utilice la función [SysAndroidVersion](../WDLang1/1000019785.md).
<a name="NOTE0_5"></a>

<a name="XComponent"></a>

## Componente:
wd280android.aar
