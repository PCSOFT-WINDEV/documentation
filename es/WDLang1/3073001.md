


## SysIconAdd( Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Añade una bandeja de sistema Icon (en la parte inferior derecha Corner de la pantalla).<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=SysIconeAjoute%20-%20HC%20N%B0001.gif)


Los siguientes elementos pueden ser associated con este Icon:

- un menú contextual,

- un tooltip que se muestra al pasar el ratón (o el lápiz óptico) por encima de la Icon,

- una Procedure llamada automáticamente cuando el usuario interactúa con la Icon.



<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo
<a class="notetitle" target="_blank" href="$DOC$=1000003073001&name=sysiconadd_funcion&product=WD">Ver ejemplos adicionales</a>

```wl
// Add the "C:\Icons\Icon.ICO" icon to the taskbar
ResAddIcon = SysIconAdd("C:\Icons\Icon.ICO", "", "Sales 2022")
```
<a name="Example2"></a>

```wl
pProc is Procedure = MyProc
SysIconAdd(fExeDir() + "\icon.ico", MENU_NoName1, "Message", pProc)
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis

`<Result> = SysIconAdd(<Icon> [, <Menu name> [, <Hover text> [, <WLanguage procedure>]]])`
---

**`<Result>: (booleano)`**



- <u><u><u><u>True</u></u></u></u> si se agregó el ícono,

- <u><u><u><u>False</u></u></u></u> en caso contrario.




**`<Icon>: (Cadena de caracteres o Icono Variable)`**

Corresponde a uno de los siguientes elementos: 

- Nombre y ruta completo (o relativo) del archivo Icon para agregar. Se permite el uso de un horario UNC ruta.

- Nombre de una variable de tipo [Icon](../WDLang1/1000020811.md). 


**Observación**: La primera imagen válida (que no sea PNG) que se encuentra en el archivo Icon se utiliza y se adapta al formato 16x16. Si el archivo Icon contiene en primera posición un Image en 16x16 / 32 bpp, la calidad del Icon será muy alta. Si el archivo Icon contiene en primera posición un Image en 48x48 / 32 bpp, la calidad del Icon será muy pobre.

**`<Menu name>: (Cadena de caracteres opcional)`**

Nombre del menú contextual associated con el Icon. 
Si este parámetro corresponde a una cadena vacía ("") o si no se especifica, ningún menú será associated con el Icon.

Este menú se mostrará cuando se haga un clic derecho en la Icon con el ratón (o con el lápiz). Este menú debe pertenecer a una ventana abierta (esta ventana se puede ocultar).

**`<Hover text>: (Cadena de caracteres opcional)`**

Tooltip se muestra al pasar el ratón o el lápiz sobre Icon (hasta 64 caracteres). 
Si este parámetro no se especifica o es una cadena vacía (""), no se mostrará ninguna información sobre herramientas.

**`<WLanguage procedure>: (Nombre de procedimiento opcional)`**

Nombre de la WLanguage Procedure llamada durante una operación de ratón (o lápiz) en el Icon. Si no se especifica este parámetro, no se ejecutará ningún Procedure cuando haya una acción del ratón sobre el Icon.

**Observación**: Este parámetro puede corresponder a un [Procedure](../Motscles/1000018907.md) Variable.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Acciones del ratón (o lápiz óptico) en el Icon
<a name="acciones_del_raton_lapiz_optico_icon_ELTPARAGRAPHE000077"></a>

&lt;WLanguage Procedure&gt; se llama en cada acción del ratón (o stylus) sobre el Icon. Este procedimiento se declara de la siguiente manera:


```txt
PROCEDURE <Procedure name>(<Type of mouse/stylus operation>)
```
donde &lt;Tipo de operación del ratón/estilo&gt; corresponde al mensaje de Windows que identifica el tipo de operación realizada por el ratón o el estilete.

Para gestionar fácilmente las constantes correspondientes a los diferentes tipos de operación, inserte el siguiente código en el código de inicialización del proyecto:


```wl
EXTERN "WinConst.wl"
```
El archivo Winconst.wl contiene todas las declaraciones de las constantes de Windows.

Los diferentes tipos de operaciones para el ratón son:

- Doble clic con el botón izquierdo: WM_LBUTTONDBLCLK = 515

- Botón izquierdo presionado: WM_LBUTTONDOWN = 513

- Botón izquierdo liberado: WM_LBUTTONUP = 514

- Doble clic en el medio: WM_MBUTTONDBLCLK = 521

- Botón central presionado: WM_MBUTTONDOWN = 519

- Botón central arriba: WM_MBUTTONUP = 520

- Doble clic con el botón derecho: WM_RBUTTONDBLCLK = 518

- Botón derecho pulsado: WM_RBUTTONDOWN = 516

- Botón derecho arriba: WM_RBUTTONUP = 517




Los diferentes tipos de operaciones para el lápiz táctil son:

- Doble clic: WM_LBUTTONDBLCLK = 515

- Botón presionado: WM_LBUTTONDOWN = 513

- Abróchate el botón: WM_LBUTTONUP = 514



<a name="NOTE0_2"></a>


### Iconos de la barra de tareas
<a name="iconos_barra_tareas_ELTPARAGRAPHE000111"></a>

- Una sola Icon puede añadirse a una aplicación. No se pueden añadir varios.

- [SysIconModify](../WDLang1/3073027.md) se utiliza para modificar el Icon.

- [SysIconBorrar](../WDLang1/3073022.md) se utiliza para borrar el Icon. El Icon se borra automáticamente al cerrar la aplicación.

- Para añadir la Icon a la barra de tareas sin mostrar la aplicación en la barra de tareas, debe:

	- Utilice **SysIconAdd** para mostrar el Icon de la aplicación.

	- Haga la aplicación Invisible aplicando [WinStatus](../WDLang1/3038030.md) a la primera ventana del proyecto.







<a name="XComponent"></a>

## Clasificación Lógica de negocio / UI:
Lógica de negocio
## Componente:
wd280std.dll
