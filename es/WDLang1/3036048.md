


## Lectura (Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Lee un bloque de bytes en un archivo externo. 

![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) En esta versión, sólo se puede leer un string de caracteres de un fichero externo en formato ANSI.




<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo
<a class="notetitle" target="_blank" href="$DOC$=1000003036048&name=lectura_funcion&product=WD">Ver ejemplos adicionales</a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png) 
```wl
// Open an external file
FileID = fOpen("C:\MyDirectories\File.txt", foReadWrite)
IF FileID <> -1 THEN
	// Read operation in this file
	ResRead = fRead(FileID, 200)
	...
END
```


![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png) 
```wl
// Open an external file
MyFile is DiskFile
MyFile = fOpen("C:\MyDirectories\File.txt", foReadWrite)
IF NOT ErrorOccurred THEN
	// Read operation in this file
	ResRead = fRead(MyFile, 200)
	...
END
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis

### La lectura de un bloque de bytes en un archivo externo

`<Result> = fRead(<File used> , <Number of bytes to read>)`
---

**`<Result>: (Cadena de caracteres)`**



- Bloque de bytes que se ha leído. 

- Cadena vacía ("") si se produce un error. Para obtener más información sobre el error, utilice la función [ErrorInfo](../WDLang1/3013008.md) con la constante *errMessage*.




**`<File used>: (Entero o DiskFile Variable)`**



- Identificador del archivo a utilizar, definido por [fOpen](../WDLang1/3036036.md) o [fCreate](../WDLang1/3036017.md).

- Nombre de la variable [DiskFile](../WDLang1/1410088883.md) inicializada con [fOpen](../WDLang1/3036036.md) o [fCreate](../WDLang1/3036017.md).
	




**`<Number of bytes to read>: (Integro)`**

Número de bytes a leer (hasta 2 147 483 648 bytes). 

Si los datos son una cadena Unicode, el número de bytes a leer corresponde a: 

- en UTF16: el número de caracteres multiplicado por 2.

- en UTF32: el número de caracteres multiplicado por 4.  





<a name="SYNTAX2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png) 
### Leer el contenido de un archivo externo y asignarlo a una zona de memoria (identificada por su Address)

`<Result> = fRead(<File used> , <Number of bytes to read> , <Address>)`
---

**`<Result>: (Integro)`**



- Número de bytes leídos,

- 0 si se produce un error. Para obtener más información sobre el error, utilice la función [ErrorInfo](../WDLang1/3013008.md) con la constante *errMessage*.




**`<File used>: (Entero o DiskFile Variable)`**



- Identificador del archivo a utilizar, definido por [fOpen](../WDLang1/3036036.md) o [fCreate](../WDLang1/3036017.md).

- Nombre de la variable [DiskFile](../WDLang1/1410088883.md) inicializada con [fOpen](../WDLang1/3036036.md) o [fCreate](../WDLang1/3036017.md).




**`<Number of bytes to read>: (Integro)`**

Número de bytes a leer (hasta 2 147 483 648 bytes). 

Si los datos son una cadena Unicode, el número de bytes a leer corresponde a: 

- en UTF16: el número de caracteres multiplicado por 2.

- en UTF32: el número de caracteres multiplicado por 4.  




**`<Address>: (Address)`**

Address de la sección de memoria afectada.  



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Gestión de errores
<a name="gestion_errores_ELTPARAGRAPHE000211"></a>

La función **Lectura** genera un error en los siguientes casos:

- el archivo no se abre,

- el archivo no es accesible en modo de lectura,

- el archivo está bloqueado por otro ordenador o por otra aplicación,

- se ha llegado al final del archivo.



<a name="NOTE0_2"></a>


### Posición en el fichero
<a name="posicion_fichero_ELTPARAGRAPHE000227"></a>

Al abrir un archivo, la posición actual corresponde a:

- el primer byte del archivo (por Default),

- el último byte del archivo es el archivo está abierto en modo "adición" (constante *foAdd*).




Esta posición puede ser modificada por [fSeek](../WDLang1/3036039.md).

La función **Lectura** lee los elementos especificados a partir de la posición actual. Una vez ejecutado **Lectura**, la posición actual es set al último byte leído.

Observación: Para leer siempre el principio del archivo, debe llamar a [fSeek](../WDLang1/3036039.md) y luego a **Lectura**. 





<a name="XComponent"></a>

## Clasificación Lógica de negocio / UI:
Lógica de negocio
## Componente:
wd280std.dll
