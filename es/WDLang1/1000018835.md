


## dbgEnableAudit( Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Permite la auditoría dinámica a través de la programación.

El informe de la auditoría dinámica es un archivo ".waudit" que contiene los comportamientos inválidos o anormales y las operaciones que consumen tiempo, ... Por ejemplo:

- las aseveraciones (aunque no sean de Active).

- los errores no mortales no procesados.

- los errores fatales (excepciones), independientemente de que sean procesados por WHEN EXCEPTION o no.

- las advertencias de ejecución relativas a las anomalías del proyecto (que exceden la capacidad de un Variable, ...).

- las advertencias de ejecución relativas a los problemas de rendimiento (recursos encontrados en una red y no encontrados, ....).

- los comentarios y advertencias sobre la ejecución personalizada.




**Observación**: Si el proyecto correspondiente a la auditoría dinámica se abre en el editor, el archivo de auditoría se puede abrir directamente en el editor.: 

- en la pestaña "Inicio", en el grupo "General", amplíe "Abrir", seleccione "Abrir" y seleccione el archivo ".waudit" deseado.

- al realizar un arrastrar y soltar un archivo ".waudit" desde el explorador de archivos al editor. 





<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// Enables the dynamic audit with all the options enabled
dbgEnableAudit()
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis

`<Result> = dbgEnableAudit([<Name of audit file> [, <Options>]])`
---

**`<Result>: (booleano)`**



- <u><u><u><u>True</u></u></u></u> si se ha iniciado la auditoría dinámica,

- <u><u><u><u>False</u></u></u></u> en caso contrario.




**`<Name of audit file>: (Cadena de caracteres opcional)`**

Ubicación y nombre del archivo de auditoría a crear. El nombre y la ubicación del archivo de auditoría pueden ser: 

- totalmente personalizado. 

- construido con las siguientes palabras clave: 
	


|   |   |
| --- | --- |
| [%ExeDir%] | Directorio del ejecutable, siempre rellenado con el carácter "\\".. Este directorio es equivalente al resultado de [fExeDir](../WDLang1/3036049.md). |
| [%exeName%] | Nombre del ejecutable. |
| [%Fecha%] | Fecha de inicio de la auditoría de tiempo de ejecución (formato AAAAMMDDD). |
| [%Hora%] | Tiempo de inicio de la auditoría de tiempo de ejecución (formato HHMMSS). |
| [%NombreUsuario%] | Nombre del usuario actual. |
| [%NombreDeLaComputadora%] | Nombre del ordenador. |
| [%DataDir%] | Directorio de los archivos de datos HFSQL especificados por el usuario al instalar la aplicación. Este directorio es equivalente al resultado de [fDataDir](../WDLang1/3036001.md). |
| [%DirUserData%] | Directorio para los datos del usuario actual de la aplicación actual. Este directorio es equivalente al resultado de [fDataDirUser](../WDLang1/3036071.md). |





Por Default: 

- la extensión del archivo de auditoría es ".wdaudit". 

- el nombre del archivo de auditoría corresponde a: "[%UserDataDir%][%ExeName%]_[%Date%]_[%Time%]". 
	Por ejemplo: "C:\\Usuarios\\Doc\\AppData\\Roaming\\Aplicaciones WINDEV\\MyApp\\MyApp_20071023_130812.waudit".




Atención: Si utiliza la construcción dinámica de cadenas ("Permitir "[% %]" en las cadenas" en la pestaña "Compilación" del proyecto description), se produce un error de compilación (identificador desconocido). En este caso, cada cadena debe ir precedida de '-%'.. Ejemplo: 

```wl
dbgEnableAudit("[%DirUserData%][%ExeName%]_[%Date%]_[%Time%]")
```
se convierte
```wl
dbgEnableAudit(-%"[%DirUserData%][%ExeName%]_[%Date%]_[%Time%]")
```


**`<Options>: (Constante o combinación de constantes de tipo Integer (opcional))`**

Permite configurar las opciones de la auditoría dinámica:


|   |   |
| --- | --- |
| *AuditAll*<br>(Valor predeterminado) | Todos los eventos de auditoría se escriben en la auditoría dinámica. |
| *AuditAssertion* | Las afirmaciones están escritas en la auditoría dinámica. |
| *AuditComment* | Los comentarios de auditoría se escriben en la auditoría dinámica. Una auditoría comment está escrita por [dbgWriteCommentAudit](../WDLang1/1000018839.md). |
| *AuditEnabled* | La auditoría dinámica se activa inmediatamente. |
| *AuditError* | Los errores no fatales no procesados se escriben en la auditoría dinámica. |
| *AuditException* | Los errores fatales, procesados por WHEN EXCEPTION o no procesados, se escriben en la auditoría dinámica. |
| *AuditPause* | La auditoría dinámica se inicializa pero no se activa inmediatamente. Se puede habilitar a partir de entonces por [dbgAuditStatus](../WDLang1/1000018836.md). |
| *AuditWarningAnomaly* | Los avisos de ejecución relativos a las anomalías detectadas se escriben en la auditoría dinámica. |
| *AuditWarningPerformance* | Las advertencias de ejecución relativas al rendimiento se registran en la auditoría dinámica. |
| *AuditWarningUser* | Las advertencias de ejecución personalizadas se escriben en la auditoría dinámica. Una advertencia personalizada es activada por [dbgWriteWarningAudit](../WDLang1/1000018838.md). |





<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Modo de funcionamiento de la auditoría dinámica
<a name="modo_funcionamiento_auditoria_dinamica_ELTPARAGRAPHE000271"></a>

- **dbgEnableAudit** debe llamarse sólo una vez. Cualquier otra llamada a esta función no tendrá efecto.

- Para activar o desactivar temporalmente la auditoría dinámica, utilice [dbgAuditStatus](../WDLang1/1000018836.md).

- Para modificar las opciones de la auditoría dinámica, utilice [dbgAuditOption](../WDLang1/1000018837.md).


![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) **Observación**: La auditoría dinámica también puede iniciarse a través del archivo ".wx" junto al ejecutable. Para obtener más información, consulte [Auditoría dinámica](../Editeurs/1014502.md).


### Varios
<a name="varios_ELTPARAGRAPHE000293"></a>

- **dbgEnableAudit** puede utilizarse en un servicio web REST. 

- Puede definir cualquier ubicación para el archivo de auditoría. En este caso, tenga en cuenta que puede haber problemas relacionados con Permission. 
	Recordatorio: Generalmente, el directorio de datos es accesible en modo de escritura.   





## Componente:
wd280vm.dll
