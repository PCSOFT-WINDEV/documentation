


## Telemetría personalizada
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000277"></a>
La telemetría personalizada permite definir los elementos que se incluirán en los análisis. Estos elementos se definen mediante "sensores". 

- Estos sensores se pueden configurar en el editor de telemetría.  

- El valor de los sensores se puede modificar en el código de la aplicación, utilizando diferentes funciones de WLanguage. 


Los resultados de esta telemetría personalizada se mostrarán en widgets específicos. 

**Para usar datos personalizados en la telemetría** , debe: 

- Crear una telemetría personalizada. 

- Crear los widgets mostrados por la telemetría. 

- Configurar los widgets definiendo qué información captada por los sensores se mostrará. 

- Incluir en el código las llamadas necesarias para gestionar los sensores. 

- Desplegar la aplicación y su telemetría personalizada. 




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Crear una telemetría personalizada
<a name="crear_una_telemetria_personalizada_ELTTEXTE000301"></a>
Se puede crear una telemetría personalizada: 

- a través del panel "Explorador de proyectos".: 

	1. En el panel "Explorador de proyectos", seleccione la carpeta "Telemetrías personalizadas".. 

	2. En el menú contextual de la carpeta (clic derecho), seleccione "Nueva telemetría personalizada". 

	3. El panel "Telemetría personalizada" aparece en la cinta del editor.

	4. Crear los diferentes sensores y widgets para la telemetría personalizada. 

	5. Guarde la telemetría personalizada (Ctrl + S o ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Enregistrer.gif) en los botones de acceso rápido).




- a través del editor de telemetría: 

	1. En la pestaña "Telemetría", en el grupo "Telemetría personalizada", haga clic en "Nuevo".. 

	2. El panel "Telemetría personalizada" aparece en la cinta del editor.

	3. Crear los diferentes sensores y widgets para la telemetría personalizada. 

	4. Guarde la telemetría personalizada (Ctrl + S o ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Enregistrer.gif) en los botones de acceso rápido).







<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Creación de sensores y widgets associated para la telemetría personalizada
<a name="creacion_sensores_widgets_associated_para_telemetria_personalizada_ELTTEXTE000325"></a>


### Creación de sensores para la telemetría personalizada
<a name="creacion_sensores_para_telemetria_personalizada_ELTPARAGRAPHE000064"></a>

Para crear un sensor en una telemetría personalizada: 

1. En la pestaña "Telemetría personalizada", en el grupo "Sensores", haga clic en "Sensor".. 

2. Aparece la ventana de configuración del sensor. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=T%E9l%E9m%E9trie_perso%20-%20HC%20N%B0001.gif)
 En esta ventana, puede especificar: 

	- El tipo de sensor: 

		- Waypoint: Este tipo de sensor permite contabilizar los elementos tomados en cuenta por la telemetría. Por ejemplo, puede contar el número de facturas nuevas, de facturas anuladas, de usuarios que han utilizado una función determinada, etc.

		- Medición de un valor: Este tipo de sensor se utiliza para contar un elemento. Por ejemplo, puede contar el número de productos por factura, etc.

		- Medición del tiempo: Este tipo de sensor se utiliza para medir el tiempo que se tarda en completar una acción. Por ejemplo, puede medir el tiempo que se tarda en preparar un pedido. 




- El modo de agregación utilizado por el sensor: 

	- En función del tiempo únicamente: Los datos se agruparán sólo por tiempo. 

	- En función del tiempo y de una categoría: Los datos se agruparán según el tiempo y la categoría especificada. 

3. Validar. El nuevo sensor aparece en el widget "Lista de sensores".. 





### Creación de widgets associated con sensores no categorizados
<a name="creacion_widgets_associated_con_sensores_categorizados_ELTPARAGRAPHE000091"></a>

Puede crear diferentes tipos de widgets para mostrar los datos de un sensor no categorizado: 

- **Widget de tipo Valor**: 

	1. En la pestaña "Telemetría personalizada", en el grupo "Widgets", haga clic en "Valores".. 

	2. Aparece la ventana de configuración del widget: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=T%E9l%E9m%E9trie_perso%20-%20HC%20N%B0002.gif&type=thumb)
 En esta ventana, puede especificar: 

		- El título del widget. 

		- La información que debe mostrarse: 

			- El nombre del sensor a utilizar. 

			- La información que debe mostrarse: Número, tiempo, número de pasajes, número de usuarios, porcentaje de usuarios, ... 
										La información varía según el tipo de sensor. 

			- La leyenda




3. Se pueden mostrar varios valores en el mismo widget. Pulse el botón "+" para añadir un nuevo valor a mostrar. 

4. Validar la ventana para la configuración de widgets. 

- **Widget de tipo Gráfico**: 

	1. En la pestaña "Telemetría personalizada", en el grupo "Widgets", haga clic en "Gráfico".. 

	2. Aparece la ventana de configuración del widget: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=T%E9l%E9m%E9trie_perso%20-%20HC%20N%B0003.gif&type=thumb)
 En esta ventana, puede especificar: 

		- El tipo de gráfico a mostrar: Columna, Columna apilada o Line

		- El título del widget. 

		- Los elementos a mostrar: 

			- El nombre del sensor a utilizar. 

			- La información que debe mostrarse: Número, tiempo, número de pasajes, número de usuarios, porcentaje de usuarios, ... 
										La información varía según el tipo de sensor. 

			- La leyenda




3. Puede mostrar varios valores en el mismo gráfico. Pulse el botón "+" para añadir un nuevo valor a mostrar. 

4. Validar la ventana para la configuración de widgets. 





### Creación de widgets associated con sensores categorizados
<a name="creacion_widgets_associated_con_sensores_categorizados_ELTPARAGRAPHE000140"></a>

Puede crear diferentes tipos de widgets para mostrar los datos de un sensor categorizado: 

- **Widget tabla**: 

	1. En la pestaña "Telemetría personalizada", en el grupo "Widgets categorizados", haga clic en "Tabla".. 

	2. Aparece la ventana de configuración del widget: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=T%E9l%E9m%E9trie_perso%20-%20HC%20N%B0004.gif&type=thumb)
 En esta ventana, puede especificar: 

		- El título del widget. 

		- El sensor que se va a utilizar. 

		- La información que debe aparecer en las columnas de tabla: 

			- la primera columna muestra la categoría. 

			- para las demás columnas, especifique el título de la columna y el valor que debe mostrarse. 




- **Widget de tipo Tiempo**: 

	1. En la pestaña "Telemetría personalizada", en el grupo "Widget", haga clic en "Hora".. 

	2. Aparece la ventana de configuración del widget: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=T%E9l%E9m%E9trie_perso%20-%20HC%20N%B0005.gif)
 En esta ventana, puede especificar: 

		- El título del widget. 

		- El sensor que se va a utilizar

		- El tipo de gráfico a mostrar: Columna, Columna apilada o Line

		- Los valores mostrados en los ejes del gráfico. 




- **Widget de tipo Desglose**: 

	1. En la pestaña "Telemetría personalizada", en el grupo "Widget", haga clic en "Desglose".. 

	2. Aparece la ventana de configuración del widget: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=T%E9l%E9m%E9trie_perso%20-%20HC%20N%B0006.gif&type=thumb)
 En esta ventana, puede especificar: 

		- El título del widget. 

		- El sensor que se va a utilizar. 

		- El tipo de gráfico a mostrar: "Gráfico de columnas de valores" o "Gráfico circular de valores". 

		- La información que debe mostrarse. 




3. Validar la ventana para la configuración de widgets. 




Puede editar los diferentes widgets a través del menú contextual (botón situado en la parte inferior derecha Corner del widget). Es posible: 

- Editar el widget. 

- Duplicar el widget. 

- Eliminar el widget. 




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Incluir en el código las llamadas necesarias para gestionar los sensores
<a name="incluir_codigo_las_llamadas_necesarias_para_gestionar_los_sensores_ELTTEXTE000361"></a>
Se crean uno o varios sensores junto con un widget. 

Para guardar los datos de estos sensores, hay que gestionarlos en los procesos de la aplicación. Existen dos funciones WLanguage: 



|   |   |
| --- | --- |
| [TelemetryAddMeasure](../WDLang1/1000022168.md) | Añade una medida para un sensor de valor o de tiempo. |
| [TelemetryAddPassage](../WDLang1/1000022174.md) | Señala la ejecución del código para un sensor de paso. |



 Por ejemplo: 

- Sensor de medición: 
	
	```wl
	// A "NumberProducts" sensor was defined in the editor
	// Whenever an order is validated, the number of products found in the order is added
	TelemetryAddMeasure(NumberProducts, ProductTable..Occurrence)
	```


- Sensor de paso: 
	
	```wl
	// An "OrderCancellation" sensor was defined in the editor.
	// Whenever an order is canceled, we identify the use of the feature
	// by the user
	TelemetryAddPassage(OrderCancellation)
	```





<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Despliegue de la telemetría personalizada
<a name="despliegue_telemetria_personalizada_ELTTEXTE000401"></a>
Para que una telemetría personalizada sea tomada en cuenta, usted debe: 

1. Implementar la telemetría personalizada en el servidor. 

2. Generar y desplegar la aplicación que contiene las llamadas a los diferentes sensores. 




Para desplegar la telemetría personalizada, haga clic en la opción "Desplegar" que se encuentra en el panel "Telemetría personalizada".. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=T%E9l%E9m%E9trie_perso%20-%20HC%20N%B0007.gif)



