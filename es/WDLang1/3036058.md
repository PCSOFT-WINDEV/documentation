
## fListFile( Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Enumera los archivos encontrados en un directorio y devuelve la lista de archivos. Los ficheros listados se buscan en el directorio correspondiente. 

**Otros usos**: Por cada archivo encontrado, la función **fListFile** puede llamar automáticamente a un procedimiento específico escrito en WLanguage. Este Procedure se utiliza para manipular el archivo actual. En este caso, la función **fListFile** devuelve el número de archivos encontrados.

**Observación**: En Windows de 64 bits, el acceso a un directorio del sistema desde un ejecutable de 32 bits se puede realizar en un directorio diferente al esperado.. Para obtener más información, consulte [Nativo de 64 bits y nativo de 32 bits](../Editeurs/2030048.md).


<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo
<a class="notetitle" target="_blank" href="$DOC$=1000003036058&name=flistfile_funcion&product=WD">Ver ejemplos adicionales</a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png) 
```wl
AFile, ResFileList are strings
// Lists the ".BMP" files found in "C:\MyDocuments".
// The browse is also performed in the subdirectories and it can be interrupted. 
ResFileList = fListFile("\MyDocuments\*.BMP", frRecursive + frInterruptible)
// For each file found
FOR EACH STRING AFile OF ResFileList SEPARATED BY CR
	// Add the file into TABLE_FileTable
	TableAdd(TABLE_FileTable, AFile)
END
```


<a name="Example2"></a>


![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png) 
```wl
// Lists the ".BMP" files found in "C:\MyDocuments".
// The FileAttribute procedure returns the number of read-only files.
ResFileList = fListFile("C:\MyDocuments\*.BMP", "FileAttribute")
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis

### Listar los archivos encontrados en un directorio

`<Result> = fListFile(<Path and generic name of files> , <Options>)`
---

**`<Result>: (Cadena de caracteres)`**

Nombre completo de los archivos listados, separados por caracteres CR (Carriage Return).

**Atención**: La función devuelve los archivos con nombres cortos o largos que coinciden con el filtro.

**`<Path and generic name of files>: (Cadena de caracteres)`**

Ruta y nombre genérico de los archivos a listar. Los caracteres genéricos (\* y?) están permitidos. Casos especiales:

- ***si el directorio y la unidad no están especificados ***: la búsqueda ruta se construye desde la unidad actual y desde el directorio actual de esta unidad.

- ***si la unidad no está especificada mientras el directorio está especificado ***: la búsqueda ruta se construye desde la unidad actual y desde el directorio pasado como parámetro.

- ***si se especifica la unidad, pero no se especifica el directorio***, la ruta de búsqueda se construye a parir de la unidad especificada y del directorio actual de esta unidad.




![Windows](https://doc.pcsoft.fr/ext/images/us/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/us/LX.png) Este parámetro puede estar en formato Ansi o Unicode.







**`<Options>: (Combinación de constantes de tipo Integer)`**

Opción utilizada para definir la información devuelta así como el tipo de búsqueda realizada para los archivos del directorio:



|   |   |
| --- | --- |
| *fdFullInformation* | Cada Line (separada por el retorno del carro - CR) contiene la siguiente información:<br><br><pre><code><Full file name> + TAB + <Size in bytes> + TAB + <br><Date of last modification> + TAB + <File attributes></code></pre><br>La fecha está en formato YYYMMDDHHmmSS. Los atributos son idénticos a los devueltos por [fAttribute](../WDLang1/3036010.md). |
| *fdInterruptible* | La navegación se puede interrumpir pulsando la tecla ESC. La función devolverá el nombre de los archivos listados hasta la interrupción. |
| *fPathUNICODE* | &lt;El resultado será una cadena en formato Unicode.  |
| *frNoHiddenDirectory* | Si se utiliza la constante *frFullInformation*, no se listan los directorios ocultos (atributo = "H"). |
| *frNoHiddenFile* | Si se utiliza la constante *frFullInformation*, los archivos ocultos no se listan (atributo = "H"). |
| *frNotRecursive* | La navegación es una navegación no recursiva. Los subdirectorios son ignorados. |
| *frRecursive*<br>(Valor predeterminado) | La exploración es recursiva. Los subdirectorios se tienen en cuenta automáticamente. |





<a name="SYNTAX2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png) 
### Listar los archivos encontrados en un directorio llamando a una Procedure para cada archivo

`<Result> = fListFile(<Path and generic name of files> , <WLanguage procedure> [, <Pointer> [, <Options>]])`
---

**`<Result>: (Integro)`**

Número de archivos listados.

**`<Path and generic name of files>: (Cadena de caracteres)`**

Ruta y nombre genérico de los archivos a listar. Los caracteres genéricos (\* y?) están permitidos. Casos especiales:

- ***si el directorio y la unidad no están especificados ***: la búsqueda ruta se construye desde la unidad actual y desde el directorio actual de esta unidad.

- ***si la unidad no está especificada mientras el directorio está especificado ***: la búsqueda ruta se construye desde la unidad actual y desde el directorio pasado como parámetro.

- ***si se especifica la unidad, pero no se especifica el directorio***, la ruta de búsqueda se construye a parir de la unidad especificada y del directorio actual de esta unidad.










**`<WLanguage procedure>: (Nombre de Procedure)`**

Nombre del lenguaje WLanguage Procedure ("callback") llamado para cada archivo de la lista. Este Procedure se utiliza para manipular el archivo actual. Para obtener más información sobre este procedimiento, consulte [Parámetros del procedimiento utilizado por la función fListFile](../WDLang1/1000024673.md). 



**`<Pointer>: (Entero opcional)`**

El puntero pasó a &lt;WLanguage Procedure&gt;.



**`<Options>: (Constante o combinación de constantes de tipo Integer (opcional))`**

Tipo de búsqueda realizada para los archivos del directorio:


|   |   |
| --- | --- |
| *fdInterruptible* | La navegación se puede interrumpir pulsando la tecla ESC.<br><br><br>![Linux](https://doc.pcsoft.fr/ext/images/us/LX.png) Esta constante no tiene ningún efecto. |
| *fPathUNICODE* | &lt;El resultado será una cadena en formato Unicode. |
| *frNotRecursive* | La navegación es una navegación no recursiva. Los subdirectorios son ignorados. |
| *frRecursive*<br>(Valor predeterminado) | La exploración es recursiva. Los subdirectorios se tienen en cuenta automáticamente. |









<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Gestión de errores
<a name="gestion_errores_ELTPARAGRAPHE000251"></a>

**Atención**: La función **fListFile** no devuelve ningún código de error. Para saber si la función generó un error, utilice la función [ErrorInfo](../WDLang1/3013008.md) con la constante *errMessage*.
<a name="NOTE0_3"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png) 

### Listar los subdirectorios de un directorio
<a name="listar_los_subdirectorios_directorio_ELTPARAGRAPHE000265"></a>

Para listar los subdirectorios de un directorio, utilice la función [fListDirectory](../WDLang1/3036062.md).

**Consejo**: **fListFile** también puede utilizarse para listar los subdirectorios de un directorio.
Ejemplo:


```wl
fListFile("c:\temp\anim\.", proc) 
// Don't forget the '.' at the end of string to identify the directories
```



```wl
PROCEDURE proc(Dir, file, nChange, ptr) 
Trace(Dir)
```






<a name="XComponent"></a>

## Componente:
wd280std.dll
