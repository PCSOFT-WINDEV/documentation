


## 16. Probar una aplicación
			



| [Página anterior](../Concepts_WD/1410087077.md) | [Tabla de contenido](../Concepts_WD/1410087098.md) | [Página siguiente](../Concepts_WD/1410087079.md) |
| --- | --- | --- |



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000525"></a>
WINDEV incluye varios métodos para probar las aplicaciones:

- prueba de todo el proyecto, 

- prueba de una sola ventana,

- prueba de una sola consulta (para más información, consulte la ayuda en línea),

- prueba de un solo reporte (para más información, consulte la ayuda en línea),

- ejecución del proyecto paso a paso,

- prueba de rendimiento de la aplicación,

- prueba de regresión/prueba automática.




**Al probar el proyecto** puede simular cómo se ejecutará la aplicación cuando se inicie desde un ejecutable. Esto le permite probar toda la aplicación, incluso si todavía se está desarrollando. Si se produce un problema, puede iniciar el depurador para identificar y solucionar el problema.

**La prueba de una ventana** permite ejecutar solo la ventana actual. Esto le permite probar el proyecto desde una ventana determinada o probar una ventana una vez terminada. Al igual que con la prueba del proyecto, el depurador puede iniciarse si se produce un problema.

**La prueba de una sola consulta** ejecuta solo la consulta actual. Esto permite comprobar el modo de funcionamiento de una consulta una vez desarrollada.

**La prueba de un solo reporte** ejecuta solo el reporte actual. Esto permite probar un reporte una vez que se ha desarrollado. Al igual que con la prueba del proyecto, el depurador puede iniciarse si se produce un problema.

**La ejecución del proyecto paso a paso** inicia el depurador al iniciar la aplicación. Esta opción permite seguir el progreso de la aplicación.

**La prueba de rendimiento** comprueba y optimiza el tiempo de ejecución de la aplicación.

**La prueba de regresión** (o prueba automatizada) se basa en la ejecución de scripts. Esta prueba verifica si las funciones existentes siguen siendo compatibles al ejecutar las aplicaciones. 

Además de estos métodos, WINDEV también proporciona una herramienta de "cobertura de código" para medir cuántas pruebas se han ejecutado en una aplicación. Para más información, consulte la ayuda en línea.  

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Probar y depurar un proyecto WINDEV (equipo de desarrollo)
<a name="probar_depurar_proyecto_windev_equipo_desarrollo_ELTTEXTE000549"></a>


### Presentación
<a name="presentacion_ELTPARAGRAPHE000045"></a>

La prueba de todo el proyecto permite simular el inicio de la aplicación con el ejecutable. Esto le permite probar toda la aplicación, incluso si todavía se está desarrollando. Cuando se produce un problema al ejecutar el proyecto, puede iniciar el depurador para identificar y solucionar el problema.

WINDEV incluye un amplio conjunto de pruebas de aplicaciones que pueden ejecutarse desde el equipo de desarrollo:

- Prueba y depuración del proyecto actual en el editor.

- Ejecución y depuración del programa ejecutable que corresponde al proyecto actual.

- Depuración de un ejecutable que ya se ha ejecutado en el equipo de desarrollo.


**Observación**: La prueba de un proyecto puede ejecutarse independientemente del elemento actual en el editor.
<a name="NOTE2_2"></a>


### Probar y depurar el proyecto actual
<a name="probar_depurar_proyecto_actual_ELTPARAGRAPHE000062"></a>

Para probar un proyecto desde el editor, en la pestaña "Proyecto", despliegue "Modo de prueba" y seleccione "Depurar proyecto" (Ctrl + F9). El editor se minimiza automáticamente y el proyecto se ejecuta.
<a name="NOTE2_3"></a>


### Probar y depurar el ejecutable en el equipo de desarrollo
<a name="probar_depurar_ejecutable_equipo_desarrollo_ELTPARAGRAPHE000079"></a>

Algunos problemas solo se pueden reproducir cuando se prueba el ejecutable en condiciones de uso real. Este modo de prueba permite depurar un archivo ejecutable una vez que se instala en el equipo de desarrollo.

En este caso, el código ejecutado proviene de las bibliotecas (y no del código de los elementos en el equipo). Por lo tanto, es posible que el código del proyecto actual y el código del ejecutable no estén sincronizados: el código que no está sincronizado se resalta en rosado durante la depuración.

Este modo de prueba ejecuta un archivo ejecutable específico instalado en el equipo de desarrollo y lo depura directamente.

Para más información, consulte la ayuda en línea.
<a name="NOTE2_4"></a>


### Depurar un archivo ejecutable ya ejecutado en el equipo de desarrollo
<a name="depurar_archivo_ejecutable_ejecutado_equipo_desarrollo_ELTPARAGRAPHE000094"></a>

Algunos problemas solo se pueden reproducir cuando se prueba el ejecutable en condiciones de uso real.

Este modo de prueba permite encontrar un problema que solo ocurre en tiempo de ejecución (y no en modo de prueba).

El principio es simple:

- El desarrollador inicia el ejecutable en su equipo y va directamente a la ubicación deseada en la aplicación.

- En WINDEV, el desarrollador abre el proyecto que corresponde al ejecutable y establece una conexión con él.

- El depurador de WINDEV sigue la ejecución del programa paso a paso.


En este caso, el código ejecutado proviene de las bibliotecas (y no del código de los elementos en el equipo). Por lo tanto, es posible que el código del proyecto actual y el código del ejecutable no estén sincronizados: el código que no está sincronizado se resalta en rosado durante la depuración.

Para más información, consulte la ayuda en línea.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Probar y depurar un proyecto WINDEV en el equipo del usuario
<a name="probar_depurar_proyecto_windev_equipo_del_usuario_ELTTEXTE000591"></a>
WINDEV incluye varios métodos para probar y depurar un proyecto en el equipo de desarrollo. Sin embargo, en algunos casos, es posible que tenga que depurar directamente en el equipo del usuario final (conectado a través de la red o de Internet).

Es posible, por ejemplo, depurar una aplicación ejecutada en Taiwán desde su oficina en París. La depuración se realiza de forma remota, directamente en la configuración del usuario.

Hay dos opciones disponibles:

- Iniciar y depurar el archivo ejecutable en un equipo remoto,

- Depurar una aplicación que se está ejecutando en un equipo remoto.


Para estas dos opciones, se requiere una configuración específica del equipo remoto.

**Observación**: para depurar una aplicación WINDEV de forma remota, la aplicación debe incluir la biblioteca WD280CPL.DLL en el framework.

Para más información, consulte la ayuda en línea.

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Probar una ventana
<a name="probar_una_ventana_ELTTEXTE000615"></a>


### Probar una ventana desde el editor
<a name="probar_una_ventana_desde_editor_ELTPARAGRAPHE000141"></a>

Para probar una ventana desde el editor:

1. Abra la ventana que desea probar.

2. Haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_GO_Fenetre_WD_bl.gif) en los botones de acceso rápido (o presione F9). El editor se minimiza automáticamente y la ventana se ejecuta.


Durante la prueba, se pueden ejecutar todas las características de la ventana. Podrá abrir otras ventanas, por ejemplo.
<a name="NOTE4_2"></a>


### Detener la prueba de la ventana
<a name="detener_prueba_ventana_ELTPARAGRAPHE000157"></a>

Existen varios métodos para detener la prueba:

- Método 1:
	Cierre la aplicación que se está probando. WINDEV vuelve al editor que estaba abierto cuando se inició la prueba.

- Método 2:

	- Vuelva al editor con la barra de tareas o presione Alt + Tab.

	- Detenga la prueba. WINDEV vuelve al editor que estaba abierto cuando se inició la prueba.







<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Hacer seguimiento de un proyecto
<a name="hacer_seguimiento_proyecto_ELTTEXTE000645"></a>


### Principios de depuración
<a name="principios_depuracion_ELTPARAGRAPHE000176"></a>

La depuración de una aplicación consiste en:

- comprobar el modo de funcionamiento de un proceso,

- entender el modo de funcionamiento de un programa existente,

- comprobar los valores de las variables,

- comprobar el modo de funcionamiento de casos especiales en una aplicación.




El depurador le permite realizar estas operaciones.

**Observación**: WINDEV también incluye varias herramientas de seguimiento (ventana de salida, cuadro de diálogo, etc.). Para obtener más información, consulte [Depurar sin depurador](#NOTE5_4).
<a name="NOTE5_2"></a>


### Presentación del depurador
<a name="presentacion_del_depurador_ELTPARAGRAPHE000197"></a>

El depurador examina programas en WLanguage para ayudar a mejorarlos.

El código fuente ejecutado se muestra en la pantalla. Los procesos que se ejecutan aparecen en orden jerárquico en el panel "Depurador".

El valor de las variables se muestra:

- de forma individual en el globo de ayuda de cada variable.

- en el panel "Depurador". 



<a name="NOTE5_3"></a>


### Características del depurador
<a name="caracteristicas_del_depurador_ELTPARAGRAPHE000213"></a>

El depurador permite:

- ver la pila de llamadas,

- ver el contenido de las variables o expresiones,

- ejecutar el código paso a paso con la posibilidad de omitir bloques de código,

- usar puntos de interrupción condicionales,

- modificar el código mientras continúa la ejecución,

- etc.



<a name="NOTE5_4"></a>


### Depurar sin depurador
<a name="depurar_sin_depurador_ELTPARAGRAPHE000229"></a>

En algunos casos, la ejecución de un programa con o sin depurador puede ser diferente. El depurador establece pausas en la ejecución de los procesos, durante las cuales Windows realiza diferentes tareas. Por ejemplo, el depurador no puede utilizarse en un procedimiento llamado por un temporizador, ni en el código de un control Barra de desplazamiento. 
**Observación**: Para más información sobre las limitaciones del depurador, consulte la ayuda en línea.

Para depurar este tipo de aplicaciones, puede ser necesario comprobar los cambios de un valor, cómo se llama a los diferentes procedimientos, etc.

Esta información puede:

- mostrarse en la pantalla.

- almacenarse en un archivo de seguimiento.




**Atención**: Si la información se muestra en la pantalla, solo debe mostrarse durante las pruebas de la aplicación.

**Mostrar información**

Se pueden utilizar dos herramientas para mostrar información:

- ***los cuadros de diálogo***: función [Info](../WDLang1/3021011.md) de WLanguage.
	Atención: Los cuadros de diálogo bloquean la aplicación.

- ***la ventana de salida***: función [Trace](../WDLang1/3013050.md) de WLanguage.
	La ventana de salida aparece en la esquina superior izquierda de la pantalla, sin interrumpir el programa.




**Visualización de la información de depuración**

La visualización de la información de depuración es útil solo en el modo de prueba.

Antes de distribuir una aplicación, se debe eliminar la visualización de información innecesaria.

Para evitar cualquier descuido, le recomendamos definir cómo se muestra la información de depuración mediante un procedimiento global. Por ejemplo:

```txt
PROCEDURE MyTrace(StringToTrace)
IF InTestMode() = True THEN
	Trace(StringToTrace)
END
```
En este código, dependiendo del resultado de la función [InTestMode](../WDLang1/3013011.md), la ventana de salida aparece solo durante la prueba de la aplicación.

Este procedimiento impide que se muestren ventanas de salida en los equipos de los usuarios finales, aunque se llamen en el código de la aplicación.

La llamada a este procedimiento de seguimiento es igual al uso de la función [Trace](../WDLang1/3013050.md):

```txt
MyTrace("Customer: "+ ...
Customer.CustomerNum)
```


**Crear un archivo de seguimiento**

Durante los procesos largos (procesamiento por lotes, etc.), para controlar el modo de funcionamiento del programa, hay que guardar un registro físico de los procesos ejecutados (un archivo de texto, por ejemplo).

El siguiente procedimiento permite definir cómo se mostrará la traza:

- en la pantalla (parámetro /DEBUG en la línea de comandos).

- en un archivo de texto (modo predeterminado).
	
	```txt
	PROCEDURE MyTrace(StringToTrace)
	FilePath is string
	FilePath = fDataDirUser() + ProjectInfo(piProjectName) + ".txt"
	File is int
	DebugMode is boolean = False
	IF Position(CommandLine(), "/DEBUG") > 0 THEN
		DebugMode = True
	END
	
	IF DebugMode = True THEN
		Trace(StringToTrace)
	ELSE
		File = fOpen(FilePath, foCreateIfNotfound + foWrite + foAdd)
		IF File <> -1 THEN
			DateTimeTrace is DateTime
			DateTrace is Date
			TimeTrace is Time
			DateTimeTrace = SysDateTime()
			DateTrace = MyDate.Date
			TimeTrace = MyDate.Time
			fWriteLine(File, DateToString(DateTrace) + ...
			  " - " + TimeToString(TimeTrace))
			fWriteLine(File, StringToTrace)
			fWriteLine(File, " ")
			fClose(File)
		END
	END
	```



**Observaciones**:

- El archivo de seguimiento se crea de forma predeterminada en el directorio de datos del usuario. El nombre del archivo es el mismo que el del proyecto. Este archivo contiene la información a la que se le hará seguimiento durante la ejecución del programa.
	La información se completa con la fecha y hora de cada seguimiento. Esto le permite identificar posibles problemas durante el proceso.

- Ejemplo de contenido del archivo de seguimiento:
	
	```txt
	01/12/2015 - 10:53:25:20
	Customer name: Montgomery
	```





<a name="NOTE6"></a>
<a name="NOTE6_1"></a>


## Prueba de rendimiento
<a name="prueba_rendimiento_ELTTEXTE000687"></a>


### Presentación
<a name="presentacion_ELTPARAGRAPHE000311"></a>

El analizador de rendimiento comprueba y optimiza el tiempo de ejecución de la aplicación.

El principio es sencillo: Al probar la aplicación, el analizador de rendimiento hace un seguimiento de todas las acciones realizadas y de los procesos correspondientes ejecutados.

Al final de la prueba, el analizador de rendimiento muestra:

- las 10 operaciones que consumen más tiempo

- todas las acciones realizadas en la aplicación que se probó, ordenadas por duración (de la acción más larga a la más corta).




Puede seleccionar un proceso para analizar su tiempo de procesamiento y optimizarlo.
<a name="NOTE6_2"></a>


### Iniciar el analizador de rendimiento
<a name="iniciar_analizador_rendimiento_ELTPARAGRAPHE000329"></a>

Para iniciar el analizador de rendimiento, en la pestaña "Proyecto", en el grupo "Auditoría y rendimiento", despliegue "Analizar rendimiento" y seleccione "Analizar rendimiento".

El proyecto se ejecuta automáticamente en modo de prueba. El proceso a optimizar puede ejecutarse en la aplicación.

Para volver al editor, simplemente cierre la aplicación.

El analizador de rendimiento muestra el resultado del análisis.

**Observación**: Le recomendamos utilizar el analizador de rendimiento para optimizar la aplicación (antes de distribuirla, por ejemplo).
<a name="NOTE6_3"></a>


### Leer el resultado del analizador de rendimiento
<a name="leer_resultado_del_analizador_rendimiento_ELTPARAGRAPHE000358"></a>

El analizador de rendimiento presenta el resultado del análisis en varias pestañas:

- la pestaña "Resumen" muestra los diez procesos más largos.

- la pestaña "Mapeo" muestra una gráfica de los principales procesos.

- la pestaña "Detalles" muestra todos los procesos que se ejecutan durante la prueba de la aplicación (desde el más lento hasta el más rápido).

- la pestaña "Llamadas" muestra los detalles de las operaciones realizadas en un proceso.


La siguiente información se muestra para cada proceso:


|   |   |
| --- | --- |
| Función | Función, evento, proceso o procedimiento ejecutado. |
| Tiempo total | Tiempo de ejecución de la función. |
| Núm. de llamadas | Número de llamadas realizadas a la función (procedimiento, evento o proceso). |
| Tiempo llamada 1 | Tiempo de ejecución de una llamada a la función (procedimiento, evento o proceso). |
| % código | Porcentaje de código ejecutado fuera de la llamada a una función WLanguage o fuera de la llamada a una función o procedimiento personalizado. |
| Padre | Proceso que llamó a la función. |


**Observaciones**:

- "Ejecución completa" representa el tiempo total de ejecución de la prueba de la aplicación en el analizador de rendimiento.

- "Total Ventana XXX" representa el tiempo total de ejecución de una ventana determinada (desde que se abre hasta que se cierra).



<a name="NOTE6_4"></a>


### Elegir un proceso a optimizar
<a name="elegir_proceso_optimizar_ELTPARAGRAPHE000405"></a>

Los procesos a optimizar se eligen en función de varios criterios:

- ***el tiempo de ejecución del proceso***. Los procesos más largos deben optimizarse.

- **el porcentaje de tiempo transcurrido en el proceso de la función o procedimiento**. Cuanto mayor sea este porcentaje, mayor será el número de procesos que se pueden optimizar en el código.




**Observación**: Si el proceso corresponde a una función WLanguage, es muy difícil optimizarlo.

<a name="NOTE7"></a>
<a name="NOTE7_1"></a>


## Pruebas de regresión
<a name="pruebas_regresion_ELTTEXTE000729"></a>


### Presentación
<a name="presentacion_ELTPARAGRAPHE000421"></a>

Hay varias herramientas de prueba disponibles para garantizar la calidad de las aplicaciones:

- El modo de prueba (Go en un proyecto o en una ventana), que permite probar los cambios en la aplicación durante la etapa de desarrollo. 

- Pruebas automatizadas para grabar un escenario de prueba que se pueda reproducir fácilmente. 


Para automatizar estas pruebas y aumentar la calidad de las aplicaciones, puede crear **pruebas unitarias automatizadas**. Estas pruebas permiten comprobar fácilmente todas las funcionalidades de las aplicaciones.
<a name="NOTE7_2"></a>


### Pruebas automatizadas
<a name="pruebas_automatizadas_ELTPARAGRAPHE000435"></a>

Cada prueba contiene un escenario que puede editarse directamente en el entorno de desarrollo. Este escenario está escrito en WLanguage y puede modificarse en cualquier momento.

Este tipo de pruebas se pueden ejecutar antes de crear el ejecutable para asegurarse de que la aplicación se ejecuta correctamente.

Se pueden probar los siguientes elementos:

- ventanas WINDEV.

- conjuntos de procedimientos.

- clases.

- ejecutables WINDEV.


Cada prueba está asociada a un código WLanguage: el escenario de prueba. Este escenario se puede ver en el editor de código. El código de las pruebas puede modificarse.

Las pruebas y el código no se incluyen en el ejecutable y no se proporcionan a los usuarios finales. Por lo tanto, el número de pruebas no influye en el tamaño de la aplicación disponible para los usuarios finales.

Para obtener más información, consulte la ayuda en línea (palabra clave: "Prueba automatizada").

| [Página anterior](../Concepts_WD/1410087077.md) | [Tabla de contenido](../Concepts_WD/1410087098.md) | [Página siguiente](../Concepts_WD/1410087079.md) |
| --- | --- | --- |




