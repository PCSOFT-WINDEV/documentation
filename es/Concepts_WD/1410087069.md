


## 7. Aplicaciones multilingües en la práctica
			



| [Página anterior](../Concepts_WD/1410087068.md) | [Tabla de contenido](../Concepts_WD/1410087098.md) | [Página siguiente](../Concepts_WD/1410087070.md) |
| --- | --- | --- |



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000432"></a>
Una aplicación multilingüe puede distribuirse en varios idiomas. Los diferentes idiomas de la aplicación se tendrán en cuenta durante las diferentes etapas de desarrollo.

Las principales etapas para desarrollar una aplicación multilingüe son las siguientes:

1. Seleccionar los idiomas del proyecto y el análisis.

2. Escribir los diferentes elementos (texto de las ventana, código, etc.) en todos los idiomas del proyecto.

3. Definir el idioma del proyecto mediante programación.

4. Gestionar conjuntos de caracteres específicos en los archivos de datos.

5. Crear el ejecutable y el programa de instalación.


**Observaciones**:

- Si el sistema operativo admite varios idiomas (hebreo, árabe, griego, etc.), se utilizará automáticamente el conjunto de caracteres correspondiente al traducir a estos idiomas.

- Si su aplicación es multilingüe, esta funcionalidad también debe poder utilizarse en las ventanas del Groupware Usuario y de gestión automática de errores HFSQL. Para más información, consulte la ayuda en línea.

- Unicode está disponible en los archivos de datos HFSQL, los controles de las ventanas y el código WLanguage.




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Seleccionar los idiomas del proyecto y el análisis
<a name="seleccionar_los_idiomas_del_proyecto_analisis_ELTTEXTE000456"></a>


### Idiomas del proyecto
<a name="idiomas_del_proyecto_ELTPARAGRAPHE000035"></a>

Los idiomas se definen en la descripción del proyecto:

1. En la pestaña "Proyecto", en el grupo "Proyecto", haga clic en "Descripción". La ventana de descripción del proyecto se abre.

2. En la pestaña "Idiomas" puede agregar o eliminar los idiomas del proyecto. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Multilingue_cpt%20-%20HC%20N%B0001.gif&type=thumb)





Los idiomas seleccionados estarán disponibles para todos los recursos multilingües que pueden traducirse (texto de controles, opciones de menú, mensaje de ayuda asociado a un control, etc.).

Al cambiar el idioma del proyecto, los cambios se tendrán en cuenta automáticamente:

- para cada nuevo elemento u objeto creado en el editor de WINDEV,

- para cada nuevo elemento u objeto abierto en el editor de WINDEV.


El idioma principal corresponde al idioma utilizado de forma predeterminada en tiempo de ejecución.

**Opciones de idiomas**
La pestaña "Idiomas" de la descripción del proyecto también permite definir las opciones específicas del idioma: número, monetario, fecha, etc.
Los parámetros utilizados de forma predeterminada son los definidos en las opciones de idioma de Windows (disponibles en el panel de control de Windows).

**Cuando se crea un control Campo de entrada o una columna de un control Tabla** que muestra datos numéricos (número, divisa, fecha, hora, etc.), se utiliza automáticamente la máscara de entrada definida en las opciones de idioma del proyecto. Esta opción está disponible en las ventanas.

**En tiempo de ejecución**, cuando un control Campo de entrada o una columna de un control Tabla tiene una máscara "Definida por el proyecto", la máscara de entrada/visualización se adaptará automáticamente según las opciones seleccionadas en el proyecto para el idioma que se muestra en tiempo de ejecución.

**Observación**: Las opciones de idioma también permiten definir la dirección de escritura y el conjunto de caracteres utilizados (opción "Varios").

**Programa ejecutable**
Al crear el archivo ejecutable, puede especificar los idiomas que se incluirán en él. Puede crear un archivo ejecutable diferente por cada idioma del proyecto.
Esta opción permite para reducir el tamaño del ejecutable.
<a name="NOTE2_2"></a>


### Idiomas del análisis
<a name="idiomas_del_analisis_ELTPARAGRAPHE000087"></a>

Si el proyecto utiliza un análisis, los idiomas del análisis se seleccionan en el editor de análisis. Un mismo análisis puede ser compartido entre diferentes proyectos que no utilizan los mismos idiomas. Por lo tanto, el análisis podría utilizar más idiomas que el proyecto.

Para configurar los idiomas del análisis:

1. Abra el análisis del proyecto en el editor.

2. Abra la ventana de descripción del análisis: en la pestaña "Análisis", en el grupo "Elemento actual", haga clic en "Descripción".

3. Seleccione la pestaña "Idioma" en la ventana de descripción del análisis.


Los diferentes idiomas definidos en el análisis estarán disponibles:

- al configurar la información compartida de los campos. La descripción de los controles enlazados a los campos (opciones, títulos, etc.) puede introducirse en los diferentes idiomas que admite el análisis. Al generar un "RAD Aplicación completa" o un RAD de ventanas, esta información se utiliza automáticamente para todos los idiomas comunes al análisis y al proyecto.

- para la información impresa en la documentación del análisis (notas de archivos de datos o campos).

- para la información utilizada en "Reports and Queries". Si incluye "Reports and Queries" en la aplicación WINDEV, se pueden traducir los nombres de los archivos de datos y los campos. Los usuarios podrán utilizar los nombres en el idioma deseado al crear los reportes y consultas. Esta información se puede introducir en la pestaña "Reports and Queries" de la descripción del archivo de datos y de los campos.



<a name="NOTE2_3"></a>


### Idiomas de los diferentes elementos del proyecto
<a name="idiomas_los_diferentes_elementos_del_proyecto_ELTPARAGRAPHE000120"></a>

De forma predeterminada, los diferentes elementos del proyecto (ventanas, reportes, código, clases, conjuntos de procedimientos, etc.) admiten los mismos idiomas que el proyecto en el que fueron creados.

Un elemento puede admitir más idiomas que el proyecto (cuando el elemento se comparte entre varios proyectos que utilizan diferentes idiomas, por ejemplo).

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## UI en diferentes idiomas
<a name="diferentes_idiomas_ELTTEXTE000492"></a>
Una vez seleccionados los idiomas, la información que se muestra en la aplicación debe traducirse a los diferentes idiomas.
Para crear la UI en diferentes idiomas se deben que tener en cuenta varios elementos:

- El modo de traducción seleccionado.

- Los idiomas utilizados (con o sin un conjunto de caracteres específico).

- El uso de ventanas específicas (Groupware Usuario, tratamiento automático de errores HFSQL, visor reportes, etc.).

- Los mensajes mostrados mediante programación.



<a name="NOTE3_2"></a>


### Método de traducción
<a name="metodo_traduccion_ELTPARAGRAPHE000147"></a>

WINDEV incluye varios modos de traducción:

- Traducción automática de la UI mediante una herramienta de traducción específica, instalada en el equipo de desarrollo. Esta traducción se realiza en el editor de WINDEV.

- Exportar todos los mensajes a través de WDMSG y reintegrarlos una vez traducidos.




**Traducción de la UI**

La ventana de descripción de cada elemento tiene diferentes pestañas con varias opciones de idioma. Estas opciones de idioma permiten introducir información en los diferentes idiomas del proyecto.

Para traducir esta información desde WINDEV:

1. Vaya a las opciones de WINDEV para configurar las opciones de traducción del software utilizado: en la pestaña "Inicio", en el grupo "Entorno", despliegue "Opciones" y seleccione "Opciones generales de WINDEV".

2. En la pestaña "Traducción", es posible definir:

	- la herramienta de traducción predeterminada.

	- los idiomas de origen y de destino.




3. Si se especifica una herramienta de traducción, se mostrará un botón "Traducir" en cada elemento que contenga información para traducir. Este botón permitirá traducir el texto seleccionado mediante la herramienta de traducción especificada.

4. Seleccione el texto a traducir y haga clic en "Traducir".




**Exportar y reintegrar la información a traducir**

WDMSG es una herramienta externa que permite extraer todos los mensajes de un proyecto (títulos de controles, tooltips, etc.) y reintegrarlos una vez traducidos. 
Póngase en contacto con el Departamento de ventas de PC SOFT para más información sobre las condiciones de uso de este producto.
<a name="NOTE3_3"></a>


### Idiomas que utilizan un conjunto de caracteres específico
<a name="idiomas_que_utilizan_conjunto_caracteres_especifico_ELTPARAGRAPHE000191"></a>

Si su aplicación utiliza idiomas con conjuntos de caracteres específicos (griego, ruso, etc.), los diferentes mensajes deben traducirse utilizando estos conjuntos de caracteres.

WINDEV permite gestionar automáticamente el uso de conjuntos de caracteres específicos en el editor.

Cuando se posiciona el cursor de texto en el área de entrada de un idioma que utiliza un conjunto de caracteres específico, el idioma de entrada correspondiente (conjunto de caracteres utilizado por el teclado) se activa automáticamente.

Así, si se introduce un texto en la sección Ruso de la descripción del control, el teclado cambiará automáticamente al conjunto de caracteres rusos.

**Recordatorio**: Para utilizar conjuntos de caracteres específicos, se deben instalar los archivos que corresponden a los conjuntos de caracteres deseados en la configuración regional de Windows (panel de control).
<a name="NOTE3_4"></a>


### Traducción de ventanas específicas
<a name="traduccion_ventanas_especificas_ELTPARAGRAPHE000208"></a>

**Gestión de errores HFSQL**

De forma predeterminada, las ventanas de gestión de errores HFSQL están disponibles en inglés y francés. Para traducirlas a otro idioma, es necesario:

1. Incluir las ventanas de error predeterminadas en el proyecto. Encontrará ejemplos de estas ventanas (con su código WLanguage) en la carpeta \\Programs\\Data\\Preset windows\\HFSQL - Automatic help windows.

2. Personalizar la gestión de errores para utilizar las ventanas de gestión de errores HFSQL (función [HOnError](../WDLang4/3044017.md)).

3. Traducir los diferentes mensajes (ver párrafo anterior).




**Gestión automática de errores**

De forma predeterminada, las ventanas de gestión automática de errores están disponibles en inglés y francés. Para traducirlas a otro idioma, es necesario:

1. Incluir las ventanas de error predeterminadas en la aplicación. Encontrará ejemplos de estas ventanas (con su código WLanguage) en la carpeta \\Programs\\Data\\Preset windows\\Assertion - Error - Exception.

2. Traducir los diferentes mensajes (ver párrafo anterior).




**Groupware Usuario**

De forma predeterminada, el Groupware Usuario está disponible en inglés y francés.

Para traducir una aplicación que utiliza el Groupware Usuario, debe elegir una integración personalizada al configurar el Groupware Usuario en la aplicación. 
Recordatorio: Para configurar el Groupware Usuario, en la pestaña "Proyecto", en el grupo "Proyecto", seleccione "Groupware Usuario".

Durante la integración personalizada, los diferentes elementos del Groupware Usuario se integran a través de un componente interno.

Solo tendrá que traducir estos elementos al traducir el proyecto.

Observación: Si es necesario, al configurar el Groupware Usuario, en la pestaña "General", seleccione "Inicio manual": esto le permite mostrar una ventana para seleccionar el idioma de la aplicación antes de la ventana de inicio de sesión.

**Visor de reportes**

De forma predeterminada, la ventana del visor de reportes está disponible en inglés y en francés.

Para traducir esta ventana, debe integrar las ventanas del visor de reportes en su aplicación. Encontrará ejemplos de estas ventanas (con su código WLanguage) en la carpeta \\Programs\\Data\\Preset windows\\Preview. Para más información, consulte la ayuda en línea.

Solo deberá traducir estas ventanas.

**Menús del sistema**

WINDEV incluye un menú contextual predeterminado para los controles Campo de entrada y Tabla. Este menú permite a los usuarios realizar fácilmente diferentes operaciones.

Para traducir estos menús, debe tener WDMSG.
<a name="NOTE3_5"></a>


### Traducir mensajes del código WLanguage
<a name="traducir_mensajes_del_codigo_wlanguage_ELTPARAGRAPHE000273"></a>

En el código, varias funciones WLanguage permiten comunicarse con el usuario a través de cadenas de caracteres. Estos mensajes también deben traducirse a los diferentes idiomas de su aplicación.

Para traducir una cadena de caracteres del editor de código:

1. Seleccione la cadena de caracteres a traducir.

2. Seleccione "Traducir" en el menú contextual de la selección. Enseguida, se abre una ventana para traducir los mensajes.

3. Introduzca la traducción y valide. 

4. La línea de código se muestra en el editor. A la derecha del mensaje traducido aparece un ícono. Este ícono indica que el mensaje actual está en varios idiomas. El ícono permite acceder rápidamente a la ventana de traducción.<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=code-drapeau.gif)
Al pasar el cursor sobre el ícono, un tooltip muestra las traducciones de la cadena en los diferentes idiomas del proyecto.<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Code_drapeau18.gif)





**Observación**: Para convertir los mensajes del código en mensajes multilingües, en la pestaña "Código", en el grupo "Idiomas", despliegue "Traducir cadenas" y seleccione "Convertir cadenas simples en mensajes multilingües".

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Elegir el idioma mediante programación
<a name="elegir_idioma_mediante_programacion_ELTTEXTE000540"></a>
Una aplicación multilingüe puede distribuirse en varios idiomas. El usuario podrá elegir el idioma de la aplicación en tiempo de ejecución. Es posible, por ejemplo:

- pedir al usuario que elija el idioma de ejecución la primera vez que se inicie la aplicación

- incluir una opción (opción de menú o botón, por ejemplo) que permita a los usuarios cambiar el idioma mientras se ejecuta la aplicación.




<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Definir conjuntos de caracteres específicos en archivos de datos HFSQL
<a name="definir_conjuntos_caracteres_especificos_archivos_datos_hfsql_ELTTEXTE000564"></a>
Cuando una aplicación muestra o guarda datos en archivos de datos HFSQL, estos datos se escriben en el idioma actual.

Si la aplicación se utiliza en un país que utiliza un conjunto de caracteres latinos, no se requiere ninguna configuración específica.

Si la aplicación se utiliza en un país que utiliza un conjunto de caracteres específico, este conjunto de caracteres también debe ser compatible con los archivos de datos. Esto significa que la búsqueda, la ordenación y las demás operaciones se realizarán en función del conjunto de caracteres seleccionado.

<a name="NOTE6"></a>
<a name="NOTE6_1"></a>


## Unicode y conjuntos de caracteres específicos
<a name="unicode_conjuntos_caracteres_especificos_ELTTEXTE000588"></a>
WINDEV incluye dos modos:

- **el modo de un conjunto de caracteres único** (opción "Utilizar cadenas ANSI en ejecución"): En este modo, si su aplicación incluye idiomas que utilizan conjuntos de caracteres específicos (griego, coreano, etc.), cambie los siguientes elementos mediante programación:

	- el conjunto de caracteres utilizado por las fuentes utilizadas en la pantalla (función [ChangeCharset](../WDLang1/3054001.md)). Este conjunto de caracteres también se puede utilizar para datos guardados en archivos HFSQL. Para obtener más información, consulte la ayuda en línea (palabra clave: Multilingüe).

	- el idioma del teclado utilizado por los usuarios de la aplicación (función [ChangeKeyboard](../WDLang1/3054002.md)).




- **el modo completo de Unicode** ("Utilizar cadenas UNICODE en ejecución"): Este modo puede utilizarse para conjuntos de caracteres no latinos. En este modo, las funciones [ChangeCharset](../WDLang1/3054001.md) y [ChangeKeyboard](../WDLang1/3054002.md) no tienen ningún efecto. El conjunto de caracteres cambia automáticamente en función de las opciones de idioma definidas en la descripción del proyecto. También es posible combinar diferentes conjuntos de caracteres.




Las opciones de Unicode pueden establecerse en la configuración actual (pestaña "Unicode" de la ventana de descripción de la configuración).

**Importante**

Si cambia sus proyectos a Unicode, la combinación ANSI/Unicode genera algunas restricciones: Los datos deben convertirse al cambiar de un sistema de codificación a otro. El intercambio de datos debe adaptarse en función de cómo se representen las cadenas en la memoria (en Unicode, 1 carácter se codifica en 2 bytes, mientras que en ANSI se codifica en 1 byte): por ejemplo, llamadas a las API, lectura o escritura en el disco para intercambiar datos, lectura o escritura en sockets que contienen cadenas, etc, ...
Si cambia sus proyectos a UNICODE, un asistente se abre automáticamente para medir el impacto de este cambio.

| [Página anterior](../Concepts_WD/1410087068.md) | [Tabla de contenido](../Concepts_WD/1410087098.md) | [Página siguiente](../Concepts_WD/1410087070.md) |
| --- | --- | --- |




