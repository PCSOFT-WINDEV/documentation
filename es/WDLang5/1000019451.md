


## Códigos de barras (Tipo de Variable)

*** ***
				



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
El tipo **BarCodes** permite manipular la información de un código de barras. Las características de esta BarCode pueden definirse y modificarse mediante diferentes propiedades de WLanguage. 

El tipo de códigos de barras se puede utilizar de la siguiente manera: 

- ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) El **Códigos de barras** se utiliza principalmente para: 

	- generar códigos de barras en las ventanas e informes.

	- descodificar los códigos QR (en una Image).

	- imprimir los códigos de barras ([iPrintBarCode](../WDLang5/3046020.md)). 








**Observación**: Para obtener más información sobre la declaración de este tipo de variable y el uso de propiedades WLanguage, consulte [Declarar una variable](../Motscles/1514032.md).


<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo




```wl
MyQRCode is BarCode 
MyQRCode.ContentType = bcTypeText 
MyQRCode.TypeBarCode = BC_QRCODE 
MyQRCode.Content = "http://www.windev.com" 

// Assign to a Bar Code control
BAC_BCControl = MyQRCode
```



```wl
// Generate a QRCode with an image
// ------------- Bar code or report initialization code
QRCodeWithImage is BarCode
// Image to be inserted in the center of the barcode
ImageQRCodeCenter is Image
ImageQRCodeCenter = IMG_FLAG
// Type of bar code
QRCodeWithImage.TypeBarCode = BC_QRCODE
QRCodeWithImage.ContentType = bcTypeText
// Image at the center
QRCodeWithImage.Image = ImageQRCodeCenter
// High error correction level to compensate for the image at the center
QRCodeWithImage.CorrectionError = qrcodeLevelH
QRCodeWithImage.ImageProportion = 3
// For an image proportion of 3%, a Level L correction (qrcodeLevelL) would not be enough
// to have a readable bar code

// (Initial) value
QRCodeWithImage.Content = "https://www.windev.com"
// In a report, the value can be reassigned:
//- by binding the control to data
//- in the code before printing 
//- in the code for reading data in the report
// or anywhere else afterwards

// Assign to a Bar Code control
BAC_Invoice = QRCodeWithImage

// ------------- Code before printing
BAC_Invoice.Value = "QR code with a flag in the center!"
```

<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Propiedades específicas de las variables BarCodes
<a name="propiedades_especificas_las_variables_barcodes_ELTPARAGRAPHE000102"></a>

Las siguientes propiedades pueden ser utilizadas para manipular un código de barras:

| **Nombre de la propiedad** | **Tipo utilizado** | **Efecto** |
| --- | --- | --- |
| Contenido | Cualquier tipo | Valor del código de barras. <br><br>- En el caso de los códigos QR, el tipo de este valor depende del **ContentType** Property . <br>	Consulte la note siguiente para conocer la correspondencia entre el tipo de contenido y el tipo de valor. <br><br>- Cuando se leen códigos de barras que no son códigos QR, esta Property es siempre de tipo "String" y su valor es el mismo que el de la **RoughValue** Property.<br><br><br> |
| ContentType | Constante de tipo Integer | Naturaleza de los datos almacenados en el código de barras: <br><br>- *bcTypeText* (valor por defecto al crear el Variable): Texto sin formato<br><br>- *bcTypePhone*: Número de teléfono<br><br>- *bcTypeSMS*: número de SMS<br><br>- *bcTypeEmail*: Envía un correo electrónico a Address<br><br>- *bcTypeContact*: Contacte con description<br><br>- *bcTypeLocation*: Posición geográfica<br><br>- *bcTypeURL*: URL (marcador). Para insertar una dirección http en el código de barras, utilice el tipo *cbTypeText*.  <br>	Esta constante se mantiene para la compatibilidad con versiones anteriores y debe utilizarse en casos muy específicos.. <br><br>- *bcTypeMarket*: Enlace a una aplicación en Google Play (sólo para una aplicación Android)<br><br>- *bcTypeWiFi*: Parámetros de conexión a una red Wi-Fi (sólo para una aplicación Android)<br><br><br>**Observación**: Este tipo de datos están disponibles para los códigos de barras 2D (QR Code, Aztec, datamatrix, PDF417, ....). Para los códigos de barras que no sean códigos de barras 2D, los datos son siempre datos de texto. |
| CorrecciónError | Constante de tipo Integer | Nivel de error de corrección: se utiliza para definir el umbral de lectura de un código de barras dañado. <br><br>Esta propiedad está disponible en: <br><br>- los códigos de barras del QR Code. <br><br>- los códigos de barras PDF-417.<br><br>- los códigos de barras aztecas.<br><br><br><br><br>**Las siguientes constantes están disponibles para Códigos QR**: <br><br>- *qrcodeLevelH*: alrededor del 30% de las palabras codificadas pueden ser restauradas.<br><br>- *qrcodeLevelL*: cerca del 7% de las palabras codificadas pueden ser restauradas.<br><br>- *qrcodeLevelM*: alrededor del 15% de las palabras codificadas pueden ser restauradas.<br><br>- *qrcodeLevelQ*: alrededor del 25% de las palabras codificadas pueden ser restauradas.<br><br><br>El nivel de corrección seleccionado desencadena: <br><br>- el redimensionamiento del código de barras.<br><br>- la modificación del número máximo de caracteres permitido en el código de barras.<br><br><br><br><br>Un nivel de corrección más alto significa que el dibujo del código de barras tendrá un tamaño importante y que se dibujarán menos datos.. Por el contrario, un nivel de corrección más alto significa que el código de barras será legible incluso si el soporte está dañado.<br><br>**Consejos**: <br><br>- Si el código de barras contiene una URL, el nivel L es suficiente.. <br><br>- Si se inserta un logotipo en el código de barras, le recomendamos que utilice un nivel superior (M o Q).. <br><br>- Si el código de barras está destinado a la impresión de etiquetas para un almacén, se debe utilizar el nivel H. <br><br><br><br><br>**Para los códigos de barras PDF-417**el nivel de corrección del error corresponde a un número entero comprendido entre 0 y 8. <br><br>**Para los códigos de barras aztecas**el nivel de corrección corresponde a un número entero comprendido entre 5 y 95, que representa el porcentaje de corrección de errores. El valor de Default es 33. Si el valor dado es<br><br>- menos de 5, el valor será set a 5,<br><br>- mayor de 95, el valor será set a 95,<br><br>- negativo, el valor será set a 33 (valor Default). <br><br><br><br><br> |
| Image |   | Image añadido en el centro del código de barras (sólo para los códigos QR). Esta imagen puede corresponder a: <br><br>- una variable de tipo [Image](../WDLang1/1000019650.md), <br><br>- una cadena de caracteres que contiene la ruta del archivo Image que se utilizará,<br><br>- un memo de Image, etc.<br><br><br><br><br> |
| Opciones | Constante o combinación de constantes de tipo Integer | Características del código de barras. Estas características se utilizan principalmente cuando un código de barras es impreso por [iPrintBarCode](../WDLang5/3046020.md). Se pueden utilizar las siguientes constantes: <br><br>- *BC_Fondo*: El código de barras se encuentra en la parte inferior del rectángulo de destino.<br><br>- *BC_ControlDigits*: Código de barras con caracteres de control (válido solo para códigos de barras de tipo *BC_CODE128*, *BC_DATAMATRIX*, *BC_EAN128*, *CB_GS1_128* y *BC_PDF417*). En Default, los caracteres de control están encerrados entre "&lt;" y "&gt;". Para no interpretar estos caracteres como caracteres control, basta con duplicar el primer "&lt;":  <br><br>	- "&lt;C40&gt;" = carácter control   <br><br>	- "&lt;&lt;AB&gt;" = &lt;AB&gt; a codificar en el código de barras.<br><br><br><br><br><br>Para obtener más información, consulte [Los diferentes tipos de códigos de barras](../WDLang5/3046064.md).<br><br>- *BC_CheckDigits*: Código de barras con caracteres de control (válido solo para códigos de barras de tipo *BC_CODE128*, *BC_DATAMATRIX*, *BC_EAN128*, *CB_GS1_128* y *BC_PDF417*).<br>	Si se selecciona esta opción, las constantes *BC_ControlDigits* y *BC_Charsets* se tienen en cuenta automáticamente.<br><br>- *BC_CenterH*: Código de barras centrado horizontalmente en el rectángulo de destino.<br><br>- *BC_CenterV*: Código de barras centrado verticalmente en el rectángulo de destino.<br><br>- *BC_Right*: Código de barras alineado a la derecha en el rectángulo de destino.<br><br>- *BC_Extendido*: Código de barras ampliado (válido sólo para los códigos de barras *BC_CODE39* y *BC_CODE93*).<br><br>- *BC_FormatText*: Formatea el texto visualizado para el *EAN 128* códigos de barras: se añaden corchetes alrededor de los IAs en el texto impreso.<br><br>- *BC_Left*: Código de barras alineado a la izquierda en el rectángulo de destino.<br><br>- *BC_Top*: Código de barras situado en la parte superior del rectángulo de destino.<br><br>- *BC_IgnorarFormato*: Ignora los paréntesis de un código 128, EAN-128 o GS1-128 (válido solo para códigos de barras de tipo *BC_CODE128*, *BC_EAN128* y *CB_GS1_128*).<br>	Los paréntesis permiten a los usuarios leer fácilmente el código de barras, pero no están dibujados en el código.<br><br>- *BC_Charsets*: Código de barras que utiliza uno o más conjuntos de caracteres para comprimir el código de barras. Esta set de caracteres debe ser definida en el valor del código de barras.<br>	Para obtener más información, consulte [Los diferentes tipos de códigos de barras](../WDLang5/3046064.md).<br><br>- *BC_NotProportional*: Ajusta el código de barras al tamaño del rectángulo de destino.<br><br>- *BC_NoText*: Muestra el texto debajo del código de barras. <br>	El texto se ajusta para los códigos de barras de tipo *BC_UPCA*, *BC_UPCE*, *BC_EAN13* y *BC_EAN8*. <br>	Para los otros tipos de códigos de barras, el texto puede exceder la visualización Border de código de barras.<br><br>- *BC_Check*: Código de barras con caracteres de control (válido solo para códigos de barras de tipo *BC_CODE39*, *BC_CODE93*, *BC_INTER2OF5* y *BC_CODABAR*).<br><br>- *BC_Vertical*: Imprime el código de barras verticalmente.<br><br>- *BC_90*: Imprime el código de barras verticalmente.<br><br>- *BC_180*: Imprime el código de barras mientras realiza una rotación igual a 180 grados.<br><br>- *BC_270*: Imprime el código de barras mientras realiza una rotación igual a 270 grados.<br><br><br> |
| Proporción de imagen | Real | Porcentaje del área ocupada por la imagen añadida al centro de la BarCode (sólo para los códigos QR para los que se especifica la **Imagen** Property). Este valor no debe superar la mitad del área reservada para la corrección de errores.<br><br><br>\   \   \<br>\ --- \ --- \<br>\ Valor del error de corrección Property \ Valor máximo de la ImageProportion Property \<br>\ qrcodeLevelH \ 5 \<br>\ qrcodeLevelL \ 1 \<br>\ qrcodeLevelM \ 3 \<br>\ qrcodeLevelQ \ 5 \<br><br><br> |
| RoughValue | Cadena Unicode | Valor aproximado del código de barras. <br><br>Para los códigos de barras que no sean códigos QR, el valor de esta Property es el mismo que el de la **Content** Property.<br><br>**Esta propiedad es de solo lectura**.<br><br> |
| TypeBarCode | Constante de tipo Integer | Tipo de código de barras: <br><br>- *BC_AZTEC*: Código de barras AZTEC.<br><br>- *BC_MAXICODE*: Código de barras MaxiCode.<br>	<br><br>- *BC_QRCODE*: Código QR. Esta constante se usa por defecto cuando se crea un BarCode Variable. <br><br>- *BC_UPCA*: Código de barras UPC-A.<br><br>- *BC_UPCE*: Código de barras UPC-E.<br><br>- *BC_EAN8*: Código de barras EAN8.<br><br>- *BC_EAN13*: Código de barras EAN13.<br><br>- *BC_CODE39*: Código de barras Code39.<br><br>- *BC_CODE93*: Código de barras Code93.<br><br>- *BC_CODE128*: Código de barras Code128.<br><br>- *CB_GS1_128*: Código de barras GS1-128 (nuevo nombre para el código de barras EAN128).<br><br>- *BC_INTER2OF5*: Código de barras Interleaved 2 of 5.<br><br>- *BC_DATAMATRIX*: Código de barras de tipo DATAMATRIX.<br>	<br><br>- *BC_PDF417*: Código de barras PDF417.<br><br>- *BC_CODABAR*: Codabar bar code.<br><br>- *BC_CODE11*: Código11 código de barras.<br>	<br><br>- *BC_EAN128*: Código de barras EAN128.<br>	<br><br>- *BC_MSI*: Código de barras MSI.<br>	<br><br><br><br><br>Estos tipos también están disponibles para las impresiones realizadas por [iPrintBarCode](../WDLang5/3046020.md). |


<a name="NOTE0_2"></a>


### Correspondencia entre las propiedades Content y ContentType
<a name="correspondencia_entre_las_propiedades_content_contenttype_ELTPARAGRAPHE000393"></a>

| Tipo de contenido | Tipo de valor (Contenido Property) | Observación |
| --- | --- | --- |
| *bcTypeText* | Cadena de caracteres | Ejemplo: "¡WINDEV es genial!" |
| *bcTypePhone* | Cadena de caracteres | Ejemplo: "0612345678" |
| *bcTypeSMS* | Cadena de caracteres<br>En modo de lectura: Los miembros de la [Estructura del SMS](../WDLang3/3068003.md) (SMS.Mensaje y SMS.Número) se rellenarán automáticamente con los valores leídos en el código de barras. el contenido corresponderá a una cadena en el siguiente formato: &lt;Número&gt; + CR + &lt;Mensaje&gt;<br><br>En generación: Si existen, los miembros de la [Estructura del SMS](../WDLang3/3068003.md) (SMS.Mensaje y SMS.Número) se tendrán en cuenta automáticamente. También puede utilizar una cadena de caracteres en el siguiente formato: &lt;Número&gt; + CR + &lt;Mensaje&gt; | Ejemplo: "0612345678&lt;CR&gt;Texto a enviar" |
| *bcTypeURL* | Cadena de caracteres<br><br>Corresponde a un marcador. El contenido se codificará en el siguiente formato: "urlto::URL". Por ejemplo: "urlto::http://www.windev.com". Algunos decodificadores no soportan este tipo de contenido. <br><br>Para especificar una dirección http, utilice el tipo de contenido *cbTypeText*. <br><br>Observación: Esta constante se mantiene para la compatibilidad con versiones anteriores y debe utilizarse en casos muy específicos. | Ejemplo: "http://www.google.com" |
| *bcTypeMarket* | Cadena de caracteres | Ejemplo: "market://search?q=pnombre:com.company.application" |
| *bcTypeWiFi* | Cadena de caracteres | Cadena de caracteres en el siguiente formato: <br>&lt;SSID&gt; + TAB + &lt;Protocolo de seguridad&gt;+ TAB + &lt;Key&gt;<br>Ejemplo: "MyNetwork&lt;TAB&gt;WPA&lt;TAB&gt;pwd" |
| *bcTypeEmail* | Cadena de caracteres | Ejemplo: "name@Email.com" |
| *bcTypeContact* | Vacío. <br>En modo de lectura: Los miembros de la [mEstructura de contactos](../WDLang3/1000006111.md) se rellenarán automáticamente con los valores leídos en el código de barras.<br>En generación: Los miembros de la [mEstructura de contactos](../WDLang3/1000006111.md) se utilizarán automáticamente para generar el código de barras. |   |
| *bcTypeLocation* | Variable de tipo [geoPosition](../WDLang3/1000019191.md).<br><br>En modo de lectura: Las propiedades **Latitud** y **Longitud** de la variable se rellenarán automáticamente con los valores leídos en el BarCode.<br>En generación: Las propiedades **Latitud** y **Longitud** de la variable se utilizarán automáticamente para generar el BarCode. |   |


<a name="NOTE0_3"></a>


### Funciones que utilizan las variables de los códigos de barras
<a name="funciones_que_utilizan_las_variables_los_codigos_barras_ELTPARAGRAPHE000492"></a>




|   |   |
| --- | --- |
| [BCCapture](../WDLang5/1000019456.md) | Decodifica la información almacenada en un código de barras utilizando la cámara del dispositivo (Android, iPhone, iPad). |
| [BCDecode](../WDLang5/1000019633.md) | Decodifica la información almacenada en un código de barras QR Code. |
| [iPrintBarCode](../WDLang5/3046020.md) | Imprime un código de barras (dentro de un rectángulo). |





**Observación**: Puede utilizar [VariableReset](../WDLang1/3013069.md) para restablecer el contenido de un **BarCode** Variable.




