
## Impresión de códigos de barras
			

<a name="NOTE1"></a>
<a name="NOTE2_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000274"></a>
WINDEV, WEBDEV y WINDEV Mobile le permiten imprimir códigos de barras. Puede utilizar:

- un "Código de barras" control en un reporte.

- [iPrintBarCode](../WDLang5/3046020.md) en una impresión realizada en WLanguage.






<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Imprimir un código de barras desde una reporte
<a name="imprimir_codigo_barras_desde_una_reporte_ELTTEXTE000298"></a>
El editor de reportes propone un "Código de barras" control. La control Código de barras puede vincularse directamente a un elemento de la fuente de datos de la reporte.

Los controles de los códigos de barras pueden configurarse en la ventana description (opción "description" del menú contextual).

Según el tipo de código de barras, set puede tener diferentes características:

- códigos de barras con cheque: el último carácter del código de barras corresponde a un carácter de control.

- código de barras extendido: el valor del código de barras puede contener los 128 caracteres que se encuentran en el código ASCII.

- mostrando (o no) el valor del código de barras.

- gestión del formato.

- gestión de los personajes de control y gestión del personaje set.




**Independientemente del tipo de código de barras**, también puede:

- configurar el tamaño del código de barras.

- configurar las características de la Border.

- gestionar la orientación del código de barras.




Para imprimir el código de barras, asigne el valor del código de barras a la control Código de barras. 


![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) **Caso especial: Código QR: los tipos propuestos por Default**
En una reporte, puede imprimir un código QR. Luego, este QR será decodificado por una aplicación que propondrá una acción específica de acuerdo al tipo de código QR.. 

El modo de asignación de la control Código de barras depende de su tipo. 

Por defecto, la ventana de description del control en el editor de reportes propone 4 tipos simples: 

- un **Código QR de tipo Texto**: Este tipo de código QR se utiliza para asociar un texto con el código de barras. Para inicializar este tipo de código QR, todo lo que tiene que hacer es asignarlo con una cadena de caracteres. Por ejemplo: 
	
	```wl
	BAC_QRCode = "I am a simple text"
	```


- un **Código QR de tipo Enlace Web**: Este tipo de código QR se utiliza para abrir directamente un sitio. Para inicializar este tipo de código QR, todo lo que tienes que hacer es asignarlo con un sitio Address. Por ejemplo: 
	
	```wl
	BAC_QRCode = "http://www.windev.com"
	```


- un **Código QR de tipo Número de teléfono**: Este tipo de código QR se utiliza para llamar directamente a un número de Phone. Para inicializar este tipo de código QR, todo lo que tienes que hacer es asignarle un número de Phone. Por ejemplo: 
	
	```wl
	BAC_QRCode = "010203040506"
	```


- un **Código QR de tipo Dirección de corre electrónico**: Este tipo de código QR se utiliza para obtener el correo electrónico Address de una Contact. Para inicializar este tipo de código QR, basta con asignarle un correo electrónico Address. Por ejemplo: 
	
	```wl
	BAC_QRCode = "doc@pcsoft.fr"
	```




![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) **Caso especial: Código QR: los tipos específicos**
También puede imprimir códigos QR (SMS, Contact, posición geográfica, etc.). En este caso, los datos deben asignarse a la control Código de barras mediante el tipo [CódigoDeBarras](../WDLang5/1000019451.md). 

Es necesario: 

1. Definir una Variable de tipo [CódigoDeBarras](../WDLang5/1000019451.md): 
	
	```wl
	MyBarCode is BarCode
	```


2. En la variable [CódigoDeBarras](../WDLang5/1000019451.md), especifique el tipo de contenido del código QR (por ejemplo, para un SMS BarCode): 
	
	```wl
	MyBarCode.TypeBarCode = BC_QRCode
	MyBarCode.ContentType = bcTypeSMS
	```


3. En función del tipo de código de barras, rellene el elemento correspondiente (véase más abajo tabla).: 
	

| Tipo de contenido | Tipo de valor (Contenido Property) | Observación |
| --- | --- | --- |
| *bcTypeText* | Cadena de caracteres | Ejemplo: "¡WINDEV es genial!" |
| *bcTypePhone* | Cadena de caracteres | Ejemplo: "0612345678" |
| *bcTypeSMS* | Cadena de caracteres en el siguiente formato: <br>&lt;Número&gt; + CR + &lt;Mensaje&gt;<br><br><br>Si se especifican, los miembros de la [Estructura del SMS](../WDLang3/3068003.md) (SMS.Mensaje y SMS.Número) se tendrán en cuenta automáticamente. | Ejemplo: "0612345678&lt;CR&gt;Texto a enviar" |
| *bcTypeURL* | Cadena de caracteres | Ejemplo: "http://www.google.com" |
| *bcTypeEmail* | Cadena de caracteres | Ejemplo: "name@Email.com" |
| *bcTypeContact* | Vacío. Los miembros de la [mEstructura de contactos](../WDLang3/1000006111.md) serán tenidos en cuenta automáticamente. |   |
| *bcTypeLocation* | variable de tipo [geoPosition](../WDLang3/1000019191.md).<br><br>Las propiedades **Latitud** y **Longitud** del Variable se tendrán en cuenta automáticamente. |   |






<a name="NOTE3_3"></a>


## Imprimir un código de barras en WLanguage
<a name="imprimir_codigo_barras_wlanguage_ELTTEXTE000334"></a>
Para imprimir un código de barras en WLanguage, debe utilizar [iPrintBarCode](../WDLang5/3046020.md). 
[iPrintBarCode](../WDLang5/3046020.md) propone dos sintaxis: 

- sintaxis utilizada para imprimir un código de barras directamente (esta sintaxis no es compatible con los códigos QR):
	
	```txt
	iPrintBarCode(<Value>, <Type>, <Coordinates of rectangle>, <Characteristics>)
	```

	Los parámetros son los siguientes:

	- el valor del código de barras. Este valor se puede imprimir debajo del código de barras.

	- el tipo de código de barras a imprimir.

	- las coordenadas (en píxeles) del rectángulo en el que se imprimirá el código de barras. 

	- las características del código de barras (si es necesario).







- sintaxis utilizada para imprimir un código de barras en una Variable de tipo [CódigoDeBarras](../WDLang5/1000019451.md) (esta sintaxis es compatible con los códigos QR):
	
	```txt
	iPrintBarCode(<BarCodes Variable>, <Coordinates of rectangle>)
	```

	Todos los parámetros del código de barras a imprimir se especifican en el [CódigoDeBarras](../WDLang5/1000019451.md) Variable. 




Independientemente de la sintaxis utilizada: 

- El código de barras se imprime en un rectángulo Invisible. Este rectángulo se utiliza para especificar la posición y el tamaño del código de barras a imprimir.

- Los códigos de barras "EAN" y "UPC" tienen una anchura y una altura proporcionales. Para ampliar estos códigos de barras, es necesario aumentar tanto la altura como la anchura.

- se debe utilizar [iEndPrinting](../WDLang5/3046053.md) para iniciar la impresión real. Esta función debe ser la última función de impresión utilizada.




El siguiente ejemplo presenta el código de clic de un botón utilizado para imprimir un código de barras EAN 13. El valor del código de barras se recupera en la control Campo de entrada denominada "EDT_EditBC".


```wl
iPrintWord("EAN 13 bar code:") 
iPrintBarCode(EDT_EditBC, BC_EAN13, 10, 10, 50, 100) 
iEndPrinting()
```


El siguiente ejemplo permite imprimir un código QR: 


```wl
MyQRCode is BarCode
MyQRCode.Content = "http://www.windev.com"
MyQRCode.ContentType = bcTypeText
MyQRCode.TypeBarCode = BC_QRCODE
iPrintBarCode(MyQRCode, 10, 20, 50, 60)
iEndPrinting()
```









