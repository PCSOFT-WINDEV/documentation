


## SocketConnect( Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Conecta un ordenador cliente a una toma de corriente determinada.

**Observaciones**:

- **UDP sockets**: Dado que el protocolo UDP es un protocolo no orientado a la "conexión", la función **SocketConnect** no puede utilizarse con el protocolo UDP. Para enviar o recibir datos con el protocolo UDP, debe crear un socket UDP ([SocketCreateUDP](../WDLang3/3070019.md)) y luego enviar/recibir datos con las sintaxis "especiales UDP" de [SocketWrite](../WDLang3/3070002.md) y [SocketRead](../WDLang3/3070014.md). 

- **SSL sockets**: Para enviar o recibir datos con el protocolo SSL, debe crear un socket SSL ([SocketCreateSSL](../WDLang3/1000017041.md)) y conectarse a este socket con [SocketConnectSSL](../WDLang3/1000017042.md).

- **Comunicación con robots o con aplicaciones que no sean de WINDEV**: Para simplificar los intercambios de datos por zócalo, un modo de transmisión es inicializado por Default. Para una comunicación con un módulo externo (aplicación no WINDEV, robot, etc.), este modo de transmisión puede impedir que las comunicaciones funcionen correctamente.. [SocketChangeTransmissionMode](../WDLang3/3070005.md) se utiliza para cambiar este modo de transmisión (la constante *SocketNoEndTag* permite no modificar las tramas leídas y escritas).




**Recordatorio**: Un socket es un recurso utilizado por las aplicaciones para comunicarse de un equipo a otro, independientemente del tipo de red.


<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo

![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) 
```wl
IF SocketConnect("Server", 8000) = False THEN
	Error("Connection error" + ErrorInfo(errMessage))
END
```
<a name="Example2"></a>

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) 
### Conexión a una toma de corriente

`<Result> = SocketConnect(<Socket name> , <Port number> [, <Address> [, <Maximum timeout>]])`
---

**`<Result>: (booleano)`**



- <u><u><u><u>True</u></u></u></u> si la función se ejecuta con éxito,

- <u><u><u><u>False</u></u></u></u> en caso contrario. Si se produce un error, puede get más detalles sobre el error con [ErrorInfo](../WDLang1/3013008.md).




**`<Socket name>: (Cadena de caracteres)`**

Nombre que se le dará a la conexión abierta en el socket del servidor. Este nombre será utilizado por todas las funciones de los zócalos.
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) Atención: El nombre del socket distingue entre mayúsculas y minúsculas.

**`<Port number>: (Integro)`**

Número de puerto de la toma de corriente. Si utiliza un zócalo associated con un protocolo preestablecido, utilice el número de puerto associated con el protocolo.
Si el socket fue creado por una aplicación WINDEV, este número debe incluirse entre 5 000 y 65 000. En este caso, el número debe ser idéntico al número de puerto especificado en [SocketCreate](../WDLang3/3070011.md).

**`<Address>: (Cadena de caracteres opcional)`**

Dirección del servidor. Si no se especifica este parámetro, se busca el servidor en el ordenador actual.. Esta Address se puede dar en el siguiente formato:

- IP Address en formato XXX.XXX.XXX.XXX (125.5.110.100 por ejemplo).

- URL que contiene el nombre del servidor (www.windev.com por ejemplo). Se recomienda esta sintaxis.


![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) La Address también puede corresponder a la IP Address devuelta por [NetIPAddress](../WDLang3/3056023.md).

**`<Maximum timeout>: (Entero o duración opcional)`**

Tiempo máximo de espera (en milisegundos) para establecer la conexión. Este tiempo de espera se utilizará si el servidor rechaza la conexión ([SocketDeny](../WDLang3/3070010.md)). En este caso, la conexión no se bloqueará. Este parámetro puede corresponder a: 

- un número entero que corresponde al número de milisegundos,

- una variable de tipo Duration,

- la duración en un formato legible (por ejemplo, 1 s o 10 ms). 


Este tiempo de espera es set a 5000 milisegundos por Default (5 segundos). Para obtener más información, consulte [los comentarios](#NOTE0_2). 





<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png) 

### Optimizando las conexiones para una IP Address
<a name="optimizando_las_conexiones_para_una_address_ELTPARAGRAPHE000244"></a>

Cuando se pasa una dirección IP a la función **SocketConnect**, se puede optimizar la conexión utilizando el siguiente código:  

```wl
Socket.Option = SocketOptimizeIPConnection
```
 Esta opción no está habilitada por Default porque la conexión puede fallar en algunas configuraciones. Sin embargo, puede ser useful en algunas aplicaciones para las que el rendimiento es crítico.

**Observación**: Para restablecer el comportamiento por defecto, basta con utilizar la constante *SocketOptionDefault*:

```wl
Socket.Option = SocketOptionDefault
```

<a name="NOTE0_2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) 

### Timeout
<a name="timeout_ELTPARAGRAPHE000260"></a>

El timeout especificado por &lt;Máximo timeout&gt; agrupa el timeout de dos pasos:

- el tiempo de espera para la resolución de Address: este tiempo de espera no puede ser configurado y puede ser optimizado (ver abajo).

- el tiempo máximo de espera para que la conexión sea aceptada por el servidor. Pueden ocurrir varios casos:

	- el servidor rechaza la conexión.

	- el servidor acepta la conexión dentro del tiempo de espera.

	- el servidor no está disponible.

	- la Address especificada es inválida.







Para optimizar el tiempo de resolución de Address (tiempo necesario para encontrar el Address), le aconsejamos que:

- usar un DNS en la red. Por lo tanto, esta Address se buscará hacia este servidor y no para cada ordenador (1 búsqueda en lugar de x búsquedas donde x representa el número de ordenadores). Cada computadora debe estar registrada hacia este servidor.

- para una dirección IP, utilice la opción **Socket.Option** Variable como sigue: 
	
	```wl
	Socket.Option = SocketOptimizeIPConnection
	```




<a name="NOTE0_3"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png) 

### Conexión a un puerto de infrarrojos
<a name="conexion_puerto_infrarrojos_ELTPARAGRAPHE000287"></a>

Para conectar a una toma que utilice un puerto de infrarrojos:

1. Cree un socket utilizando el puerto de infrarrojos del servidor ([SocketCreateInfrarrojo](../WDLang3/3070012.md) en una aplicación WINDEV).

2. En la aplicación cliente (aplicación WINDEV), utilice [SocketConnectInfrarrojo](../WDLang3/3070018.md) para conectarse a este socket.



<a name="NOTE0_4"></a>
<a name="NOTE0_6"></a>
![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) 

### Funcionalidad de aplicación requerida
<a name="funcionalidad_aplicacion_requerida_ELTPARAGRAPHE000328"></a>

Cuando se utiliza esta función, se debe declarar una funcionalidad de la aplicación en el asistente de generación de aplicaciones.

Característica necesaria: Redes domésticas y profesionales

Esta característica permite a las aplicaciones utilizar accesos entrantes y salientes a las redes familiares y corporativas.. 

<a name="XComponent"></a>

## Componente:
wd280com.dll
