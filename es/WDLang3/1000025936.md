
## ModbusReadFloat (Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Lee uno o más flotadores de una sola precisión de un esclavo Modbus, a partir de una Address específica.
<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// Create a session and connect to a Modbus server
Session is modbusSession
Session = ModbusConnectTCP("192.168.1.7")

arrResponse is array of 5 4-byte int

// If the connection fails, display the error
IF ErrorOccurred = True THEN
	Trace(ErrorInfo())
ELSE
	// Read a sequence of 5 floats in ABCD mode
	// in read-write mode starting at address 0x42.
	arrResponse = ModbusReadFloat(Session, 0x42, 5, False, modbusABCD)
	// Display the error, if any.
	IF ErrorOccurred = True THEN
		Trace(ErrorInfo())	
	END
END

// Disconnection
ModbusDisconnect(Session)
```

<a name="XSYNTAX"></a>

## Sintaxis
<a name="SYNTAX1"></a>

### Leyendo un flotador de una sola precisión de un esclavo Modbus

`<Result> = ModbusReadFloat(<Session> , <Address> , <Read-only> , <Endianness>)`
---

**`<Result>: (Real)`**

El valor de la flotación se lee. 

**`<Session>: (modbusSession Variable)`**

Nombre del [modbusSession](../WDLang3/1000025924.md) Variable que corresponde a la sesión de comunicación con el esclavo Modbus.

**`<Address>: (Integro)`**

Address de la carroza en el esclavo (entre 0 y 65.535).

**`<Read-only>: (booleano)`**



- <u><u><u><u>True</u></u></u></u> si los flotadores a ser leídos son parte de datos de sólo lectura (código de función Modbus 4 (Leer registros de entrada)). 

- <u><u><u><u>False</u></u></u></u> si los flotadores a leer son parte de los datos de lectura-escritura (código de función Modbus 3 (Leer múltiples registros de retención)).




**`<Endianness>: (Constante de tipo Integer)`**

Modo de almacenamiento de los valores de flotación en el dispositivo esclavo. Los bytes se identifican de la A a la D. La A es el byte más significativo y la D es el byte menos significativo (norma IEEE-754).


|   |   |
| --- | --- |
| *modbusABCD* | Los bytes enviados se almacenan en el mismo orden en el dispositivo esclavo. |
| *modbusBADC* | Los bytes enviados se intercambian de 2 en 2 en el dispositivo esclavo. |
| *modbusCDAB* | Los bytes enviados se intercambian de 2 en 2 en el dispositivo esclavo. |
| *modbusDCBA* | Los bytes enviados se intercambian en el dispositivo esclavo. |




<a name="SYNTAX2"></a>

### La lectura de múltiples flotadores de precisión simple de un esclavo Modbus

`<Result> = ModbusReadFloat(<Session> , <Address> , <Number of floats> , <Read-only> , <Endianness>)`
---

**`<Result>: (Array)`**

Array de reales que contiene el valor de los flotadores leídos. 

**`<Session>: (modbusSession Variable)`**

Nombre del [modbusSession](../WDLang3/1000025924.md) Variable que corresponde a la sesión de comunicación con el esclavo Modbus.

**`<Address>: (Integro)`**

Iniciando la Address de los flotadores en el esclavo (entre 0 y 65.535).

**`<Number of floats>: (Integro)`**

Número de carrozas que se leerán (para ser enviadas por el esclavo).

**`<Read-only>: (booleano)`**



- <u><u><u><u>True</u></u></u></u> si los flotadores a ser leídos son parte de datos de sólo lectura (código de función Modbus 4 (Leer registros de entrada)). 

- <u><u><u><u>False</u></u></u></u> si los flotadores a leer son parte de los datos de lectura-escritura (código de función Modbus 3 (Leer múltiples registros de retención)).




**`<Endianness>: (Constante de tipo Integer)`**

Modo de almacenamiento de los valores de flotación en el dispositivo esclavo. Los bytes se identifican de la A a la D. La A es el byte más significativo y la D es el byte menos significativo (norma IEEE-754).


|   |   |
| --- | --- |
| *modbusABCD* | Los bytes enviados se almacenan en el mismo orden en el dispositivo esclavo. |
| *modbusBADC* | Los bytes enviados se intercambian de 2 en 2 en el dispositivo esclavo. |
| *modbusCDAB* | Los bytes enviados se intercambian de 2 en 2 en el dispositivo esclavo. |
| *modbusDCBA* | Los bytes enviados se intercambian en el dispositivo esclavo. |





<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


- Esta función bloquea la aplicación hasta que el esclavo responda al mensaje o hasta que se supere el tiempo de espera de la sesión. 

- Después de llamar a **ModbusReadFloat**, se recomienda comprobar el [ErrorOccurred](../WDLang1/3087001.md) Variable para asegurarse de que no hay errores.




<a name="XComponent"></a>

## Clasificación Lógica de negocio / UI:
Lógica de negocio
## Componente:
wd280com.dll
