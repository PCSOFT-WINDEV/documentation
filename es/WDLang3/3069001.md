


## SOAPAddHeader( Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Añade un encabezado a la siguiente función SOAP de un servicio web a ejecutar. 

La cabecera añadida puede contener parámetros adicionales que afectan a la solicitud SOAP. En la mayoría de los casos, la información añadida a las cabeceras no representa directamente los parámetros de la función Webservice, sino meta información como, por ejemplo, la información de autenticación.

**Observación**: La función SOAP se ejecutará mediante una llamada a [SOAPRun](../WDLang3/3069013.md) o [SOAPRunXML](../WDLang3/3069014.md).






<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// Add a header to the next SOAP procedure run
// This header is used to check the security level used by the SOAP server
// If the maximum security level is not used, 
// the next SOAP procedure will not be run
SOAPAddHeader("Security", "MaxSecurity", "Security-Level", True)
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis

### Personalizar el encabezado del Servicio Web

`SOAPAddHeader(<Webservice name> , <Element to add into header>)`
---

**`<Webservice name>: (Webservice)`**

Nombre del servicio web a utilizar. El nombre del servicio web se muestra en el panel "Explorador de proyectos", en la carpeta "Servicios web. 

**`<Element to add into header>: (Tipo simple o complejo)`**

Variable del mismo tipo que el encabezado a insertar en la llamada al método Webservice. Los diferentes tipos se han recuperado al importar el archivo WSDL. 

Este elemento se añade al encabezado cuando se llama a una función SOAP del Webservice.


<a name="SYNTAX2"></a>

### Añadir un encabezado para un servicio web específico

`SOAPAddHeader(<Webservice name> , <Parameter name> , <Parameter value> , <Parameter namespace>)`
---

**`<Webservice name>: (Webservice)`**

Nombre del servicio web a utilizar. El nombre del servicio web se muestra en el panel "Explorador de proyectos", en la carpeta "Servicios web".

**`<Parameter name>: (Cadena de caracteres)`**

Nombre del parámetro adicional. 

Este parámetro adicional se utiliza para comprobar una información específica del servidor SOAP.

Este parámetro se proporciona en la documentación del servidor SOAP y sus funciones.

**`<Parameter value>: (Cualquier tipo)`**

Valor del parámetro adicional. 

Los valores posibles se proporcionan en la documentación del servidor SOAP y sus funciones.

**`<Parameter namespace>: (Cadena de caracteres)`**

Namespace del parámetro. 

Este parámetro se proporciona en la documentación del servidor SOAP y sus funciones.


<a name="SYNTAX3"></a>
<a name="SYNTAX4"></a>

<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Ejecución de la Procedure (sintaxis 4, mantenida por compatibilidad con el pasado)
<a name="ejecucion_procedure_sintaxis_4_mantenida_por_compatibilidad_con_pasado_ELTPARAGRAPHE000151"></a>

Tienes la capacidad de ejecutar (o no) el próximo SOAP Procedure añadiendo un encabezado. Para ello, el parámetro &lt;Ejecución de procedimiento&gt; debe inicializarse en <u><u><u><u>True</u></u></u></u>.

Si el parámetro &lt;Ejecución de procedimiento&gt; se inicializa en <u><u><u><u>True</u></u></u></u>:

- La función [SOAPRun](../WDLang3/3069013.md) (o [SOAPRunXML](../WDLang3/3069014.md)) devuelve <u><u><u><u>True</u></u></u></u> si se estableció la relación con el servidor SOAP, o <u><u><u><u>False</u></u></u></u> en caso contrario.

- Si se estableció la conexión con el servidor SOAP y si éste cumple las condiciones solicitadas por el encabezado, se ejecuta el Procedure.

- Si se ha ejecutado el Procedure, vuelve el [SOAPGetResult](../WDLang3/3069002.md):

	- el resultado del Procedure si el Procedure se ejecutaba con éxito,

	- una cadena vacía ("") si la Procedure fallaba.




- Si el Procedure falló o si no se ejecutó, [JABÓNError](../WDLang3/3069005.md) regresa:

	- el código de error "MustUnderstand" si el servidor SOAP no cumple las condiciones requeridas por el encabezado,

	- un error en los otros casos.







<a name="XComponent"></a>

## Clasificación Lógica de negocio / UI:
Lógica de negocio
## Componente:
wd280com.dll
