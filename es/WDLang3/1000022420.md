


## &lt;Mapa&gt;.AddItinerario (Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Añade un itinerario a un control Mapa.


<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// Displays a car itinerary between two specified addresses
MAP_MapControl.AddItinerary(["Place de la Comédie, Montpellier", ...
		"Avenue des Champs Elysées, Paris"], itineraryCar)
```
<a name="Example2"></a>

```wl
// Displays an itinerary corresponding to the list of specified geographical positions
posDeparture is geoPosition
posDeparture.Latitude = XXX
posDeparture.Longitude = XXX

posArrival is geoPosition
posArrival.Latitude = XXX
posArrival.Longitude = XXX

MAP_MapControl.AddItinerary([posDeparture, posArrival])

// You also have the ability to use the following code:  
// arrPositions is array of geoPosition
// Add(arrPositions, posDeparture)
// Add(arrPositions, posArrival)
// MAP_MapControl.AddItinerary(arrPositions)
```

<a name="XSYNTAX"></a>

## Sintaxis
<a name="SYNTAX1"></a>

`<Result> = <Map control>.AddItinerary(<Positions> [, <Mode> [, <Color> [, <Opacity> [, <Thickness>]]]])`
---

**`<Result>: (Cadena de caracteres)`**



- Identificador del itinerario añadido,

- Cadena vacía ("") si se produce un error. Para obtener más información sobre el error, utilice la función [ErrorInfo](../WDLang1/3013008.md).


![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) Esta función es asincrónica: no hay manera de averiguar si se ha devuelto un error con la función. 

**`<Map control>: (Nombre del control)`**

Nombre de la control Mapa a utilizar.

**`<Positions>: (Array)`**

Nombre de Array Variable que contiene las diferentes posiciones: 

- El primer elemento corresponde al punto de partida del itinerario. 

- El último elemento corresponde al punto de llegada. 

- Los otros elementos de array representan los pasos intermedios del itinerario. Esta array debe contener al menos dos elementos (posición de salida y posición de llegada). Si está usando la licencia de Google Map de Default, esta array puede contener hasta 8 posiciones intermedias (pasos). Si utiliza una clave de licencia "Google Maps API", el número de posiciones intermedias es ilimitado..  




Esta array puede ser: 

- una array de cadenas de caracteres, describiendo la Address correspondiente a cada posición del itinerario. Por ejemplo: Avenue des Champs Elysée, París, Francia. 
	![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) El uso de una cadena de caracteres no es recomendable con el servicio mapping de Bing Map. Las posiciones pueden ser inconsistentes. 

- un array de variables [Address](../WDLang3/1000019944.md), que describe el address correspondiente a cada posición del itinerario. 

- una variable array de [geoPosition](../WDLang3/1000019191.md), que indica la posición geográfica correspondiente a cada posición del itinerario.

- una variable array de [Marker](../WDLang3/1000019940.md), que representa cada posición del itinerario en el mapa (los marcadores se añadirán automáticamente al control Mapa si no se han añadido ya).




**`<Mode>: (Constante opcional de tipo Integer)`**

Modo de cálculo del itinerario. Este parámetro puede tomar uno de los siguientes valores: 


|   |   |
| --- | --- |
| *itineraryCar*<br>(Valor predeterminado) | El itinerario se trazará teniendo en cuenta las carreteras accesibles a los coches.<br><br>Características de este modo:<br><br>- Este modo utiliza el modo de geolocalización de Google. Se requiere un acceso a INTERNET.<br><br>- Puedes reorganizar el orden de las paradas get de la mejor manera posible.<br><br><br> |
| *itineraryCarNotOptimized* | El itinerario se trazará teniendo en cuenta las carreteras accesibles a los coches.<br><br>Características de este modo:<br><br>- Este modo utiliza el modo de geolocalización de Google. Se requiere un acceso a INTERNET.<br><br>- El orden de las paradas no será cambiado.<br><br><br>![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) Esta constante no está disponible. |
| *itineraryCyclist* | El itinerario será trazado respetando los caminos accesibles a las bicicletas.. Los itinerarios para ciclistas no están disponibles en todos los países.. Consulte la documentación sobre el servicio de geo-localización de Google para más detalles.<br><br>Características de este modo:<br><br>- Este modo utiliza el modo de geolocalización de Google. Se requiere un acceso a INTERNET.<br><br>- Puedes reorganizar el orden de las paradas get de la mejor manera posible.<br><br><br> |
| *itineraryManual* | El itinerario se dibujará en una Line recta entre cada posición especificada, ignorando las carreteras.<br><br>Este modo no utiliza necesariamente el modo de geolocalización de Google.. En este caso, &lt;Posiciones&gt; debe corresponder a un array de variables [geoPosition](../WDLang3/1000019191.md) o a un array de variables [Marker](../WDLang3/1000019940.md).<br><br>En este modo, los pasos intermedios se tienen en cuenta según el orden de adición en el array.<br>![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) Esta constante no está disponible. |
| *itineraryPedestrian* | El itinerario será trazado respetando los caminos accesibles a los peatones.<br><br>Características de este modo:<br><br>- Este modo utiliza el modo de geolocalización de Google. Se requiere un acceso a INTERNET.<br><br>- Puedes reorganizar el orden de las paradas get de la mejor manera posible.<br><br><br> |



**`<Color>: (Entero opcional)`**

Color para dibujar el itinerario. Este color puede corresponder a:

- un color RGB (devuelto por la función [RGB](../WDLang1/3029012.md)),

- un color HSL (devuelto por la función [HSL](../WDLang1/3029057.md)),

- [un color predefinido de WLanguage](../WDLang5/3010002.md).




**`<Opacity>: (Entero opcional)`**

Porcentaje de opacidad para el trazado del itinerario. 

- 0: Dibujo de Transparent,

- 100: no opacity. El valor predeterminado de este parámetro es 60.


![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) Este parámetro no está disponible.

**`<Thickness>: (Entero opcional)`**

Espesor (en píxeles) para dibujar el itinerario. El grosor es de set a 8 píxeles por Default. 
![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) Este parámetro no está disponible.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


- Uso de Google Maps: la API "Direcciones" debe estar activada en su clave de Google Maps. 

- Atención: El orden de los pasos intermedios puede modificarse automáticamente para mostrar un itinerario optimizado.

- Para personalizar la Image de los marcadores de itinerario, basta con añadir previamente los marcadores con [&lt;Mapa&gt;.AddMarker](../WDLang3/1000022422.md) en las mismas posiciones del itinerario.

- Para eliminar un itinerario de un mapa, utilice [&lt;Mapa&gt;.DeleteItinerario](../WDLang3/1000022465.md).

- Para eliminar todos los itinerarios de un mapa, utilice [&lt;Mapa&gt;.DeleteAll](../WDLang3/1000022472.md).

- **Atención**: La creación de itinerarios entre dos posiciones distantes puede desencadenar el almacenamiento en memoria de varios puntos para dibujar el itinerario (especialmente para los itinerarios de ciclistas y peatones).. Por lo tanto, le aconsejamos que limite el número de itinerarios que se muestran simultáneamente en la control Mapa.

- ![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) Para gestionar las características específicas de la gestión de los itinerarios, utilice [&lt;Mapa&gt;.ExecuteJS](../WDLang3/1000022384.md). 

- ![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) La control Mapa está usando el servicio de Bing Map.
	**Atención**: El uso de un control Mapa está sujeto a términos y condiciones específicos. Se debe utilizar una clave Bing (función [MapLicenseBing](../WDLang3/1000022006.md)). Verifique la licencia de Bing antes de implementar sus aplicaciones.






<a name="XComponent"></a>

## Componente:
wd280obj.dll
