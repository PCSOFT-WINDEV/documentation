


## GPSGetPosition( Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Recupera información sobre la posición actual del dispositivo.

![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) **GPSGetPosition** debe ejecutarse en un thread. 
<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
MyLocation is geoPosition
MyLocation = GPSGetPosition()
// Checks the position validity with ErrorOccurred
IF ErrorOccurred THEN RETURN
Info(" Latitude : " + MyLocation.Latitude)  
Info(" Longitude : " + MyLocation.Longitude)
```
<a name="Example2"></a>

<a name="XSYNTAX"></a>

## Sintaxis
<a name="SYNTAX1"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) 
### Recuperar información sobre un dispositivo (móvil, ...)

`<Result> = GPSGetPosition([<Timeout> [, <Message>]])`
---

**`<Result>: (geoPosition Variable)`**

[geoPosition](../WDLang3/1000019191.md) variable que contiene información sobre la posición del dispositivo. Si la ubicación no es válida, el valor de la variable [ErrorOccurred](../WDLang1/3087001.md) es <u><u><u><u>True</u></u></u></u> y los detalles del error se pueden obtener con la función [ErrorInfo](../WDLang1/3013008.md).



**`<Timeout>: (Entero o duración opcional)`**

Tiempo máximo de espera (en centésimas de segundo) para actualizar la posición del dispositivo.

- Se produce un error si el tiempo de espera finaliza antes de que se actualice la posición del dispositivo.. Este error puede ser detectado por el [ErrorOccurred](../WDLang1/3087001.md) Variable y los detalles del error pueden ser devueltos por [ErrorInfo](../WDLang1/3013008.md).

- Si no se especifica este parámetro, el tiempo de espera es de set a 1 minuto.


Observación: Este parámetro puede corresponder a: 

- un número entero que corresponde al número de centésimas de segundo,

- una variable de tipo Duration,

- la duración en un formato legible (por ejemplo, 1 s o 10 ms). 




**`<Message>: (Cadena de caracteres opcional)`**

Mensaje de reloj de arena visualizado al actualizar la posición.

**Observación**: Este parámetro sólo se tiene en cuenta si la llamada se realiza en la aplicación principal Thread.
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) Este parámetro no se tiene en cuenta.


<a name="SYNTAX2"></a>

<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Gestión de cierres
<a name="gestion_cierres_ELTPARAGRAPHE000206"></a>

**GPSGetPosition** bloquea la ejecución hasta que se recupere la ubicación actual del dispositivo o hasta que expire el tiempo de espera definido por el parámetro &lt;Timeout&gt;.. 

Si se llama a la función en el hilo principal de la aplicación, se mostrará un reloj de arena durante la ejecución de la función. El mensaje que muestra el reloj de arena se puede especificar mediante el parámetro &lt;Mensaje&gt;.. 
De lo contrario, la ejecución de la Thread secundaria se bloqueará durante la ejecución de la función y no se mostrará ningún reloj de arena.



**Observación**: Para conocer la última posición conocida del dispositivo sin que se agote el tiempo de espera, utilice [GPSLastPosition](../WDLang3/1000019239.md). Atención, la información de posicionamiento recuperada puede no corresponderse con la posición actual del dispositivo si éste se ha movido mientras la señal GPS no era válida, por ejemplo.. Puede utilizar el **MeasurementDate** Property del [geoPosition](../WDLang3/1000019191.md) Variable para determinar la fecha y la hora en que se calculó la posición.
![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) 

### Propiedades recuperadas
<a name="propiedades_recuperadas_ELTPARAGRAPHE000231"></a>

- Para determinar si se asignó un valor a las propiedades [Velocidad](../WDLang3/1000019191.md), [Precisión](../WDLang3/1000019191.md), [Dirección](../WDLang3/1000019191.md) o [Altitud](../WDLang3/1000019191.md) de una variable [geoPosition](../WDLang3/1000019191.md) cuando se recuperó la ubicación, utilice las propiedades [SpeedValid](../WDLang3/1000019191.md), [AccuracyValid](../WDLang3/1000019191.md), [DirectionValid](../WDLang3/1000019191.md) y [AltitudeValid](../WDLang3/1000019191.md).

- Para reiniciar una geoPosition Variable, utilice [VariableReset](../WDLang1/3013069.md).

- La información de posicionamiento recuperada corresponde a la última ubicación conocida del dispositivo: por lo tanto, pueden no corresponder a la ubicación actual del dispositivo si éste se movió mientras la señal GPS no era válida, por ejemplo. Para determinar la fecha y la hora en la que se ha calculado la posición se puede utilizar el [MeasurementDate](../WDLang3/1000019191.md) Property del [geoPosition](../WDLang3/1000019191.md) Variable.

- [Velocidad](../WDLang3/1000019191.md), [Precisión](../WDLang3/1000019191.md), [Dirección](../WDLang3/1000019191.md) y [Altitud](../WDLang3/1000019191.md) se especificarán sólo si el proveedor de la ubicación lo permite (en caso contrario, estas propiedades tomarán su valor default). 
	



![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) 

### Funcionalidad de aplicación requerida
<a name="funcionalidad_aplicacion_requerida_ELTPARAGRAPHE000542"></a>

Cuando se utiliza esta función, se debe declarar una funcionalidad de la aplicación en el asistente de generación de aplicaciones.

Característica necesaria: Geolocalización

Esta característica permite a las aplicaciones acceder a las características de geolocalización que se encuentran en el dispositivo o en el equipo. 

<a name="XComponent"></a>

## Clasificación Lógica de negocio / UI:
Lógica de negocio
## Componente:
wd280java.dll
