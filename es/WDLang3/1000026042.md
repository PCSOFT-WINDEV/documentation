
## WebSocketExecuteGlobalService( Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Ejecuta una Procedure global en el contexto del servicio global del servidor WebSocket.
<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// The client has just established the connection.
// The client is declared in the array of clients available to play.
WebSocketExecuteGlobalService(ClientConnection, clClient)

//=======================
// Global procedure
PROCEDURE ClientConnection(clClient is websocketClient)
	// Uses the client.
```

<a name="XSYNTAX"></a>

## Sintaxis
<a name="SYNTAX1"></a>

`WebSocketExecuteGlobalService(<WLanguage procedure> [, <Parameters>])`
---

**`<WLanguage procedure>: (Nombre de Procedure)`**

Nombre del WLanguage global Procedure que se ejecutará en el contexto del servicio global. 

**`<Parameters>: (Lista de valores entre paréntesis, separados por comas)`**

Parámetros del procedimiento. La lista de parámetros tiene el siguiente formato: 


```txt
(<Parameter 1>, ..., <Parameter N>)
```
donde: 

- &lt;Parámetro 1&gt;: Primer parámetro del procedimiento.

- ...

- &lt;Parámetro N&gt;: Enésimo parámetro de procedimiento.




**Atención**: 

- Los parámetros se pasan por valor. 

- Sólo se permiten los tipos simples: Booleano, entero, ... Por ejemplo, no es posible tener un parámetro correspondiente a una instancia de clase. 








<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Contextos de ejecución
<a name="contextos_ejecucion_ELTPARAGRAPHE000049"></a>

El servicio global del servidor WebSocket y los clientes conectados se ejecutan de forma independiente. Cada uno se ejecuta en su propio contexto con:

- su propia copy de variables globales.

- su propio contexto de base de datos. 

- etc.


Por lo tanto, no es posible para manipular el contexto global o el contexto de otro cliente.

**WebSocketExecuteGlobalService** se utiliza para ejecutar el lenguaje WL global Procedure pasado como parámetro en el contexto del servicio global. Durante la ejecución de la Procedure global, las variables globales serán las del servicio global.

El procedimiento global se llama entre dos llamadas del "Servicio global" Event( llamado en bucle). Debe haber suficiente tiempo entre las llamadas a este evento, de lo contrario la Procedure nunca será llamada. Esta interval se puede configurar a través del atributo de extensión &lt;interval=&lt;Duración&gt;&gt;.. Para obtener más información, consulte [Usar WebSockets con el servidor WebSocket](../WDLang3/1000017218.md).  
<a name="NOTE0_2"></a>


### Modo de funcionamiento asíncrono
<a name="modo_funcionamiento_asincrono_ELTPARAGRAPHE000198"></a>

El modo de funcionamiento es asíncrono: la función simplemente pide la ejecución de la Procedure. En realidad, el Procedure puede ejecutarse más tarde (después de que se haya ejecutado el **WebSocketExecuteGlobalService**). La función **WebSocketExecuteGlobalService** nunca devuelve errores (por ejemplo, si el cliente se desconectó).

<a name="XComponent"></a>

## Clasificación Lógica de negocio / UI:
Lógica de negocio
## Componente:
wd280awws.dll
