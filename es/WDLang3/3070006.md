
## SocketWaitForConnection( Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Ejecutar en el servidor, esta función se utiliza para esperar una petición de conexión procedente del cliente sockets.

**Observaciones**:

- Si el ordenador cliente utiliza una aplicación WINDEV para conectarse a este socket, la solicitud de conexión la realiza [SocketConnect](../WDLang3/3070016.md).

- **Enchufe UDP**: **SocketWaitForConnection** no puede utilizarse con UDP sockets.








**Recordatorio**: Un socket es un recurso utilizado por las aplicaciones para comunicarse de un equipo a otro, independientemente del tipo de red.


<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo

![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png) 
```wl
// Creates a socket on the server
IF SocketCreate("Server", 8000) = False THEN
	Error("Creation error " + ErrorInfo(errMessage))
ELSE
	// Manage the connections of the client computers in a thread
	ThreadExecute("Thread1", threadNormal, WaitProcedure)
END


INTERNAL PROCEDURE WaitProcedure()
	IF SocketWaitForConnection("Server") THEN
		Channel is string
		// If the connection is accepted, 
		// this connection is managed in a specific thread
		Channel = SocketAccept("Server")
		ThreadExecute(Channel, threadNormal, ProcedureManagement, Channel)
	ELSE
		IF NOT SocketExist("Server") THEN 
      		  	BREAK
		END
	END
END
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis

`<Result> = SocketWaitForConnection(<Socket name> [, <Maximum timeout>])`
---

**`<Result>: (booleano)`**



- <u><u><u><u>True</u></u></u></u>: está pendiente una nueva solicitud de conexión.

- <u><u><u><u>False</u></u></u></u>: no se ha detectado ninguna solicitud de conexión.




**`<Socket name>: (Cadena de caracteres)`**

Nombre del socket del servidor que espera la conexión.

![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) Atención: El nombre del socket distingue entre mayúsculas y minúsculas.

**`<Maximum timeout>: (Entero o duración opcional)`**

Tiempo máximo de espera (en milisegundos). 

- Esta función es una función de bloqueo durante la duración especificada o hasta que se detecte una solicitud de conexión.

- Si no se especifica este parámetro, la función bloquea la aplicación hasta el siguiente intento de conexión.. 


**Observación**: si esta función se utiliza en modo multi-thread, la función sólo bloquea el el hilo en el que se llama.  

Este parámetro puede corresponder a: 

- un número entero que corresponde al número de milisegundos,

- una variable de tipo Duration,

- la duración en un formato legible (por ejemplo, 1 s o 10 ms). 









## Observaciones
<a name="XComponent"></a>

## Componente:
wd280com.dll
