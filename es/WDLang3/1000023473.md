
## Tareas de fondo
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000113"></a>
Seguir ejecutando un Process cuando la aplicación está en segundo plano es muy useful en el móvil: 

- recordatorio de cita (mostrar un Notification),

- cálculo del volumen de negocios en tiempo real,

- recuperación de datos, ....


El proceso debe simplemente estar presente en un procedimiento. Todo lo que tiene que hacer es especificar la frecuencia con la que se ejecutará este procedimiento.

Entre las llamadas, el procedimiento no consume ni batería ni CPU.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Implementación
<a name="implementacion_ELTTEXTE000137"></a>


### En el editor
<a name="editor_ELTPARAGRAPHE000024"></a>

Para automatizar a Procedure:

1. Mostrar el código de la Procedure.

2. Abre la ventana de la description de las automatizaciones de la Procedure:

	- Haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Proc_auto_Ico.gif) en la barra de Procedure.

	- Seleccione la opción "Configurar procesos automatizados del procedimiento" en el menú contextual del procedimiento (en el panel "Explorador de proyectos").

	- Seleccione "Propiedades" en el menú contextual de la Procedure en el panel "Código".




3. En la ventana que aparece, seleccione el tipo de automatización: "Ejecutar periódicamente cuando la aplicación está en segundo plano".

4. Especifique el tiempo interval (en minutos). Este interval es el tiempo mínimo interval entre dos ejecuciones de tareas. Se utiliza para garantizar que la tarea no se ejecutará durante este tiempo interval. Sin embargo, el sistema puede aumentar el tiempo de interval de acuerdo con varios factores (carga de trabajo importante, batería baja, etc.). Por lo tanto, el tiempo real interval puede cambiar y puede ser bastante largo (varias horas).

5. Validar. 





### Mediante programación
<a name="mediante_programacion_ELTPARAGRAPHE000045"></a>

Para añadir una tarea Background, utilice [BackgroundTaskAdd](../WDLang3/1000023454.md). 

Observación: También puede manipular Background tareas utilizando las siguientes funciones: 



|   |   |
| --- | --- |
| [BackgroundTaskDelete](../WDLang3/1000023455.md) | Borra una tarea de Background (que fue añadida por [Background TaskAdd](../WDLang3/1000023454.md)). |
| [BackgroundTaskList](../WDLang3/1000023456.md) | Devuelve la lista de tareas de Background para la aplicación. |






### Modo de funcionamiento
<a name="modo_funcionamiento_ELTPARAGRAPHE000056"></a>

Una vez añadida, la tarea de fondo es ejecutada automáticamente por el sistema a tiempo regular interval. 

La tarea es persistente, continuará ejecutándose periódicamente cuando se detenga la aplicación, incluso cuando se reinicie el dispositivo.. 

Si la tarea se lanza mientras la aplicación no está iniciada, la aplicación se ejecutará en segundo plano (sin abrir la primera ventana del proyecto), la inicialización Process del proyecto y la declaración Process de las clases y conjuntos de Procedure s se ejecutarán antes de llamar al Procedure associated con la tarea. 

La tarea se ejecutará cuando la aplicación no se inicie o cuando la aplicación esté en Background. Si la aplicación se muestra en primer plano, se aplazará su ejecución.

Como la tarea puede ejecutarse en un hilo secundario de la aplicación, el código del lenguaje WL Procedure no debe contener un acceso a la UI de la aplicación ni abrir cuadros de diálogo (mediante [Info](../WDLang1/3021011.md), [Error](../WDLang1/3021013.md), etc.). Si la tarea debe interactuar con los usuarios, puede utilizar las notificaciones ([Funciones de Notifxxx](../WDLang3/1000019476.md)).

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Características específicas
<a name="caracteristicas_especificas_ELTTEXTE000211"></a>




