


## Comunicación con un servidor SSH
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Principio
<a name="principio_ELTTEXTE000138"></a>
Secure Shell (SSH) es un protocolo de comunicación seguro. Los datos intercambiados se protegen mediante claves de encriptación.

Un servidor puede soportar el protocolo SSH seguro para recibir comandos remotos.. 

WINDEV y WEBDEV proponen varias funciones que le permiten conectarse, iniciar una sesión, transmitir comandos para ejecutar y recuperar el resultado de estos comandos.

El protocolo es SSH-2. 

Se pueden utilizar dos métodos para comunicarse con un servidor SSH:

- [Envíe los comandos de Shell directamente](#NOTE2_1),

- [Comunicación con un servidor SSH](#NOTE2_2).






<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## ¿Cómo proceder?
<a name="¿como_proceder_ELTTEXTE000162"></a>


### Envío directo de comandos
<a name="envio_directo_comandos_ELTPARAGRAPHE000057"></a>

El envío directo de comandos lo realiza [SSHCommand](../WDLang3/1000021143.md). Los parámetros de conexión al servidor SSH deben describirse en un [sshSession](../WDLang3/1000021157.md) Variable.

Ejemplo: 


```wl
cMySession is sshSession
buffOutput is Buffer
cMySession.Address = "127.0.0.1"
cMySession.Port = 22
cMySession.User = "login"
cMySession.UserPassword = "pass"
nExitCode is int
sOutput is ANSI string
sOutputErr is ANSI string
(nExitCode, sOutput, sOutputErr) = SSHCommand(cMySession, EDT_Command)
IF ErrorOccurred THEN
	Error(ErrorInfo(errFullDetails))
	RETURN
END
EDT_ExitCode = nExitCode
EDT_StdOut = UTF8ToString(sOutput)
EDT_StdErr = UTF8ToString(sOutputErr)
```

<a name="NOTE2_2"></a>


### Diálogo con un servidor SSH
<a name="dialogo_con_servidor_ssh_ELTPARAGRAPHE000076"></a>El diálogo con el servidor SSH se realiza mediante las siguientes funciones:



|   |   |
| --- | --- |
| [SSHConnectShell](../WDLang3/1000021147.md) | Inicia una nueva sesión SSH del tipo "Shell". |
| [SSHDisconnectShell](../WDLang3/1000021148.md) | Cierra una sesión de SSH que fue abierta por [SSHConnectShell](../WDLang3/1000021147.md). |
| [SSHRead](../WDLang3/1000021149.md) | Lee los datos encontrados en el buffer de salida de la sesión SSH. |
| [SSHWrite](../WDLang3/1000021150.md) | Escribe los datos en la sesión SSH especificada. |



 Los parámetros de conexión al servidor SSH deben describirse en un [sshSession](../WDLang3/1000021157.md) Variable.

Ejemplo:

```wl
cMySession is sshSession
cMySession.Address = "127.0.0.1"
cMySession.Port = 22
cMySession.User = "login"
cMySession.UserPassword = "pass"
IF SSHConnectShell(cMySession) THEN
	Info("Session started")
	bufOutput is Buffer = "data"
	SSHWrite(cMySession, bufOutput)
	SSHDisconnectShell(cMySession)
END
```



