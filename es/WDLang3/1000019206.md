


## GPSFollowMovement( Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Solicita que se le notifique periódicamente la ubicación actual del dispositivo.




<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// Enables a procedure to receive the device's location at regular intervals
GPSFollowMovement(MovementProc)
```

```wl
// Procedure
PROCEDURE MovementProc(pos is geoPosition)
	
Info(" Latitude: " + pos.Latitude)  
Info(" Longitude: " + pos.Longitude)
```

<a name="XSYNTAX"></a>

## Sintaxis
<a name="SYNTAX1"></a>
![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) 
### Activando el mecanismo de Notification (en un móvil)

`GPSFollowMovement(<WLanguage procedure> [, <Timeout> [, <Distance>]])`
---

**`<WLanguage procedure>: (Nombre de Procedure)`**

Nombre del procedimiento WLanguage llamado en cada Notification.

Este procedimiento tiene el siguiente formato:


```txt
PROCEDURE <Procedure name>(<Location>)
```
&lt;Localización&gt; es una variable de tipo [geoPosition](../WDLang3/1000019191.md) que contiene información sobre la ubicación del dispositivo en el momento del Notification.

**`<Timeout>: (Entero o duración opcional)`**

Tiempo mínimo de espera (en centésimas de segundo) entre dos notificaciones. Si no se especifica este parámetro, el tiempo mínimo de espera se set a 60 segundos.
Observación: Este parámetro puede ser: 

- un número entero que corresponde al número de centésimas de segundo,

- una variable de tipo Duration,

- la duración en un formato legible (por ejemplo, 1 s o 10 ms).




![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) Este parámetro no se tiene en cuenta.

**`<Distance>: (Real opcional)`**

Distancia mínima (en metros) entre dos notificaciones.

Si no se especifica este parámetro, la distancia mínima será set a 5 metros.


<a name="SYNTAX2"></a>
<a name="SYNTAX3"></a>

### Desactivando el mecanismo de Notification

`GPSFollowMovement()`
---



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones
![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) 

### Propiedades recuperadas
<a name="propiedades_recuperadas_ELTPARAGRAPHE000165"></a>

- Para determinar si se asignó un valor a las propiedades [Velocidad](../WDLang3/1000019191.md), [Precisión](../WDLang3/1000019191.md), [Dirección](../WDLang3/1000019191.md) o [Altitud](../WDLang3/1000019191.md) de una variable [geoPosition](../WDLang3/1000019191.md) cuando se recuperó la ubicación, utilice las propiedades [SpeedValid](../WDLang3/1000019191.md), [AccuracyValid](../WDLang3/1000019191.md), [DirectionValid](../WDLang3/1000019191.md) y [AltitudeValid](../WDLang3/1000019191.md).

- Para reiniciar una geoPosition Variable, utilice [VariableReset](../WDLang1/3013069.md).

- La información de posicionamiento recuperada corresponde a la última ubicación conocida del dispositivo: por lo tanto, pueden no corresponder a la ubicación actual del dispositivo si éste se movió mientras la señal GPS no era válida, por ejemplo. Para determinar la fecha y la hora en la que se ha calculado la posición se puede utilizar el [MeasurementDate](../WDLang3/1000019191.md) Property del [geoPosition](../WDLang3/1000019191.md) Variable.

- [Velocidad](../WDLang3/1000019191.md), [Precisión](../WDLang3/1000019191.md), [Dirección](../WDLang3/1000019191.md) y [Altitud](../WDLang3/1000019191.md) se especificarán sólo si el proveedor de la ubicación lo permite (en caso contrario, estas propiedades tomarán su valor Default). 
	



![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) 

### Notas
<a name="notas_ELTPARAGRAPHE000235"></a>

- Las funciones de geolocalización pueden consumir muchos recursos en el dispositivo (batería, ancho de banda, etc.).. Por lo tanto, le aconsejamos que no defina valores muy pequeños para el tiempo muerto mínimo y para la distancia mínima entre dos notificaciones.

- Para no recibir más notificaciones, llame a la función **GPSFollowMovement** sin parámetros o a la función [GPSEnd](../WDLang3/1000019210.md).



![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png) 

### Funcionalidad de aplicación requerida
<a name="funcionalidad_aplicacion_requerida_ELTPARAGRAPHE000531"></a>

Cuando se utiliza esta función, se debe declarar una funcionalidad de la aplicación en el asistente de generación de aplicaciones.

Característica necesaria: Geolocalización

Esta característica permite a las aplicaciones acceder a las características de geolocalización que se encuentran en el dispositivo o en el equipo. 

Atención: Caso específico de Android 12: Para ejecutar el Procedure llamado por **GPSFollowMovement** cuando la aplicación está en segundo plano, es necesario ejecutar un Thread persistente ([ThreadPersistent](../WDLang1/1000020584.md)). 



<a name="XComponent"></a>

## Componente:
wd280java.dll
