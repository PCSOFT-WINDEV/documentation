


## WINDEV y los flujos de comunicación (audio, sonido)
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000225"></a>
A manipular los flujos de comunicación, WINDEV incluye:

- El [Control Conferencia](../WDChamp/1013062.md).

- [Funciones WLanguage para la gestión de streaming](../WDLang3/3039004.md).




Esto permite que dos usuarios se comuniquen entre ellos.. El Image y la voz de los usuarios son transmitidos en tiempo real en cada computadora conectada.

Ejemplos de aplicaciones que utilizan los flujos:

- videoconferencia,

- retransmisión de una conferencia de prensa en directo, ....




**Limitaciones**:

- El ordenador actual y los ordenadores conectados deben estar equipados con una cámara web y/o un micrófono.. Si uno de los ordenadores no está equipado con una cámara web o un micrófono, la correspondiente Image o voz no se emitirá.

- Sólo se pueden ver las secuencias de vídeo emitidas actualmente por las cámaras web instaladas en los ordenadores conectados.. No se puede ver ningún archivo de vídeo.

- Sólo se pueden escuchar los sonidos que actualmente emiten los micrófonos instalados en los ordenadores conectados.. No se puede escuchar ningún archivo de sonido.




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Principio
<a name="principio_ELTTEXTE000249"></a>
Para manipular la comunicación fluye:

1. Crear una ventana que contenga uno o más controles de Conferencia. En la pestaña "Creación", en el grupo "Controles gráficos", despliegue "Video y captura" y seleccione "Conferencia".

2. Mostrar la ventana de corrientes de description: 

	- en la pestaña "Ventana", en el grupo "Edición", despliegue "Otras acciones" y seleccione "Editar flujos".

	- en la el menú contextual de la control Conferencia, seleccione "Editar los flujos de ventanas".




3. En esta ventana:

	- Configurar las características de los controles de la Conferencia: tipo de datos salientes y entrantes, visualización del vídeo saliente o entrante, ...
			**Observación**: Estas características también se pueden set programáticamente (propiedades [Datos de entrada](../Proprietes/2510117.md), [Datos de salida](../Proprietes/2510037.md), [Identificador](../Proprietes/2510036.md) y [Pantalla](../Proprietes/2510010.md)).

	- Asocie (si es necesario) los diferentes controles de la Conferencia con los flujos de comunicación correspondientes.

	- Habilitar la detección de flujos entrantes (propiedad [Detección](../Proprietes/2510031.md) u opción "Detección de flujos entrantes habilitada" en la ventana description de los flujos).




4. Mediante programación:

	- Conectar el flujo a una dirección específica (función [StreamConnect](../WDLang3/3039008.md) o [Address](../Proprietes/2510017.md) Property).

	- Aceptar o rechazar el flujo entrante ([StreamAccept](../WDLang3/3039003.md) o [StreamReject](../WDLang3/3039006.md)).

	- Terminar la recepción o la transmisión del flujo ([StreamDisconnect](../WDLang3/3039007.md)).






<a name="NOTE2_2"></a>


### Observaciones
<a name="observaciones_ELTPARAGRAPHE000116"></a>

- Puede detener temporalmente la recepción o el envío de un tipo de datos (sonido o vídeo) en el flujo de comunicación ([StreamStop](../WDLang3/3039002.md)). Para reanudar la recepción o el envío de este tipo de datos en el flujo, utilice [StreamPlay](../WDLang3/3039010.md).

- Cada intento de conexión de un flujo (función [StreamConnect](../WDLang3/3039008.md) o [Address](../Proprietes/2510017.md) Property) utiliza un tiempo máximo de espera de conexión. Para identificar y/o modificar este tiempo de espera, utilice el programa [Timeout](../Proprietes/2510052.md) Property.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Uso en red a través de INTERNET
<a name="uso_red_traves_internet_ELTTEXTE000279"></a>


### Presentación
<a name="presentacion_ELTPARAGRAPHE000142"></a>

Los controles de la Conferencia se pueden utilizar entre dos ordenadores: 

- en la misma red local: no se requiere ninguna configuración específica. 

- a través de Internet. En este caso, se debe realizar un ajuste específico antes de utilizar las funciones de StreamXXX.. 





### Condición previa
<a name="condicion_previa_ELTPARAGRAPHE000150"></a>

El uso de los controles de la Conferencia en una red privada diferente a través de INTERNET utiliza la tecnología WebRTC. Esta tecnología requiere el uso de un servidor STUN y un servidor TURN.

Estos servidores deben estar configurados correctamente.  

Observaciones: 

- Algunos servidores STUN pueden ser gratuitos.

- Los servidores TURN que se pueden utilizar directamente se cobran por. 
	Las fuentes de un servidor TURN pueden ser gratuitas. En este caso, debe recompilarlos e implementar el servidor (se requiere un buen conocimiento del lenguaje de programación del servidor TURN para realizar estas operaciones).





### Configuración
<a name="configuracion_ELTPARAGRAPHE000164"></a>

Utilizar los controles de la Conferencia a través de INTERNET: 

1. Abra los siguientes puertos en el firewall: 

	- TCP 29172: Este puerto es específico de WINDEV y debe abrirse a la entrada y a la salida.. Este puerto debe estar "conectado" al equipo que realiza la videoconferencia.

	- Dependiendo de la configuración del cortafuegos, es posible que también tenga que abrir el puerto UDP 3478.: Este puerto es utilizado por el servidor TURN para la retransmisión de cuadros de audio y vídeo.. 




2. Configure los servidores STUN y/o TURN a través de [StreamConfigurar](../WDLang3/1000021645.md) antes de abrir la ventana que contiene los controles de la Conferencia. Por ejemplo: 
	
	```wl
	StreamConfigure("stun.l.google.com:19302", "myturnserver.org", "user87", "Secret_87")
	Open(WIN_InternetVideoConference)
	```








