
## WebserviceParameter( Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Obtiene el valor de un parámetro en una llamada a una solicitud de servicio web SOAP o REST.

**Observaciones**: 

- Los parámetros se pueden pasar a un REST Webservice según 2 métodos:

	- Pasando en el URL (URL como "http://....?Param1=value1aram2=value2..."). Para recuperar el valor del parámetro, utilice la sintaxis 1 o 2. 

	- Pasar los datos brutos de la solicitud (método Post o PUT). Para recuperar el valor del parámetro, utilice la sintaxis 3. 




- Para los servicios web SOAP, los parámetros se pasan en los datos brutos de la solicitud (Post, PUT, etc.). Para recuperar el valor del parámetro, utilice la sintaxis 3. 



<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// REST Webservice: retrieves the list of customers 
// with an optional filter on the state.
// GET + /Customers[?state=xxx]

sState is string

// Use the syntax 1 
sState = WebserviceParameter("state") 

// Use the syntax 2
// sState = WebserviceParameter(1)

IF sState <> "" THEN
	HFilter(Customer, State, sState)
END
```
<a name="Example2"></a>

```wl
// REST Webservice: retrieves the list of customers 
// according to the filters specified in POST in JSON.
// POST + /Customers

sCustomerFilter is string
vParameters is Variant 

// Retrieves the parameter value according to syntax 3
sCustomerFilter = WebserviceParameter(paramBuffer)

// Convert the parameter value in a Variant 
// to study the content
vParameters = JSONToVariant(sCustomerFilter)
```

<a name="XSYNTAX"></a>

## Sintaxis
<a name="SYNTAX1"></a>

### Recuperar el valor de un parámetro identificado por su nombre (sólo REST Webservice)

`<Parameter value> = WebserviceParameter(<Parameter name> [, <Encoding>])`
---

**`<Parameter value>: (Cadena de caracteres)`**

Corresponde a: 

- Valor del parámetro especificado.

- Vaciar la cadena (""") si el parámetro no existe o si no tiene valor.




**`<Parameter name>: (Cadena de caracteres)`**

Nombre del parámetro cuyo valor será devuelto.

**`<Encoding>: (Constante opcional de tipo Integer)`**

Modo de gestión de la codificación del valor del parámetro:



|   |   |
| --- | --- |
| *paramNoDecoding* | El valor crudo del parámetro se devuelve. WEBDEV no realiza ninguna decodificación. Esta constante se puede utilizar cuando la codificación de la URL no cumple con los estándares utilizados por WEBDEV (por ejemplo, el signo "+" no es compatible, etc.) |
| *paramWithDecoding*<br>(Valor predeterminado) | El valor del parámetro es decodificado automáticamente por WEBDEV según el estándar de codificación/decodificación de URLs.. |




<a name="SYNTAX2"></a>

### Recuperación del valor de un parámetro identificado por su índice (sólo servicio web REST)

`<Parameter value> = WebserviceParameter(<Parameter index> [, <Encoding>])`
---

**`<Parameter value>: (Cadena de caracteres)`**

Corresponde a: 

- Valor del parámetro especificado. Este valor tiene el siguiente formato: &lt;Nombre de parámetro&gt; = &lt;Valor&gt;.. 

- Vacíe la cadena (""") si el parámetro no existe.




**`<Parameter index>: (Integro)`**

Índice del parámetro cuyo valor será devuelto.

**`<Encoding>: (Constante opcional de tipo Integer)`**

Modo de gestión de la codificación del valor del parámetro:



|   |   |
| --- | --- |
| *paramNoDecoding* | El valor crudo del parámetro se devuelve. WEBDEV no realiza ninguna decodificación. Esta constante se puede utilizar cuando la codificación de la URL no cumple con los estándares utilizados por WEBDEV (por ejemplo, el signo "+" no es compatible, etc.) |
| *paramWithDecoding*<br>(Valor predeterminado) | El valor del parámetro es decodificado automáticamente por WEBDEV según el estándar de codificación/decodificación de URLs.. |




<a name="SYNTAX3"></a>

### Recuperación de datos específicos (datos brutos de la solicitud enviada por un método Post o PUT).

`<Result> = WebserviceParameter(<Type of message>)`
---

**`<Result>: (Buffer)`**

Valor del tipo de mensaje solicitado:

- Datos recibidos. 

- Búfer vacío si no hay datos. 


Observación: Se lanza un error fatal si la petición no devuelve datos (por ejemplo, el método DELETE).

**`<Type of message>: (Constante de tipo Integer)`**

Tipo de datos a recuperar: 


|   |   |
| --- | --- |
| *paramBuffer* | Recupera los datos brutos que se han recibido (enviados por los métodos Post o PUT). |





<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Sesiones preiniciadas
<a name="sesiones_preiniciadas_ELTPARAGRAPHE000103"></a>

Si el proyecto utiliza sesiones preiniciadas, esta función no debe utilizarse en el evento "Inicialización" del proyecto. Esta función sólo debe ser utilizada en el Event "Iniciando el proyecto después de la conexión al sitio". 




### Pasar parámetros en los datos brutos de la solicitud (método Post o PUT)
<a name="pasar_parametros_los_datos_brutos_solicitud_metodo_post_put_ELTPARAGRAPHE000109"></a>

Para pasar parámetros en los datos brutos de la petición (método POST o PUT) desde una aplicación WINDEV o WEBDEV, puede utilizar el **Content** Property de un Variable de tipo [restRequest](../WDLang3/1000021481.md). 

<a name="XComponent"></a>

## Componente:
wd280awws.dll
