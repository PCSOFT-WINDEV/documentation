
## NotifPushProcedure( Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Especifica el procedimiento WLanguage llamado cuando una aplicación WINDEV Mobile (Android o iOS) recibe un push Notification. 

**Observación**: Esta función debe ser llamada en el evento de inicialización del proyecto, ya que los Notification pueden ser recibidos en cualquier momento de la vida de la aplicación o cuando la aplicación se inicia después de la recepción del Notification.
<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// Project initialization
NotifPushProcedure(callNotif)
```



```wl
PROCEDURE callNotif(MyNotif is Notification)
Info("Notification received: " + MyNotif..Message)
```

<a name="XSYNTAX"></a>

## Sintaxis
<a name="SYNTAX1"></a>

`NotifPushProcedure(<WLanguage procedure>)`
---

**`<WLanguage procedure>: (Nombre de Procedure)`**

Nombre del procedimiento que se llamará cuando se reciba un empujón Notification. Esta Procedure debe ser una Procedure global de aplicación en el siguiente formato: 


```txt
PROCEDURE <Procedure name>(<Notification> is Notification)
```


donde &lt;Notificación&gt; es una variable de tipo [Notification](../WDLang3/1000019441.md) que corresponde a la notificación enviada con la función [NotifPushSend](../WDLang3/1000020819.md).







<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Comportamiento cuando se recibe una Notification
<a name="comportamiento_cuando_recibe_una_notification_ELTPARAGRAPHE000047"></a>

El comportamiento cuando se recibe una Notification es el siguiente:

1. **Si la aplicación está cerrada**, el sistema muestra el Notification en la barra Notification. El usuario puede elegir validar el Notification. Si lo hace, se inicia la aplicación. 
	
	Una vez iniciada la aplicación, pueden darse dos casos:

	- Si se llamó a **NotifPushProcedure** en el código de inicialización del proyecto, se llama al global Procedure pasado a esta función como parámetro, y no se abre la primera ventana de la aplicación. 
			Observación: [OpenMobileWindow](../WDLang1/1000021018.md) debe ser llamada en el procedure. 

	- Si no se ha llamado a **NotifPushProcedure**, se abre la primera ventana de la aplicación.  




2. **Si la aplicación ya está iniciada**:







Observaciones:

- La constante *exeLaunch* de [ExeInfo](../WDLang1/3035001.md) permite saber si la aplicación fue iniciada automáticamente por el sistema tras la recepción de un push Notification: 
	
	```wl
	ExeInfo(exeLaunch) = exePushNotification
	```


- [WinStatus](../WDLang1/3038030.md) permite comprobar (si es necesario) la existencia de una ventana para abrirla: 
	
	```wl
	// Summary: Procedure called when clicking on a PUSH notification
	PROCEDURE onPush(MyNotif is Notification)
	
	IF WinStatus("WIN_Main") = NotFound THEN
		// WIN_Main is already open or displayed
		ReceivePushNotif(myNotif, True)
	ELSE
		// Open home window
		OpenMobileWindow(WIN_Main, MyNotif)
	END
	```












<a name="XComponent"></a>

## Componente:
wd280android.aar