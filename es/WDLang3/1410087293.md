
## DownloadParameter (Tipo de Variable)

*** ***
				



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
El tipo **DownloadParameter** se utiliza para definir todas las características avanzadas de una descarga de archivos realizada por [DownloadAdd](../WDLang3/1410087319.md). Las características de esta descarga pueden definirse y modificarse mediante diferentes propiedades de WLanguage. 

**Observación**: Para obtener más información sobre la declaración de este tipo de variable y el uso de propiedades WLanguage, consulte [Declarar una variable](../Motscles/1514032.md).
<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// Procedure to call at the end of the download
PROCEDURE DownloadCompleted(InfoDownload is DownloadInfo)
IF InfoDownload.Status = downloadStatusSuccessful THEN
    Info(InfoDownload.Title + " has been downloaded successfully."
    RESULT False
END


// ---------------
// Create a DownloadParameter variable 
// to store the download information
ParameterDownload is DownloadParameter

// Specify the parameters of the download
ParameterDownload.Source = ...
	"https://windev.com/storage/en_US/img/visual/25/logo-pcsoft.png"
ParameterDownload.Title = "PC Soft Logo"
ParameterDownload.Description = "PC Soft company logo"
ParameterDownload.Destination = SysDirExternalStorage(1, sseAppDownload)
ParameterDownload.MobileNetworkAllowed = True
ParameterDownload.MeteredNetworkAllowed = False
ParameterDownload.RequiresCharging = True
ParameterDownload.NotificationMode = downloadNotifProgressAndCompletion
// Procedure to call at the end of the download
ParameterDownload.ProcedureEnd = "DownloadCompleted"

// The download is added to the list of downloads to be started
// (The download manager will start the download as soon as possible).
nID is int = DownloadAdd(ParameterDownload)

telInfo is DownloadInfo = DownloadGetInfo(nID)
	
Info(telInfo.Title)
```





<a name="NOTE0"></a>

## Observaciones
<a name="NOTE0_1"></a>


### Propiedades específicas de la descripción de las variables de DownloadParameter
<a name="propiedades_especificas_descripcion_las_variables_downloadparameter_ELTPARAGRAPHE000032"></a>

Las siguientes propiedades pueden utilizarse para manipular las características de una descarga:

| Nombre de la propiedad | Tipo utilizado | Efecto |
| --- | --- | --- |
| Cabecera | Array de cadenas de caracteres | Se utiliza para añadir una cabecera a la solicitud de descarga. Se debe utilizar la siguiente sintaxis:<br><br><pre><code><Variable name>.HTTPHeader["Header name"] = <br>	"Value of header"</code></pre><br> |
| description | Cadena de caracteres | Descripción de la descarga que aparece en la Notification (si está activada).<br><br>Observación: Este Property es opcional. |
| Destino | Cadena de caracteres | Address física donde se almacenará el archivo. La ruta debe corresponder a: <br><br>- el almacenamiento externo del dispositivo,<br><br>- las carpetas de la aplicación,<br><br>- la carpeta pública de descargas, accesible llamando a [SysDirExternalStorage](../WDLang1/1000021793.md) con la constante *ssePublicDownload*. <br><br><br>Si no se especifica ningún destino o si esta Property es una cadena vacía, el archivo se descargará en la carpeta pública de descargas.<br><br>Observación: Este Property es opcional. |
| Fuente | Variable de tipo [URI](../WDLang3/1000024027.md) | http/https Address del archivo a descargar. |
| MeteredNetworkAllowed | booleano | <br><br>- <u><u><u><u>True</u></u></u></u> (Default) si la descarga puede realizarse a través de una red con contador. Una red con contador es una red que tiene un coste para el usuario, tiene un límite de datos o tiene problemas de rendimiento o de batería. <br><br>- <u><u><u><u>False</u></u></u></u> en caso contrario. <br><br><br> |
| MobileNetworkAllowed | booleano | <br><br>- <u><u><u><u>True</u></u></u></u> (valor Default) si se puede utilizar la red móvil para la descarga. <br><br>- <u><u><u><u>False</u></u></u></u> en caso contrario. <br><br><br> |
| NotificationMode | Constante de tipo Integer | Descargar el modo Notification: <br><br>- *downloadNotifNone*: No se muestran notificaciones. <br>	Observación: esta constante requiere que se añada la etiqueta DOWNLOAD_WITHOUT_Notification Permission.<br><br>- *downloadNotifProgress* (valor Default): Una Notification muestra el progreso de la descarga y desaparece cuando ésta se completa.<br><br>- *downloadNotifProgressAndCompletion*: Un Notification muestra el progreso de la descarga y se queda Visible cuando la descarga está completa.<br><br><br> |
| ProcedureEnd | Global Procedure solamente | Nombre de la Procedure que se llamará al final de la descarga, tanto si se ha completado como si se ha cancelado: <br><br>- Si la aplicación no se inicia la descarga se completa, el sistema inicia la aplicación para ejecutar el Procedure. <br><br>- Si el Procedure devuelve <u><u><u><u>True</u></u></u></u>, se eliminará la descarga y se borrará el archivo descargado.<br><br><br> |
| RequiresCharging | booleano | <br><br>- <u><u><u><u>True</u></u></u></u> si la descarga requiere que el teléfono sea Charging, <br><br>- <u><u><u><u>False</u></u></u></u> (valor predeterminado) en caso contrario. <br><br><br> |
| RoamingAllowed | booleano | <br><br>- <u><u><u><u>True</u></u></u></u> (Default) si se puede utilizar la itinerancia de datos para la descarga. <br><br>- <u><u><u><u>False</u></u></u></u> en caso contrario. <br><br><br> |
| Título | Cadena de caracteres | Título de la descarga que aparece en la Notification (si está activada). Si no se especifica esta Property o es una cadena vacía (""), se utilizará automáticamente un título de Default basado en el nombre del archivo descargado. |






