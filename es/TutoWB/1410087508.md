
## Lección 9.2. Gestión automática de errores


<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Esta lección abarcará los siguientes temas
<a name="esta_leccion_abarcara_los_siguientes_temas_ELTTEXTE000165"></a>


- ¿Qué es la gestión automática de errores?

- Configuración de la gestión automática de errores.





|   |   |
| --- | --- |
| <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=dur%E9e.png)<br> | <br>Tiempo estimado: 10 min |

| [Lección anterior](../TutoWB/1410087507.md) | [Tabla de contenido](../TutoWB/1410087510.md) | [Siguiente lección](../TutoWB/1410087509.md) |
| --- | --- | --- |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000212"></a>
WEBDEV puede gestionar los errores automáticamente. Esta funcionalidad permite reducir el número de líneas de código y centralizar el manejo de errores.
El uso de esta funcionalidad también hace que el código sea más fácil de leer.
<a name="NOTE2_2"></a>


### Modo de funcionamiento
<a name="modo_funcionamiento_ELTPARAGRAPHE000030"></a>

Cuando una función WLanguage detecta un error, se realizan dos operaciones:

- la función devuelve un valor de error (por ejemplo, la función [fOpen](../WDLang1/3036036.md) devuelve "-1" si no se pudo abrir el archivo especificado).

- WLanguage detecta el error (la variable [ErrorOccurred](../WDLang1/3087001.md) se establece en <u><u><u><u>True</u></u></u></u>) y los detalles del error se pueden obtener llamando a la función [ErrorInfo](../WDLang1/3013008.md).




La segunda operación puede ser realizada automáticamente por el asistente de gestión de errores de WEBDEV.
<a name="NOTE2_3"></a>


### Implementación
<a name="implementacion_ELTPARAGRAPHE000055"></a>

La gestión automática de errores puede configurarse:

- en el editor de código: haga clic en el enlace "En caso de error: por programa" en el editor de código: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P9_Gestion%20des%20erreurs%20-%201%20-%20HC%20N%B0002.jpg&type=thumb)


- mediante programación con la función [ErrorChangeParameter](../WDLang1/3034009.md).



<a name="NOTE2_4"></a>


### Tipos de errores
<a name="tipos_errores_ELTPARAGRAPHE000069"></a>

Pueden ocurrir dos tipos de errores en WLanguage:

- errores "no fatales" (también llamados errores de ejecución): en la mayoría de los casos, estos errores se gestionan en el código y no detienen la aplicación. Por ejemplo, abrir un archivo al que no se puede acceder o un archivo que no existe.

- errores "fatales" (también llamados errores de programación): en la mayoría de los casos, estos errores están relacionados con un problema de desarrollo (acceso a un archivo no declarado, uso de controles no existentes, etc.). También puede producirse un error "fatal" después de un error "no fatal" que no se procesó correctamente. En este caso, la aplicación se detendrá.




El mecanismo de gestión de errores gestiona estos dos tipos de errores utilizando métodos diferentes para establecer comportamientos adaptados a los errores encontrados.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Gestión automática de errores: ejemplo didáctico
<a name="gestion_automatica_errores_ejemplo_didactico_ELTTEXTE000254"></a>


- Para entender los diferentes casos de error y cómo se gestionan, utilizaremos un ejemplo proporcionado con WEBDEV.

	1. Vaya a la página de inicio de WEBDEV (Ctrl +&lt;). 

	2. En la página de inicio, haga clic en "Abrir un ejemplo". La lista de ejemplos completos y de ejemplos de formación proporcionados con WEBDEV aparece.

	3. Escriba "Error" en la barra de búsqueda. Solo se muestran los ejemplos que contienen esta palabra. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P9_Gestion%20des%20erreurs%20-%201%20-%20HC%20N%B0001.jpg&type=thumb)


	4. Seleccione el proyecto "WW_Auto_Error_Management". El proyecto se carga.




- Este proyecto presenta:

	- cómo gestionar errores no fatales (apertura de un archivo inexistente).

	- cómo gestionar errores fatales (división de un entero por 0).

	- cómo gestionar errores en varios niveles.







- Pruebe el proyecto (haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Go_Projet_WB_GAF.jpg) en los botones de acceso rápido).

	1. Haga clic en "Fatal error".

	2. La siguiente página aparece. Esta página permite probar el error cuando un número entero se divide por 0. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P9_Gestion%20des%20erreurs%20-%20HC%20N%B0001.jpg&type=thumb)


	3. Haga clic en "Test error handling".

4. Cuando se ejecuta la línea de código que provoca el error, se llama automáticamente a un procedimiento. Este procedimiento muestra el mensaje de error y detiene el proceso actual.

5. Haga clic en "OK".




- Haga clic en "Non-fatal error".

	1. La siguiente página aparece. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P9_Gestion%20des%20erreurs%20-%20HC%20N%B0002.jpg&type=thumb)


	2. Haga clic en "Test error handling".

3. Cuando se ejecuta la línea de código que provoca el error, se muestra un mensaje de error.

4. Valide el mensaje de error.






- Haga clic en "Error on multiple levels".

	1. La siguiente página aparece. Esta página permite probar un error en varios niveles (proceso que llama a un procedimiento que abre un archivo que no existe). <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P9_Gestion%20des%20erreurs%20-%20HC%20N%B0003.jpg&type=thumb)


	2. Haga clic en "Test error handling".

3. Al ejecutar la línea de código que provoca el error:

	- el procedimiento devuelve "False" al proceso de llamada.

	- el proceso de llamada muestra un mensaje de error y detiene el proceso.




- Cierre el navegador para finalizar la prueba.


|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=exemple-WB.png) | Ejemplo | WEBDEV también gestiona automáticamente los errores HFSQL. Para obtener más información, consulte [Gestión asistida de errores HFSQL](../WDLang4/3044188.md). |





| [Lección anterior](../TutoWB/1410087507.md) | [Tabla de contenido](../TutoWB/1410087510.md) | [Siguiente lección](../TutoWB/1410087509.md) |
| --- | --- | --- |




