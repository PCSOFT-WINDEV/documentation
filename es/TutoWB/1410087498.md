
## Lección 5.5. Gestionar varios idiomas


<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Esta lección abarcará los siguientes temas
<a name="esta_leccion_abarcara_los_siguientes_temas_ELTTEXTE000489"></a>


- ¿Qué es un sitio multilingüe?

- Crear un sitio multilingüe, paso a paso.





|   |   |
| --- | --- |
| <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=dur%E9e.png)<br> | <br>Tiempo estimado: 50 min |

| [Lección anterior](../TutoWB/1410087497.md) | [Tabla de contenido](../TutoWB/1410087510.md) | [Siguiente lección](../TutoWB/1410087499.md) |
| --- | --- | --- |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## ¿Qué es un sitio multilingüe?
<a name="¿que_sitio_multilingue_ELTTEXTE000536"></a>
Un sitio multilingüe es un sitio web con una interfaz de usuario en varios idiomas: español, inglés, francés o cualquier otro idioma.

En WEBDEV, un mismo sitio puede incluir hasta 64 idiomas diferentes.

Vamos a usar un proyecto que puede ejecutarse en inglés o francés, según la decisión del usuario.

Estas son las etapas a seguir para un sitio multilingüe:

- Seleccionar los idiomas del proyecto.

- Internacionalizar los elementos del proyecto (páginas, reportes, controles, etc.). 

- Internacionalizar los mensajes en el código.

- Programar el cambio de idioma en el sitio.


Vamos a seguir estas diferentes etapas en el proyecto "Full_WEBDEV_Site". Este proyecto está en inglés y vamos a traducirlo al francés.



- Abra de nuevo el proyecto en el que trabajó en la lección anterior. 

	1. Vaya a la página de inicio de WEBDEV (Ctrl +&lt;).

	2. En la página de inicio, haga clic en "Tutorial", luego en "Parts 3 to 6", haga doble clic en "Full WEBDEV Site - Exercise".

	3. Un cuadro de diálogo le pide que abra el proyecto en el que trabajó en la lección anterior. Puede abrir la copia local o el proyecto original. Seleccione "Abrir la copia local". 





|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=exemple-WB.png) | Corregido | Hay un proyecto completado disponible. Este proyecto contiene los resultados de las diferentes operaciones realizadas en esta lección. Para abrir el proyecto completado, vaya a la página de inicio y haga clic en "Tutorial", luego en "Parts 3 to 6", haga doble clic en "Full WEBDEV Site - Answers". |





<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Seleccionar los idiomas del proyecto
<a name="seleccionar_los_idiomas_del_proyecto_ELTTEXTE000578"></a>


- Primero, seleccionaremos los idiomas del proyecto.

	1. Abra la descripción del proyecto: en la pestaña "Proyecto", en el grupo "Proyecto", haga clic en "Descripción".

	2. Haga clic en la pestaña "Idiomas". Nuestro proyecto incluirá los idiomas inglés y francés.

	3. Haga clic en "Agregar". La ventana de selección de idiomas se abre.<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P5_MultiLangue%20-%20HC%20N%B0001.jpg&type=thumb)


	4. Haga clic en "Francés". A la derecha del idioma aparece una marca de verificación.

5. Valide. El idioma "Francés" aparece en la lista de idiomas del proyecto.




- La pestaña "Idiomas" también permite configurar las opciones de idioma para números, divisas, fechas, etc., en el idioma seleccionado. Veamos un ejemplo:

	1. Haga clic en "Francés".

	2. Seleccione la pestaña "Fecha".

	3. De forma predeterminada, se utilizan opciones de idioma específicas: también puede definir el formato de la fecha, así como la traducción de los días y los meses. Si selecciona la opción "Utilizar la configuración definida en las opciones de idioma del sistema operativo", la configuración utilizada para la implementación será la del servidor y no la definida por el usuario.

	4. Conserve la opción "Utilizar los siguientes parámetros".  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P5_MultiLangue%20-%20HC%20N%B0002.jpg&type=thumb)






|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=note.png) | Nota | En las opciones de idioma, puede elegir la dirección del texto (pestaña "Varios", opción "Dirección de escritura"). Esto le permite crear interfaces con un idioma escrito de derecha a izquierda. |







- Valide. Un mensaje le pide que sincronice los diferentes elementos del proyecto. Responda "Sí". Todos los elementos del proyecto abiertos en el editor (páginas, reportes, etc.) se cierran y los nuevos idiomas se agregan a estos elementos.


|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=note.png) | Nota | Pueden producirse errores de UI. Los ignoraremos por ahora. Veremos cómo manipular estos errores más adelante en este tutorial. |





<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Internacionalizar los elementos del proyecto
<a name="internacionalizar_los_elementos_del_proyecto_ELTTEXTE000638"></a>
Todos los elementos del proyecto pueden ser multilingües: páginas, reportes, etc.
Vamos a modificar algunos elementos de la página "PAGE_List_of_products" para ver los diferentes métodos que se pueden utilizar.
Vamos a ver cómo modificar:

- el logotipo utilizado en PAGE_List_of_products.

- los títulos de los controles de PAGE_List_of_products.

- las opciones de menú.

- un mensaje mostrado por el código WLanguage.




- Abra la página "PAGE_List_of_products" en el editor (haga doble clic en el nombre de la página en el panel "Explorador de proyectos").




- Valide la actualización del modelo si es necesario. 




- En primer lugar, compruebe si la página PAGE_List_of_products está asociada a los diferentes idiomas definidos en el proyecto:

	1. Abra la descripción de la página (opción "Descripción" del menú contextual de la página).

	2. Seleccione la pestaña "Idioma": los dos idiomas seleccionados en el proyecto aparecen.

	3. Seleccione la pestaña "General": el título de la página debe traducirse.<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P5_MultiLangue%20-%20HC%20N%B0003.jpg&type=thumb)


	4. Reemplace el texto de la sección "Francés" por "Liste des produits". 

5. Valide la ventana.



<a name="NOTE4_2"></a>


### Internacionalizar una imagen
<a name="internacionalizar_una_imagen_ELTPARAGRAPHE000122"></a>

- Para cambiar el logotipo utilizado en PAGE_List_of_products según el idioma de ejecución:

	1. Abra la página "PAGE_List_of_products" si es necesario.

	2. El logotipo está en el modelo asociado a la página. Abra el modelo de páginas:

		- Haga clic en el logotipo y abra el menú contextual.

		- Seleccione la opción "Abrir modelo".<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P5_MultiLangue%20-%20HC%20N%B0005.jpg)


		- El modelo de páginas aparece con un marco de color.

3. Abra la ventana de descripción del logotipo (haga doble clic en el control).

4. En la pestaña "General", junto al campo "Imagen", haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P5_MultiLangue%20-%20HC%20N%B0004%201.jpg). En el menú que aparece, seleccione "Multilingüe". 

5. La ventana de gestión de imágenes multilingües se abre.<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P5_MultiLangue%20-%20HC%20N%B0004.jpg)




- Dado que estamos en el modelo de páginas, también vamos a traducir la opción de menú "List of products".



<a name="NOTE4_3"></a>


### Internacionalizar el menú
<a name="internacionalizar_menu_ELTPARAGRAPHE000154"></a>

Al igual que los controles, las opciones de menú pueden traducirse a través de la ventana de descripción o directamente en el editor de páginas.



- En nuestro ejemplo, vamos a traducir la opción "List of products".

	1. Seleccione el menú del modelo de páginas y pulse la barra espaciadora. 

	2. El menú se vuelve editable y aparece un borde amarillo.

	3. Seleccione la opción "List of products".

	4. Abra la ventana de descripción de la opción: abra el menú contextual y seleccione "Descripción de la opción".

	5. En la ventana de descripción, traduzca la opción al francés: "Liste des produits".

	6. Valide.







Las opciones también se pueden traducir directamente en el editor de páginas.

- Para traducir la opción "Add a product":

	1. En la pestaña "Vista", en el grupo "Opciones", despliegue "Idioma mostrado" y seleccione el idioma que desea que se muestre en el editor (Francés en este caso).

	2. Las opciones de menú se muestran en el idioma seleccionado. Si ninguna traducción corresponde al idioma seleccionado, las opciones del menú se muestran en inglés.

	3. Seleccione la opción "Add a product".

	4. Pulse la barra espaciadora: el texto pasa a modo de edición.

	5. Introduzca el siguiente texto en francés: "Ajouter un produit".

	6. Presione la tecla Entrar para confirmar los cambios. 

	7. Presione Esc para salir del modo de edición.

	8. Guarde el modelo de páginas (![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Sauver_WB_GAF.jpg) o Ctrl + S).

	9. Vuelva al modo de visualización en inglés: en la pestaña "Vista", en el grupo "Opciones", despliegue "Idioma mostrado" y seleccione "Inglés". 

	10. Actualice las páginas que utilizan el modelo de páginas haciendo clic en el ícono ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P3_Site%20WebDev%20-%20Liste%20produits%20-%20HC%20N%B0011%201.jpg) en el encabezado del modelo. Valide la ventana de actualización.

	11. Cierre el modelo de páginas que se muestra en el editor.






<a name="NOTE4_4"></a>


### Internacionalizar los controles
<a name="internacionalizar_los_controles_ELTPARAGRAPHE000216"></a>

Un control puede mostrar diferente información al usuario:

- un título,

- una imagen, etc.


Algunas veces es necesario traducir esta información. Puede acceder a ella en las diferentes pestañas de la ventana de descripción del control.



- Para traducir el enlace "Modify" de la página "PAGE_List_of_products":

	1. Seleccione el enlace "Modify".

	2. Abra la ventana de descripción del control (seleccione "Descripción" en el menú contextual).

	3. Introduzca el siguiente texto en francés: "Modifier".

	4. Valide.

	5. Guarde la página (![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Sauver_WB_GAF.jpg) o Ctrl + S).






<a name="NOTE4_5"></a>


### Internacionalizar los mensajes del código
<a name="internacionalizar_los_mensajes_del_codigo_ELTPARAGRAPHE000240"></a>Todos los mensajes de su programa pueden traducirse a varios idiomas.
Veamos cómo traducir un mensaje de programación:

1. Abra el editor de código (presione F2 en la página PAGE_List_of_products").

2. Escriba el siguiente código en el evento "Declaraciones globales":
	
	```wl
	MyString is string = "List of products"
	```


3. Para traducir este tipo de mensajes, ubique el cursor en la cadena "List of products" y presione Ctrl + T. También puede ir a la pestaña "Código", en el grupo "Idiomas", desplegar "Traducir cadenas" y seleccionar "Traducir mensajes".

4. La ventana de edición de mensajes multilingües se abre. Esta ventana le permite traducir todos los mensajes del programa a todos los idiomas del proyecto.

5. En "francés", introduzca "Liste des produits" y valide.<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P5_MultiLangue%20-%20HC%20N%B0007.jpg)


6. El ícono ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P5_MultiLangue%20-%20HC%20N%B000%208%202.jpg) aparece en el editor de código. Este ícono indica que el mensaje multilingüe está disponible en varios idiomas. Puede ver rápidamente las traducciones pasando el cursor por encima del ícono.

7. Cierre el editor de código.




<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Herramientas de traducción
<a name="herramientas_traduccion_ELTTEXTE000686"></a>
Hemos traducido manualmente algunos elementos de la aplicación.

Sin embargo, WEBDEV ofrece varios métodos de traducción:

- traducir los mensajes directamente en los editores: este es el método que utilizamos anteriormente para traducir algunos elementos del sitio. Con esta solución, es posible utilizar una herramienta de traducción como Google Translate (puede que requiera una licencia).

- traducir los mensajes mediante una herramienta externa (WDMSG y WDTRAD).



<a name="NOTE5_2"></a>


### Introducir las traducciones directamente
<a name="introducir_las_traducciones_directamente_ELTPARAGRAPHE000285"></a>

Las traducciones se pueden introducir directamente en la interfaz: este es el método que hemos utilizado hasta ahora.

Sin embargo, también es posible configurar WEBDEV para utilizar un programa o sitio web de traducción:

1. En la pestaña "Inicio", en el grupo "Entorno", despliegue "Opciones" y seleccione "Opciones generales de WEBDEV".

2. Vaya a la pestaña "Traducción".<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P5_MultiLangue%20-%20HC%20N%B0009.jpg&type=thumb)


3. Especifique:

	- Si los parámetros regionales deben activarse automáticamente según el idioma de entrada. En este caso, si el idioma requiere un conjunto de caracteres específico, este se seleccionará automáticamente.

	- El software o sitio de traducción que se va a utilizar. Puede utilizar WDDIXIO, un diccionario de traducción incluido en WDMSG (véase el párrafo siguiente), un software o sitio de traducción específico, o Google Translate. 
			

	- Los idiomas utilizados.




4. Una vez definidos los ajustes de traducción, puede utilizar el botón ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P5_MultiLangue%20-%20HC%20N%B0006%201.jpg) en las diferentes ventanas de descripción de los elementos del proyecto: este botón le permite utilizar el programa de traducción.



<a name="NOTE5_3"></a>


### Traducción con WDMSG y WDTRAD
<a name="traduccion_con_wdmsg_wdtrad_ELTPARAGRAPHE000328"></a>

**WDMSG** es una herramienta opcional que permite:

- extraer todos los mensajes del proyecto (títulos de controles, mensaje de código, títulos de ventanas, etc.) para traducirlos,

- reintegrar los mensajes traducidos.


Los mensajes a traducir se extraen:

- en un formato de texto que se puede configurar para utilizarse con diferentes herramientas de traducción.

- en formato HFSQL.


WDMSG también incluye WDTRAD, una herramienta de traducción asistida. WDTRAD permite introducir fácilmente todas las traducciones de los recursos multilingües de un proyecto.

Póngase en contacto con el Departamento de ventas de PC SOFT para obtener más información sobre **WDMSG** y **WDTRAD**.
<a name="NOTE5_4"></a>


### Otros elementos a traducir: mensajes del framework
<a name="otros_elementos_traducir_mensajes_del_framework_ELTPARAGRAPHE000347"></a>

El framework de WEBDEV contiene diferentes tipos de información y mensajes. Por ejemplo, los nombres de los días y meses utilizados por las funciones de gestión de fechas provienen del framework de WEBDEV. Para traducir una o varias bibliotecas del framework, debe utilizar WDINT (herramienta opcional proporcionada con WDMSG).

Este software permite obtener un archivo de extensión WDM que contiene todas las traducciones de las bibliotecas. Para usar este archivo en la aplicación:

- utilice la función [LoadError](../WDLang1/3054003.md).

- agregue el archivo en la pestaña "Idiomas" de la descripción del proyecto. Simplemente seleccione el idioma deseado y haga clic en la pestaña "Varios".  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P5_MultiLangue%20-%20HC%20N%B0011.jpg&type=thumb)





Póngase en contacto con el Departamento de ventas de PC SOFT para obtener más información sobre WDINT.

<a name="NOTE6"></a>
<a name="NOTE6_1"></a>


## Cambiar el idioma mediante programación
<a name="cambiar_idioma_mediante_programacion_ELTTEXTE000728"></a>
De forma predeterminada, el proyecto se ejecuta en el idioma definido para el proyecto en la pestaña "Idiomas" de la descripción del proyecto (opción "Descripción" en la pestaña "Proyecto").

En un sitio, el idioma se puede elegir a través de una opción de menú. Puede cambiar el idioma de la aplicación en ejecución llamando a la función [Nation](../WDLang1/3054014.md) en el código de la opción de menú.
<a name="NOTE6_2"></a>


### Agregar una opción de menú
<a name="agregar_una_opcion_menu_ELTPARAGRAPHE000377"></a>

- Para agregar una opción de menú:

	1. Si es necesario, abra la página "PAGE_List_of_products" en el editor (haga doble clic en el nombre de la página en el panel "Explorador de proyectos").

	2. Haga clic en el menú, y luego haga clic derecho para abrir el menú contextual y seleccione "Abrir modelo".

	3. En el modelo de páginas, seleccione el menú. Haga clic derecho para abrir el menú contextual y seleccione "Editar menú". 

	4. El menú se vuelve editable y aparece un borde amarillo.

	5. Haga clic en "Pages".

	6. Pulse la barra espaciadora: el texto pasa a modo de edición.

	7. Introduzca el texto "Languages" y valide.

	8. Seleccione la opción "LANGUAGES" que acaba de crear.

	9. Haga clic derecho para abrir el menú contextual y seleccione la opción "Insertar un submenú".

	10. Seleccione la opción de menú que acaba de crear. 

	11. Pulse la barra espaciadora para editar el texto. 

	12. Introduzca el texto de la primera subopción: "Français". Presione la tecla Entrar para validar. 

	13. Seleccione de nuevo la primera subopción. 

	14. Presione la tecla Entrar: una segunda subopción se crea automáticamente. 

	15. Pulse la barra espaciadora y escriba el texto de la segunda subopción: "English".







- Vamos a traducir la última opción de menú del modelo de páginas: 

	1. Seleccione la opción "CONTACT". 

	2. Abra la ventana de descripción de la opción. 

	3. Escriba "Contactez-nous" en francés. 







Vamos a escribir el código WLanguage para cambiar el idioma.
<a name="NOTE6_3"></a>


### Programación
<a name="programacion_ELTPARAGRAPHE000408"></a>

- Para introducir el código de gestión de los idiomas:

	1. Seleccione la opción "LANGUAGES .. ENGLISH" en el modelo de páginas que se muestra en el editor.

	2. Haga clic derecho para abrir el menú contextual. Seleccione "Código".

	3. Introduzca el siguiente código en el código Servidor de la opción de menú:
			
		```wl
		Nation(nationEnglish)
		PageUse(CurrentPage())
		```


	4. Cierre la ventana de código.

	5. Seleccione la opción "LANGUAGES .. FRANÇAIS" en el modelo de páginas que se muestra en el editor.

	6. Haga clic derecho para abrir el menú contextual. Seleccione "Código".

	7. Introduzca el siguiente código:
			
		```wl
		Nation(nationFrench)
		PageUse(CurrentPage())
		```
En este código:

		- La función [Nation](../WDLang1/3054014.md) cambia el idioma de ejecución del sitio. Las constantes pasadas como parámetros especifican el idioma que se va a utilizar.

		- La función [PageUse](../WDLang2/3058016.md) recarga la página (la página actual en nuestro caso) para aplicar el nuevo idioma.




8. Cierre la ventana de código.

9. Presione Esc para salir del modo de edición.

10. Guarde el modelo de páginas (![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Sauver_WB_GAF.jpg) o Ctrl + S).

11. Actualice las páginas que utilizan el modelo de páginas haciendo clic en el ícono ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P3_Site%20WebDev%20-%20Liste%20produits%20-%20HC%20N%B0011%201.jpg) en el encabezado del modelo. Valide la ventana de actualización.

12. Cierre el modelo de páginas que se muestra en el editor.



<a name="NOTE6_4"></a>


### Prueba del proyecto
<a name="prueba_del_proyecto_ELTPARAGRAPHE000446"></a>

Hemos traducido algunos elementos de la aplicación. Ahora, vamos a cambiar el idioma en modo de prueba.

- Para probar el sitio:

	1. Pruebe el proyecto (haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Go_Projet_WB_GAF.jpg) en los botones de acceso rápido). La página se muestra en modo de prueba en inglés.

	2. Seleccione "LANGUAGES .. FRANÇAIS".

	3. Los elementos traducidos se muestran en francés:  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P5_MultiLangue%20-%20HC%20N%B0010.jpg&type=thumb)


	4. Cierre el navegador.




| [Lección anterior](../TutoWB/1410087497.md) | [Tabla de contenido](../TutoWB/1410087510.md) | [Siguiente lección](../TutoWB/1410087499.md) |
| --- | --- | --- |




