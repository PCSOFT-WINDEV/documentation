


## Utilización de los Centros control en modo Cliente/Servidor
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000255"></a>
Todos los Centros control proporcionados con WINDEV, WEBDEV y WINDEV Mobile utilizan la misma base de datos. Esta base de datos puede ser una base de datos en formato HFSQL Classic o en formato HFSQL Client/Server.

Si ya está utilizando los Centros control, tiene la posibilidad de importar los datos de HFSQL Classic a una base de datos Cliente/Servidor. En este caso, los datos encontrados en los Centros control también estarán disponibles vía ADSL. Por lo tanto, es más fácil para los desarrolladores trabajar de forma remota.

Esta página de documentación explica cómo pasar de una base de datos HFSQL Classic a una base de datos HFSQL Client/Server.

**Importante**: **Con una base de datos de los Centros de Control en formato HFSQL Client/Server**:

- el modo de conexión "Invitado" de los Centros de Control ya no está disponible.

- el modo móvil no está disponible para los centros de control.

- todos los colaboradores de los Centros control se definen como usuarios de la base de datos HFSQL Client/Server.

- **si sus aplicaciones WINDEV utilizan el "Feedback" Component**: para gestionar la retroalimentación de los usuarios, las aplicaciones deben ser modificadas. Esta modificación es necesaria si se utiliza el modo conectado o ADSL (no se requiere modificación si la retroalimentación del usuario se realiza por correo electrónico).. Para obtener más información, consulte [Uso de la retroalimentación en ADSL](#NOTE5_1).




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Pasar de una base de datos HFSQL Classic a una base de datos HFSQL Client/Server
<a name="pasar_una_base_datos_hfsql_classic_una_base_datos_hfsql_clientserver_ELTTEXTE000285"></a>


### Las etapas son las siguientes
<a name="las_etapas_son_las_siguientes_ELTPARAGRAPHE000034"></a>

1. Instale un servidor de HFSQL Client/Server si es necesario.

2. Configurar los Centros control para utilizar la base de datos HFSQL Client/Server.
	Observación: la base de datos HFSQL Client/Server para los Centros control estará vacía en el momento de su creación.

3. Utiliza los centros de control.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Implementación
<a name="implementacion_ELTTEXTE000309"></a>


### Etapa 1: Instalar un servidor de HFSQL Client/Server si es necesario
<a name="etapa_1_instalar_servidor_hfsql_clientserver_necesario_ELTPARAGRAPHE000047"></a>

Para utilizar los Centros control con una base de datos HFSQL Client/Server, es necesario instalar un servidor HFSQL Client/Server en un ordenador. Los archivos de datos de los Centros control se instalarán en este servidor.

Para instalar HFSQL Client/Server, inicie el paquete de su producto instalación y haga clic en "Instalación de HFSQL Client/Server".

**Observación**: En WINDEV, el programa instalación de un servidor HFSQL Client/Server está disponible en el subdirectorio "\\Install\\HFSQL server" del directorio instalación de su producto.
<a name="NOTE3_3"></a>


### Etapa 2: Configurar los diferentes IDEs para utilizar los Centros control en modo Cliente/Servidor
<a name="etapa_2_configurar_los_diferentes_ides_para_utilizar_los_centros_control_modo_clienteservidor_ELTPARAGRAPHE000058"></a>

Cuando los datos que se encuentran en los Centros control están en formato HFSQL Client/Server, todos los usuarios de los Centros WINDEV, WEBDEV, WINDEV Mobile y/o control deben especificar el nuevo formato de la base de datos a utilizar.

Esta indicación puede darse:

- al instalar WINDEV, WEBDEV o WINDEV Mobile.

- en las opciones de WINDEV, WEBDEV o WINDEV Mobile: 

	- En la pestaña "Inicio", en el grupo "Entorno", despliegue "Opciones" y seleccione "Opciones generales de WINDEV/WEBDEV/WINDEV Mobile". 

	- En la pestaña "Usuario", haga clic en el botón "Parámetros de los Centros control".




- en los parámetros de la Centro de Seguimiento de Proyectos: expanda ![Menú de Centro de Seguimiento de Proyectos](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=CC_Suivi_Configuration%20-%20HC%20N%B0001.gif) y seleccione "Opciones".




Todo lo que tienes que hacer es especificar:

- la base de datos en modo HFSQL Client/Server. 

- el nombre del servidor o la IP Address.

- el puerto utilizado.

- la base de datos utilizada.




Una vez configurado el modo de acceso a los datos de los Centros control, los Centros control se utilizan según el mismo método.
<a name="NOTE3_4"></a>


### Etapa 2: Consejo
<a name="etapa_2_consejo_ELTPARAGRAPHE000098"></a>

Para simplificar la configuración de los diferentes ordenadores que utilizan los Centros control, tiene la posibilidad de crear un archivo .reg que puede ser ejecutado por cada usuario en su ordenador.

Este archivo.reg debe contener la siguiente información:


```txt
[HKEY_CURRENT_USER\Software\PC SOFT\CControle\28.0]
<ModeHF_CS>=dword:00000001

[HKEY_CURRENT_USER\Software\PC SOFT\CControle\28.0\ConnexionHF]
<ServeurConnexionHF_CS>=<Server name>
"BaseConnexionHF_CS"=<Database name>
"PortConnexionHF_CS"=dword:0000<Hexadecimal port value>
```

Para averiguar el valor hexadecimal del puerto, abra la calculadora de Windows (calc.exe) en modo científico, introduzca el valor decimal del puerto (4988 por ejemplo) y haga clic en "Hex".. Se muestra el valor hexadecimal (137C en nuestro ejemplo).

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Utilización de los Centros control en modo Cliente/Servidor
<a name="utilizacion_los_centros_control_modo_clienteservidor_ELTTEXTE000345"></a>


### Características específicas de Cliente/Servidor
<a name="caracteristicas_especificas_clienteservidor_ELTPARAGRAPHE000113"></a>

En modo Cliente/Servidor:

- El modo "Invitado" no está disponible.

- El modo móvil no está disponible para los centros de control.




**Por razones de seguridad (especialmente cuando se utiliza una conexión ADSL), le recomendamos que cambie la contraseña de las cuentas de administrador.**. Todas las cuentas deben tener una contraseña.
<a name="NOTE4_2"></a>


### Gestión de colaboradores
<a name="gestion_colaboradores_ELTPARAGRAPHE000125"></a>

Se crean automáticamente dos grupos en el servidor HFSQL Client/Server:

- "Colaboradores del Centro de Control ". 

- "Administradores de Centros de Control".




Los derechos concedidos a estos grupos están configurados para utilizar los Centros control en modo Cliente/Servidor. Estos dos grupos tienen el derecho de crear archivos.

Si se importó una base de datos HFSQL Classic y si se marcó "Añadir los colaboradores de los Centros control a la lista de usuarios del servidor HFSQL":

- los contribuyentes con derechos de administrador son automáticamente associated con el grupo "Administradores de los Centros control",

- los demás colaboradores son automáticamente associated con el grupo "Colaboradores de los Centros control.  




Si se ha creado una nueva base de datos HFSQL Client/Server o si no se ha marcado la opción "Añadir los colaboradores de los Centros control a la lista de usuarios del servidor HFSQL", se mostrará la siguiente pantalla cuando los colaboradores establezcan la conexión:<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Utilisateur_inconnu.gif)
 Esta pantalla también aparece si un nuevo usuario intenta conectarse.

Esta pantalla está acostumbrada a:

- **Volver a introducir el nombre/contraseña**: si se ha producido un error durante la identificación.

- **Crear la cuenta**: para un nuevo usuario o si los contribuidores existentes no fueron importados. En este caso, los nuevos colaboradores con derechos de administrador son automáticamente associated con el grupo "Administradores de Centros control" y los otros nuevos colaboradores son automáticamente associated con el grupo "Colaboradores de Centros control"..  

- **Trabajar en modo restringido**: permite trabajar con una base de datos local (problema de red, problema con el servidor HFSQL, ....). Atención: la información introducida en este modo no se aplicará a la base de datos de los Centros control.




<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Utilización del Feedback Component con los Centros control en modo Cliente/Servidor
<a name="utilizacion_del_feedback_component_con_los_centros_control_modo_clienteservidor_ELTTEXTE000375"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) 

### Presentación
<a name="presentacion_ELTPARAGRAPHE000156"></a>

El Feedback Component incluido en sus aplicaciones permite a los usuarios enviar fácilmente notas y sugerencias sobre su aplicación. Estos mensajes pueden ser enviados:

- **en modo online**: Si WINDEV, WEBDEV o WINDEV Mobile está instalado en el ordenador del usuario y si los datos de los Centros control son accesibles, las sugerencias y las incidencias se guardarán inmediatamente en el spool "User Feedback" de su aplicación (si ésta se guarda en el Centro de Seguimiento de Proyectos).

- **en modo offline (por correo electrónico)**: En los otros casos, las sugerencias y los incidentes serán enviados por correo electrónico a la Address de su elección. El Centro de Seguimiento de Proyectos le permite recuperar los correos electrónicos enviados para guardarlos en el spool "User feedback" de su aplicación.




Si utiliza el modo online, deberá realizar una modificación en sus aplicaciones para que los Centros control se gestionen en modo Cliente/Servidor.

Esta modificación debe realizarse justo después de cambiar la base de datos de los Centros control al modo Cliente/Servidor. Todas las aplicaciones deben actualizarse al mismo tiempo para evitar el uso simultáneo de las bases de datos HFSQL Classic y HFSQL Client/Server.

Para las aplicaciones de red, le recomendamos "Forzar la actualización".
<a name="NOTE5_2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png) 

### Operaciones que deben realizarse en las aplicaciones que utilizan el Feedback Component
<a name="operaciones_que_deben_realizarse_las_aplicaciones_que_utilizan_feedback_component_ELTPARAGRAPHE000174"></a>

**Si su aplicación utiliza el UMC**, deshabilite el uso de las funciones Hxxx en el UMC (desmarque "Permitir el uso de comandos de lectura HFSQL", por ejemplo, en la creación de ejecutables asistente).

**Si su aplicación utiliza un menú automatic**, la configuración debe ser modificada para acceder a la base de datos Cliente/Servidor de los Centros control. Para ello:

1. Mostrar la ventana que utiliza el menú de automatic: en el menú "Ventana", en el grupo "Barras y menús", despliegue "Menú principal" y seleccione "Abrir menú '?'".

2. Editar el código de la opción "Enviar una sugerencia, un incidente, una regla de negocio".

3. Modificar la Line del código utilizado para especificar la ruta de los archivos de datos. Para utilizar los Centros de Control en modo Cliente/Servidor, la nueva Line de código a utilizar es la siguiente:
	
	```wl
	pFeedback.Configure(fbPathCCData, ...
		"hfcs://<user>:<password>@<server>:<port>/<database>")
	```



En este código:

- &lt;usuario&gt;: Nombre de un usuario del servidor HFSQL.

- &lt;contraseña&gt;: Contraseña associated con el usuario.

- &lt;servidor&gt;: IP Address o nombre del servidor donde están instalados el servidor HFSQL y la base de datos de los Centros control.

- &lt;Puerto&gt;&gt;&gt; de: Puerto del servidor.

- Base de datos &lt;base de datos: Nombre de la base de datos de la HFSQL Client/Server correspondiente a los archivos de los centros de la control.




Observación: si actualiza el menú automatic de su aplicación, esta línea de código será automatic aliado actualizado con el nombre del desarrollador actual.

**Si su aplicación utiliza directamente el Component**, deberá modificar la configuración del ruta de los archivos de datos (método Configure del Component, con el parámetro fbPathCCData). Vea a Above.


