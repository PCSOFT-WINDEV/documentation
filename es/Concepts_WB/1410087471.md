
## 13. Beneficio de seguridad: manejando el botón "Back"
			

| [Página anterior](../Concepts_WB/1410087470.md) | [Tabla de contenido](../Concepts_WB/1410087102.md) | [Página siguiente](../Concepts_WB/1410087472.md) |
| --- | --- | --- |



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>
Un navegador permite navegar por las diferentes páginas de un sitio usando los botones "Siguiente" y "Atrás".

Se crea un contexto de página específico en el servidor cada vez que se muestra una nueva página de Sesión en el navegador.

Cuando se utiliza la misma página de sesión para mostrar datos diferentes (página con tabla basada en un archivo de datos, loopers o página "Formulario con navegación", etc.), el contexto de la página en el servidor cambia según los datos mostrados.

**Cuando el usuario hace clic en el botón "Atrás", el navegador no informa al sitio ni al servidor. El navegador vuelve a la página anterior sin el correspondiente contexto**.

No se requiere una gestión específica cuando se utiliza una operación "Back" para pasar de una página a otra.

Se requiere una gestión específica cuando la misma página de la Sesión muestra datos diferentes.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## ¿Por qué manejar el botón "Atrás"? Un simple ejemplo...
<a name="¿por_que_manejar_boton_atras_simple_ejemplo_ELTTEXTE000208"></a>
Para entender por qué el botón "Atrás" debe ser manejado, veamos un simple ejemplo: una página de sesión que muestra la lista de proveedores.
<a name="NOTE2_2"></a>


### Etapa 1: Visualización de la lista de proveedores
<a name="etapa_1_visualizacion_lista_proveedores_ELTPARAGRAPHE000036"></a>
<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Avantage%20s%E9curitaire%20%20%20la%20gestion%20du%20back%20-%20HC%20N%B0001.gif&type=thumb)


El contexto contiene la lista de proveedores que se muestra en la control Tabla.
<a name="NOTE2_3"></a>


### Etapa 2: Haciendo clic en el enlace "Clientes".
<a name="etapa_2_haciendo_clic_enlace_clientes_ELTPARAGRAPHE000047"></a>
<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Avantage%20s%E9curitaire%20%20%20la%20gestion%20du%20back%20-%20HC%20N%B0002.gif&type=thumb)


Los clientes se muestran. El contexto de la página se actualiza en el servidor: el contexto contiene la lista de elementos que aparecen en esta control Tabla (lista de clientes).
<a name="NOTE2_4"></a>


### Etapa 3: Haciendo clic en el botón "Atrás" del navegador.
<a name="etapa_3_haciendo_clic_boton_atras_del_navegador_ELTPARAGRAPHE000058"></a>
<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Avantage%20s%E9curitaire%20%20%20la%20gestion%20du%20back%20-%20HC%20N%B0001.gif&type=thumb)
La página de la sesión que se muestra en el navegador corresponde a la página mostrada en el paso 1. Sin embargo, el navegador no informó al servidor de que el usuario había pulsado el botón "Atrás". El contexto de la página en el servidor sigue siendo el que corresponde a los clientes.

Si el usuario selecciona un elemento (un proveedor) en la control Tabla, el elemento seleccionado será el correspondiente en el contexto: un cliente. **Se produce una desincronización entre la página dinámica vista y el contexto de la página encontrada en el servidor. El motor de WEBDEV detecta esta desincronización.**

**Es por eso que el botón de retroceso debe ser manejado**.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## ¿Cómo se maneja el botón "Back"?
<a name="¿como_maneja_boton_back_ELTTEXTE000250"></a>
Para manejar el botón "Atrás", puedes usar:

- el código de sincronización de la página **en modo Sesión**. Este código se llama en caso de desincronización.

- una **escondida control** (control de edición invisible) para identificar la Record que se muestra en el navegador.

- **la opción "Llamar al proceso de sincronización de la página si el usuario utilizó el botón Atrás del navegador"** en los botones y/o enlaces (pestaña "Avanzado" de la descripción del botón).




**Puede elegir y combinar cualquiera de estas opciones según el tipo de acción que se pueda realizar en la página en modo Sesión.**

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Ejemplo detallado de cómo manejar el botón "Atrás".
<a name="ejemplo_detallado_como_manejar_boton_atras_ELTTEXTE000274"></a>
Una página dinámica se utiliza para navegar por los diferentes productos de un sitio. Los botones que se encuentran en la página son los siguientes:

- ***Volver al menú principal***
	Esta acción no requiere una gestión específica del botón "Atrás".. Este botón no archiva los datos de manipular: una desincronización entre el contexto y la página mostrada no tiene ningún efecto.

- ***Borrar el producto actual***
	La acción de "Borrar el producto actual" se encarga de un archivo de datos. Es importante que la Record borrada se corresponda con la Record vista por el usuario.
	Para manejar el botón "Atrás", le recomendamos que use:

	- un control oculto (Invisible) en la página dinámica: este control contendrá el identificador de la Record que se muestra en el navegador.

	- el código de sincronización: este código se utiliza para actualizar el contexto (búsqueda de la Record vista por el usuario). 







Las acciones realizadas en el código de sincronización serán: 

1. Vuelva a leer la Record correspondiente al identificador almacenado en la control oculta. 

2. Si no se encuentra la Record: se muestra una página de error y no se ejecuta el código del botón "Borrar".. 

3. Si se encuentra la Record, el contexto de la página se modifica automáticamente en el servidor: se ejecuta el código del botón "Borrar".




¡Seguridad total!

| [Página anterior](../Concepts_WB/1410087470.md) | [Tabla de contenido](../Concepts_WB/1410087102.md) | [Página siguiente](../Concepts_WB/1410087472.md) |
| --- | --- | --- |




