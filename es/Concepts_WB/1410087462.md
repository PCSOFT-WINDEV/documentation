
## 5. Groupware Usuario en la práctica
			

| [Página anterior](../Concepts_WB/1410087461.md) | [Tabla de contenido](../Concepts_WB/1410087102.md) | [Página siguiente](../Concepts_WB/1410087463.md) |
| --- | --- | --- |



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000554"></a>
En un sitio de Internet o Intranet, es necesario definir la función de los diferentes colaboradores. Se pueden establecer varios niveles de acceso según el usuario.

Todos los usuarios tienen diferentes responsabilidades y requisitos. Por lo tanto, suele ser necesario limitar sus campos de acción.

Veamos un ejemplo simple: una aplicación de gestión de ventas que propone las siguientes funcionalidades:

- Ver precios,

- Modificar precios,

- Agregar pedidos,

- Agregar clientes.


El acceso puede variar según el usuario. Por ejemplo:

- el personal de secretaría puede ver la lista de precios y crear pedidos.

- los vendedores pueden ver la lista de precios, hacer pedidos y crear nuevos clientes.

- los directores de ventas tienen acceso a todas las opciones.




Para gestionar estos niveles de acceso en sus sitios WEBDEV, debe incluir el Groupware Usuario en el sitio. Con unos pocos clics, una aplicación estándar puede transformarse en una aplicación que gestiona varios niveles de acceso. Esta funcionalidad puede implementarse fácilmente.

Al ejecutar el sitio, el administrador podrá crear usuarios (identificados por su nombre de usuario y contraseña) y darles acceso a algunas de las funcionalidades del sitio.

**Observación**: El Groupware Usuario está disponible en sitios WEBDEV dinámicos que funcionan con Windows o Linux. El Groupware Usuario no está disponible en sitios estáticos, PHP, AWP o Ajax.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## ¿Cómo funciona el Groupware Usuario?
<a name="¿como_funciona_groupware_usuario_ELTTEXTE000578"></a>
Un sitio que utiliza el Groupware Usuario tiene dos niveles de uso:

- nivel de usuario.

- nivel de supervisor.



<a name="NOTE2_2"></a>


### Nivel de usuario
<a name="nivel_usuario_ELTPARAGRAPHE000050"></a>

El usuario se conecta a la aplicación a través de una página de inicio de sesión y solo tiene acceso a algunas funcionalidades.

Observación: También puede iniciar sesión mediante un directorio LDAP.
<a name="NOTE2_3"></a>


### Nivel de supervisor
<a name="nivel_supervisor_ELTPARAGRAPHE000061"></a>

El supervisor se conecta a la aplicación a través de una página de inicio de sesión y accede a un menú avanzado que le permite configurar usuarios y permisos o iniciar la aplicación.

El menú avanzado permite al supervisor:

- iniciar el sitio.

- configurar el groupware.


La configuración del groupware consiste en crear y asociar usuarios y grupos, y administrar los permisos otorgados a cada usuario (o grupo) en cada página del sitio. Los permisos se pueden definir para las opciones de menú, grupos de controles y controles. El supervisor puede inhabilitar, desactivar o hacer invisibles estos elementos. Estas configuraciones tienen prioridad sobre cualquier configuración definida en el programa.

Para más información sobre cómo el supervisor puede configurar el groupware, consulte [Groupware Usuario en la práctica](#NOTE4_1).

**Observación**: Toda la información y permisos de los usuarios se almacenan en archivos de datos HFSQL. 

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Implementar el Groupware Usuario
<a name="implementar_groupware_usuario_ELTTEXTE000614"></a>


### Agregar el Groupware Usuario a un sitio
<a name="agregar_groupware_usuario_sitio_ELTPARAGRAPHE000086"></a>

Para implementar el Groupware Usuario en un sitio WEBDEV: 

1. En la pestaña "Proyecto", en el grupo "Proyecto", haga clic en "Groupware Usuario". 

2. En la ventana de descripción de la configuración del proyecto actual, en la sección "Groupware Usuario: Desactivado", haga clic en "Cambiar". 

3. La ventana de configuración del Groupware Usuario permite activar el Groupware Usuario y definir: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_WB%20Groupware%20U%20-%20HC%20N%B0001.gif&type=thumb)


	- El tipo y modo de inicio del Groupware Usuario. 

- El tipo de personalización. 

- El tipo de base de datos y la ubicación de los archivos de datos del Groupware Usuario (Groupware Usuario estándar). 

- El modo de autenticación del usuario (Groupware Usuario estándar). 

- El uso de un servicio de conexión específico (Groupware Usuario estándar). 

- La configuración del modo BaaS. 




**Tipo de Groupware Usuario**

Existen varios tipos de groupware: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_WB%20Groupware%20U%20-%20HC%20N%B0001%201.gif&type=thumb)


- **Groupware Usuario estándar**: El Groupware Usuario se integrará en su versión "estándar": el Groupware Usuarios solo se asociará a su sitio, y los permisos se definirán desde el sitio. 
	Si se selecciona esta opción, aparecen dos pestañas específicas: 

	- la pestaña "Archivos", que permite especificar el tipo de base de datos y de autenticación. 

	- la pestaña "OAuth", que permite especificar los servicios de conexión disponibles para los usuarios. 




- **Groupware Usuario BaaS**: Esta opción permite integrar un Groupware Usuario BaaS (Backend as a Service) y gestionar los permisos mediante un servidor. 
	Si se selecciona esta opción, aparecen dos pestañas específicas: 

	- la pestaña "BaaS", que permite especificar las características del servidor BaaS, las cuentas de usuario y las URL de los sitios de administración. 

	- la pestaña "Correo", que permite personalizar los mensajes que se envían a los usuarios (correos de validación del registro o de restablecimiento de la contraseña). 







**Groupware Usuario BaaS: Configuración necesaria**: 
Pueden presentarse dos casos: 

- **Si utiliza una plataforma PCSCloud**: los elementos necesarios se instalan de forma predeterminada en su plataforma. 
	Recordatorio: PCSCloud es una solución paga lista para usar. Para obtener más información, consulte [PCSCloud](https://pcscloud.net/UK/cloud_development.awp).

- **Si no utiliza una plataforma PCSCloud**: instale los siguientes elementos: 

	- un servidor HFSQL,

	- el servidor reservado, incluidos los módulos para el Groupware Usuario de dispositivos móviles (WDBaaS).


 Para obtener más información, consulte [Configuración de un servidor BaaS (Groupware Usuario y Tienda privada)](../Editeurs/1000021311.md).




**Inicio del Groupware Usuario**

Existen varios modos de inicio: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_WB%20Groupware%20U%20-%20HC%20N%B0001%202.gif&type=thumb)


- La opción "Inicio automático" inicia el Groupware Usuario al mismo tiempo que el sitio.
	La página de inicio de sesión del Groupware Usuario se abre antes que cualquier otra página del sitio. El código de inicialización del proyecto se ejecuta después de abrir y validar la página de inicio de sesión.

- La opción "Inicio manual (mediante programación)" permite definir el momento en el que se debe iniciar el Groupware Usuario.
	La página de inicio de sesión solo se abrirá si se utiliza la función [gpwOpen](../WDLang6/3041002.md) (o [gpwLogin](../WDLang6/3041001.md)). Esta opción permite ejecutar el código de inicialización del proyecto antes de abrir la página de inicio de sesión. Esta opción es útil para un proyecto multilingüe, por ejemplo: se puede mostrar una página para elegir el idioma de la aplicación.

- La opción "Inicio manual mediante un modelo de controles" permite integrar la página de inicio de sesión del Groupware Usuario en el sitio Web. Esto le permite trabajar con el Groupware Usuario automático (y aprovechar las actualizaciones), y personalizar la página de inicio de sesión.
	Si se selecciona esta opción, el componente interno **WDGPU_WB_CNX** se agrega al proyecto. Este componente incluye el modelo de controles "TPLC_GPU_Connection" que gestiona la conexión. Para agregar este modelo de controles, arrástrelo y suéltelo en las páginas (o modelos) deseados. 
	Una vez que se ha agregado, se puede personalizar: 

	- sobrecargando los controles y/o los procesos para hacer cambios pequeños,

	- modificando directamente el modelo de controles para hacer cambios más importantes. 








### Opciones del Groupware Usuario (modo estándar y BaaS)
<a name="opciones_del_groupware_usuario_modo_estandar_baas_ELTPARAGRAPHE000179"></a>

Existen varios modos de personalización del Groupware Usuario: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_WB%20Groupware%20U%20-%20HC%20N%B0002.gif&type=thumb)


- **Sin personalización**: toda la programación del Groupware Usuario se integra automáticamente en su sitio Web. No se puede hacer ninguna personalización. El tema del proyecto se aplica automáticamente a todas las páginas utilizadas por el Groupware Usuario.
	Este modo de integración permite seguir automáticamente futuros cambios en el Groupware Usuario.

- **Personalizar UI de conexión (inicio de sesión, registro)**: toda la programación del Groupware Usuario se integra automáticamente en su sitio Web. La interfaz de inicio de sesión puede modificarse. 
	El componente interno **WDGPU_WB** se agrega al proyecto. Este componente contiene todas las páginas, modelos de páginas, modelos de controles y procedimientos necesarios para la autenticación de usuarios. Esto le permite personalizar completamente todas las páginas de inicio de sesión utilizadas por el Groupware Usuario. 
	Este modo de integración permite seguir automáticamente futuros cambios en el Groupware Usuario.

- **Personalización completa** (solo en modo Groupware Usuario estándar): toda la programación del Groupware Usuario se integra automáticamente en el sitio a través de un componente interno. El componente interno **WDGPU_WB** se agrega al proyecto. Este componente contiene un análisis, así como todas las páginas, consultas, clases y procedimientos necesarios para gestionar Groupware Usuario. Esto permite personalizar todas las páginas utilizadas por el Groupware Usuario.  




La opción "**Permitir la apertura de ventanas, páginas y reportes de forma predeterminada**" permite a todos los usuarios abrir ventanas, páginas y reportes de forma predeterminada. En este caso, al configurar los permisos, basta con especificar los elementos a los que no se podrá acceder.

La opción "**Inicio de sesión automático para el modo de prueba**" permite especificar el nombre de usuario y la contraseña que se utilizarán al probar una página o proyecto (en modo GO o en modo "Prueba automatizada"). Esta información se utilizará si se ejecuta una prueba automatizada en el proyecto.

De forma predeterminada: 

- los archivos de datos están en inglés. Para utilizar los datos en francés, simplemente seleccione la opción "Archivos de datos en francés". 

- los archivos de datos del Groupware Usuario tienen una contraseña específica. Esta contraseña es: "PCSGPW2001".
	Para cambiar la contraseña, introduzca la nueva contraseña en la pestaña "Opciones" de la ventana de descripción del Groupware Usuario. Los caracteres se muestran como puntos.
	Observación: Esta contraseña se utiliza, por ejemplo, cuando se reindexan o abren archivos de datos con WDMAP.




Para más información, consulte la ayuda en línea.




### Opciones específicas del Groupware Usuario estándar
<a name="opciones_especificas_del_groupware_usuario_estandar_ELTPARAGRAPHE000217"></a>

Si utiliza el Groupware Usuario estándar, la pestaña "Archivos" le permite configurar: 

- el tipo de base de datos utilizada (estas opciones solo están disponibles en el modo "Inicio automático"). 

- el tipo de autenticación: 

	- Autenticación gestionada por el Groupware Usuario de WEBDEV.

	- Autenticación a partir de un directorio LDAP.







**Tipo de base de datos**

En modo "Groupware Usuario estándar", el Groupware Usuario utiliza varios archivos de datos específicos. Estos archivos de datos se utilizan principalmente para administrar usuarios, grupos, permisos y elementos del sitio. El Groupware Usuario estándar se puede utilizar:

- con archivos de datos HFSQL Classic. En este caso, puede especificar la ubicación de los archivos de datos a través del enlace "Directorio predeterminado".

- con archivos de datos HFSQL Client/Server. En este caso, puede definir los parámetros de acceso a la base de datos HFSQL Client/Server, así como el directorio de los archivos, seleccionando el enlace "Haga clic aquí para introducir los parámetros del servidor".




**Tipo de autenticación**

El Groupware Usuario estándar propone varios modos de autenticación del usuario:

- **Autenticación totalmente gestionada por el Groupware Usuario**: 
	El nombre de usuario y la contraseña se guardan en los archivos de datos del Groupware Usuario.

- **Autenticación a partir de un directorio LDAP o Active Directory**: 
	Si la empresa de su cliente utiliza un directorio LDAP, puede activar el Groupware Usuario en este directorio. Simplemente haga clic en el enlace "Haga clic aquí para introducir los parámetros del servidor" para especificar las características del directorio LDAP (servidor, puerto, DN base, etc.). Así, la cuenta y la contraseña en el directorio LDAP se solicitarán automáticamente al usuario.
	En este modo, hay una opción adicional disponible: **Ventana de inicio de sesión únicamente (sin gestión de permisos)**. 

	- Si esta opción está seleccionada, no se creará ningún archivo de datos del groupware. Si la aplicación se inicia en modo automático, el usuario deberá iniciar sesión. Si el usuario está guardado en el directorio LDAP, la aplicación se iniciará; de lo contrario, se cerrará. El supervisor no puede configurar los permisos de las ventanas.

	- Si esta opción no está seleccionada, solo los usuarios del directorio LDAP podrán iniciar sesión. Se pueden establecer permisos en las ventanas.


 Para más información, consulte la ayuda en línea.




La pestaña "OAuth" permite autorizar el uso de un servicio de conexión específico. Una vez seleccionado el servicio, se deben especificar los identificadores correspondientes (proporcionados al registrar la aplicación en el servicio).
<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_WB%20Groupware%20U%20-%20HC%20N%B0004.gif&type=thumb)



### Opciones específicas del Groupware Usuario BaaS
<a name="opciones_especificas_del_groupware_usuario_baas_ELTPARAGRAPHE000258"></a>

Al utilizar un Groupware Usuario BaaS, se pueden definir opciones específicas en las pestañas "BaaS" y "Correo". 

La pestaña "BaaS" permite definir:  

- la ubicación del servidor de aplicaciones del Groupware Usuario. Es posible seleccionar una plataforma PCSCloud o un servidor de red o de Internet,

- el modo de gestión de cuentas de usuario,

- las URL de los sitios de administración. 




La pestaña "Correo" permite escribir los mensajes de confirmación del registro o de recuperación de la contraseña. 




<a name="NOTE3_2"></a>


### Probar el sitio (Groupware Usuario estándar)
<a name="probar_sitio_groupware_usuario_estandar_ELTPARAGRAPHE000276"></a>

Al probar un sitio que utiliza el Groupware Usuario estándar, la primera página que aparece es la de inicio de sesión (independientemente de la primera página definida en el sitio).

De forma predeterminada se crea un solo usuario: el supervisor. Para iniciar sesión como supervisor, simplemente introduzca la siguiente información en la página de inicio de sesión:

- Nombre: SUPERVISOR

- Contraseña: SUPERVISOR


Puede probar el sitio, o configurar el Groupware Usuario.

**Observaciones**:

- Para establecer una primera página distinta a la de inicio de sesión en el sitio, seleccione "Inicio manual (mediante programación)" en la pestaña "General" de las opciones del Groupware Usuario. Utilice la función [gpwOpen](../WDLang6/3041002.md) para abrir la página de inicio de sesión.

- Las páginas de gestión del Groupware Usuario se ejecutan antes del código de inicialización del proyecto.

- La primera página del sitio definida en el proyecto se mostrará después de la página de inicio de sesión (cuando el usuario no es el supervisor).

- **Para que no se active el Groupware Usuario al probar el sitio**, seleccione "Inactivo" en la pestaña "General" de las opciones del Groupware Usuario.
	Si vuelve a activar el Groupware Usuario, los archivos de datos utilizados anteriormente por el Groupware Usuario no se eliminarán.



<a name="NOTE3_3"></a>


### Instalar un sitio que utiliza el Groupware Usuario estándar
<a name="instalar_sitio_que_utiliza_groupware_usuario_estandar_ELTPARAGRAPHE000304"></a>

Los sitios que utilizan el Groupware Usuario estándar se instalan de la misma manera que cualquier otro sitio: en la pestaña "Proyecto", en el grupo "Generación", haga clic en "Implementar sitio".

Una pantalla específica del groupware usuario estándar permite establecer la ubicación de los archivos de datos del groupware usuario.

**Observaciones**:

- Si se han configurado archivos de datos del Groupware Usuario para un cliente, deben seleccionarse al preparar la instalación. Por lo tanto, es necesario personalizar la lista de archivos de la instalación.

- Si no se han configurado los archivos de datos del groupware, el Supervisor será el único usuario en el sitio la primera vez que se inicie.




**Consejo**: si no configura los diferentes niveles de uso del groupware usuario para sus clientes, le recomendamos proporcionarles un documento con todos los controles de las páginas para obtener una configuración optimizada..

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Configurar un sitio que utiliza el Groupware Usuario estándar
<a name="configurar_sitio_que_utiliza_groupware_usuario_estandar_ELTTEXTE000668"></a>
Al implementar el sitio, el supervisor configura el Groupware Usuario estándar.

Esta configuración consiste en crear usuarios y grupos de usuarios, y otorgarles permisos específicos para cada control en cada página del sitio.

Estos permisos permiten deshabilitar controles, grupos de controles u opciones de menú, y hacerlos visibles o invisibles.

**Para configurar el Groupware Usuario**, simplemente:

1. Inicie el sitio y entre como supervisor:

	- Nombre: SUPERVISOR

	- Contraseña: SUPERVISOR




2. Seleccione la opción "Configurar groupware".

3. Enseguida, se abre la página de gestión del Groupware Usuario. Esta página permite:

	- administrar usuarios y grupos.

	- administrar permisos.

	- ver estadísticas.

	- migrar datos procedentes de la versión 18 o anterior del Groupware Usuario.






<a name="NOTE4_2"></a>


### Administrar usuarios
<a name="administrar_usuarios_ELTPARAGRAPHE000361"></a>

La administración de usuarios consiste en:

- crear usuarios,

- crear grupos,

- asociar usuarios y grupos.


Para crear un nuevo usuario, debe especificar:

- el apellido del usuario (obligatorio)

- el nombre del usuario

- el nombre de usuario. El nombre de usuario es el identificador utilizado para iniciar sesión en la aplicación.

- la contraseña del usuario. La contraseña es opcional y puede ser introducida por el usuario la primera vez que inicie sesión (seleccione la opción correspondiente).


Puede definir el usuario como supervisor del sitio.

También puede modificar o eliminar usuarios. Cuando se elimina un usuario, se puede eliminar todo el usuario o solo los permisos otorgados.

**Los usuarios se pueden agrupar**.

Un usuario puede estar asociado a varios grupos.

**Observaciones**:

- Se recomienda cambiar la contraseña del supervisor la primera vez que utilice la aplicación.

- Si utiliza un directorio LDAP, puede importar los usuarios desde el directorio para administrar los permisos.



<a name="NOTE4_3"></a>


### Administrar permisos
<a name="administrar_permisos_ELTPARAGRAPHE000394"></a>

El supervisor puede administrar los permisos concedidos a cada usuario (o grupo de usuarios) sobre los elementos de las páginas del proyecto.

Se puede definir un estado específico para todos los elementos de una página asociada a un usuario.

Los elementos de las páginas, páginas internas y modelos de páginas son los siguientes:

- controles, grupos de controles,

- opciones de menú.


Los siguientes estados están disponibles para cada elemento:

- ***Predeterminado***: el comportamiento del elemento corresponde al comportamiento predeterminado, definido en la aplicación.

- ***Inactivo***: el elemento se muestra pero no se puede realizar ninguna entrada.

- ***En gris***: el elemento se muestra en gris. No se puede realizar ninguna entrada.

- ***Invisible***: el elemento no se muestra.



<a name="NOTE4_4"></a>


### Mostrar estadísticas
<a name="mostrar_estadisticas_ELTPARAGRAPHE000417"></a>

Puede obtener las estadísticas de uso del sitio por usuario durante un período específico.
<a name="NOTE4_5"></a>


### Migrar datos
<a name="migrar_datos_ELTPARAGRAPHE000426"></a>

Desde la versión 19, se ha optimizado el Groupware Usuario. Los archivos de datos utilizados por el groupware han cambiado.

El administrador del Groupware Usuario puede migrar los datos al nuevo formato y así recuperar automáticamente los datos utilizados en las versiones anteriores. Esta migración puede realizarse independientemente del formato de los datos: HFSQL Classic, HFSQL Client/Server o Conector Nativo.

<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Consejos para un sitio que utiliza el Groupware Usuario
<a name="consejos_para_sitio_que_utiliza_groupware_usuario_ELTTEXTE000716"></a>


### Grupos de controles
<a name="grupos_controles_ELTPARAGRAPHE000439"></a>

Para simplificar la gestión de los grupos de usuarios según los usuarios, se recomienda utilizar grupos de controles.

Puede crear grupos de controles en las páginas en función de los controles que deben mostrarse a un usuario específico.

La posibilidad de asociar un control a varios grupos de controles aumenta el número de combinaciones posibles.

Estos grupos de controles se pueden crear en el sitio solo para administrar el groupware, no se requiere ninguna programación específica.
<a name="NOTE5_2"></a>


### Visibilidad de los controles
<a name="visibilidad_los_controles_ELTPARAGRAPHE000454"></a>

Al desarrollar una aplicación, puede definir las opciones de visibilidad de los diferentes elementos de las páginas:

- en la descripción del elemento (ventana de 7 pestañas),

- mediante programación (propiedades [State](../Proprietes/2510039.md) o [Visible](../Proprietes/2510138.md)).


Al configurar el Groupware Usuario, el supervisor puede definir diferentes opciones de visibilidad. Las opciones definidas por el supervisor tienen prioridad.

Por ejemplo, se creó un botón que permite activar un control. Sin embargo, el supervisor deshabilitó dicho control. Esto significa que su código no se tendrá en cuenta y que el control no se activará.
<a name="NOTE5_3"></a>


### Definición de permisos
<a name="definicion_permisos_ELTPARAGRAPHE000476"></a>

Para definir los permisos de las funcionalidades de la aplicación, le recomendamos:

- establecer los permisos según los requisitos del administrador del sitio antes de crear el procedimiento de instalación. Simplemente agregue los archivos de datos del groupware al crear la instalación del sitio.

- proporcionar una documentación técnica que incluya los nombres de los controles, grupos de controles y opciones que deben configurarse según el nivel de uso definido para el sitio.




| [Página anterior](../Concepts_WB/1410087461.md) | [Tabla de contenido](../Concepts_WB/1410087102.md) | [Página siguiente](../Concepts_WB/1410087463.md) |
| --- | --- | --- |




