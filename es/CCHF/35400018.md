
## Actualización automática del servidor
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000100"></a>
El Centro de Control HFSQL se utiliza para implementar la actualización del servidor automatic. 

Si esta opción está activada, el servidor HFSQL puede actualizarse automáticamente tan pronto como esté disponible una nueva versión.: 

- en el servidor PC SOFT. 

- en un servidor personalizado. 




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Implementación
<a name="implementacion_ELTTEXTE000124"></a>


### ¿Cómo proceder?
<a name="¿como_proceder_ELTPARAGRAPHE000021"></a>

Para implementar la actualización del servidor de automatic: 

- En el cuadro de mando de HFSQL control Center, en el widget "Versión", haga clic en "Configurar las actualizaciones". Aparece la ventana para la configuración del servidor, haga clic en "Version".. 

- En la cinta de características del servidor, en el grupo "Parámetros", haga clic en "Configuración del servidor" y muestre las opciones de versión.. 



<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=CC_HF_Gestion_Serveur%20-%20HC%20N%B0013.gif)


El Centro control indica si el servidor está actualizado o si hay una actualización disponible. En este caso, el servidor HFSQL puede actualizarse inmediatamente mediante el botón "Actualización del servidor".

También tienes la capacidad de configurar una actualización de automatic. En este caso, la actualización se realizará automáticamente tan pronto como se detecte una actualización del servidor.. 

Cuando se selecciona "Activar actualización automática", se puede: 

- una asistente comienza. Esta asistente propone utilizar: 

	- el servidor de actualización de PC SOFT: Este servidor contiene las últimas actualizaciones del servidor HFSQL validado por nuestro Departamento de Calidad.. 

	- un servidor personalizado. En este caso, debe especificarse la URL del servidor de actualizaciones personalizado (véase el párrafo siguiente).. 




- la asistente propone programar el chequeo del servidor de actualización (una vez al mes por ejemplo). 
	Observación: Si una nueva versión está disponible durante la comprobación, el servidor HFSQL se detendrá y los usuarios se desconectarán durante toda la actualización.. 





### Servidor de actualización personalizado
<a name="servidor_actualizacion_personalizado_ELTPARAGRAPHE000153"></a>

Puede utilizar un servidor de actualizaciones personalizado para el servidor HFSQL. Esto le permite control las actualizaciones del servidor HFSQL de los usuarios. Por ejemplo, puede validar el uso de una nueva versión antes de liberarla.. 

Para crear un servidor de actualización personalizado para servidores HFSQL, debe: 

1. Instalar un servidor Web (IIS o Apache) en el ordenador seleccionado. 

2. Cree los siguientes tipos MIME en el servidor Web si no existen:

	- .json -> application/json

	- .sign -> application/byte-stream

	- .zip  -> application/x-compress




3. Crear un directorio en la raíz del servidor Web. Este directorio contendrá los paquetes de actualización. Ejemplo: C:\\inetpub\\wwwroot\\hfsql_packs
	Este directorio debe contener: 

	- Un archivo de JSON que contiene los nombres de los paquetes que se utilizarán según las versiones (véase más abajo). El nombre de este archivo debe ser "hfsql_updateinfo.json".

	- Los paquetes correspondientes a las actualizaciones (paquetes en formato zip con extensión ".zip").

	- Los ficheros de firma correspondientes a los paquetes (".sign" extension).


 Estos paquetes y sus firmas están disponibles en el siguiente Address: [http://package.windev.com/hfsql/](http://package.windev.com/hfsql/). 




Por ejemplo: 

- Servidor web para actualizaciones: srvupd

- Directorio UNC que contiene las actualizaciones:  AASLASH_\\srvupd\\hfsql_packs _ASLASH_. 

- URL para actualizaciones: http://srvupd/hfsql_packs/




Ejemplo de archivo JSON: 


```txt
{
	"pack": [
		{
			"major_version": 22,
			"language"     : "F",
			"version"      : "220099",
			"min_version"  : "220036",

			"pack": [
				{
					"platform": "win32",
					"data"     : "srv_hfsql_win32_90F220099z"
				},
				{
					"platform": "win64",
					"data"     : "srv_hfsql_win64_90F220099z"
				},
				{
					"platform": "linux32",
					"data"     : "srv_hfsql_linux32_90F220099z"
				},
				{
					"platform": "linux64",
					"data"     : "srv_hfsql_linux64_90F220099z"
				}
			]
		}
	]
}
```
donde: 

- **versión_principal**: corresponde a la versión principal del paquete (22, 23, ...). Sólo se actualizarán los servidores HFSQL correspondientes a esta versión.. 

- **language**: corresponde al idioma del servidor (F para el francés, A para el inglés, ....). 

- **version**: corresponde a la versión del servidor HFSQL que se encuentra en el paquete. 

- **min_version**: corresponde a la versión mínima a partir de la cual se puede aplicar el envase. 

- **embalar**: se utiliza para indicar las características de los envases. 

- **plataforma**: plataforma correspondiente al paquete: 

	- win32: Windows de 32 bits

	- win64: Windows de 64 bits

	- linux32: Linux de 32 bits

	- linux64: Linux de 64 bits




- **data**: corresponde al nombre del envase (sin extension). 




Observación: Un solo paquete puede ser referenciado de acuerdo a la plataforma utilizada por los servidores HFSQL.


