


## Centro de Control HFSQL: Gestión de elementos programados
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000229"></a>
Tiene la capacidad de definir elementos programados en el servidor HFSQL.. Estos elementos programados pueden corresponder a:

- una copia de seguridad (del servidor, de una o varias bases de datos, de archivos de datos, etc.). 

- una tarea programada (llamada a un Procedure almacenado). Al llamar a una Procedure almacenada, puede ejecutar el código que desee, por ejemplo, mantenimiento personalizado, edición de estadísticas, etc.

- una optimización (de una o varias bases de datos, de uno o varios ficheros, etc.). 

- una actualización de una o más vistas materializadas. 




Los elementos programados se pueden gestionar:

- en el Centro HFSQL control. Los elementos programados se pueden gestionar a nivel de servidor.

- mediante programación.




Observación: la gestión de los elementos programados está disponible para el servidor, para las bases de datos y para los archivos. La pestaña "Elementos programados" está disponible independientemente del elemento visualizado (servidor, base de datos o archivo).



<a name="NOTE2B"></a>
<a name="NOTE2B_1"></a>


## Elementos programados en el HFSQL control Center
<a name="elementos_programados_hfsql_control_center_ELTTEXTE000259"></a>


### Creación de un elemento programado
<a name="creacion_elemento_programado_ELTPARAGRAPHE000034"></a>

Para crear un elemento programado: 

1. Conectarse (si es necesario) a un servidor HFSQL. 

2. Haga doble clic en el nombre del servidor HFSQL en la estructura de árbol. 

3. La sección derecha del Centro control muestra una pestaña con el nombre del servidor. 

4. Haga clic en la pestaña "Elementos programados. 

5. En la cinta de opciones, en el grupo "Elementos programados", expanda "Nueva programación".. Puede seleccionar la clase de programación que desea crear: 

	- [reserva](#NOTE2_Backup). 

	- [Tarea](#NOTE2_Task). 

	- [Optimización](#NOTE2_Optimization). 

	- [Refrescando una vista materializada](#NOTE2_View). 




6. Independientemente de la opción, una asistente permite crear la programación seleccionada. 



<a name="NOTE2_Backup"></a>


### Crear una copia de seguridad
<a name="crear_una_copia_seguridad_ELTPARAGRAPHE000061"></a>

1. Especifique: 

	- los elementos a salvar: el contenido del servidor, una base de datos específica o una selección de bases de datos.

	- si el resultado de la copia de seguridad debe comprimirse en formato zip. 

	- si los índices deben guardarse (archivos de índice NDX y archivos de índice de texto completo FTX). Si no se guardan los archivos índice, el tamaño de la copia de seguridad se reducirá, pero el tiempo de restauración será mayor.. Observación: si los archivos de índice no se guardan, las contraseñas de los archivos deben especificarse durante la operación de restauración para permitir su reindexación.




2. Especifique el escenario de copia de seguridad solicitado: 

	- Copia de seguridad mensual completa con o sin copia de seguridad diferencial semanal, 

	- Copia de seguridad mensual completa con o sin copia de seguridad diferencial diaria. 

	- Copia de seguridad semanal completa con o sin copia de seguridad diferencial diaria. 

	- Respaldo diario completo. 

	- Definir manualmente la frecuencia de las copias de seguridad. Si se selecciona esta opción, la asistente permite elegir el tipo de respaldo a realizar y su frecuencia. 




3. Especifique el directorio de la copia de seguridad. 
	Si este nombre corresponde a una ruta relativa, la copia de seguridad se realizará en el subdirectorio "Backup" del servidor HFSQL. El asistente se utiliza para definir un subdirectorio de "copia de seguridad" ("Backups" de Default). La fecha y la hora (en formato "Año\\Mes\\Día\\Hora-Minuto") pueden añadirse al nombre del directorio para identificar fácilmente la copia de seguridad..
	Observación: Las copias de seguridad se realizan en un subdirectorio numerado ("backup\\Backups\\1" por ejemplo). Por lo tanto, si se realizan varias copias de seguridad, los archivos correspondientes no serán sobrescritos por una nueva copia de seguridad.

4. Especifique los procedimientos almacenados que se ejecutarán antes y/o después de la copia de seguridad.

5. Especifique (si es necesario) el número máximo de copias de seguridad que deben almacenarse en el servidor.. Las copias de seguridad más antiguas se borrarán automáticamente.
	**Observación**: La copia de seguridad no se realizará si el servidor está apagado. La copia de seguridad se realizará en la siguiente fecha disponible cuando se encienda el servidor.

6. Déle un description a su copia de seguridad y valídelo.

7. La copia de seguridad programada aparece en el Centro control de HFSQL.  



<a name="NOTE2_Task"></a>


### Creación de una tarea
<a name="creacion_una_tarea_ELTPARAGRAPHE000090"></a>

1. Seleccione el modo de tiempo de ejecución de la tarea: la tarea se puede ejecutar: 

	- Periódicamente. Entonces asistente le permite definir la frecuencia de ejecución de la tarea. 

	- y/o cuando se inicia el servidor HFSQL. Si se selecciona esta opción, se debe especificar si: 

		- la tarea es bloquear: en este caso, el servidor HFSQL no será accesible durante la ejecución de la tarea. 

		- la tarea debe ser ejecutada en la tarea de Background. En este caso, el servidor HFSQL puede ser utilizado tan pronto como se inicie.. 




2. Seleccione: 

	- la base de datos que contiene el Procedure almacenado para ejecutar. 

	- el conjunto que contiene el Procedure almacenado para ejecutar. 

	- el Procedure almacenado para ejecutar. 
			**Atención**: Para que un Procedure almacenado iniciado desde una tarea programada pueda acceder a los datos, debe utilizar [HDeclareExternal](../WDLang4/3044204.md). Esta función se utiliza para declarar las fuentes de datos que se utilizarán en los procesos de la Procedure almacenada. De hecho, cuando una Procedure almacenada se inicia desde el Centro control HFSQL, no hay un análisis actual y los datos de la HFSQL Client/Server no son accesibles inmediatamente. 
			Si no se utiliza [HDeclareExternal](../WDLang4/3044204.md) en el código del Procedure almacenado, el Procedure provocará un error fatal, notificado en el registro de eventos del sistema. 
			**Observación**: cuando un Procedure almacenado es iniciado por [HExecuteProcedure](../WDLang4/3044358.md) desde una aplicación WINDEV, WEBDEV o WINDEV Mobile, utiliza el análisis de la aplicación y puede utilizar directamente los datos de HFSQL Client/Server.




3. Definir la frecuencia de la tarea: mes, día, hora.

4. Dé una description a su tarea programada y valídela.

5. La tarea programada aparece en el HFSQL control Center.  



<a name="NOTE2_Optimization"></a>


### Creación de una optimización
<a name="creacion_una_optimizacion_ELTPARAGRAPHE000128"></a>

1. Seleccione los archivos a optimizar: el contenido del servidor, una base de datos específica o una selección de bases de datos.

2. Definir la frecuencia de optimización: mes, día, hora.

3. Definir la acción a realizar: 

	- Reindexar los archivos.

	- Recalcular las estadísticas sobre las claves de los archivos. 




4. Especifique (si es necesario) la contraseña de los archivos a reindexar. 

5. Dé una description a su tarea de optimización y valídela.

6. La tarea programada aparece en el HFSQL control Center.  



<a name="NOTE2_View"></a>


### Creación de una actualización para una vista materializada
<a name="creacion_una_actualizacion_para_una_vista_materializada_ELTPARAGRAPHE000143"></a>

1. Seleccione las vistas a actualizar: todas las vistas encontradas en una base de datos, una selección de bases de datos y vistas.

2. Definir la frecuencia de actualización: mes, día, hora.

3. Déle un description a su tarea de actualización y valídelo.

4. La tarea actualización aparece en el Centro HFSQL control. 



<a name="NOTE2b_2"></a>


### Borrar un elemento programado
<a name="borrar_elemento_programado_ELTPARAGRAPHE000153"></a>

Para borrar un elemento programado: 

1. Conectarse (si es necesario) a un servidor HFSQL. 

2. Haga doble clic en el nombre del servidor HFSQL en la estructura de árbol. 

3. La sección derecha del Centro control muestra una pestaña con el nombre del servidor. 

4. Haga clic en la pestaña "Elementos programados. 

5. Seleccione la tarea programada que desea eliminar.

6. En la cinta de opciones, en el grupo "Elementos programados", haga clic en "Eliminar".. 
	También tiene la posibilidad de utilizar el menú contextual del elemento programado (opción "Suprimir"). 



<a name="NOTE2b_3"></a>


### Modificación de un elemento programado
<a name="modificacion_elemento_programado_ELTPARAGRAPHE000169"></a>

Para modificar un elemento programado: 

1. Conectarse (si es necesario) a un servidor HFSQL. 

2. Haga doble clic en el nombre del servidor HFSQL en la estructura de árbol. 

3. La sección derecha del Centro control muestra una pestaña con el nombre del servidor. 

4. Haga clic en la pestaña "Elementos programados. 

5. Seleccione la tarea programada que desea modificar.

6. En la cinta de opciones, en el grupo "Elementos programados", haga clic en "Editar".. 
	También puede utilizar el menú contextual del elemento programado (opción "Editar"). 

7. Se muestra una ventana description del elemento programado. Todas las características introducidas en la asistente se agrupan en varias pestañas. 

8. Modificar la información solicitada y validar. 





