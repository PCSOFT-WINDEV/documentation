
## Lección 2.2. Primeras pruebas e implementación de la aplicación


<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Esta lección abarcará los siguientes temas
<a name="esta_leccion_abarcara_los_siguientes_temas_ELTTEXTE000475"></a>


- Configuraciones de proyecto.

- Configuración Android: 

	- Ejecutar prueba en Android.

	- Primera implementación en un dispositivo Android.




- Configuración iOS: 

	- Ejecutar una prueba en iOS. 

	- Primera implementación en un dispositivo iOS.








|   |   |
| --- | --- |
| <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=dur%E9e.png)<br> | <br>Tiempo estimado: 1 h |



| [Lección anterior](../TutoWM/1410087563.md) | [Tabla de contenido](../TutoWM/1410087586.md) | [Siguiente lección](../TutoWM/1410087564.md) |
| --- | --- | --- |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000522"></a>
En la lección anterior, creamos nuestro primer proyecto multiplataforma con una ventana. En esta lección, probaremos e implementaremos la aplicación tanto en Android como en iOS. 



- Para seguir esta lección, abra el proyecto en el que trabajó en la lección anterior.

	1. Vaya a la página de inicio de WINDEV (Ctrl + &lt;).

	2. En la página de inicio, haga clic en "Abrir un proyecto", luego en "Proyectos recientes", haga doble clic en "My_iOS_Android_Project".
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=exemple-WM.png) | Corregido | Hay un proyecto completado disponible. Para abrir el proyecto completado, vaya a la página de inicio y haga clic en "Tutorial", luego en "Part 2 - Lesson 2.1 - My first Android/iOS application", haga doble clic en "My Android/iOS project - Answers". |





	3. Abra la ventana WIN_Welcome en el editor: 

		- En el panel "Explorador de proyectos", despliegue "Ventanas" y haga doble clic en "WIN_Welcome".

		- La ventana WIN_Welcome aparece en el editor.  







<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Configuraciones de proyecto
<a name="configuraciones_proyecto_ELTTEXTE000564"></a>
En la lección anterior, creamos un proyecto que puede ejecutarse tanto en Android como en iOS. WINDEV Mobile asoció dos configuraciones al proyecto automáticamente, cada una corresponde a una plataforma. |   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=note.png) | Nota | **Las configuraciones de proyecto** permiten definir los diferentes tipos de generaciones que admite el proyecto: Android, iOS, componente, etc.<br><br>Los elementos del proyecto pueden ser:<br><br>- comunes a varias configuraciones (por ejemplo, una ventana utilizada en iOS y Android).<br><br>- específicos de una configuración (por ejemplo, una clase utilizada por un componente).<br><br><br>Puede trabajar en una configuración específica en cualquier momento: los elementos que no pertenecen a la configuración aparecerán en gris en el editor de proyectos.<br><br>Para obtener más información, consulte [Configuración del proyecto](../Editeurs/9000030.md). |







- Puede ver las diferentes configuraciones del proyecto en el panel "Explorador de proyectos":

	1. Despliegue la opción "Configuraciones (Aplicación iOS)" en la parte superior del panel "Explorador de proyectos". 

	2. Las dos configuraciones aparecen: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P2_WM%20-%20Mon%20Premier%20Projet%2003%20-%20HC%20N%B0001.jpg)


	3. Para seleccionar una configuración específica, haga doble clic en la configuración deseada. 




Para probar o implementar una aplicación WINDEV Mobile, seleccione la configuración de proyecto que corresponde a la plataforma deseada. 





<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Primera prueba e implementación en Android
<a name="primera_prueba_implementacion_android_ELTTEXTE000606"></a>


### Primera prueba en Android
<a name="primera_prueba_android_ELTPARAGRAPHE000087"></a>

Con WINDEV Mobile, puede probar la aplicación directamente en el equipo de desarrollo a través del modo de simulación. Esta prueba simula un dispositivo Android en el equipo de desarrollo. Este tipo de prueba es útil cuando el desarrollador no tiene acceso a un dispositivo Android. Sin embargo, esta prueba no permite utilizar los componentes físicos del dispositivo (GPS, SMS, cámara, etc.).|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=note.png) | Nota | En el caso de Android, WINDEV Mobile también permite probar la aplicación a través del emulador de Android (AVD) proporcionado con el SDK. Para obtener más información, consulte [Probar una aplicación con el emulador de Android](../Editeurs/9000099.md). |







- Vamos a probar la ventana WIN_Welcome en modo de simulación en una configuración Android.

	1. Seleccione la configuración Android de su proyecto: 

		- Despliegue la opción "Configuraciones (Aplicación iOS)" en la parte superior del panel "Explorador de proyectos". 

		- Haga doble clic en el nombre de la configuración de Android. 




2. Haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_GO_Fen_WM_GAF.jpg) en los botones de acceso rápido (o presione F9).

3. Si es necesario, valide el mensaje de información sobre el modo simulador.

4. La ventana creada se ejecuta.

5. Haga clic en "Display".

6. Valide la ventana del sistema que aparece. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P2_WM%20-%20Mon%20Premier%20Projet2%20-%20HC%20N%B0003.jpg&type=thumb)




- Probar un programa puede ser una tarea larga y tediosa. En WINDEV Mobile, puede probar la ventana, reporte o procedimiento que está creando con un solo clic. ¡Simple y rápido!




- Haga clic en la "x" del menú situado encima del emulador móvil para cerrar la ventana.




- El editor de WINDEV Mobile aparece de nuevo. 


|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=note.png) | Nota | En esta lección, probamos una ventana en el simulador. WINDEV Mobile le permite ejecutar varios tipos de pruebas de toda la aplicación. <br>Puede probar la aplicación: <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_MP%20-%20Go%20test%20Android%20-%20HC%20N%B0001.jpg)<br><br><br>- en el simulador disponible en WINDEV Mobile: seleccione "![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_ICO_PRJ_Simu_WM_GAF.jpg) Depurar en simulador XXX" en las opciones de acceso rápido. Esta opción le permite probar rápidamente el proyecto en el PC. Esta es la opción que usamos en este tutorial. <br><br>- directamente en el teléfono móvil (opción predeterminada): seleccione "![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_GO_Projet_WM_GAF.jpg) Depurar en dispositivo móvil" en los botones de acceso rápido: se iniciará la generación y la aplicación se copiará y ejecutará en el teléfono conectado al equipo actual. Puede probar la aplicación directamente en su dispositivo.  <br><br><br> |








### Primera implementación en un dispositivo Android
<a name="primera_implementacion_dispositivo_android_ELTPARAGRAPHE000134"></a>

Para ejecutar la aplicación de manera autónoma en el dispositivo Android, es necesario:

- Conectar el dispositivo a través de un puerto USB.

- Generar la aplicación. Se creará un archivo "apk". Este archivo contiene todos los elementos necesarios para ejecutar la aplicación en un dispositivo Android.

- Seleccionar el dispositivo al final de la generación. La copia de la aplicación (archivo"apk") puede tardar varios segundos.




Veamos estas etapas con más detalle.|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=note.png) | Nota | **Atención**: La depuración USB debe estar activada para realizar pruebas en el teléfono. Si no se realiza esta operación, WINDEV Mobile no detectará el teléfono.<br><br>Para activar la depuración por USB:<br><br>1. En el teléfono, vaya a "Configuración".<br><br>2. Seleccione "Acerca del dispositivo".<br><br>3. Presione varias veces la opción "Número de compilación" para activar el modo de desarrollador.<br><br>4. Vuelva al menú anterior.<br><br>5. La entrada "Opciones para desarrolladores" aparece. Seleccione esta opción.<br><br>6. Seleccione "Depuración por USB".<br><br><br>Observación: Las acciones a realizar pueden cambiar según la versión del teléfono y el fabricante. Por ejemplo, en un teléfono Samsung Galaxy, hay que "presionar" varias veces el "Número de versión" en la opción "Acerca del dispositivo" para activar las "Opciones para desarrolladores". En cualquier caso, puede realizar una búsqueda en Google con "depuración por USB &lt;nombre del dispositivo&gt;" para adaptar el modo de funcionamiento al dispositivo utilizado. |









- Para generar una aplicación Android:

	1. En la pestaña "Proyecto", en el grupo "Generación", haga clic en "Generar" (también puede hacer clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Generation_Android_WM_GAF.jpg) en los botones de acceso rápido).

	2. WINDEV Mobile propone seleccionar la primera ventana del proyecto. En este caso, seleccione "WIN_Welcome" y valide (botón "OK"). <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P2_WM%20-%20Mon%20Premier%20Projet2%20-%20HC%20N%B0004.jpg)


	3. El asistente de generación de aplicaciones Android se abre.

4. La primera etapa del asistente consiste en seleccionar el modo de generación de la aplicación. El formato de generación puede cambiar en función del modo seleccionado. 
			Para este tutorial, seleccione "Generar para una implementación libre (flota corporativa, tienda privada, etc.)". Pase a la etapa siguiente. 

5. La siguiente etapa del asistente permite comprobar las herramientas necesarias para generar la aplicación Android. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P2_WM%20-%20Mon%20Premier%20Projet%20-%20HC%20N%B0007.jpg&type=thumb)
El asistente propone:

	- **Descargar e instalar automáticamente el SDK de Android y Gradle**: en este caso, solo tendrá que validar la licencia. WINDEV Mobile se encarga de todo. Si hay actualizaciones disponibles, el asistente de generación le pedirá que realice las actualizaciones necesarias. Solo se requiere una conexión a Internet. Esta opción solo está disponible si no ha descargado e instalado Gradle previamente.

	- **Utilizar las herramientas instaladas automáticamente**. Esta opción solo está disponible si las herramientas se descargaron e instalaron en una generación anterior.

	- **Especificar la ubicación de las herramientas ya instaladas en su equipo**. En este caso, se deben especificar las rutas de instalación de Gradle y del SDK de Android.




Eso es todo, nuestra primera aplicación se genera y se ejecuta en el dispositivo Android.

<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Primera prueba e implementación en iOS
<a name="primera_prueba_implementacion_ios_ELTTEXTE000762"></a>


### Prueba en iOS
<a name="prueba_ios_ELTPARAGRAPHE000267"></a>

Para una aplicación iOS, WINDEV Mobile ofrece varios tipos de pruebas: 

- **Probar el proyecto o ventana en el equipo de desarrollo utilizando el modo de simulación**. Esta prueba simula un dispositivo iOS en el equipo de desarrollo. Esta prueba es útil cuando el desarrollador no tiene un dispositivo Mac o iOS para compilar la aplicación. Sin embargo, esta prueba no permite utilizar los componentes físicos del dispositivo (GPS, SMS, cámara, etc.). 

- **Probar el proyecto directamente en el dispositivo**. Esta prueba es útil cuando el desarrollador no tiene un Mac para compilar la aplicación. Se puede acceder a todos los componentes del dispositivo. 






- Para probar la ventana WIN_Welcome en iOS, en modo de simulación: 

	1. Seleccione la configuración iOS de su proyecto: 

		- Despliegue "Configuraciones (Aplicación Android)" en la parte superior del panel "Explorador de proyectos". 

		- Haga doble clic en el nombre de la configuración iOS. 




2. Haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_GO_Fen_WM_GAF.jpg) en los botones de acceso rápido (o presione F9).

3. Si es necesario, valide el mensaje de información sobre el modo simulador.

4. La ventana que creó anteriormente se abre en un emulador móvil que corresponde al dispositivo seleccionado (iPad o iPhone).

5. Haga clic en "Display".

6. Valide la ventana del sistema que aparece.  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P2_WM%20-%20Mon%20Premier%20Projet%2003%20-%20HC%20N%B0003.jpg&type=thumb)






- Si tiene un iPhone puede seguir los siguientes pasos para probar el proyecto directamente en el dispositivo. 




- En primer lugar, asegúrese de que se cumplen las siguientes condiciones: 

	- el iPhone/iPad y el equipo de desarrollo deben estar en la misma red (Wifi, por ejemplo). 

	- la aplicación WMDev debe estar instalada en el iPhone/iPad ([https://itunes.apple.com/us/app/WMDev/id1437792304](https://itunes.apple.com/us/app/WMDev/id1437792304)). 

	- los siguientes puertos de red deben estar abiertos: 

		- 64000 (64000 a 64005 si se están ejecutando varios WINDEV Mobile de forma simultánea). 

		- 27280


 Si se utiliza un firewall, debe estar configurado para permitir el uso de estos puertos. 




- En los botones de acceso rápido, seleccione la opción "![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_GO_Projet_WM_GAF.jpg) Depurar en un nuevo iPhone/iPad". La ventana de conexión a un dispositivo iOS se abre. Esta ventana contiene un código QR específico. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=Test_Appli_iOs%20-%20HC%20N%B0001.jpg)


	1. Abra WMDev en el dispositivo móvil (iPhone o iPad). 

	- Haga clic en "+" y luego en el botón que muestra un código de barras. 

	- Escanee el código de barras que se aparece en WINDEV Mobile en la ventana de conexión de un dispositivo iOS. 





### Primera implementación en un dispositivo iOS
<a name="primera_implementacion_dispositivo_ios_ELTPARAGRAPHE000322"></a>

Para ejecutar la aplicación de forma independiente en el dispositivo, es necesario:

- Generar la aplicación iOS (o proyecto Xcode) en WINDEV Mobile.

- Transferir a un Mac el proyecto Xcode generado para compilarlo.

- Compilar el proyecto en Xcode para generar el programa.

- El programa podrá instalarse en el dispositivo conectado o abrirse en el emulador de Xcode. Se ejecutará de forma independiente.Veamos estas etapas con más detalle.






- Para generar una aplicación iOS:

	1. En la pestaña "Proyecto", en el grupo "Generación", haga clic en "Generar" (también puede hacer clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Generation_iOS_WM_GAF.jpg) en los botones de acceso rápido).

	2. El asistente para generar la aplicación iPhone/iPad se abre automáticamente.<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P2_WM%20-%20Mon%20Premier%20Projet%2003%20-%20HC%20N%B0002.jpg&type=thumb)


	3. La primera etapa del asistente permite:

	- definir el nombre de la aplicación, la empresa y los derechos de autor (Copyright).

	- introducir el ID del Bundle.
						|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=note.png) | Nota | Este ID es un identificador único para las aplicaciones de Apple. Se define y registra en la cuenta de desarrollo de Apple.<br><br>Este identificador le permitirá registrar la aplicación para poder probarla e implementarla. De forma predeterminada, WINDEV Mobile genera automáticamente un identificador que cumple con los requisitos de desarrollo de Apple. Puede cambiar este identificador. |





	- introducir una dirección de correo electrónico predeterminada para enviar los informes de error generados por la aplicación. 




Las siguientes operaciones deben realizarse en el Mac. Es necesario:

- Transferir el proyecto WINDEV Mobile al Mac.

- Compilar el proyecto en Xcode.






- Para transferir el proyecto WINDEV Mobile al Mac:

	1. Copie toda la carpeta generada en el directorio "EXE\\&lt;Nombre de la configuración iOS&gt;" en una ubicación externa (unidad USB, disco duro externo, directorio compartido con el Mac en la red u otro). El nombre de este directorio es &lt;Nombre del proyecto&gt;.xcode.gen.

	2. Pegue la carpeta en el MAC que va a compilar la aplicación.

	3. Abra la carpeta en el Mac y abra el archivo "Nombre_del_archivo.xcodeproj".

	4. El proyecto se abre en Xcode.







WINDEV Mobile genera automáticamente un proyecto Xcode para compilar en iOS. Para facilitar la implementación de aplicaciones, WINDEV Mobile genera un "Esquema" para Xcode.

- Para compilar el proyecto en Xcode:

	1. Seleccione las opciones de compilación en la lista desplegable de la esquina superior izquierda. Seleccione el esquema que corresponde a su aplicación, y luego la plataforma de compilación (dispositivo conectado o simulador).

	2. Para iniciar la compilación, seleccione la opción del menú "Product .. Clean" y luego "Product .. Build".

	3. Un informe de compilación aparece en la parte superior ("Succeeded" o el número de advertencias y errores). Puede hacer clic en los símbolos para ver la lista de errores/advertencias.

	4. Una vez compilado el programa sin errores, puede iniciar la simulación (seleccione "Product .. Run"). 

		- Si la compilación se va a realizar en el simulador, la aplicación se abre en la ventana del simulador. 

		- Si la compilación se va a realizar en el dispositivo conectado, la aplicación se abre en dicho dispositivo. 







A continuación, puede probar su aplicación directamente en su iPhone o iPad.
<a name="NOTE6]
[["></a>


## Conclusión
<a name="conclusion_ELTTEXTE000828"></a>
WINDEV Mobile le permite crear una aplicación fácilmente. ¿Pero qué es una **Aplicación**?

Una **aplicación** es una herramienta que permite realizar tareas y acciones automáticamente.

Para crear una aplicación, WINDEV Mobile propone crear un **proyecto**. Un proyecto vincula y organiza los diferentes elementos del programa. El programa que corresponde a la aplicación se creará a partir del proyecto.

Si su aplicación utiliza datos, WINDEV Mobile le permite definir la estructura de la base de datos a través del **análisis**. El análisis de WINDEV Mobile contiene la estructura de los archivos de datos (también conocidos como "Tablas" en otras bases de datos). Estos archivos de datos contendrán los datos de la aplicación.

Utilizaremos un proyecto que manipula datos en la [parte 4](../TutoWM/1410087571.md) de este tutorial. 






| [Lección anterior](../TutoWM/1410087563.md) | [Tabla de contenido](../TutoWM/1410087586.md) | [Siguiente lección](../TutoWM/1410087564.md) |
| --- | --- | --- |




