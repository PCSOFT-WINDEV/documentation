
## WDLog: Guardar archivos de datos HFSQL
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000361"></a>
WDLog le permite guardar todos los archivos de datos HFSQL utilizados por una aplicación WINDEV o WEBDEV.

El siguiente archivo es necesario para realizar esta copia de seguridad:

- el archivo de análisis (.WDD),

- el archivo.REP que contiene las diferentes rutas de los archivos de datos gestionados por el proyecto.




Esta copia de seguridad se puede realizar:

- En modo interactivo (se inicia el registro WDLog).

- En el modo "Comando Line". El modo "Comando Line" le permite incluir la gestión de las copias de seguridad de los archivos en sus aplicaciones. En este caso, el usuario no debe realizar ninguna operación específica.




**Importante**: No olvide anotar las referencias de todas las copias de seguridad realizadas (fecha de la copia de seguridad, directorio de la copia de seguridad, naturaleza de la copia de seguridad, disquete que contiene los archivos o los registros, ....). Esta información es fundamental a la hora de restaurar los archivos.



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Modo interactivo
<a name="modo_interactivo_ELTTEXTE000391"></a>


### Guardando los archivos de datos HFSQL associated con un análisis
<a name="guardando_los_archivos_datos_hfsql_associated_con_analisis_ELTPARAGRAPHE000032"></a>

Para guardar los archivos de datos HFSQL associated con un análisis: 

1. Inicie el registro WDLog.

2. Seleccione "Copias de seguridad... Guardar los datos" (o haga clic en la flecha naranja).

3. Con el botón "Examinar", seleccione:

	- El archivo de análisis (.WDD) que contiene el description de los archivos de datos gestionados por el proyecto.

	- El archivo.REP que contiene las diferentes rutas de los archivos de datos gestionados por el proyecto.




4. Aparece la lista de archivos de datos que se encuentran en la aplicación.REP.. En esta lista, puede hacerlo:

	- Elimine los archivos (archivos.FIC,.MMO o.NDX) con el botón "Eliminar".

	- Añada los archivos de datos HFSQL (archivos.FIC,.MMO o.NDX) con el botón "Other".

	- Guardar la lista de archivos de datos en un archivo "List" (extensión LST) con la tecla "Save".. Este archivo de lista puede ser leído por WDLog o usado en el comando Line. 
			Atención: El archivo "list" no se borra cada vez que se realiza una copia de seguridad.

	- Abra una lista de archivos de datos con el botón "Abrir".




5. Haga clic en el botón "OK" para validar la copia de seguridad de los archivos de datos.

6. Especifique los siguientes elementos en la ventana de copia de seguridad:

	- Directorio de respaldo: Directorio en el que se creará el directorio de copia de seguridad.

	- Nombre copia de seguridad: Nombre del directorio donde se realizará la copia de seguridad.

	- Especifique las opciones de copia de seguridad:

		- ***No cree un subdirectorio con el nombre de la copia de seguridad***: El directorio de la copia de seguridad no se crea.

		- ***Compresión***: usado para comprimir los archivos durante la copia de seguridad. Esta opción se utiliza para reducir el tamaño de almacenamiento de las copias de seguridad. Se creará un único fichero de archivo (WDZ). 
						Si esta opción no está seleccionada, los archivos sólo se copiarán en el directorio de copia de seguridad.

		- ***Multi-volúmenes***: se utiliza para comprimir los archivos durante la copia de seguridad y para agrupar los archivos en archivos comprimidos (1,4 MB). Esta opción se recomienda si la copia de seguridad debe realizarse en disquetes. Esta opción activa automáticamente el modo "Compresión".

		- ***No guardar los índices (.NDX)***: usado para reducir el tamaño de la copia de seguridad. Si esta opción está seleccionada, los archivos deben ser reindexados una vez restaurados.. 
						Recordatorio: Existen varios métodos para reindexar los archivos de datos: WDTOOL (no redistribuible), WDOptimizer, WDMAP (no redistribuible), o mediante programación con la función **HIndex**.

		- ***No bloquee los archivos***: permite guardar los archivos aunque estén en uso. Esta opción no se recomienda porque la copia de seguridad puede contener registros bloqueados a los que ya no se puede acceder.. 
						Esta opción se recomienda en algunos casos concretos, para las aplicaciones iniciadas en la tarea de Background que abren archivos pero que no utilizan las transacciones por ejemplo, ... Esta opción también se puede utilizar con aplicaciones que tengan archivos de datos independientes de manipular (no relacionado en el análisis).




7. Haga clic en el botón "OK" para iniciar la copia de seguridad.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Comando Modo Line
<a name="comando_modo_line_ELTTEXTE000415"></a>
Hay dos tipos de copias de seguridad disponibles en el modo de comando Line:

- Guardar todos los archivos de datos descritos en un análisis o en el archivo.REP de la aplicación.

- Guardar una lista de archivos de datos.




Consulte el párrafo anterior ("Modo interactivo") para más detalles.

**Observación**: Se crea automáticamente un archivo WDLOG.LOG. Este archivo contiene las operaciones realizadas.
<a name="NOTE3_2"></a>


### Guardar todos los archivos de datos que se encuentran en un archivo WDD o en un archivo.REP
<a name="guardar_todos_los_archivos_datos_que_encuentran_archivo_wdd_archivorep_ELTPARAGRAPHE000087"></a>

La siguiente sintaxis le permite guardar todos los archivos de datos que se encuentran en un archivo WDD o en un archivo.REP:


```txt
WDLog /APPLI=<FullWDDName or FullREPName>
/REP = <BackupDir>
/COMPRESS = <True/False>
/MUET = <True/False>
/MULTI = <True/False>
/SANSBLOCAGE = <True/False>
/SANSINDEX = <True/False>
/SANSSOUSREP = <True/False>
```


Detalles de los parámetros:

| paramétrico | Significado |
| --- | --- |
| /APPLI = &lt;FullWDDName o FullREPName&gt; | Cadena de caracteres que contiene el nombre completo del análisis (archivo".WDD") o el nombre completo del archivo ".REP" de la aplicación. |
| /REP=&lt;BackupDir&gt; | Ruta donde se guardarán los archivos |
| /COMPRESS=&lt;True/False&gt; | Los archivos de datos se comprimirán si esta opción es set a "True". Los archivos se guardarán en un archivo (archivo.WDZ).<br>De lo contrario, los archivos no se comprimirán.<br>Esta opción es de set a "True" de Default. |
| /MUET=&lt;True/False&gt; | Si esta opción corresponde a "True", si se produce un error de bloqueo, todas las operaciones realizadas se escribirán en un archivo de resultados (archivo.LOG).. La ejecución del WDLog no se bloqueará.<br>De lo contrario, se mostrará una ventana si se produce un error..<br>Esta opción es de set a "False" de Default. |
| /MULTI=&lt;True/False&gt; | El archivo de copia de seguridad se dividirá en archivos (1,4 MB) si esta opción es set a "True". No es necesario especificar la opción de compresión si se utiliza esta opción..<br>De lo contrario, el archivo no se dividirá.<br>Esta opción es de set a "False" de Default. |
| /SANSBLOCAGE=&lt;True/False&gt; | Sólo se guardarán los archivos de datos que no estén bloqueados si esta opción es set a "True".<br>De lo contrario, se guardarán todos los archivos de datos.<br>Esta opción es de set a "False" de Default. |
| /SANSINDEX=&lt;True/False&gt; | Los índices de los archivos de datos no se guardarán si esta opción es set a "True".<br>De lo contrario, los índices se guardarán.<br>Esta opción es de set a "False" de Default. |
| /SANSSOUSREP=&lt;True/False&gt; | El subdirectorio de copia de seguridad no se creará si esta opción es set a "True". La copia de seguridad se realizará en el directorio &lt;BackupDir&gt;..<br>En caso contrario, se creará un subdirectorio de copia de seguridad.<br>Esta opción es de set a "False" de Default. |


**Ejemplo**: El siguiente comando Line se usa para guardar todos los archivos que se encuentran en "C:\\MyProject\\MyAnalysis.WDD" en "D:\\Project Backup". Estos archivos se comprimirán. Los archivos de índice no se guardarán.

**Atención**: Si los nombres de los directorios contienen caracteres espaciados, el parámetro debe estar entre comillas.


```wl
ExeRun("WDLog /APPLI= C:\MyProject\MyAnalysis.WDD " + ...
	"/REP=""D:\Backup of my projects"" /COMPRESS=True /SANSINDEX=True")
```

<a name="NOTE3_3"></a>


### Guardar todos los archivos de datos encontrados en una base de datos HFSQL Client/Server
<a name="guardar_todos_los_archivos_datos_encontrados_una_base_datos_hfsql_clientserver_ELTPARAGRAPHE000166"></a>

La siguiente sintaxis permite guardar todos los archivos de datos que se encuentran en una base de datos HFSQL Client/Server: 


```txt
WDLog /SERVEUR = <Server Name>
	/BD = <Database name>
	/NOM = <Username>
	/MDP_DB = <Password>
	/REP = <BackupDir>
	/COMPRESS = <True/False>
	/MUET = <True/False>
	/MULTI = <True/False>
	/SANSSOUSREP = <True/False>
	/LISTE = <FileName>
	/APPLI = <AppName>
```


Detalles de los parámetros:

| paramétrico | Significado |
| --- | --- |
| /SERVEUR=&lt;Nombre del servidor&gt; | Cadena de caracteres que contiene el nombre o IP Address del servidor HFSQL Client/Server. |
| /BD = &lt;Nombre de la base de datos&gt;&gt;. | Cadena de caracteres que contiene el nombre de la base de datos HFSQL Client/Server a guardar. |
| /NOM = &lt;nombre de usuario&gt; | Cadena de caracteres que contiene el nombre del usuario que se conecta a la base de datos. |
| /MDP_DB = &lt;Contraseña&gt;&gt;Contraseña | Cadena de caracteres que contiene la contraseña associated con el usuario de la base de datos. |
| /REP=&lt;BackupDir&gt; | Ruta donde se guardarán los archivos |
| /COMPRESS=&lt;True/False&gt; | Los archivos de datos se comprimirán si esta opción es set a "True". Los archivos se guardarán en un archivo (archivo.WDZ).<br>De lo contrario, los archivos no se comprimirán.<br>Esta opción es de set a "True" de Default. |
| /MUET=&lt;True/False&gt; | Si esta opción corresponde a "True", si se produce un error de bloqueo, todas las operaciones realizadas se escribirán en un archivo de resultados (archivo.LOG).. La ejecución del WDLog no se bloqueará.<br>De lo contrario, se mostrará una ventana si se produce un error..<br>Esta opción es de set a "False" de Default. |
| /MULTI=&lt;True/False&gt; | El archivo de copia de seguridad se dividirá en archivos (1,4 MB) si esta opción es set a "True". No es necesario especificar la opción de compresión si se utiliza esta opción..<br>De lo contrario, el archivo no se dividirá.<br>Esta opción es de set a "False" de Default. |
| /SANSSOUSREP=&lt;True/False&gt; | El subdirectorio de copia de seguridad no se creará si esta opción es set a "True". La copia de seguridad se realizará en el directorio &lt;BackupDir&gt;..<br>En caso contrario, se creará un subdirectorio de copia de seguridad.<br>Esta opción es de set a "False" de Default. |
| /LISTE = &lt;NombreDeArchivo&gt;&gt;NombreDeArchivo | Nombre completo del archivo que contiene la lista de archivos de datos a guardar. Este archivo de texto contiene un nombre de archivo por Line. Puede ser creado por WDLog (botón"Guardar").<br>Ejemplo: <br>  <br>E:\\WD Stock Chart\\Exe\\Acción.FIC  <br><br>E:\\Gráfico de acciones de WD\\Exe\\Share2000.FIC <br><br>E:\\WD Stock Chart\\Exe\\Tasa.FIC  <br><br><br> |
| /APPLI=&lt;AppName&gt; | Nombre de la aplicación que se utilizará para identificar la copia de seguridad ("automatic copia de seguridad de " + &lt;AppName) |

**Ejemplo**: El siguiente comando Line se usa para guardar todos los archivos encontrados en "MyHFDatabase" en "D:\\Project Backup". Estos archivos se comprimirán. Los archivos de índice no se guardarán.


```wl
ExeRun("WDLog /SERVEUR= 123.123.123.1 "+...
	"/BD=MyHFDatabase /NOM=Flo /MDP_DB=Test"+...
	"/REP=""D:\Backup of my projects"" /COMPRESS=True"+ ...
	"/SANSINDEX=True" /APPLI="MyHFDatabase")
```

<a name="NOTE3_4"></a>


### Guardar todos los archivos de datos encontrados en una lista
<a name="guardar_todos_los_archivos_datos_encontrados_una_lista_ELTPARAGRAPHE000251"></a>

Para guardar una lista de archivos de datos, cree un archivo de texto que contenga los diferentes nombres físicos de los archivos a guardar. Este archivo puede ser creado por WDLog ejecutado en modo interactivo.

El comando Line es el siguiente:


```txt
WDLog /LISTE = <FileName>
          /REP = <BackupDir>
          /COMPRESS = True
          /MUET = True
          /MULTI = True
          /SANSBLOCAGE = True
          /SANSINDEX = True
          /SANSSOUSREP = True
```


El tabla que se muestra a continuación presenta los diferentes elementos que se pueden encontrar en el comando Line:

| paramétrico | Significado |
| --- | --- |
| /LISTE = &lt;NombreDeArchivo&gt;&gt;NombreDeArchivo | Nombre del archivo que contiene la lista de archivos de datos a guardar. Este archivo de texto contiene un nombre de archivo por Line. Puede ser creado por WDLog (botón"Guardar").<br>Ejemplo:<br>  E:\\Gráfico de existencias WD\\Exe\\Action.FIC  <br><br><br>Nombre del archivo que contiene la lista de archivos de datos a guardar. Este archivo de texto contiene un nombre de archivo por Line. Puede ser creado por WDLog (botón"Guardar"). <br>Ejemplo: <br> E:\\Gráfico de existencias WD\\Exe\\Action.FIC  <br><br>E:\\Gráfico de acciones de WD\\Exe\\Share2000.FIC<br>  <br>E:\\WD Stock Chart\\Exe\\Tasa.FIC  <br><br> |
| /REP=&lt;BackupDir&gt; | Ruta donde se guardarán los archivos |
| /COMPRESIÓN=True | Los archivos de datos se comprimirán si esta opción es set a "True". Los archivos se guardarán en un archivo (archivo.WDZ) |
| /MUELLE=True | Si esta opción corresponde a "True", si se produce un error de bloqueo, todas las operaciones realizadas se escribirán en un archivo de resultados (archivo.LOG).. La ejecución del WDLog no se bloqueará. |
| /MÚLTIPLES=True | El archivo de copia de seguridad se dividirá en archivos (1,4 MB) si esta opción es set a "True". No es necesario especificar la opción de compresión si se utiliza esta opción. |
| /SANSBLOCAGE=True | Sólo se guardarán los archivos de datos que no estén bloqueados si esta opción es set a "True". |
| /SANSINDEX=True | Los índices de los archivos de datos no se guardarán si esta opción es set a "True". |
| /SANSSOUSREP=True | El subdirectorio de copia de seguridad no se creará si esta opción es set a "True". La copia de seguridad se realizará en el directorio &lt;BackupDir&gt;. |


**Ejemplo**: El siguiente comando Line se usa para guardar los archivos que se encuentran en "C:\\MyList.LST" en "D:\\Backup". Los archivos actualmente utilizados no se guardarán.


```wl
ExeRun("WDLog /LISTE=C:\MyList.LST /REP=D:\Backup/SANSBLOCAGE=True")
```



