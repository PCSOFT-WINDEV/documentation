
## Lección 4.2. Realizar una búsqueda simple y navegar por los registros
<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Esta lección abarcará los siguientes temas
<a name="esta_leccion_abarcara_los_siguientes_temas_ELTTEXTE000601"></a>


- Gestionar la búsqueda de registros.

- Recorrer los registros.





|   |   |
| --- | --- |
| <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=dur%E9e.png)<br> | <br>Tiempo estimado: 30 min |

| [Lección anterior](../TutoWD/1410087532.md) | [Tabla de contenido](../TutoWD/1410087560.md) | [Siguiente lección](../TutoWD/1410087534.md) |
| --- | --- | --- |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000648"></a>
En las lecciones anteriores, vimos cómo agregar y modificar registros. Ahora, vamos a completar nuestra aplicación agregando una búsqueda de registros (para modificarlos, por ejemplo). 

Vamos a modificar la ventana principal de la aplicación "WD Full Application" para agregar varias pestañas.

- La primera pestaña mostrará la lista de productos y le permitirá agregarlos y modificarlos (ya hemos realizado estas operaciones en lecciones anteriores).

- En la segunda pestaña podrá buscar un cliente por nombre. El formulario del cliente se mostrará en el mismo panel de pestañas.




Vamos a implementar dos modos de búsqueda:

- una búsqueda exacta,

- una búsqueda genérica.

<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%204%20-%20Aper%E7u%20-%20HC%20N%B0001.jpg&type=thumb)
Luego, podremos recorrer los registros del archivo de datos en función del cliente mostrado. 



- Abra de nuevo el proyecto en el que trabajó en la lección anterior. 

	1. Vaya a la página de inicio de WINDEV (Ctrl + &lt;).

	2. En la página de inicio, haga clic en "Tutorial", luego en "Part 4 - Full application with data" haga doble clic en "Full application - Exercise".

	3. Un cuadro de diálogo le pide que abra el proyecto en el que trabajó en la lección anterior. Puede abrir la copia local o el proyecto original. Seleccione "Abrir la copia local". 





|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=exemple-WD.png) | Corregido | Hay un proyecto completado disponible. Este proyecto contiene las ventanas que crearemos en esta lección. Para abrir el proyecto completado, vaya a la página de inicio y haga clic en "Tutorial", luego en "Part 4 - Full application with data", haga doble clic en "Full application - Answers". |





<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Modificar la ventana: utilizar un control Pestaña
<a name="modificar_ventana_utilizar_control_pestana_ELTTEXTE000690"></a>
En este ejemplo, la búsqueda no se realizará en una nueva ventana: utilizaremos la ventana WIN_Menu. Por ahora, esta ventana muestra la lista de productos.

Utilizaremos un control Pestaña para mostrar varios datos en la misma ventana. Los controles Pestaña permiten agrupar información por temas. El usuario puede acceder directamente a un tema haciendo clic en la pestaña deseada.

Este sistema es el mismo que se utiliza en todas las ventanas de descripción de WINDEV.
<a name="NOTE3_2"></a>


### Crear un control Pestaña
<a name="crear_control_pestana_ELTPARAGRAPHE000063"></a>

- Para mostrar los datos de la ventana "WIN_Menu" en un control Pestaña:

	1. Abra la ventana "WIN_Menu":

		- desde la barra de documentos abiertos.

		- haciendo doble clic en el nombre en el panel "Explorador de proyectos".




2. Seleccione los controles y muévalos fuera de la ventana. Esto puede parecer "extraño", pero será más fácil trabajar en el control Pestaña y asociar los controles a cada pestaña.  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%20Rech%20-%20HC%20N%B0001.jpg&type=thumb)


|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=note.png) | Nota | **Manipular controles en un control Pestaña**<br><br>- Para comprobar si todos los controles están asociados a la pestaña actual, haga clic en otra pestaña: los controles asociados a la pestaña desaparecen. <br><br>- Para cambiar el tamaño del control Pestaña sin tener en cuenta los anclajes definidos en los controles del panel de pestañas, mantenga pulsada la tecla Mayús mientras cambia el tamaño del control.<br><br><br> |


<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%20Rech%20-%20HC%20N%B0002.jpg&type=thumb)

<a name="NOTE3_3"></a>


### Modificar el control Pestaña
<a name="modificar_control_pestana_ELTPARAGRAPHE000106"></a>



- Cambie el nombre del control Pestaña:

	1. Haga doble clic en el control Pestaña que acaba de crear: la ventana de descripción del control se abre.

	2. Cambie el nombre del control. Introduzca el nombre "TAB_Viewing".

	3. Valide la ventana de descripción del control.







- De forma predeterminada, se crean dos pestañas. Vamos a cambiar su texto directamente:

	1. Seleccione el control Pestaña.

	2. Haga clic en "Pestaña 1". La pestaña cambia al modo de edición: introduzca "List of products". Presione la tecla Entrar para validar.  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%20Rech%20-%20HC%20N%B0003.jpg)


	3. Haga clic en "Pestaña  2". El panel de pestañas se muestra. Haga clic de nuevo en "Pestaña 2". Introduzca "Find customers". Presione la tecla Entrar para validar.




- Vamos a asociar una imagen a cada pestaña del control Pestaña. Para ello:

	1. Abra la ventana de descripción del control Pestaña (haga doble clic en el control, por ejemplo). La pestaña "General" de la ventana de descripción del control Pestaña permite configurar las características de cada pestaña. La lista de pestañas se muestra a la izquierda. En la parte derecha de la pantalla se pueden modificar las características de cada pestaña seleccionada.

	2. En la ventana de descripción, seleccione "List of products".  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%20Rech%20-%20HC%20N%B0004.jpg&type=thumb)


	3. Enseguida, se muestran las características de la pestaña.  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%20Rech%20-%20HC%20N%B0004%201.jpg&type=thumb)




- Acabamos de crear un nuevo control: ahora debemos definir su anclaje en la ventana. Cuando se amplíe la ventana, el control Pestaña también debe ampliarse para ocupar todo el espacio disponible. Por lo tanto, el control debe estirarse hacia la derecha y hacia abajo.

	1. Seleccione el control Pestaña.

	2. Haga clic derecho para abrir el menú contextual y seleccione "Anclaje".

	3. En la ventana de anclaje, seleccione ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_MP%20-%20Ancrage%20fiche%20-%20HC%20N%B0002%202.jpg) y valide.

	4. Guarde la ventana haciendo clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Enregistrer_GAF.jpg) en los botones de acceso rápido.







<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Implementar una búsqueda
<a name="implementar_una_busqueda_ELTTEXTE000762"></a>
Hemos terminado de crear la ventana "WIN_Menu". Ahora podemos centrarnos en el contenido del panel de pestañas que permite buscar clientes.

Este panel de pestañas se dividirá en varias áreas:

- Un área para introducir los elementos que se van a buscar.

- Un área para mostrar los datos encontrados.

- Un área que contiene los botones de navegación.



<a name="NOTE4_2"></a>


### Área de visualización de los datos encontrados
<a name="area_visualizacion_los_datos_encontrados_ELTPARAGRAPHE000184"></a>

Primero, vamos a crear varios controles para mostrar los datos del cliente.

Crearemos los controles Campo de entrada de la misma manera en que creamos los controles en la ventana de la ficha del producto: arrastraremos y soltaremos los campos desde el panel "Análisis".



- Para crear los controles que mostrarán los datos del cliente:

	1. Seleccione la ventana WIN_Menu en el editor y hacer clic en la pestaña "Find customers". El panel de pestañas aparece vacío.

	2. Abra panel "Análisis" en el editor, si es necesario: en la pestaña "Inicio", en el grupo "Entorno", despliegue "Paneles", seleccione "Paneles" y, a continuación, haga clic en "Análisis". Los archivos de datos descritos en el análisis "WD Full Application" se muestran en el panel.

	3. Haga clic en el ícono ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%202%20-%20Fiche%20produit%20-%20HC%20N%B0001%201.jpg) a la izquierda del archivo de datos "Customer": los campos del archivo de datos aparecen.

	4. Seleccione los campos del archivo de datos Customer que aparecen en el panel "Análisis". Puede seleccionar varios elementos manteniendo pulsada la tecla Ctrl.

	5. Arrastre los campos desde el panel y suéltelos en el panel de pestañas "Find customers".  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%20Rech%20-%20HC%20N%B0006.jpg&type=thumb)


	6. Los controles se crean automáticamente en el panel de pestañas. Estos controles están enlazados al campo correspondiente en el archivo de datos. 

7. Guarde la ventana (Ctrl + S).




- Vamos a alinear los controles y a definir el mismo tamaño:

	1. Seleccione el control "City" y luego, los demás controles Campo de entrada de la ventana (mantenga pulsada la tecla Ctrl y haga clic en los controles). El primer control seleccionado se utilizará como referencia para establecer el tamaño de los otros controles.

	2. En la pestaña "Alineación", en el grupo "Interno y externo", haga clic en "Justificar (Int. y Ext.)".  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%20Rech%20-%20HC%20N%B0007.jpg&type=thumb)








- Pruebe la ventana (haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_GO_Fenetre_WD_GAF.Jpg) en los botones de acceso rápido). Haga clic en la pestaña "Find customers". La ventana se muestra con los controles vacíos.

- Cierre la ventana de prueba para volver al editor.



<a name="NOTE4_3"></a>


### Búsqueda exacta
<a name="busqueda_exacta_ELTPARAGRAPHE000242"></a>

Para realizar una búsqueda exacta, vamos a seleccionar el nombre del cliente en un control Combo Box. El botón "Generic search" permitirá mostrar el formulario de la persona correspondiente. Una sola persona corresponde al nombre seleccionado.



- Posicione el control Combo Box encima de los controles que acaba de crear. Si los controles están demasiado cerca de la parte superior del panel de pestañas, debe desplazarlos hacia abajo. Para ello:

	1. Seleccione todos los controles en el panel de pestañas:

		- Presione Ctrl + A: todos los controles de la ventana y del panel de pestañas actual se seleccionan.

		- Mantenga pulsada la tecla Ctrl y haga clic en el control Pestaña: solo se seleccionan los controles del panel de pestañas.

		- Suelte la tecla Ctrl.




2. Mueva uno de los controles seleccionados hacia abajo.  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%20Rech%20-%20HC%20N%B0008.jpg&type=thumb)




- Para crear el control de búsqueda:

	1. Cree un control Combo Box: en la pestaña "Creación", en el grupo "Controles frecuentes", haga clic en "Combo Box".

	2. Haga clic en la pestaña "Find customers" y ubique el control entre la pestaña y el control "Customer ID".

	3. El asistente de creación de controles Combo Box aparece. Vamos a crear un control Combo Box basado en el archivo de datos "Customer". 

	4. Seleccione la opción "Mostrar datos de un archivo o una consulta existente". <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%20Rech%20-%20HC%20N%B0009.jpg&type=thumb)
Pase a la etapa siguiente del asistente.

	5. Seleccione el archivo de datos "Customer". Pase a la etapa siguiente.

	6. Vamos a mostrar el nombre y los apellidos del cliente. 

		- Deseleccione el campo "CustomerID".

		- Seleccione el campo "FullName".  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%20Rech%20-%20HC%20N%B0010.jpg&type=thumb)







- Para crear el control Botón que permitirá buscar clientes: 

	1. Cree un control Botón: en la pestaña "Creación", en el grupo "Controles frecuentes", haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Bouton_GAF.jpg).

	2. Ubique el control Botón al lado del Combo Box que acaba de crear.

	3. Defina el nombre "BTN_ExactMatchSearch" y el título "Exact-match search" para este control.

	4. Si es necesario, ajuste el tamaño del control para que el título se muestre correctamente.

	5. Introduzca el siguiente código WLanguage en el evento "Clic" del control:
			
		```wl
		// Finds the customer by identifier 
		Customer.ReadSeekFirst(CustomerID, COMBO_Customer) 
		IF Customer.Found() THEN
			// Displays the customer data
			Customer.ToWindow()
		END
		```


	6. Analicemos este código WLanguage:

		- La función [&lt;Archivo de datos&gt;.ReadSeekFirst](../WDLang4/1000025034.md) permite realizar una búsqueda exacta. En este ejemplo, la búsqueda se realiza en el archivo de datos Customer y en el campo CustomerID. El valor buscado es el último parámetro de la función. En este caso, el valor buscado corresponde al valor seleccionado en el Combo Box. Este valor se obtiene utilizando directamente el nombre del control Combo Box (COMBO_Customer).

		- La función [&lt;Archivo de datos&gt;.Found](../WDLang4/1000025076.md) permite probar el resultado de la búsqueda. Si la función [&lt;Archivo de datos&gt;.Found](../WDLang4/1000025076.md) devuelve <u><u><u><u>True</u></u></u></u>, se encontró un valor, si la función [&lt;Archivo de datos&gt;.Found](../WDLang4/1000025076.md) devuelve <u><u><u><u>False</u></u></u></u>, no se encontró ningún valor. Siempre que se encuentra un registro se lee y se convierte en el registro actual del archivo de datos.

		- En este código, si se encontró el registro, se muestra con la función [&lt;Archivo de datos&gt;.ToWindow](../WDLang4/1000021397.md).
						|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=note.png) | Nota | [&lt;Archivo de datos&gt;.ToWindow](../WDLang4/1000021397.md) y [ScreenToFile](../WDLang4/3044146.md) realizan la operación inversa: los datos de los campos del archivo de datos se muestran en los controles correspondientes. |








7. Cierre el editor de código.

8. Guarde la ventana (Ctrl + S).




- Hagamos una prueba de la ventana:

	1. Pruebe la ventana (haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_GO_Fenetre_WD_GAF.jpg) en los botones de acceso rápido).

	2. Haga clic en la pestaña "Find customers", si es necesario.

	3. Seleccione un valor en el control Combo Box y haga clic en "Exact-match search".  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%20Rech%20-%20HC%20N%B0014.jpg&type=thumb)


	4. El resultado aparece inmediatamente.

5. Cierre la ventana de prueba para volver al editor.



<a name="NOTE4_4"></a>


### Búsqueda genérica
<a name="busqueda_generica_ELTPARAGRAPHE000371"></a>

Ahora vamos a realizar una búsqueda genérica. En lugar de buscar un valor exacto, buscaremos todos los elementos que empiecen por el valor introducido.

Para realizar esta búsqueda, crearemos un control Campo de entrada para escribir el nombre que queremos buscar, y un control Botón para lanzar la búsqueda.

- Para crear el control de búsqueda:

	1. Vaya a la pestaña "Find customers" de la ventana "WIN_Menu" en el editor.

	2. Cree un control Campo de entrada: en la pestaña "Creación", en el grupo "Controles frecuentes", haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Saisie_GAF.jpg).

	3. En la ventana, haga clic debajo del control Combo Box ("Sought customer"). El control Campo de entrada se crea.

	4. Defina el nombre "EDT_Sought_Name" y el título "Sought name" para este control.







- Para crear el control Botón que permite iniciar la búsqueda genérica:

	1. Cree un control Botón: en la pestaña "Creación", en el grupo "Controles frecuentes", haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Bouton_GAF.jpg).

	2. Ubique el control al lado del Campo de entrada que acaba de crear.  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%20Rech%20-%20HC%20N%B0017.jpg&type=thumb)


	3. Defina el nombre "BTN_GenericSearch" y el título "Generic search" para este control.

4. Si es necesario, ajuste el tamaño del control para que el título se muestre correctamente.

5. Introduzca el siguiente código WLanguage en el evento "Clic" del botón:
			
		```wl
		// Finds a customer by name
		Customer.ReadSeek(FullName, EDT_Sought_Name)
		IF Customer.Found() THEN
			// Displays the customer data
			Customer.ToWindow()
		ELSE
			Error("No customer matches")
		END
		```

			La función [&lt;Archivo de datos&gt;.ReadSeek](../WDLang4/1000025023.md) permite realizar una búsqueda genérica. En este ejemplo, la búsqueda se realiza en el archivo de datos "Customer" y en el campo "FullName". El valor buscado corresponde al valor introducido en el control "EDT_Sought_Name". Este valor se obtiene utilizando directamente el nombre del control.
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=note.png) | Nota | Para realizar una búsqueda exacta, llame a la función [&lt;Archivo de datos&gt;.ReadSeek](../WDLang4/1000025023.md): para ello, debe utilizar la constante **hIdentical**. |





6. Cierre la ventana de código.

7. Guarde la ventana (Ctrl + S).




- Hagamos una prueba de la ventana:

	1. Pruebe la ventana (haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_GO_Fenetre_WD_GAF.jpg) en los botones de acceso rápido).

	2. Haga clic en la pestaña "Find customers", si es necesario.

	3. Introduzca un valor en el control Campo de entrada (por ejemplo "BEEF") y haga clic en "Generic search".  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%20Rech%20-%20HC%20N%B0015.jpg&type=thumb)


	4. El resultado aparece inmediatamente. Sin embargo, si varios registros corresponden a la búsqueda, solo se muestra el primero.

5. Detenga la prueba y vuelva al editor.



<a name="NOTE4_5"></a>


### Navegar por los formularios
<a name="navegar_por_los_formularios_ELTPARAGRAPHE000443"></a>

Vamos a agregar cuatro controles Botón para navegar por los registros del archivo de datos "Customer". Estos controles son de tipo "botones de navegación". <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%20Rech%20-%20HC%20N%B0017%201.jpg)
Estos controles le permitirán: 

- navegar por los registros del archivo de datos,

- navegar por todos los registros que corresponden a una búsqueda genérica. 


Cada botón tiene un ícono que permite mostrar:

- el primer registro,

- el registro anterior,

- el siguiente registro,

- el último registro.




- Para crear el control Botón que permite mostrar el primer registro del archivo de datos:

	1. Vaya a la pestaña "Find customers" del control Pestaña.

	2. En la pestaña "Creación", en el grupo "Controles frecuentes", haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Bouton_GAF.jpg).

	3. La forma del control aparece bajo el cursor. A continuación, haga clic en el panel de pestañas, debajo del botón "Generic search". El control Botón se crea automáticamente.







- Las plantillas permiten dar un mismo aspecto a las ventanas de un proyecto. Además, definen el estilo de todos los controles de las ventanas. Cada botón de tipo navegación tiene un estilo específico definido. Para aplicar este estilo:

	1. Seleccione el control Botón.

	2. Haga clic derecho para abrir el menú contextual y elija "Seleccionar un estilo". 

	3. Todos los estilos definidos para los botones se muestran en la ventana que aparece. <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Application%20compl%E8te%20-%20Rech%20-%20HC%20N%B0016.jpg&type=thumb)
Seleccione "BTN_First".

	4. Valide.







- Cambie el nombre del control Botón: 

	1. Abra la ventana de descripción del control:

		- Seleccione el control Botón.

		- Haga clic derecho para abrir el menú contextual y seleccione la opción "Descripción".




2. Defina el nombre "BTN_First" para este control.

3. Valide la ventana de descripción.




- Ahora vamos a escribir el código WLanguage asociado a este control:

	1. Haga clic derecho en el control. Seleccione "Código" en el menú que aparece.

	2. En la ventana de código que aparece, escriba el siguiente código WLanguage en el evento "Clic":
			
		```wl
		// Reads the first customer
		Customer.ReadFirst()
		IF Customer.Out() THEN
			// No customer
			Info("No form to view.")
		ELSE
			// Displays the customer data
			Customer.ToWindow()
		END
		```
La función [&lt;Archivo de datos&gt;.ReadFirst](../WDLang4/1000025022.md) permite leer el primer registro del archivo de datos según la clave utilizada en la última búsqueda (FullName en este caso).







- Siguiendo los mismos pasos, cree 3 nuevos controles Botón.

	- Defina los siguientes nombres para estos controles: "BTN_Previous", "BTN_Next" y "BTN_Last".

	- Asocie los controles con los siguientes estilos: "BTN_Previous", "BTN_Next" y "BTN_Last".

	- El código WLanguage del evento "Clic" del botón "BTN_Previous" es el siguiente:
			
		```wl
		// If no search is in progress
		IF Customer.Out() THEN
			// Reads the last customer
			Customer.ReadLast()
		END
		
		// Reads the previous customer
		Customer.ReadPrevious()
		// If the start of the data file is reached
		IF Customer.Out() THEN
			Info ("Start of data file reached.")
		ELSE
			// Displays the customer data
			Customer.ToWindow()
		END
		```


	- El código WLanguage del evento "Clic" del botón "BTN_Next" es el siguiente:
			
		```wl
		// If no search is in progress
		IF Customer.Out() THEN
			// Reads the first customer
			Customer.ReadFirst()
		END
		
		// Reads the next customer
		Customer.ReadNext()
		// If the end of the data file is reached
		IF Customer.Out() THEN
			Info("End of data file reached.")
		ELSE
			// Displays the customer data
			Customer.ToWindow()
		END
		```


	- El código WLanguage del evento "Clic" del botón "BTN_Last" es el siguiente:
			
		```wl
		// Reads the last customer
		Customer.ReadLast()
		IF Customer.Out() THEN
			// No customer
			Info("No form to view.")
		ELSE
			// Displays the customer data
			Customer.ToWindow()
		END
		```



En estos códigos:

- La función [&lt;Archivo de datos &gt;.ReadLast](../WDLang4/1000025020.md) lee el último registro del archivo de datos según la clave utilizada en la última búsqueda.

- La función [&lt;Archivo de datos&gt;.ReadNext](../WDLang4/1000025035.md) lee el registro con el valor de clave inmediatamente superior al registro actual.

- La función [&lt;Archivo de datos&gt;.ReadPrevious](../WDLang4/1000025021.md) lee el registro con el valor de clave inmediatamente inferior al registro actual.


|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=note.png) | Nota | El código de los controles "Next" y "Previous" contiene líneas de código adicionales que permiten: <br><br>- Comprobar si ya se ha realizado una búsqueda en el archivo de datos Customer (resultado de la función [&lt;Archivo de datos&gt;.Out](../WDLang4/1000024605.md) para saber si ya se ha iniciado la lectura del archivo de datos).<br><br>- Leer el primer o último registro, si es necesario. Para leer el registro anterior o siguiente, se debe haber iniciado una lectura en el archivo de datos.  <br><br><br> |







- Guarde la ventana haciendo clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Enregistrer_GAF.jpg) en los botones de acceso rápido.



<a name="NOTE4_6"></a>


### Prueba de la ventana
<a name="prueba_ventana_ELTPARAGRAPHE000559"></a>

- Hagamos una prueba de la ventana:

	1. Pruebe la ventana (haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_GO_Fenetre_WD_GAF.jpg) en los botones de acceso rápido).

	2. Haga clic en la pestaña "Find customers", si es necesario.

	3. Busque un cliente (introduzca "BEEF" e inicie una búsqueda genérica, por ejemplo).

	4. Navegue por el archivo de datos haciendo clic en cada uno de los botones de navegación.

	5. Detenga la prueba para volver al editor.









| [Lección anterior](../TutoWD/1410087532.md) | [Tabla de contenido](../TutoWD/1410087560.md) | [Siguiente lección](../TutoWD/1410087534.md) |
| --- | --- | --- |




