
## Lección 4.15. Gestionar varios idiomas
<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Esta lección abarcará los siguientes temas
<a name="esta_leccion_abarcara_los_siguientes_temas_ELTTEXTE000549"></a>


- ¿Qué es una aplicación multilingüe?

- Crear una aplicación multilingüe, paso a paso. 





|   |   |
| --- | --- |
| <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=dur%E9e.png)<br> | <br>Tiempo estimado: 20 min |



| [Lección anterior](../TutoWD/1410087529.md) | [Tabla de contenido](../TutoWD/1410087560.md) | [Siguiente lección](../TutoWD/1410087531.md) |
| --- | --- | --- |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## ¿Qué es una aplicación multilingüe?
<a name="¿que_una_aplicacion_multilingue_ELTTEXTE000596"></a>
Una aplicación multilingüe es una aplicación que puede ejecutarse en diferentes idiomas (español, inglés, francés, alemán u otro).

Es decir, la misma aplicación se puede utilizar en varios idiomas. Veremos cómo hacerlo en esta lección.

Vamos a usar un proyecto que puede ejecutarse en inglés o francés, según la decisión del usuario.

Las principales etapas para crear una aplicación multilingüe son las siguientes:

- Seleccionar los idiomas del proyecto.

- Internacionalización del análisis.

- Internacionalización de los elementos del proyecto (ventanas, reportes, controles, sistema de ayuda, etc.). 

- Internacionalizar los mensajes en el código.

- Cambiar el idioma de la aplicación mediante programación.


Seguiremos estas etapas en el proyecto "WD Full Application". Este proyecto está en inglés y se traducirá al francés.



- Abra de nuevo el proyecto en el que trabajó en la lección anterior. 

	1. Vaya a la página de inicio de WINDEV (Ctrl + &lt;).

	2. En la página de inicio, haga clic en "Tutorial", luego en "Part 4 - Full application with data" haga doble clic en "Full application - Exercise".

	3. Un cuadro de diálogo le pide que abra el proyecto en el que trabajó en la lección anterior. Puede abrir la copia local o el proyecto original. Seleccione "Abrir la copia local". 





|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=exemple-WD.png) | Corregido | Hay un proyecto completado disponible. Este proyecto le permite realizar las diferentes operaciones de esta lección (si no ha seguido las lecciones anteriores). Para abrir el proyecto completado, vaya a la página de inicio y haga clic en "Tutorial", luego en "Part 4 - Full application with data", haga doble clic en "Full application - Answers". |





<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Seleccionar los idiomas del proyecto
<a name="seleccionar_los_idiomas_del_proyecto_ELTTEXTE000638"></a>


- Primero, seleccionaremos los idiomas del proyecto.

	1. Abra la descripción del proyecto: en la pestaña "Proyecto", en el grupo "Proyecto", haga clic en "Descripción".

	2. Haga clic en la pestaña "Idiomas". Los idiomas de esta aplicación serán inglés y francés.

	3. Haga clic en "Agregar". La ventana de selección de idiomas se abre.  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Multilingue%20-%20HC%20N%B0001.jpg&type=thumb)


	4. Haga clic en "Francés". A la derecha del idioma aparece una marca de verificación.

5. Valide. El idioma "Francés" aparece en la lista de idiomas del proyecto.




- La pestaña "Idiomas" también permite establecer las opciones de idioma de los números, divisas o fechas del idioma seleccionado. Veamos un ejemplo:

	1. Haga clic en "Francés".

	2. Seleccione la pestaña "Fecha".

	3. De forma predeterminada, se utilizan las opciones de idioma de Windows. Seleccione la opción "Utilizar los siguientes parámetros" para definir el formato de la fecha y la traducción de los días y meses.

	4. Conserve la opción "Utilizar la configuración definida en las opciones de idioma del sistema operativo".  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Multilingue%20-%20HC%20N%B0002.jpg&type=thumb)






|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=note.png) | Nota | En las opciones de idioma, puede elegir la dirección del texto (pestaña "Varios", opción "Dirección de escritura"). Esto le permite crear interfaces con un idioma escrito de derecha a izquierda. |







- Valide. Un mensaje le pide que sincronice los diferentes elementos del proyecto. Responda "Sí". Todos los elementos del proyecto abiertos en el editor (ventanas, reportes, etc.) se cierran y los idiomas adicionales se agregan a estos elementos.
	Observación: Los títulos que existen en el idioma de origen del proyecto se copian automáticamente a los idiomas agregados. 




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Internacionalización del análisis
<a name="internacionalizacion_del_analisis_ELTTEXTE000680"></a>
De forma predeterminada, un análisis se crea en un idioma específico y no se puede traducir.

Sin embargo, alguna información puede introducirse en varios idiomas (notas de la documentación, información compartida, etc.). 

Si la aplicación utiliza Reports and Queries, también se pueden traducir los nombres de los archivos de datos y de los campos. Esta traducción se puede hacer en la pestaña "Reports and Queries" (disponible en la ventana de descripción del archivo de datos y en la ventana de descripción de los campos).

De forma predeterminada, los controles creados a partir de los campos del análisis tienen el texto del campo especificado en el análisis. Si se especificó un título en la información compartida del campo, este se utilizará al crear el control.

Cuando se cambia el idioma del proyecto relacionado con el análisis, este cambio no se aplica automáticamente al análisis, dado que los análisis pueden estar compartidos entre varios proyectos.



- Para utilizar varios idiomas en un análisis:

	1. Abra el editor de análisis: haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_Analyse_GAF.jpg) en los botones de acceso rápido del menú de WINDEV. 

	2. En la descripción del análisis (opción "Descripción del análisis" del menú contextual), seleccione la pestaña "Idioma".

	3. La lista de idiomas del análisis se muestra en pantalla. El idioma francés no aparece en la lista:

		- Haga clic en el botón "Agregar".

		- Seleccione "Francés".

		- Valide la ventana de selección de idiomas.  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Multilingue%20-%20HC%20N%B0003.jpg&type=thumb)







- Veamos un ejemplo sencillo de cómo introducir información compartida en varios idiomas: vamos a definir el título del control enlazado al campo "Address" del archivo de datos "Customer":

	1. Seleccione el archivo de datos Customer.

	2. Abra la descripción de los campos (seleccione "Descripción de los campos" en el menú contextual del archivo de datos).

	3. Seleccione el campo "Address" y abra los parámetros del control enlazado al campo seleccionado (información compartida). Para ello, haga clic en el enlace en la parte inferior de la pantalla. La información compartida se muestra en una nueva ventana. 

	4. En la pestaña "General", en el título francés, introduzca "Adresse". 
			<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Multilingue%20-%20HC%20N%B0004.jpg&type=thumb)


	5. Valide la ventana de información compartida.

6. Valide la ventana de descripción de los campos. 
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=note.png) | Nota | La información compartida del análisis se puede traducir:<br><br>		- al crear el análisis.<br><br>		- en cualquier momento a través del editor.<br><br>		- en cualquier momento a través de WDMSG y WDTRAD, herramientas utilizadas para extraer, traducir y reintegrar los diferentes elementos del proyecto.<br><br><br> |








- Para tener en cuenta los cambios, debe generar el análisis: en la pestaña "Análisis", en el grupo "Análisis", haga clic en "Generación".




- Cierre el editor de análisis (haga clic en la "X" del análisis en las pestañas de documentos abiertos). 




<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Internacionalizar los elementos del proyecto
<a name="internacionalizar_los_elementos_del_proyecto_ELTTEXTE000740"></a>
Todos los elementos del proyecto pueden ser multilingües: ventanas, reportes, ayuda, etc.

Vamos a modificar algunos elementos de la ventana WIN_Menu para ver los diferentes métodos que se pueden utilizar.

Vamos a modificar:

- la imagen de la barra de la ventana WIN_Menu.

- el texto de los controles de la ventana WIN_Menu.

- las opciones de menú.

- el mensaje que muestra el código WLanguage al cerrar la aplicación.




- Abra la ventana "WIN_Menu" en el editor (haga doble clic en ella en el panel "Explorador de proyectos", por ejemplo).




- Primero, compruebe si la ventana WIN_Menu está asociada a los diferentes idiomas definidos en el proyecto:

	1. Abra la descripción de la ventana (opción "Descripción" del menú contextual).

	2. Seleccione la pestaña "Idioma": los dos idiomas seleccionados en el proyecto aparecen.  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Multilingue%20-%20HC%20N%B0005.jpg&type=thumb)


	3. Valide la ventana. 



<a name="NOTE5_2"></a>


### Internacionalizar una imagen
<a name="internacionalizar_una_imagen_ELTPARAGRAPHE000195"></a>

- Para cambiar la imagen de la barra de la ventana WIN_Menu según el idioma de ejecución:

	1. Abra la ventana "WIN_Menu.WDW".

	2. La imagen de la barra se encuentra en el modelo asociado a la ventana. Por lo tanto, es necesario abrir el modelo de ventanas asociado:

		- Haga clic en el control "WD FullApplication" y abra el menú contextual.

		- Seleccione la opción "Abrir modelo".  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Multilingue%20-%20HC%20N%B0006.jpg)


		- El modelo de ventanas se abre con un marco naranja.

3. Abra la ventana de descripción de la barra:

	- Seleccione el control "WD FullApplication" y abra el menú contextual.

	- Seleccione "Descripción".



<a name="NOTE5_3"></a>


### Internacionalizar los controles
<a name="internacionalizar_los_controles_ELTPARAGRAPHE000237"></a>

Un control puede mostrar diferente información al usuario:

- un título,

- un mensaje de ayuda,

- una imagen, etc.


Algunas veces es necesario traducir esta información. Puede acceder a ella en las diferentes pestañas de la ventana de descripción del control.



- En este ejemplo, vamos a traducir la primera pestaña del control Pestaña.

	1. Haga doble clic en el control Pestaña para abrir la ventana de descripción.

	2. En la pestaña "General" de la ventana de descripción, seleccione "List of products".

	3. En la sección "Descripción de una pestaña estática", realice las siguientes acciones:

		- introduzca la traducción del texto de la pestaña: "Liste des produits".

		- defina una imagen específica para la pestaña por cada idioma (como se hizo anteriormente).

		- defina un tooltip (globo de ayuda) para cada idioma.




4. Cierre la ventana de descripción del control.



<a name="NOTE5_4"></a>


### Internacionalizar los mensajes del código
<a name="internacionalizar_los_mensajes_del_codigo_ELTPARAGRAPHE000262"></a>

Todos los mensajes de su programa pueden traducirse a varios idiomas. En nuestro ejemplo, al hacer clic en la opción de menú "Exit", aparece el cuadro de diálogo "Exit application?". Vamos a traducir este mensaje.



- Para traducir el texto de la opción de menú:

	1. Abra el código de la opción de menú:

		- Despliegue el menú en el editor.

		- Seleccione la opción "Exit".

		- Haga clic derecho para abrir el menú contextual y seleccione "Código".  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Multilingue%20-%20HC%20N%B0008.jpg)






<a name="NOTE5_5"></a>


### Internacionalización de los menús
<a name="internacionalizacion_los_menus_ELTPARAGRAPHE000303"></a>

Una opción de menú puede traducirse como cualquier otro control a través de su ventana de descripción, o directamente desde el editor de ventanas.



- Para traducir el menú de la ventana "WIN_Menu":

	1. En la pestaña "Vista", en el grupo "Opciones", despliegue "Idioma mostrado" y seleccione el idioma que desea que se muestre en el editor (Francés en este caso).

	2. Las opciones de menú se muestran en el idioma seleccionado. Si ninguna traducción corresponde al idioma seleccionado, las opciones del menú se muestran en inglés.

	3. Despliegue la opción "Menu".

	4. Seleccione "Send an email".

	5. Pulse la barra espaciadora: el texto pasa a modo de edición.

	6. Introduzca el siguiente texto en francés: "Envoyer un email" y valide.

	7. Vuelva a cambiar el idioma a inglés: en la pestaña "Vista", en el grupo "Opciones", despliegue "Idioma mostrado" y seleccione "Inglés".







<a name="NOTE6"></a>
<a name="NOTE6_1"></a>


## Herramientas de traducción
<a name="herramientas_traduccion_ELTTEXTE000788"></a>
Hemos traducido manualmente algunos elementos de la aplicación.

Sin embargo, WINDEV ofrece varios métodos de traducción:

- traducir los mensajes directamente en los editores. Esta traducción se puede realizar utilizando una herramienta de traducción, como Google Translate (si tiene una licencia),

- traducir los mensajes con una herramienta externa (WDMSG y WDTRAD).



<a name="NOTE6_2"></a>


### Introducir las traducciones directamente
<a name="introducir_las_traducciones_directamente_ELTPARAGRAPHE000357"></a>

Las traducciones se pueden introducir directamente en la interfaz. Por ejemplo, el texto del botón "New" se puede traducir por "Nouveau" en francés. Para ello, abra la ventana de descripción del control e introduzca la traducción correspondiente.

Si desea utilizar un software o un sitio de traducción, WINDEV se puede configurar para utilizar el sistema de traducción deseado:

1. En la pestaña "Inicio", en el grupo "Entorno", despliegue "Opciones" y seleccione "Opciones generales de WINDEV".

2. Vaya a la pestaña "Traducción".  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Multilingue%20-%20HC%20N%B0011.jpg&type=thumb)


3. Especifique:

	- Si los parámetros regionales deben activarse automáticamente según el idioma de entrada. En este caso, si el idioma requiere un conjunto de caracteres específico, este se seleccionará automáticamente.

	- El software o sitio de traducción que se va a utilizar. Puede utilizar WDDIXIO, un diccionario de traducción incluido en WDMSG (véase el párrafo siguiente), un software o sitio de traducción específico, o Google Translate. 
			

	- Los idiomas del proyecto (por ejemplo, "inglés" como idioma de origen y "francés" como idioma de destino).




4. Valide. 

5. Una vez definidos los ajustes de traducción, puede utilizar el botón ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Multilingue%20-%20HC%20N%B0004%201.jpg) en las diferentes ventanas de descripción de los elementos del proyecto: este botón le permite utilizar el programa de traducción.



<a name="NOTE6_3"></a>


### Traducción con WDMSG y WDTRAD
<a name="traduccion_con_wdmsg_wdtrad_ELTPARAGRAPHE000401"></a>

Puede usar **WDMSG**, una herramienta (no proporcionada con WINDEV) que permite:

- extraer todos los mensajes del proyecto (títulos de controles, mensaje de código, títulos de ventanas, etc.) para traducirlos,

- reintegrar los mensajes traducidos.


Los mensajes a traducir se extraen:

- en un formato de texto que se puede configurar para utilizarse con diferentes herramientas de traducción.

- en formato HFSQL.


WDMSG también incluye WDTRAD, una herramienta de traducción asistida. WDTRAD permite introducir fácilmente todas las traducciones de los recursos multilingües de un proyecto.

Póngase en contacto con el Departamento de ventas de PC SOFT para obtener más información sobre **WDMSG** y **WDTRAD**.
<a name="NOTE6_4"></a>


### Otros elementos a traducir: mensajes del framework
<a name="otros_elementos_traducir_mensajes_del_framework_ELTPARAGRAPHE000420"></a>

El framework de WINDEV contiene varios mensajes. Por ejemplo, los días y meses utilizados por las funciones de fechas provienen del framework de WINDEV. Para traducir una o más bibliotecas del framework, utilice WDINT (no incluido con WINDEV).

Este programa permite obtener un archivo WDM. Para usar este archivo en la aplicación:

- utilice la función [LoadError](../WDLang1/3054003.md).

- agregue el archivo en la pestaña "Idiomas" de la descripción del proyecto. Seleccione el idioma deseado, y luego vaya a la pestaña "Varios".  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Multilingue%20-%20HC%20N%B0012.jpg&type=thumb)



Póngase en contacto con el Departamento de ventas de PC SOFT para obtener más información sobre WDINT.

<a name="NOTE7"></a>
<a name="NOTE7_1"></a>


## Cambiar el idioma mediante programación
<a name="cambiar_idioma_mediante_programacion_ELTTEXTE000830"></a>
De forma predeterminada, el proyecto se ejecuta en el idioma de ejecución definido en la pestaña "Idiomas" de la descripción del proyecto (opción "Descripción" en la pestaña "Proyecto").

En una aplicación, el idioma se puede seleccionar mediante una opción de menú. Puede cambiar el idioma de la aplicación en ejecución llamando a la función [Nation](../WDLang1/3054014.md) en el evento asociado a la opción de menú.
<a name="NOTE7_2"></a>


### Agregar una opción de menú
<a name="agregar_una_opcion_menu_ELTPARAGRAPHE000454"></a>

- Para agregar una opción de menú:

	1. Abra la ventana "WIN_Menu" en el editor si es necesario (haga doble clic en ella en el panel "Explorador de proyectos").

	2. Haga clic en la opción "Menu" de la ventana. El menú se despliega.

	3. Seleccione "Send an email".

	4. Haga clic derecho para abrir el menú contextual. Seleccione la opción "Agregar después". Introduzca el texto "Languages" y valide.

	5. Seleccione la opción "Languages" que acaba de crear.

	6. Haga clic derecho para abrir el menú contextual y seleccione la opción "Transformar para expandir un submenú".

	7. Introduzca el texto de la primera subopción: "English".

	8. Presione dos veces la tecla "Entrar" e introduzca el texto de la segunda opción ("French").





Vamos a escribir el código WLanguage para cambiar el idioma.
<a name="NOTE7_3"></a>


### Programación
<a name="programacion_ELTPARAGRAPHE000472"></a>

Para introducir el código de gestión de los idiomas:

1. Seleccione la opción "Menu .. Languages .. French" en el editor.

2. Haga clic derecho para abrir el menú contextual. Seleccione "Código".

3. Introduzca el siguiente código:
	
	```wl
	Nation(nationEnglish)
	```


4. Guarde los cambios y cierre el editor de código. 

5. Seleccione la opción "Menu .. Languages .. English" en el editor.

6. Haga clic derecho para abrir el menú contextual. Seleccione "Código".

7. Introduzca el siguiente código:
	
	```wl
	Nation(nationFrench)
	```
La función [Nation](../WDLang1/3054014.md) cambia el idioma de ejecución de la aplicación. Las constantes pasadas como parámetros especifican el idioma que se va a utilizar.
	La función [Nation](../WDLang1/3054014.md) cambia el idioma inmediatamente.

8. Guarde los cambios y cierre el editor de código.  



<a name="NOTE7_4"></a>


### Prueba del proyecto
<a name="prueba_del_proyecto_ELTPARAGRAPHE000501"></a>

Hemos traducido algunos elementos de la aplicación. Ahora, vamos a cambiar el idioma en modo de prueba.



- Para probar la aplicación:

	1. Pruebe el proyecto (haga clic en ![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=ICO_GO_Projet_WD_GAF.jpg) en los botones de acceso rápido). La ventana se muestra en modo de prueba en inglés.

	2. Seleccione la opción "Menu .. Languages .. French".

	3. Los elementos que modificamos en la aplicación se muestran en francés:  <br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=P4_Multilingue%20-%20HC%20N%B0013.jpg&type=thumb)


		- la imagen del modelo de ventana. 

- la primera pestaña. 

4. Finalice la prueba seleccionando "Menu .. Exit". El mensaje aparece en francés. 

5. Valide y vuelva al editor.




| [Lección anterior](../TutoWD/1410087529.md) | [Tabla de contenido](../TutoWD/1410087560.md) | [Siguiente lección](../TutoWD/1410087531.md) |
| --- | --- | --- |




