


## HSave (Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Modifica el registro actual si existe, si no existe, agrega un nuevo registro.


<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
ScreenToFile(Customer)
HSave(Customer)
```

<a name="XSYNTAX"></a>

## Sintaxis
<a name="SYNTAX1"></a>

`<Result> = HSave([<Data file> [, <Options>]])`
---

**`<Result>: (Booleano)`**



- <u><u><u><u>True</u></u></u></u> si se realizó la adición o modificación,

- <u><u><u><u>False</u></u></u></u> si se produce un error.




**`<Data file>: (Cadena de caracteres opcional)`**

Nombre del archivo de datos, vista o consulta utilizada. Si no se especifica este nombre, la función **HSave** utilizará el último archivo de datos utilizado por la última función HFSQL (que empieza por "H").

**`<Options>: (Constante opcional de tipo Integer)`**

Permite configurar:

- el efecto de la adición o modificación de registros en la navegación actual.

- el modo de cálculo del identificador automático. Para obtener más información, consulte [Gestión del identificador automático al agregar un registro](../WDLang4/3044183.md).

- el modo de bloqueo del registro agregado o modificado.

- la gestión de duplicados.

- la gestión de la integridad.


![Hyper File 5.5](https://doc.pcsoft.fr/ext/images/us/HF55.png) Este parámetro no se tiene en cuenta.


|   |   |
| --- | --- |
| *hAffectBrowse* | **Efecto al agregar o modificar registros en la navegación**: La adición o modificación de registros afecta la navegación. <br>Por ejemplo, al utilizar la función [HReadNext](../WDLang4/3044037.md) después de la función **HSave**, se establece la posición en el registro que se encuentra después del registro agregado/modificado.<br>La constante *hAffectBrowse* tiene prioridad sobre la constante *hWriteDefault*. |
| *hCheckDuplicates* | **Modo de gestión de duplicados**: Verifica los duplicados en esta operación, incluso si la verificación de duplicados está desactivada (función [HSetDuplicates](../WDLang4/3044057.md)).<br>Si se utilizan las constantes *hIgnoreDuplicates* y *hCheckDuplicates* al mismo tiempo, se produce un error WLanguage.<br>![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Acceso con JDBC: Esta constante no está disponible. |
| *hCheckIntegrity* | **Modo de gestión de la integridad**: Verifica la integridad de la operación, incluso si la verificación automática de la integridad está desactivada (función [HSetIntegrity](../WDLang4/3044058.md)).<br>Si se utilizan las constantes *hIgnoreIntegrity* y *hCheckIntegrity* al mismo tiempo, se produce un error WLanguage.<br>![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Acceso con JDBC: Esta constante no está disponible. |
| *hForceIdAuto* | **Modo de cálculo del identificador automático**: El identificador automático no se calcula al agregar registros. El identificador corresponde a:<br><br>- el valor asignado al elemento mediante programación (por ejemplo, CUSTOMERID = 7)<br><br>- el valor predeterminado del identificador que se especificó en el editor de análisis (si el archivo de datos acaba de abrirse, sin que se haya leído ningún registro)<br><br>- el valor del identificador en la memoria (valor del identificador del último registro leído en el archivo de datos).<br><br><br>Después de agregar el registro, se calculará el siguiente identificador automático calculado por el motor HFSQL, sin tener en cuenta el valor agregado con *hForceIdAuto*.<br>Si se utilizan las constantes *hSetIdAuto* y *hForceIdAuto* al mismo tiempo, se produce un error WLanguage. |
| *hIgnoreDuplicates* | **Modo de gestión de duplicados**: No comprueba la existencia de duplicados para esta operación, incluso si la verificación automática de duplicados está activada (función [HSetDuplicates](../WDLang4/3044057.md)).<br>Si se utilizan las constantes *hIgnoreDuplicates* y *hCheckDuplicates* al mismo tiempo, se produce un error WLanguage.<br>![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Acceso con JDBC: Esta constante no está disponible. |
| *hIgnoreIntegrity* | **Modo de gestión de la integridad**: Ignora la verificación de la integridad en esta operación, incluso si la verificación automática de la integridad está activada (función [HSetIntegrity](../WDLang4/3044058.md)).<br>Si se utilizan las constantes *hIgnoreIntegrity* y *hCheckIntegrity* al mismo tiempo, se produce un error WLanguage.<br>![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Acceso con JDBC: Esta constante no está disponible. |
| *hLockNo* <br>(valor predeterminado) | **Modo de bloqueo del registro agregado o modificado**: Sin bloqeuo: el registro agregado o modificado no se bloqueará.<br>![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Acceso con JDBC: Esta constante no está disponible. |
| *hLockReadWrite* | **Modo de bloqueo del registro agregado o modificado**: Bloqueo de lectura/escritura: el registro agregado o modificado se bloqueará en modo de lectura y escritura. Este registro no puede ser leído ni modificado por otras aplicaciones. Solo la aplicación actual puede modificarlo, leerlo o desbloquearlo.<br>![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Acceso con JDBC: Esta constante no está disponible. |
| *hLockWrite* | **Modo de bloqueo del registro agregado o modificado**: Bloqueo de escritura: el registro agregado o modificado se bloqueará en modo de escritura. Otras aplicaciones pueden leer el registro pero no modificarlo. Solo la aplicación en curso podrá modificarlo o desbloquearlo.<br>![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Acceso con JDBC: Esta constante no está disponible. |
| *hRecalculateIdAuto* | **Modo de cálculo del identificador automático**: El identificador automático del registro se recalculará durante la escritura. Esta constante tiene prioridad sobre las constantes *hForceIdAuto* y *hSetIdAuto*.<br> |
| *hSetIdAuto* | **Modo de cálculo del identificador automático**: El identificador automático no se calcula al agregar registros: el valor del identificador será el que se almacena al agregar un registro. <br><u><u><u><u>El siguiente valor del identificador calculado por el motor HFSQL corresponderá al mayor valor del identificador en el archivo +1. </u></u></u></u><br>Si se utilizan las constantes *hSetIdAuto* y *hForceIdAuto* al mismo tiempo, se produce un error WLanguage. |
| *hWriteDefault*<br>(valor predeterminado) | **Efecto al agregar o modificar registros en la navegación**: La adición o modificación de registros no afecta la navegación. <br>Por ejemplo, al utilizar la función [HReadNext](../WDLang4/3044037.md) después de la función **HSave**, se establece la posición después del registro que estaba en curso antes de la adición/modificación.<br>La constante *hAffectBrowse* tiene prioridad sobre la constante *hWriteDefault*. |





<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


- Si la propiedad [NewRecord](../Proprietes/1000017090.md) se establece en <u><u><u><u>True</u></u></u></u>, la función **HSave** agrega el registro al archivo de datos (función [HAdd](../WDLang4/3044147.md)). Para obtener más información, consulte la documentación de [HAdd](../WDLang4/3044147.md). 

- Si la propiedad [NewRecord](../Proprietes/1000017090.md) se establece en <u><u><u><u>False</u></u></u></u>, la función **HSave** modifica el registro en el archivo de datos (función [HModify](../WDLang4/3044042.md)). Para obtener más información, consulte la documentación de [HModify](../WDLang4/3044042.md). 





## Clasificación Lógica de negocio / UI:
Lógica de negocio
## Componente:
wd280hf.dll
