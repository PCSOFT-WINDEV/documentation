
## Los desencadenantes
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Definition
<a name="definition_ELTTEXTE000152"></a>
Un disparador es un procedimiento WLanguage llamado automáticamente por el motor HFSQL cada vez que se realiza una modificación (adición, eliminación, modificación, ...) en un Record de un archivo de datos.

Se utiliza un trigger para asociar un WLanguage Process con una o más funciones HFSQL sin tener que preocuparse por la ubicación de estas funciones en el código. Los disparadores associated con las funciones HFSQL utilizadas se ejecutan incluso para las ventanas o para el código creado por un asistente.





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Uso de desencadenantes
<a name="uso_desencadenantes_ELTTEXTE000182"></a>


### Bases de datos relevantes
<a name="bases_datos_relevantes_ELTPARAGRAPHE000030"></a>

Los disparadores se pueden aplicar a todo tipo de archivos de datos:

- HFSQL Classic, 

- HFSQL Client/Server, 

- Conectores Nativos (Oracle, AS/400, etc.),

- ODBC, 

- OLE DB, ...



<a name="NOTE2_2"></a>


### HFSQL Classic y HFSQL Client/Server
<a name="hfsql_classic_hfsql_clientserver_ELTPARAGRAPHE000043"></a>

HFSQL Classic y HFSQL Client/Server permiten definir los activadores.

**En el modo HFSQL Classic**, los disparos se gestionan mediante programación a través de las funciones de WLanguage. Estos triggers se pueden utilizar en todas las bases de datos. Para obtener más información, consulte [Los desencadenantes](../WDLang4/3044271.md).

**En modo Servidor**se dispone de dos tipos de desencadenantes:

- Los disparadores se ejecutan en el cliente. Estos disparadores son equivalentes al modo Clásico y se manejan por programación.

- El servidor activa la ejecución en el servidor. Estos disparadores son associated con los procedimientos almacenados que se encuentran en el servidor. Estos disparadores se definen directamente en el análisis (para un uso avanzado, también pueden definirse y manejarse mediante programación). Para obtener más información, consulte [El servidor activa](../WDLang4/3044369.md).




**Observación: Triggers y roscas**: Si las funciones liberan desencadenantes en diferentes Thread s, el Procedure ejecutado en el desencadenante utiliza el contexto HFSQL correspondiente al de la función actual (un contexto HFSQL por Thread).
<a name="NOTE2_3"></a>


### Beneficios
<a name="beneficios_ELTPARAGRAPHE000065"></a>

El uso de un gatillo le permite hacerlo:

- Reducir el tamaño del código. Por ejemplo, el uso de un trigger permite agrupar los procesos associated con una o más funciones HFSQL (comprobación de duplicados, consistencia de datos, ...).

- Facilitar la lectura del código.

- Simplificar las evoluciones futuras de la aplicación.


**Atención**: Una modificación de archivo realizada a través de una consulta no activa los disparadores del cliente (*hModifyFile* constante utilizada en [HExecuteQuery](../WDLang4/3044080.md)).  

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Tipos de disparadores disponibles
<a name="tipos_disparadores_disponibles_ELTTEXTE000218"></a>
Hay dos tipos de disparadores disponibles: 

- Los disparadores "ANTES":
	Un trigger "BEFORE" se llama *antes* de ejecutar una función HFSQL ([HAdd](../WDLang4/3044147.md), [HModify](../WDLang4/3044042.md), [HDelete](../WDLang4/3044018.md), etc.) o una función para gestionar controles Tabla archivo de datos.
	Un disparador "ANTES" puede utilizarse, por ejemplo, para comprobar la coherencia de los datos de los artículos de un Record. Con este tipo de disparador, se puede inicializar un Variable HFSQL para cancelar la ejecución de la función HFSQL de associated.

- El"DESPUÉS" se activa:
	Un trigger "AFTER" se llama *después* de ejecutar una función HFSQL (excepto si se interrumpió el programa al ejecutar esta función) o una función para gestionar controles Tabla archivo de datos. 
	Un disparador "DESPUÉS" puede ser usado para manejar el Process de los errores por ejemplo.







