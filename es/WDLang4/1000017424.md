
## Servidor Spare
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000127"></a>
Un servidor "Spare" es un servidor de reserva en el que se realiza una replicación automática unidireccional. Es una forma de copia de seguridad casi en tiempo real.

Solo se puede acceder a este servidor en modo de lectura (excepto al momento de hacer la copia de seguridad automática).

La ventaja de un servidor Spare es la simpleza de la implementación de la infraestructura. A diferencia de una replicación, no es necesario que el archivo de datos (tabla) tenga un elemento de identificación automática de 8 bytes.

Si es necesario, el servidor Spare puede cambiar al modo "non-Spare" para tomar el relevo, por ejemplo, en caso de un fallo de disco en el servidor principal.

Es una manera sencilla de utilizar un servidor de reserva, además de la implementación de una replicación y un clúster.

También se pueden utilizar uno o más servidores de reserva para distribuir una carga de "solo lectura" (por ejemplo, catálogos de productos en varios servidores Web). 

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Implementar una replicación Spare
<a name="implementar_una_replicacion_spare_ELTTEXTE000151"></a>
La replicación Spare se puede realizar: 

- desde el Centro de Control HFSQL. Para obtener más información, consulte [Centro de Control HFSQL: implementar una replicación](../CCHF/3540002.md). 

- mediante programación mediante funciones WLanguage. Para obtener más información, consulte [Implementar una replicación mediante programación](../WDLang4/1000020587.md). 




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Características específicas
<a name="caracteristicas_especificas_ELTTEXTE000175"></a>
Los datos del servidor de reserva son de solo lectura. 

Cuando se realiza una replicación en modo Spare de todo un servidor, también se replican los siguientes elementos: 

- creación, modificación o eliminación de cuentas,

- creación de cuentas a través de Active Directory,

- creación, modificación, o eliminación de grupos,

- modificación de permisos,

- creación o eliminación de triggers,

- creación, activación, desactivación o eliminación de una tarea programada de un procedimiento,

- creación, activación, desactivación o eliminación de una tarea programada de optimización y cálculo de una vista materializada. 




Atención: 

- La creación de una tarea programada de copia de seguridad no se replica. Pero puede ser creado en el servidor de reserva. 

- La tarea programada de un procedimiento no se ejecuta en el servidor de reserva. 

- Los triggers no se ejecutan en el servidor de reserva. 

- Integridad y contraseña segura: Todos los archivos de datos con restricciones de integridad deben tener la misma contraseña para que la replicación tenga en cuenta la integridad de los archivos protegidos. De lo contrario, la replicación no se realizará. 




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Preguntas / Respuestas
<a name="preguntas_respuestas_ELTTEXTE000199"></a>


- Si el servidor Windows que aloja el servidor de reserva se reinicia, ¿puede recuperar los datos actualizados del servidor original mientras se reinicia? ¿Hay que apagar los otros servidores o negarles el acceso?
	En este caso, el servidor principal recibirá notificaciones mientras el servidor de reserva esté desconectado. En cuanto el servidor de reserva se reconecte, el servidor maestro enviará todos los datos y acciones realizadas. 




- Si la conexión entre los dos servidores se interrumpe, ¿cómo se sincronizan cuando se restablece la conexión?
	El servidor maestro almacena todos los datos y acciones hasta que puede conectarse con el servidor de reserva. Tan pronto como el servidor de reserva se reconecte, el servidor maestro enviará todos los datos y acciones para ser procesados.




- ¿Qué operaciones pueden hacer que falle la replicación del servidor de reserva? 
	Las siguientes operaciones pueden hacer que la replicación falle: 

	- Pérdida total y física del servidor de reserva (incendio, etc.).

	- Eliminación de la replicación de HFSQL control Center. 

	- Modificación programática de los parámetros en el archivo .ini hRSConfig. 








