
## HTransactionInterrupted (Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Permite saber si se interrumpió una transacción (la transacción no se validó, ni se canceló). Las características de la transacción interrumpida pueden conocerse con las variables HFSQL.

Le recomendamos llamar a esta función en el código de inicialización del proyecto. Si se interrumpe la transacción, es posible:

- ![HFSQL Classic](https://doc.pcsoft.fr/ext/images/us/HF.png) iniciar [WDTRANS](../WDTrans/3524005.md) o [WDOptimizer](../WDOptimiseur/3519002.md).

- ![HFSQL Client/Server](https://doc.pcsoft.fr/ext/images/us/HFCS.png) iniciar el Centro de Control HFSQL

- cancelar la transacción mediante programación.




![HFSQL Client/Server](https://doc.pcsoft.fr/ext/images/us/HFCS.png) Esta función es útil si se han interrumpido transacciones en archivos de datos protegidos por una contraseña.








<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
IF HTransactionInterrupted("") = True THEN
	HTransactionCancel()
END
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis

`<Result> = HTransactionInterrupted([<Transaction file>])`
---

**`<Result>: (Booleano)`**



- <u><u><u><u>True</u></u></u></u> si se interrumpió una transacción,

- <u><u><u><u>False</u></u></u></u> si no se interrumpió ninguna transacción. Las siguientes variables HFSQL se actualizan: 
	


|   |   |
| --- | --- |
| **H.TrsApplicationName** | Valor si se interrumpió la transacción: Nombre de la aplicación en el siguiente formato: Nombre de ejecutable(Nombre de proyecto).<br>Valor si no se interrumpió la transacción: Cadena vacía ("").<br>**Observación**: Esta variable solo está disponible en modo HFSQL Client/Server. |
| **H.TrsInternalID** | Valor si se interrumpió la transacción: Número interno utilizado para identificar la transacción. <br>Valor si no se interrumpió la transacción: -1 |
| **H.TrsMachineName** | Valor si se interrumpió la transacción: Nombre del equipo cliente y dirección IP del equipo cliente.<br>Valor si no se interrumpió la transacción: Cadena vacía ("").<br>**Observación**: Esta variable solo está disponible en modo HFSQL Client/Server. |
| **H.TrsPost** | Valor si se interrumpió la transacción: Identificador definido por la función [HComputer](../WDLang4/3044111.md) o nombre del equipo desde el que se inició la transacción.<br>Valor si no se interrumpió la transacción: Cadena vacía ("") |






**`<Transaction file>: (Cadena de caracteres opcional)`**

Nombre completo del archivo de transacciones (utilizado para registrar las operaciones realizadas en la transacción). Este archivo se destruye automáticamente cuando se utiliza la función [HTransactionEnd](../WDLang4/3044032.md) o [HTransactionCancel](../WDLang4/3044001.md). 
Si este nombre corresponde a una cadena vacía ("") o no se especifica, el archivo de transacción utilizado es el archivo de transacción predeterminado (en el directorio de la aplicación con el nombre: &lt;Nombre Proyecto&gt;_$TRS_OPERATION.trs).
![HFSQL Client/Server](https://doc.pcsoft.fr/ext/images/us/HFCS.png) Este parámetro no se tiene en cuenta para transacciones Client/Server, solo se tiene en cuenta para transacciones HFSQL Classic.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones




### Manipular registros durante una transacción
<a name="manipular_registros_durante_una_transaccion_ELTPARAGRAPHE000148"></a>

Durante una transacción, se deben cumplir algunas reglas al manipular registros. Para obtener más información, consulte [Transacciones: Manipular registros durante una transacción](../WDLang4/3044336.md).
<a name="NOTE0_2"></a>




### Transacciones y contexto HFSQL independiente
<a name="transacciones_contexto_hfsql_independiente_ELTPARAGRAPHE000159"></a>

Al copiar un contexto, si una transacción está en curso en el primer contexto, el nuevo contexto no está en la transacción.. Debe llamar a [HTransactionStart](../WDLang4/3044002.md) (o [HTransaction](../WDLang4/1000023384.md)) para iniciar una transacción en el nuevo contexto.

<a name="XComponent"></a>

## Clasificación Lógica de negocio / UI:
Lógica de negocio
## Componente:
wd280hf.dll
