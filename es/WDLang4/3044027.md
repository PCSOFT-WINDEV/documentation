


## HNext (Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Establece la posición en el siguiente registro del archivo de datos según un campo de navegación. ***El registro no se lee.***
El número de la Record actual se modifica sólo cuando es devuelto por [HRecNum](../WDLang4/3044063.md). Para las funciones que manipular el número actual de Record ([HDelete](../WDLang4/3044018.md), [HRead](../WDLang4/3044047.md), [HModify](../WDLang4/3044042.md), etc.), el valor de este número no se actualiza: se debe utilizar la función [HRecNum](../WDLang4/3044063.md)(). Por ejemplo: no hacer: 

```wl
HDelete(Customer)
```
 pero 

```wl
HDelete(Customer, HRecNum())
```
 Los valores de la posición de búsqueda se leen en orden ascendente (ver Observaciones para más detalles).

**Atención**: ***El registro cargado en memoria no se modifica***. Las variables HFSQL (por ejemplo, Cliente.Nombre, es decir el elemento *Nombre* del archivo *Cliente*) no se actualizan.

En la mayoría de los casos, **HNext** establece la posición en el archivo de datos para recorrer los registros que coinciden con una condición. [HNext](../WDLang4/3044027.md) se utiliza para posicionarse en el siguiente Record correspondiente a la condición.

Después de llamar a la función **HNext**, se pueden producir los siguientes casos:

- se encontró un registro que corresponde a la condición: [HFound](../WDLang4/3044104.md) devuelve <u><u><u>True</u></u></u>

- el archivo de datos está vacía o no hay Record correspondiente a la condición: [HOut](../WDLang4/3044094.md) devuelve <u><u><u>True</u></u></u>




**Observaciones**: 

- Mediante Default, [HSeekFirst](../WDLang4/3044125.md) y [HSeekLast](../WDLang4/3044129.md) se realiza una búsqueda de coincidencia exacta.

- Mediante Default, **HNext** se realiza una búsqueda genérica.





Los valores del campo de navegación se leen en orden ascendente (para obtener más información, consulte las [observaciones](#NOTE0_1)).

Atención: ***El registro cargado en memoria no se modifica***. Las variables HFSQL (por ejemplo, Customer.Name, es decir el campo *Name* del archivo *Customer*) no se actualizan.

Generalmente, la función **HNext** establece la posición al recorrer el archivo de datos.

Después de llamar a la función **HNext**, se pueden producir los siguientes casos:

- el archivo de datos está vacío o ningún registro corresponde al filtro (definido con la función [HFilter](../WDLang4/3044100.md)): [HOut](../WDLang4/3044094.md) devuelve <u><u><u>True</u></u></u>

- la función intenta bloquear un registro ya bloqueado en modo de lectura: las funciones [HErrorLock](../WDLang4/3044099.md) y [HOut](../WDLang4/3044094.md) devuelven <u><u><u>True</u></u></u>.
	![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Acceso con JDBC: Los bloqueos no se pueden gestionar en bases de datos a las que se accede mediante JDBC.



<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
HFirst(Customer, Name)
WHILE HOut(Customer) = False
	// Process the record
	HNext(Customer, Name)
END
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis

`<Result> = HNext([<Data file> [, <Search key item>] [, <Options>]])`
---

**`<Result>: (Booleano)`**



- <u><u><u><u>True</u></u></u></u> si se estableció la posición,

- <u><u><u><u>False</u></u></u></u> si se produce un error. Este problema puede ser causado por:

	- un problema de posicionamiento (archivo de datos vacío, etc.): la función [HFound](../WDLang4/3044104.md) devuelve <u><u><u><u>False</u></u></u></u> y la función [HError](../WDLang4/3044088.md) devuelve 0.

	- un error: la función [HError](../WDLang4/3044088.md) devuelve un número entero distinto de 0. La función [HErrorInfo](../WDLang4/3044071.md) devuelve más detalles.







**`<Data file>: (Cadena de caracteres opcional)`**

Nombre del archivo de datos HFSQL. Si este parámetro es una cadena vacía (""), **HNext** manipula el último archivo de datos utilizado por la última función HFSQL (función que empieza por "H").

**`<Search key item>: (Cadena de caracteres opcional)`**

Nombre del campo clave utilizado para recorrer el archivo de datos. Si no se especifica este nombre, la función **HNext** manipula el último campo de navegación utilizado en el archivo de datos por la última función de gestión HFSQL (función que empieza por "H"). Si este campo no existe, el mejor campo de navegación se utiliza automáticamente.

**`<Options>: (Constante opcional)`**

Configura el bloqueo y la gestión de duplicados realizados en el registro seleccionado con la función **HNext**:


|   |   |
| --- | --- |
| *hDistinct* | Si hay duplicados, establece la posición en un solo registro de los duplicados. Este parámetro solo se tiene en cuenta si se recorre un campo clave. <br>De forma predeterminada, se recorren todos los duplicados.<br>![OLE DB](https://doc.pcsoft.fr/ext/images/us/OLEDB.png)![Conectores Nativos](https://doc.pcsoft.fr/ext/images/us/AN.png) Esta constante no se tiene en cuenta. |
| *hLockNo* | Sin bloqeuo: otras aplicaciones pueden leer o modificar el registro. |
| *hLockReadWrite* | Bloqueo de lectura y escritura: el registro seleccionado no puede ser leído o modificado por otra aplicación.<br><br>![OLE DB](https://doc.pcsoft.fr/ext/images/us/OLEDB.png) Bloqueo de solo escritura: el registro leído actualmente puede ser leído por otra aplicación, pero no se puede modificar. <br>Modo de funcionamiento equivalente al de *hLockWrite*. |
| *hLockWrite* | Bloqueo de escritura: el registro seleccionado puede ser leído por otra aplicación pero no se puede modificar. |

![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Acceso con JDBC: Este parámetro no se tiene en cuenta.![OLE DB](https://doc.pcsoft.fr/ext/images/us/OLEDB.png)![Conectores Nativos](https://doc.pcsoft.fr/ext/images/us/AN.png) Las opciones de bloqueo no tendrán efecto si los bloqueos no son soportados por el proveedor OLE DB o por Conector Nativo.![OLE DB](https://doc.pcsoft.fr/ext/images/us/OLEDB.png) El modo de bloqueo especificado con la función [HReadNext](../WDLang4/3044037.md) seguirá siendo efectivo cuando se llame a las funciones [HReadFirst](../WDLang4/3044051.md) y [HReadPrevious](../WDLang4/3044048.md).

Para cambiar el modo de bloqueo, utilice:

- [HReadSeekFirst](../WDLang4/3044036.md) o [HReadSeekLast](../WDLang4/3044034.md).

- **HReadFirst** o [HReadLast](../WDLang4/3044140.md).

- [HLockRecNum](../WDLang4/3044152.md) o [HUnlockRecNum](../WDLang4/3044194.md).


![Hyper File 5.5](https://doc.pcsoft.fr/ext/images/us/HF55.png) Las opciones de bloqueo no se tienen en cuenta. Utilice las funciones de bloqueo (función [HLockRecNum](../WDLang4/3044152.md)) conservadas por motivos de compatibilidad.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Operación de lectura basada en una clave
<a name="operacion_lectura_basada_una_clave_ELTPARAGRAPHE000241"></a>

La función **HNext** establece la posición en el siguiente registro con el valor de clave más alto. El criterio de ordenación que se tiene en cuenta es el especificado en el análisis para esta clave.
<a name="NOTE0_2"></a>


### Comparación entre HNext y [HReadNext](../WDLang4/3044037.md)
<a name="comparacion_entre_docparampagetitleshort_hreadnextwdlang43044037md_ELTPARAGRAPHE000252"></a>

La función **HNext** no lee el registro: por lo tanto, la función **HNext** es más rápida que la función [HReadNext](../WDLang4/3044037.md).
<a name="NOTE0_3"></a>


### Varios
<a name="varios_ELTPARAGRAPHE000272"></a>

- La función [HRecNum](../WDLang4/3044063.md) devuelve el número de registro actual.

- La función [HChangeKey](../WDLang4/3044151.md) cambia la clave de búsqueda conservando la posición en el registro actual.



<a name="NOTE0_4"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png)![Lenguaje Externo](https://doc.pcsoft.fr/ext/images/us/LE.png)![HFSQL Classic](https://doc.pcsoft.fr/ext/images/us/HF.png)![HFSQL Client/Server](https://doc.pcsoft.fr/ext/images/us/HFCS.png)![Hyper File 5.5](https://doc.pcsoft.fr/ext/images/us/HF55.png)![OLE DB](https://doc.pcsoft.fr/ext/images/us/OLEDB.png)![Conectores Nativos](https://doc.pcsoft.fr/ext/images/us/AN.png) 

### Bloqueos
<a name="bloqueos_ELTPARAGRAPHE000290"></a>

Por defecto (&lt;Opciones&gt; no especificadas), la Record no está bloqueada.

Si se solicita un bloqueo (constante *hLockWrite* o *hLockReadWrite*), la posición se establece en el registro solo si este aún no está bloqueado.

<a name="XComponent"></a>

## Componente:
wd280hf.dll
