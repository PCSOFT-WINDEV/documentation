


## HRead (Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Lee un Record en un archivo de datos según un número Record dado. Este modo de lectura se llama "Acceso directo".. La lectura de Record está cargada en la memoria. [HState](../WDLang4/3044081.md) se utiliza para conocer el estado de record (active, cruzado o borrado).

En general, la función **HRead** permite posicionarse en el archivo de datos para realizar un bucle de lectura indicando el número de registro.

Tras la llamada a **HRead**pueden darse varios casos:

- el número de Record especificado no existe (mayor que el número total de Record s o negativo): no se realiza ninguna lectura y la función [HOut](../WDLang4/3044094.md) devuelve <u><u><u>True</u></u></u>.

- el número especificado de Record ya no existe (cruzado Record, borrado Record, ...): no se realiza ninguna lectura y la función [HOut](../WDLang4/3044094.md) devuelve <u><u><u>False</u></u></u>.
	Utilice [HState](../WDLang4/3044081.md) para conocer el estado de Record.

- el archivo de datos está vacía: [HOut](../WDLang4/3044094.md) devuelve <u><u><u>True</u></u></u>.

- la función intenta bloquear un registro ya bloqueado en modo de lectura: [HErrorLock](../WDLang4/3044099.md) devuelve <u><u><u>True</u></u></u> y [HOut](../WDLang4/3044094.md) devuelve <u><u><u>True</u></u></u>.
	![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Acceso con JDBC: La gestión de las cerraduras no está disponible para las bases de datos a las que accede el JDBC.




Esta función se puede utilizar con los archivos de datos (indexados o no) y con las vistas HFSQL.


<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// Sequential iteration to display the name of all customers
i is int
FOR i = 1 _TO_ hNbRec(Customer, hStateAll)
	HRead(Customer, i)
	IF HState() = hStateActive THEN 
		Info("Customer name: " + Customer.Name)
	END
END
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis

`<Result> = HRead([<Data file> [, <Record number> [, <Options>]]])`
---

**`<Result>: (booleano)`**



- <u><u><u><u>True</u></u></u></u> si se leyó el registro,

- <u><u><u><u>False</u></u></u></u> si se produce un error (bloqueo, fin del archivo de datos, etc.): el registro no se lee. La función [HError](../WDLang4/3044088.md) permite identificar el error.




**`<Data file>: (Cadena de caracteres opcional)`**

Nombre del archivo de datos HFSQL, vista o consulta utilizada.

Si este parámetro es una cadena vacía (""), **HRead** manipula el último archivo de datos utilizado por la última función HFSQL (función que empieza por "H").

**`<Record number>: (Entero opcional)`**

Número de la Record para leer.

Si no se especifica este parámetro (o es igual a 0 o a la constante *hCurrentRecNum*), **HRead** leerá el Record actual.
![OLE DB](https://doc.pcsoft.fr/ext/images/us/OLEDB.png)![Conectores Nativos](https://doc.pcsoft.fr/ext/images/us/AN.png) **HRead** lee sólo el record actual. No se puede especificar un número de Record que no sea el actual. Para especificar el registro actual, utilice la constante *hCurrentRecNum*.![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Acceso con JDBC: **HRead** lee sólo el record actual. No se puede especificar un número de Record que no sea el actual. Para especificar el registro actual, utilice la constante *hCurrentRecNum*. 

**`<Options>: (Constante opcional)`**

Configura el bloqueo establecido en el Record leído por **HRead**:


|   |   |
| --- | --- |
| *hLockNo* | Sin bloqeuo: la Record puede ser leída o modificada por otra aplicación durante la lectura. |
| *hLockReadWrite* | Bloqueo de lectura/escritura: el Record que se lee actualmente no puede ser leído o modificado por otra aplicación. |
| *hLockWrite* | Bloqueo de escritura: el Record que se lee actualmente puede ser leído por otra aplicación pero no puede ser modificado por otra aplicación. |

![Hyper File 5.5](https://doc.pcsoft.fr/ext/images/us/HF55.png) Las opciones de bloqueo se ignoran. Utilizar las funciones de bloqueo ([HLockRecNum](../WDLang4/3044152.md)) conservadas para la compatibilidad con el pasado.![OLE DB](https://doc.pcsoft.fr/ext/images/us/OLEDB.png)![Conectores Nativos](https://doc.pcsoft.fr/ext/images/us/AN.png) Las opciones de bloqueo no tendrán efecto si los bloqueos no son soportados por el proveedor OLE DB o por Conector Nativo.![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png) Acceso con JDBC: Este parámetro no se tiene en cuenta.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/us/JAVA.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png)![Lenguaje Externo](https://doc.pcsoft.fr/ext/images/us/LE.png)![HFSQL Classic](https://doc.pcsoft.fr/ext/images/us/HF.png)![HFSQL Client/Server](https://doc.pcsoft.fr/ext/images/us/HFCS.png)![Procedimientos almacenados](https://doc.pcsoft.fr/ext/images/us/PS.png)![Hyper File 5.5](https://doc.pcsoft.fr/ext/images/us/HF55.png) 

### Los registros leen
<a name="los_registros_leen_ELTPARAGRAPHE000210"></a>

La función **HRead** es la única función que permite acceder a un registro tachado o eliminado. Si se borra el Record, el contenido del Record ya no es válido.
<a name="NOTE0_2"></a>


### En bucle a través de un archivo de datos
<a name="bucle_traves_archivo_datos_ELTPARAGRAPHE000221"></a>

**HRead** no puede utilizarse para continuar una iteración iniciada por [HReadFirst](../WDLang4/3044051.md), [HReadNext](../WDLang4/3044037.md).
<a name="NOTE0_3"></a>


### Memos
<a name="memos_ELTPARAGRAPHE000238"></a>

Los memos asociados con el Record pueden ser leídos automáticamente (o no) cuando se lee el Record. [HSetMemo](../WDLang4/3044139.md) se utiliza para personalizar esta operación de lectura de automatic.

Si los memos están soportados, los memos de texto asociados se leen cuando se lee la Record. Los memos binarios sólo se leen cuando se utilizan explícitamente ([HExtractMemo](../WDLang4/3044072.md)).
<a name="NOTE0_4"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/us/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/us/UNIVERSALAPP.png)![Código de Usuario (UMC)](https://doc.pcsoft.fr/ext/images/us/MCU.png)![Lenguaje Externo](https://doc.pcsoft.fr/ext/images/us/LE.png)![HFSQL Classic](https://doc.pcsoft.fr/ext/images/us/HF.png)![HFSQL Client/Server](https://doc.pcsoft.fr/ext/images/us/HFCS.png)![Procedimientos almacenados](https://doc.pcsoft.fr/ext/images/us/PS.png)![Hyper File 5.5](https://doc.pcsoft.fr/ext/images/us/HF55.png)![OLE DB](https://doc.pcsoft.fr/ext/images/us/OLEDB.png)![Conectores Nativos](https://doc.pcsoft.fr/ext/images/us/AN.png) 

### Bloqueos
<a name="bloqueos_ELTPARAGRAPHE000257"></a>

Por defecto (&lt;Opciones&gt; no especificadas), la Record no está bloqueada.

Si se solicita un bloqueo (constantes *hLockWrite* o *hLockReadWrite*), se leerá el registro solo si este aún no ha sido bloqueado.

![OLE DB](https://doc.pcsoft.fr/ext/images/us/OLEDB.png)![Conectores Nativos](https://doc.pcsoft.fr/ext/images/us/AN.png) Las opciones de bloqueo no tendrán efecto si los bloqueos no son soportados por el proveedor OLE DB o por Conector Nativo.
<a name="NOTE0_5"></a>


### Varios
<a name="varios_ELTPARAGRAPHE000272"></a>

- El resultado de [HFound](../WDLang4/3044104.md) debe ignorarse ([HFound](../WDLang4/3044104.md) debe utilizarse para las búsquedas realizadas por [HReadSeekFirst](../WDLang4/3044036.md) y [HReadSeekLast](../WDLang4/3044034.md)).

- El número actual de Record es devuelto por [HRecNum](../WDLang4/3044063.md). El primer Record que se encontró en el archivo de datos es Record #1.

- Esta función sustituye a **HReadLock** y **HReadNoLock**, que se mantuvieron por compatibilidad con WINDEV 5.5.




<a name="XComponent"></a>

## Componente:
wd280hf.dll
