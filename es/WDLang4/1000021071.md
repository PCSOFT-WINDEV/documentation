
## Replicación de datos móviles (Android o iOS)
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000146"></a>
La Replicación Universal Asistida está disponible en Android y en iOS. 

Esta réplica permite replicar datos provenientes de diferentes bases de datos. 



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Implementación
<a name="implementacion_ELTTEXTE000170"></a>


### Condiciones necesarias
<a name="condiciones_necesarias_ELTPARAGRAPHE000023"></a>

- El análisis debe ser compartido entre la aplicación WINDEV y WINDEV Mobile (Android o iOS). 

- La base de datos maestra debe ser una base de datos HFSQL (clásica o cliente/servidor). 

- La base de datos móvil (Abonado) debe ser una base de datos HFSQL Classic. 

- La estructura de la base de datos debe ser estrictamente idéntica en las dos plataformas.



<a name="NOTE2_2"></a>


### Etapas a seguir
<a name="etapas_seguir_ELTPARAGRAPHE000033"></a>

Los pasos para implementar una replicación en una aplicación móvil (Android o iOS) son los siguientes: 

1. [Instalación del servidor de replicación](#NOTE2_3). 

2. [Definir la réplica con ReplicEdit](#NOTE2_4). 

3. [Llamada a las diferentes funciones de WLanguage para gestionar la sincronización en la aplicación móvil (Android o iOS)](#NOTE2_5). 







<a name="NOTE2_3"></a>


### Instalación del servidor de replicación
<a name="instalacion_del_servidor_replicacion_ELTPARAGRAPHE000051"></a>

El instalación del servidor de replicación se presenta en el Page denominado [Servidor de replicación para la replicación universal asistida](../WDLang4/1000017227.md). 

Frenos/Notas

- IMPORTANTE: La fecha y la hora deben ser idénticas en el servidor y en los dispositivos Android/iOS. Las fechas internas (las utilizadas por la replicación en los archivos HFSQL) están en UTC. 

- El paquete instalación del servidor de replicación se suministra con WINDEV, WEBDEV y WINDEV Mobile. Se encuentra en el directorio \\Install\\WServerR\\ de la carpeta de productos de instalación. 

- Si usted posee sitios WEBDEV, el servidor de replicación y el servidor de aplicaciones WEBDEV pueden ser instalados en el mismo servidor.




**Atención**: Se deben conceder derechos específicos sobre el directorio del servidor de replicación de instalación. Los derechos de lectura y de ejecución deben ser concedidos al usuario de INTERNET (IUSR_Computer_name account) en este directorio (y en los subdirectorios).  
<a name="NOTE2_4"></a>


### Definiendo la réplica
<a name="definiendo_replica_ELTPARAGRAPHE000069"></a>

La replicación se define por ReplicEdit. 

Los pasos para crear una réplica de las aplicaciones Android/iOS son los siguientes: 

1. [Crear una réplica](../ReplicEdit/3526501.md). 

2. [Agregar archivos en una réplica](../ReplicEdit/3526504.md). 

3. [Publicar la réplica](../ReplicEdit/3526505.md). 



<a name="NOTE2_5"></a>


### Programación de la réplica
<a name="programacion_replica_ELTPARAGRAPHE000088"></a>

En la aplicación Mobile, las funciones WLanguage deben utilizarse para realizar la sincronización. 

La asistente para la publicación de la réplica en el servidor de réplicas proporciona un código básico: 


```wl
// Opens a replication on the replication server
ReplicOpen("replication name", "", "IP address", "login", "password")

// Initializes the replication by passing the parameters 
//IF ReplicInfo("replication name", replicInitialized) = False THEN
//	ReplicInitialize("replication name", <Parameters>)
//END

// Starts the synchronization
ReplicSynchronize("replication name")
```


Se deben utilizar las siguientes funciones: 



|   |   |
| --- | --- |
| [ReplicInfo](../WDLang4/1000017197.md) | Devuelve información sobre una replicación. |
| [ReplicInitialize](../WDLang4/1000017195.md) | Inicializa o reinicializa una replicación definida por el editor de replicación (ReplicEdit). |
| [ReplicOpen](../WDLang4/1000017194.md) | Opens a replication in direct mode or with a replication server. |
| [ReplicSynchronize](../WDLang4/1000017196.md) | Sincroniza los datos correspondientes a una réplica. |





**Observación**: En el código del proyecto Android (o iOS), no olvides configurar la conexión a la base de datos local (archivo HFSQL Classic en el dispositivo móvil). 


