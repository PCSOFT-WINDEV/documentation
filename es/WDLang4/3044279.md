
## Replicación basada en registros: Programando la réplica basada en el registro en WLanguage
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000260"></a>
Varias funciones de WLangage le permiten incluir la replicación basada en el registro en su aplicación y personalizarla. En este caso, no se requiere ninguna herramienta externa.: la replicación de datos entre sus bases de datos se gestiona mediante programación.

Se pueden implementar dos modos de replicación basados en el registro a través de la programación:

- Replicación basada en **log por la red** (caso de un ordenador portátil que se conecta a la red de la empresa de forma regular).

- Replicación basada en **log a través de medios portátiles** (caso de sitios remotos que no se conectan a través de una red).






<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Réplica basada en registros por red
<a name="replica_basada_registros_por_red_ELTTEXTE000290"></a>


### ¿Qué es esto?
<a name="¿que_esto_ELTPARAGRAPHE000025"></a>

La replicación basada en registros por red corresponde a la operación realizada para sincronizar dos bases de datos accesibles en la misma red.

El ejemplo más común es un vendedor que se conecta regularmente a la red de la empresa a través de su ordenador portátil.. La replicación le permite actualizar la base de datos de la empresa con los nuevos pedidos introducidos durante la semana.

Durante esta operación, la base de datos de la empresa y la base de datos del portátil son accesibles a través de la red.. La replicación se puede realizar a través de la red.
<a name="NOTE2_2"></a>


### Las posibles acciones
<a name="las_posibles_acciones_ELTPARAGRAPHE000036"></a>

Se utiliza la replicación basada en el registro por red para realizar:

- una replicación unidireccional:

	- desde el ordenador maestro a los ordenadores de los abonados.

	- desde los ordenadores de los abonados al ordenador principal.




- una replicación bidireccional, es decir, del ordenador maestro al ordenador del abonado (y viceversa).



<a name="NOTE2_3"></a>


### Cómo replicar por red y mediante programación
<a name="como_replicar_por_red_mediante_programacion_ELTPARAGRAPHE000049"></a>

Se deben realizar las siguientes operaciones:

1. Creación de la réplica maestra en el ordenador maestro ([HCreateMasterReplica](../WDLang4/3044175.md)).

2. Creación de la réplica de abonado en el ordenador de abonado ([HCreateSubscriberReplica](../WDLang4/3044253.md)). El ordenador del abonado debe tener acceso de lectura/escritura al disco donde está instalada la aplicación maestra (directorio de archivos de datos).

3. Usando las aplicaciones de maestro y de suscriptor.

4. Sincronización ([HSynchronizeReplica](../WDLang4/3044014.md)):

	- del equipo esclavo al equipo maestro (constante *rplToMaster*): el ordenador del abonado debe tener derechos de lectura/escritura en el disco donde está instalada la aplicación maestra.

	- del equipo maestro al equipo esclavo (constante *rplToSubscriber*): el equipo maestro debe tener derechos de lectura/escritura en el disco donde está instalada la aplicación del suscriptor.

	- bidireccional (constante *rplBidirectional*): el equipo maestro debe tener derechos de lectura/escritura en el disco donde está instalada la aplicación del suscriptor y el equipo del suscriptor debe tener derechos de lectura/escritura en el disco donde está instalada la aplicación maestra.





**Atención**: Este párrafo asume que se han realizado las operaciones necesarias en el análisis de la aplicación antes de instalar la aplicación en los diferentes ordenadores.. Para obtener más información, consulte [Replicación basada en registros: Modificación del análisis](../WDLang4/3044246.md).
<a name="NOTE2_4"></a>


### Limitaciones y consejos
<a name="limitaciones_consejos_ELTPARAGRAPHE000079"></a>

- **Al crear la réplica del suscriptor**, el equipo donde la réplica del suscriptor está instalada debe tener acceso de lectura/escritura en el directorio donde la réplica maestra está instalada.

- Para realizar la replicación basada en el registro, se puede identificar la ruta de los archivos de datos a replicar:

	- una letra de unidad. En este caso, los dos equipos implicados en la replicación deben utilizar la misma letra de unidad.. Por ejemplo, si la replicación se inicia desde el equipo del suscriptor:

		- en el ordenador maestro, el directorio de los ficheros de datos se encuentra en X,

		- en el ordenador de suscripción, la letra X debe ser associated con la unidad que contiene los archivos de datos del ordenador principal.




- Trayectorias UNC

- caminos relativos.

- Para gestionar la replicación basada en logs en una aplicación, el tabla de operaciones de logs (archivo JournalOpération.fic) debe ser idéntico para todos los archivos en replicación en el mismo análisis.

- Los archivos requeridos por la replicación (archivos\*.RPM y\*.RPL) deben guardarse en un subdirectorio RPL de los archivos de datos de la aplicación.

- Si el registro Process se utiliza sólo para la replicación, los archivos de registro pueden ubicarse en el directorio de la aplicación (o en un subdirectorio).

- Si el registro Process se utiliza para mantener una copia de seguridad de los archivos, estos archivos deben estar ubicados en un disco distinto al utilizado para los archivos de datos (para mayor seguridad).




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## La replicación basada en el registro a través de medios portátiles
<a name="replicacion_basada_registro_traves_medios_portatiles_ELTTEXTE000332"></a>


### ¿Qué es esto?
<a name="¿que_esto_ELTPARAGRAPHE000100"></a>

La replicación basada en registros a través de medios portátiles corresponde a la operación realizada para sincronizar dos bases de datos no conectadas entre sí.

El ejemplo más común corresponde a dos sitios geográficamente distantes: un sitio en Montpellier y otro en París, por ejemplo.. Las bases de datos se actualizan periódicamente a través de diferentes medios de comunicación: transferencia por FTP, disquete o CD ROM, ....
<a name="NOTE3_2"></a>


### Las posibles acciones
<a name="las_posibles_acciones_ELTPARAGRAPHE000109"></a>

La replicación basada en registros a través de medios portátiles le permite realizar una replicación unidireccional:

- desde el ordenador principal a los ordenadores de los abonados

- desde los ordenadores de los abonados al ordenador principal



<a name="NOTE3_3"></a>


### Limitaciones y consejos
<a name="limitaciones_consejos_ELTPARAGRAPHE000119"></a>

- Para gestionar la replicación basada en logs en una aplicación, el tabla de operaciones de logs (archivo JournalOpération.fic) debe ser idéntico para todos los archivos en replicación en el mismo análisis.

- Los archivos necesarios para la replicación basada en registros (archivos \*.RPM y \*.RPL) deben guardarse en un subdirectorio RPL de los archivos de datos de la aplicación.

- Si el registro Process se utiliza sólo para la replicación, los archivos de registro pueden ubicarse en el directorio de la aplicación (o en un subdirectorio).

- Si el registro Process se utiliza para mantener una copia de seguridad de los archivos, estos archivos deben estar ubicados en un disco distinto al utilizado para los archivos de datos (para mayor seguridad).



<a name="NOTE3_4"></a>


### Mediante programación
<a name="mediante_programacion_ELTPARAGRAPHE000129"></a>

Se deben realizar las siguientes operaciones para sincronizar el ordenador maestro con el ordenador del abonado:

1. Creando:

	- la réplica maestra en el ordenador maestro ([HCreateMasterReplica](../WDLang4/3044175.md)).

	- la réplica del abonado en el ordenador del abonado ([HCreateSubscriberReplica](../WDLang4/3044253.md)). Cada computadora de abonado debe ser associated con un identificador específico. Este identificador se utilizará durante la sincronización.
			Estas dos réplicas pueden ser creadas en el mismo directorio (no recomendado).




2. Instalación del archivo de réplica del suscriptor en el ordenador del suscriptor. Este archivo se puede instalar:

	- en el directorio de réplica especificado en el análisis (subdirectorio\\RPL de los archivos de datos de Default).

	- en otro directorio. En este caso, la aplicación de abonado debe utilizar [HChangeRplDir](../WDLang4/3044236.md) para especificar dónde buscar el archivo de la réplica de abonado. De hecho, cuando se abre el archivo de datos de los suscriptores, se lee el archivo RPL para definir el rango de identificadores de automatic utilizados por el archivo de datos.




3. Usando las aplicaciones de maestro y de suscriptor.

4. En el ordenador de abonado, crear la réplica móvil ([HCreateMoveableReplica](../WDLang4/3044209.md)). Un archivo con una extensión WDZ es creado por Default. Este archivo debe ser transmitido al ordenador central.

5. Sincronización en el ordenador principal ([HSynchronizeReplica](../WDLang4/3044014.md)). Para realizar esta sincronización, debe especificar:

	- el nombre y la ruta de la réplica móvil en el ordenador central

	- el identificador de la réplica del abonado (especificado al crear la réplica del abonado).





**Atención**: Este párrafo asume que se han realizado las operaciones necesarias en el análisis de la aplicación antes de instalar la aplicación en los diferentes ordenadores.. Para obtener más información, consulte [Replicación con WINDEV](../WDLang4/3044256.md).

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Funciones de WLanguage para la gestión de la replicación basada en logs
<a name="funciones_wlanguage_para_gestion_replicacion_basada_logs_ELTTEXTE000374"></a>


### Funciones para la gestión de la reproducción basada en logs
<a name="funciones_para_gestion_reproduccion_basada_logs_ELTPARAGRAPHE000175"></a>

Las siguientes funciones de WLangage se utilizan para gestionar la replicación basada en registros:


|   |   |
| --- | --- |
| [HChangeRplDir](../WDLang4/3044236.md) | Modifica la ubicación de la réplica de la description del suscriptor (archivo RPL). Esta función debe utilizarse en el ordenador del abonado. |
| [HCreateMasterReplica](../WDLang4/3044175.md) | Crea el archivo description de una réplica maestra (archivo \*.RPM). |
| [HCreateMoveableReplica](../WDLang4/3044209.md) | Crea un archivo que puede utilizarse para replicar los datos de la base de datos actual a una base de datos remota (para enviarlos a través de Email o disquete, por ejemplo). |
| [HCreateSubscriberReplica](../WDLang4/3044253.md) | Crea el archivo description de una réplica de un suscriptor (archivo \*.RPL). |
| [HInitSuscriptor](../WDLang4/3044013.md) | Inicializa el rango de identificadores automáticos para el archivo description de la réplica del abonado (extensión "RPL"). |
| [HSetReplication](../WDLang4/3044067.md) | Desactiva temporalmente (o vuelve a activar) la replicación. La réplica es administrada automáticamente por Default. |
| [HSynchronizeReplica](../WDLang4/3044014.md) | Sincroniza una réplica maestra y una réplica de suscriptor. |




