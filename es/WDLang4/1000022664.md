


## &lt;Variable Connection&gt;.SetServer (Función)



<a name="XUse"></a>
<a name="Use"></a>
<a name="description"></a>
Permite conocer y modificar algunos parámetros del servidor HFSQL Client/Server.

**Observación**: Los derechos para gestionar el servidor son necesarios para utilizar esta función. Estos derechos corresponden a la constante *hRightsManageServer* utilizada en [&lt;Variable Connection&gt;.InfoServerRights](../WDLang4/1000022668.md) y [&lt;Variable Connection&gt;.ModifyServerRights](../WDLang4/1000022710.md).


<a name="Example1"></a>
<a name="sample_code"></a>

## Ejemplo


```wl
// Describe the connection
MyConnection is Connection

// Disable the management of audit logs for the server
MyConnection.SetServer(hLogLevel, "")
```

<a name="XSYNTAX"></a>
<a name="SYNTAX1"></a>

## Sintaxis

### Conocer el valor de un parámetro

`<Result> = <Connection>.SetServer(<Option>)`
---

**`<Result>: (Cadena de caracteres)`**



- Valor de la opción especificada. 

- Vaciar la cadena (""") si la opción no está definida.




**`<Connection>: (Variable de tipo Connection)`**

Nombre de la [Conexión](../WDLang4/1514073.md) Variable que describe la conexión con el servidor para el que se debe conocer el valor de &lt;Opción&gt;.

**`<Option>: (Constante de tipo Integer)`**

Especifica la opción a conocer. Estas opciones se almacenan en el archivo [HFConf.ini](../WDLang4/3044345.md), en la raíz del servidor.

Lista de opciones disponibles:


|   |   |
| --- | --- |
| *hActiveDirectory* | &lt;Habilitar&gt; parámetro de la sección ACTIVEDIRECTORIO del archivo HFConf.Ini.<br>Habilitar la autenticación a través de Active Directory. <br>Valor:<br><br>- 0, la autenticación a través del directorio Active no está habilitada,<br><br>- 1, la autenticación a través del Directorio Active está habilitada.<br><br><br> |
| *hActivityStatisticsPath* | &lt;Ruta estadística&gt; parámetro del archivo HFConf.Ini.<br>Ruta del directorio que contiene los archivos de estadísticas de actividad. |
| *hActivityStatisticsPeriod* | &lt;Período Estadístico&gt; parámetro del archivo HFConf.Ini.<br>Indica el período (en segundos) entre cada copia de seguridad de los valores de los diferentes contadores de actividad.. Tiene la posibilidad de especificar 0 para dejar de recopilar estadísticas. |
| *hAutoStatisticalCalc* | &lt;Habilitar&gt; parámetro de la sección AUTOANÁLISIS del archivo HFConf.Ini.<br>Habilitar el cálculo de la estadística automatic para los archivos de datos (optimización de los índices). <br>Valor:<br><br>- 0, el cálculo estadístico de automatic no está activado,<br><br>- 1, el cálculo estadístico de automatic está activado.<br><br><br> |
| *hCacheNbUnusedFiles* | &lt;CacheMaxUnusedFiles&gt; parámetro del archivo HFConf.Ini.<br>Número máximo de tablas HFSQL no utilizadas que se almacenan en caché (es decir, abiertas) en el servidor. Cuando se alcanza este número, el tabla menos reciente no utilizado se borra automáticamente de la caché.. |
| *hDaemonUser* | &lt;DaemonUser&gt; parámetro del archivo HFConf.Ini.<br>Nombre de usuario bajo el cual operará el servidor. |
| *hDatabasePath* | &lt;DBRootPath&gt; parámetro del archivo HFConf.Ini.<br>Ruta del directorio que contiene todas las bases de datos (es decir, los ficheros de datos de las diferentes aplicaciones de HFSQL Client/Server). |
| *hDebuggingPort* | &lt;WLDebugPort&gt; parámetro del archivo HFConf.Ini.<br>Puerto utilizado para depurar los procedimientos almacenados y los disparadores de Cliente/Servidor. |
| *hFindKey* | &lt;KeySearch&gt; parámetro del archivo HFConf.Ini.<br>Habilitar la búsqueda de claves. <br>Valor: <br><br>- 0, la búsqueda de claves de automatic no está activada,<br><br>- 1, la búsqueda de claves de automatic está activada.<br><br><br> |
| *hJNLBackupPath* | &lt;JNLBackupRootPath&gt; parámetro del archivo HFConf.Ini.<br>Ruta del directorio que contiene la copia de seguridad de los registros. |
| *hJNLPath* | &lt;JNLRootPath&gt; parámetro del archivo HFConf.Ini.<br>Ruta del directorio que contiene todos los logs de las diferentes aplicaciones de HFSQL Client/Server (historial de operaciones de escritura realizadas en los ficheros de datos HFSQL). |
| *hkaInterval* | &lt;KeepAliveInterval&gt; parámetro del archivo HFConf.Ini.<br>Tiempo máximo (en segundos) después del cual, si no se establece comunicación entre el servidor y el cliente, el servidor comprobará la presencia del cliente..<br>Este parámetro es set a 30 minutos por Default. |
| *hkaTimeout* | &lt;KeepAliveTimeout&gt; parámetro del archivo HFConf.Ini.<br>Tiempo máximo de espera (en segundos) para el servidor al comprobar la presencia del cliente. Si el cliente no se encuentra al final de este tiempo de espera, el cliente se desconecta automáticamente.<br>Este parámetro es set a 2 minutos por Default. |
| *hlbActive* | &lt;LoadEnable&gt; parámetro del archivo HFConf.Ini.<br>Indica si el balanceo de carga está habilitado o no. |
| *hlbClientCalls* | &lt;LoadCoeffCall&gt; parámetro del archivo HFConf.Ini.<br>Coeficiente global para el número de llamadas de clientes. |
| *hlbDisk* | &lt;LoadCoeffDisk&gt; parámetro del archivo HFConf.Ini.<br>Coeficiente global para el número de bytes leídos o escritos en el disco. |
| *hlbDiskAccess* | &lt;LoadCoeffDiskAccess&gt; parámetro del archivo HFConf.Ini.<br>Coeficiente global del número de accesos al disco. |
| *hlbMaxTimeout* | &lt;LoadMaxWait&gt; parámetro del archivo HFConf.Ini.<br>Tiempo máximo (en ms) durante el cual una petición al servidor puede ser detenida temporalmente por el sistema para el balanceo de carga antes de ser procesada. |
| *hlbReceived* | &lt;LoadCoeffRecv&gt; parámetro del archivo HFConf.Ini.<br>Coeficiente global para el número de bytes recibidos en la red. |
| *hlbSent* | &lt;LoadCoeffSend&gt; parámetro del archivo HFConf.Ini.<br>Coeficiente global para el número de bytes enviados a través de la red. |
| *hLogLevel* | &lt;ServerLogLevels&gt; parámetro del archivo HFConf.Ini.<br>Define los elementos que deben encontrarse en el archivo de registro. |
| *hLogPath* | &lt;ServerLogPath&gt; parámetro del archivo HFConf.Ini.<br>Ruta del directorio que contiene todos los ficheros log de auditoría del servidor (todas las operaciones solicitadas por los ordenadores cliente al servidor). |
| *hMaxActivityStatisticsSize* | &lt;ActivityStatisticMaxFileSize&gt; parámetro del archivo HFConf.Ini.<br>Tamaño máximo de un archivo para estadísticas de actividad (en MB). |
| *hMaxLogSize* | &lt;ServerLogMaxSize&gt; parámetro del archivo HFConf.Ini.<br>Tamaño máximo de un archivo de registro (en MB). |
| *hMaxNumberConnection* | &lt;Número máximo de conexiones&gt; parámetro del archivo HFConf.ini<br>Número máximo de conexiones permitidas por aplicación. Este número viene determinado por el número de aplicaciones (procesos) con al menos una conexión no superusuario en el servidor.. Por ejemplo: <br><br>- una aplicación que ha abierto una sola conexión en modo superusuario cuenta como cero.<br><br>- una aplicación que ha abierto una única conexión con un usuario de Normal cuenta como 1. <br><br>- una aplicación que ha abierto dos conexiones de un usuario de Normal cuenta como 1.<br><br>- una aplicación que ha abierto conexiones de superusuario y usuario de Normal cuenta como 1. <br><br><br> |
| *hMode2GB* | &lt;Más de 2 GB&gt; parámetro del archivo HFConf.Ini.<br>Especifica si el tamaño de las tablas del sistema puede superar los 2 GB. <br>Observación: el sistema operativo debe soportar los archivos que superen los 2 GB. |
| *hNdxCacheSize* | &lt;NdxCacheSize&gt; parámetro del archivo HFConf.Ini.<br>Tamaño de la caché de índices (en MB). El valor de Default es de 10 MB. |
| *hServerPort* | &lt;AccessPort&gt; parámetro del archivo HFConf.Ini.<br>Puerto de red utilizado. |
| *hTelemetryEnable* | Parámetro &lt;Active&gt; de la sección TELEMETRY del archivo HFConf.ini<br>Configurar la transmisión de datos para mejorar el servidor HFSQL. <br>Valor:<br><br>- 1 si la transmisión de datos (telemetría) fue habilitada al instalar el servidor HFSQL,<br><br>- 0 si la transmisión de datos (telemetría) fue rechazada al instalar el servidor HFSQL,<br><br>- otro valor si no se hizo ninguna elección durante la instalación en cuanto al uso de la telemetría. La pregunta se volverá a hacer durante la próxima instalación del servidor HFSQL.<br><br><br>Observación: Si la sección "TELEMETRÍA" no existe en el archivo HFConf.ini, la transmisión de datos sobre el uso del producto no está habilitada para el servidor HFSQL.. |
| *hTempDirectory* | &lt;TmpPath&gt; parámetro del archivo HFConf.Ini.<br>Ruta del directorio temporal. Este directorio se utiliza para crear los archivos temporales si es necesario (archivos temporales creados al reindexar archivos de datos grandes, por ejemplo). |
| *hWindowsDiskCacheSize* | &lt;WindowsFileCacheSize&gt; parámetro del archivo HFConf.ini<br>Configurar la gestión del tamaño de la caché de disco de Windows. <br>Valor:<br><br>- -1 para un tamaño que se calcula automáticamente,<br><br>- 0 para un tamaño de caché ilimitado,<br><br>- un valor positivo corresponde a un tamaño de caché personalizado.<br><br><br>Observación: La gestión estándar de las cachés de disco de Windows en modo de 64 bits (independientemente de HFSQL) puede crear saturación de memoria.. Esta constante se utiliza para personalizar la gestión de las cachés de memoria. |




<a name="SYNTAX2"></a>

### Modificar el valor de un parámetro

`<Result> = <Connection>.SetServer(<Option> , <Value>)`
---

**`<Result>: (Cadena de caracteres)`**



- Valor anterior de la opción,

- Cadena vacía ("") si se produce un error.




**`<Connection>: (Variable de tipo Connection)`**

Nombre de la [Conexión](../WDLang4/1514073.md) Variable que describe la conexión con el servidor para el que se debe modificar el valor de &lt;Opción&gt;.

**`<Option>: (Constante de tipo Integer)`**

Especifica la opción a conocer. Estas opciones se almacenan en el archivo [HFConf.ini](../WDLang4/3044345.md), en la raíz del servidor.

**Observación**: En la página de [HFConf.ini](../WDLang4/3044345.md) se puede encontrar una description detallada de cada parámetro

- Lista de opciones para un uso estándar: 
	**Observación**: La modificación de estas opciones realizada con la función **&lt;Variable Connection&gt;.SetServer** se tiene en cuenta sin necesidad de reiniciar el servidor.
	


|   |   |
| --- | --- |
| *hActiveDirectory* | &lt;Habilitar&gt; parámetro de la sección ACTIVEDIRECTORIO del archivo HFConf.Ini.<br>Habilitar la autenticación a través de Active Directory. <br>Valor:<br><br>	- 0, la autenticación a través del directorio Active no está habilitada,<br><br>	- 1, la autenticación a través del Directorio Active está habilitada.<br><br><br> |
| *hActivityStatisticsPath* | &lt;Ruta estadística&gt; parámetro del archivo HFConf.Ini.<br>Ruta de los ficheros para las estadísticas de actividad. El ruta se crea en el servidor si no existe.<br>Las estadísticas se guardan y se reinician. |
| *hActivityStatisticsPeriod* | &lt;Período Estadístico&gt; parámetro del archivo HFConf.Ini.<br>Indica el período (en segundos) entre cada copia de seguridad de los valores de los diferentes contadores de actividad..<br>Este valor debe ser mayor o igual que 1, de lo contrario no se realiza ninguna modificación..<br>Las estadísticas se guardan y se reinician.<br>Tiene la posibilidad de especificar 0 para dejar de recopilar estadísticas. |
| *hAutoStatisticalCalc* | &lt;Habilitar&gt; parámetro de la sección AUTOANÁLISIS del archivo HFConf.Ini.<br>Habilitar el cálculo de la estadística automatic para los archivos de datos (optimización de los índices). <br>Valor:<br><br>	- 0, el cálculo estadístico de automatic no está activado,<br><br>	- 1, el cálculo estadístico de automatic está activado.<br><br><br> |
| *hFindKey* | &lt;KeySearch&gt; parámetro del archivo HFConf.Ini.<br>Habilitar la búsqueda de claves. <br>Valor: <br><br>	- 0, la búsqueda de claves de automatic no está activada,<br><br>	- 1, la búsqueda de claves de automatic está activada.<br><br><br> |
| *hkaInterval* | &lt;KeepAliveInterval&gt; parámetro del archivo HFConf.Ini.<br>Tiempo máximo (en segundos) después del cual, si no se establece comunicación entre el servidor y el cliente, el servidor comprobará la presencia del cliente..<br>Este parámetro es set a 30 minutos por Default. |
| *hkaTimeout* | &lt;KeepAliveTimeout&gt; parámetro del archivo HFConf.Ini.<br>Tiempo máximo de espera (en segundos) para el servidor al comprobar la presencia del cliente. Si el cliente no se encuentra al final de este tiempo de espera, el cliente se desconecta automáticamente.<br>Este parámetro es set a 2 minutos por Default. |
| *hLogLevel* | &lt;ServerLogLevels&gt; parámetro del archivo HFConf.Ini.<br>Define los elementos que deben estar en el archivo de registro. |
| *hLogPath* | &lt;ServerLogPath&gt; parámetro del archivo HFConf.Ini.<br>Ruta de los archivos de registro. El ruta se crea en el servidor si no existe. |
| *hMaxActivityStatisticsSize* | &lt;Size&gt; parámetro del archivo HFConf.Ini<br>Tamaño máximo de un archivo para estadísticas de actividad (en MB).<br>Este valor debe ser mayor o igual que 1, de lo contrario no se realiza ninguna modificación..<br>Las estadísticas se guardan y se reinician. |
| *hMaxLogSize* | &lt;ServerLogMaxSize&gt; parámetro del archivo HFConf.Ini.<br>Tamaño máximo de un archivo de registro (en MB).<br>Este valor debe ser mayor o igual que 1, de lo contrario no se realiza ninguna modificación. |
| *hMaxNumberConnection* | &lt;Número máximo de conexiones&gt; parámetro del archivo HFConf.ini<br>Número máximo de conexiones permitidas por aplicación. Este número viene determinado por el número de aplicaciones (procesos) con al menos una conexión no superusuario en el servidor.. Por ejemplo: <br><br>	- una aplicación que ha abierto una sola conexión en modo superusuario cuenta como cero.<br><br>	- una aplicación que ha abierto una única conexión con un usuario de Normal cuenta como 1. <br><br>	- una aplicación que ha abierto dos conexiones de un usuario de Normal cuenta como 1.<br><br>	- una aplicación que ha abierto conexiones de superusuario y usuario de Normal cuenta como 1. <br><br><br><br><br>Según Default, este parámetro es 0 (sin límite). |
| *hNdxCacheSize* | &lt;NdxCacheSize&gt; parámetro del archivo HFConf.Ini.<br>Tamaño de la caché de índices (en MB).<br>Este valor debe ser mayor o igual que 1, de lo contrario no se realiza ninguna modificación. |
| *hTelemetryEnable* | Parámetro &lt;Active&gt; de la sección TELEMETRY del archivo HFConf.ini<br>Configurar la transmisión de datos sobre el uso del servidor HFSQL para mejorar el producto.. <br>Valor:<br><br>	- 1 si la transmisión de datos (telemetría) fue habilitada al instalar el servidor HFSQL,<br><br>	- 0 si la transmisión de datos (telemetría) fue rechazada al instalar el servidor HFSQL,<br><br>	- otro valor si no se hizo ninguna elección durante la instalación en cuanto al uso de la telemetría. La pregunta se volverá a hacer durante la próxima instalación del servidor HFSQL.<br><br><br>Observación: Si la sección "TELEMETRÍA" no existe en el archivo HFConf.ini, la transmisión de datos sobre el uso del producto no está habilitada para el servidor HFSQL.. |
| *hTempDirectory* | &lt;TmpPath&gt; parámetro del archivo HFConf.Ini.<br>Ruta del directorio temporal. Este directorio se utiliza para crear los archivos temporales si es necesario (archivos temporales creados al reindexar archivos de datos grandes, por ejemplo)..<br>El ruta se crea en el servidor si no existe. |



- Lista de opciones para un uso avanzado:
	**Observación**: La modificación de estas opciones mediante la función **&lt;Variable Connection&gt;.SetServer** se tendrá en cuenta la próxima vez que se inicie el servidor.
	


|   |   |
| --- | --- |
| *hDaemonUser* | &lt;DaemonUser&gt; parámetro del archivo HFConf.Ini.<br>Nombre de usuario que será utilizado por el servidor. |
| *hDatabasePath* | &lt;DBRootPath&gt; parámetro del archivo HFConf.Ini.<br>Ruta del directorio que contiene todas las bases de datos (es decir, los ficheros de datos de las diferentes aplicaciones de HFSQL Client/Server). <br>El ruta se crea en el servidor si no existe al reiniciar el servidor. |
| *hJNLBackupPath* | &lt;JNLBackupRootPath&gt; parámetro del archivo HFConf.Ini.<br>Ruta del directorio que contiene la copia de seguridad de los registros.<br>El ruta se crea en el servidor si no existe al reiniciar el servidor. |
| *hJNLPath* | &lt;JNLRootPath&gt; parámetro del archivo HFConf.Ini<br>Ruta del directorio que contiene todos los logs de las diferentes aplicaciones de HFSQL Client/Server.<br>El ruta se crea en el servidor si no existe al reiniciar el servidor. |
| *hMode2GB* | &lt;Más de 2 GB&gt; parámetro del archivo HFConf.Ini.<br>Especifica si el tamaño de las tablas del sistema puede superar los 2 GB. <br>Observación: el sistema operativo debe soportar los archivos que superen los 2 GB. |
| *hServerPort* | &lt;AccessPort&gt; parámetro del archivo HFConf.Ini.<br>Puerto de red utilizado. |
| *hWindowsDiskCacheSize* | &lt;WindowsFileCacheSize&gt; parámetro del archivo HFConf.ini<br>Modo para administrar el tamaño de la caché de disco de Windows. <br>Valor:<br><br>	- -1 para un tamaño que se calcula automáticamente,<br><br>	- 0 para un tamaño de caché ilimitado,<br><br>	- un valor positivo indica un tamaño de caché personalizado.<br><br><br>Observación: La gestión estándar de las cachés de disco de Windows en modo de 64 bits (independientemente de HFSQL) puede crear saturación de memoria.. Esta constante se utiliza para personalizar la gestión de las cachés de memoria. |



- Lista de opciones para el balanceo de carga:
	
	**Observación**: La modificación de estas opciones realizada con la función **&lt;Variable Connection&gt;.SetServer** se tiene en cuenta sin necesidad de reiniciar el servidor.
	


|   |   |
| --- | --- |
| *hlbActive* | &lt;LoadEnable&gt; parámetro del archivo HFConf.Ini.<br>Indica si el balanceo de carga está habilitado o no.<br><br>	- <u><u><u><u>True</u></u></u></u> si se debe activar el balanceo de carga,<br><br>	- <u><u><u><u>False</u></u></u></u> en caso contrario.<br><br><br> |
| *hlbClientCalls* | &lt;LoadCoeffCall&gt; parámetro del archivo HFConf.Ini.<br>Coeficiente global para el número de llamadas de clientes.<br>Este valor (incluido entre -100 y 100) aumenta o reduce el coeficiente aplicado al contador para las llamadas del cliente al servidor. |
| *hlbDisk* | &lt;LoadCoeffDisk&gt; parámetro del archivo HFConf.Ini.<br>Coeficiente global para el número de bytes leídos o escritos en el disco.<br>Este valor (incluido entre -100 y 100) aumenta o reduce el coeficiente aplicado al contador de los bytes leídos o escritos en disco por el servidor. |
| *hlbDiskAccess* | &lt;LoadCoeffDiskAccess&gt; parámetro del archivo HFConf.Ini.<br>Coeficiente global del número de accesos al disco.<br>Este valor (incluido entre -100 y 100) aumenta o reduce el coeficiente aplicado al contador para el número de accesos al disco. |
| *hlbMaxTimeout* | &lt;LoadMaxWait&gt; parámetro del archivo HFConf.Ini.<br>Tiempo máximo (en ms) durante el cual una petición al servidor puede ser detenida temporalmente por el sistema para el balanceo de carga antes de ser procesada. |
| *hlbReceived* | &lt;LoadCoeffRecv&gt; parámetro del archivo HFConf.Ini.<br>Coeficiente global para el número de bytes recibidos en la red.<br>Este valor (incluido entre -100 y 100) aumenta o reduce el coeficiente aplicado al contador de los bytes recibidos por el servidor. |
| *hlbSent* | &lt;LoadCoeffSend&gt; parámetro del archivo HFConf.Ini.<br>Coeficiente global para el número de bytes enviados a través de la red.<br>Este valor (incluido entre -100 y 100) aumenta o reduce el coeficiente aplicado al contador de los bytes enviados por el servidor. |






**`<Value>: (Variant)`**

Nuevo valor para la opción especificada.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Observaciones


### Balanceo de carga dinámico
<a name="balanceo_carga_dinamico_ELTPARAGRAPHE000861"></a>

Los coeficientes se utilizan para modificar la importancia de cada contador en la fórmula para calcular la carga generada por un usuario en el servidor.

- Un valor igual a 1, 0 o -1 no modifica el coeficiente.

- Un valor superior a 100 equivale a 100.

- Un valor inferior a -100 equivale a -100.



<a name="NOTE0_2"></a>


### Gestión de registros
<a name="gestion_registros_ELTPARAGRAPHE000875"></a>

La información sobre los registros puede ser modificada sin reiniciar el servidor.. Le aconsejamos que modifique la ruta de los logs antes de habilitarlos.. De lo contrario, los registros se escribirán en el directorio de Default entre la activación y el cambio de ruta.

<a name="XComponent"></a>

## Clasificación Lógica de negocio / UI:
Lógica de negocio
## Componente:
wd280hf.dll
