
## Gestionar los identificadores automáticos al añadir un Record 
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000171"></a>


### Recordatorio
<a name="recordatorio_ELTPARAGRAPHE000011"></a>

Existen tres modos de gestión de los identificadores automáticos al añadir un Record en un archivo de datos HFSQL ([HAdd](../WDLang4/3044147.md)):

- [El identificador automatic calculado por el motor HFSQL](#NOTE2_1).

- [identificador forzado de automatic](#NOTE3_1).

- [identificador fijo de automatic](#NOTE4_1).








<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## El identificador automatic calculado por el motor HFSQL
<a name="identificador_automatic_calculado_por_motor_hfsql_ELTTEXTE000201"></a>
El identificador automatic es calculado por el motor HFSQL para cada adición. Este identificador es único para cada Record del archivo de datos.<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=IDAUTOAJOUT1.gif)


Ejemplo: Añadiendo un Record en el archivo de CLIENTES.

Cuando se añade el Record, el identificador automatic CUSTOMERID es automatic ally calculado por el motor HFSQL.

El último valor del identificador automatic fue set a **6**. El valor del identificador automático para este nuevo Record será set a **7** .

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Identificador automático forzado (hForceIDAuto)
<a name="identificador_automatico_forzado_hforceidauto_ELTTEXTE000225"></a>
El identificador automático no se calcula al agregar registros. El identificador corresponde a:

- el valor asignado al elemento mediante programación (por ejemplo, CUSTOMERID = 7).

- el valor predeterminado del identificador que se especificó en el editor de análisis (si el archivo de datos acaba de abrirse, sin que se haya leído ningún registro).

- el valor del identificador que se encuentra en la memoria (valor del identificador para la última Record leída en el archivo).




Una vez que se añade el Record, se calculará el siguiente identificador automatic calculado por Default por el motor HFSQL:

- según el último valor del identificador automatic.

- sin tener en cuenta el valor añadido de hForceIDAuto.




Este modo de gestión del identificador automatic es useful cuando los registros se copian entre varios alias de un archivo de datos. Sin embargo, se debe utilizar con mucho cuidado, ya que podría generar errores de duplicidad.

![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=IDAUTOAJOUT2.gif)![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=IDAUTOAJOUT2_BIS.Gif)

Ejemplo: Añadiendo un Record con el identificador forzado de automatic en el archivo de CLIENTES.

Se añaden dos registros al fichero CLIENTE:

- un Record cuyo identificador automatic es forzado a 15.

- un Record cuyo identificador automatic es calculado por el motor HFSQL. El identificador automático de esta Record se calculará según el último valor del identificador (7 en nuestro ejemplo).




En este ejemplo, no se generará ningún error duplicado hasta que el valor del identificador automatic sea set a 15: al agregar este registro, se producirá un error de duplicado.

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Identificador fijo de automatic (hSetIDAuto)
<a name="identificador_fijo_automatic_hsetidauto_ELTTEXTE000249"></a>
El identificador automático no se calcula al agregar registros. El identificador corresponde a:

- el valor asignado al elemento mediante programación (por ejemplo, CUSTOMERID = 7). 

- el valor predeterminado del identificador que se especificó en el editor de análisis (si el archivo de datos acaba de abrirse, sin que se haya leído ningún registro). 

- el valor del identificador en la memoria (valor del identificador del último registro leído en el archivo de datos).




Una vez que se añade la Record, el siguiente identificador de automatic calculado por Default por el motor HFSQL se calculará de acuerdo con el mayor valor del identificador encontrado en el archivo de datos. No puede producirse ningún error duplicado en el identificador único.

Ejemplo: Añadiendo un Record con un identificador fijo de automatic en el archivo de CLIENTES.
<br>![](https://doc.pcsoft.fr/en-US/images/image.awp?langid=7&name=IDAUTOAJOUT3.gif)


Caso #1: Se añaden dos registros al fichero CLIENTE:

- un Record cuyo identificador automatic es forzado a 3.

- un Record cuyo identificador automatic es calculado por el motor HFSQL. El identificador automatic de este Record se calculará de acuerdo con el mayor valor del identificador automatic del archivo (7).




Caso #2: Se añaden dos registros al fichero CLIENTE:

- un Record cuyo identificador automatic está forzado a 10.

- un Record cuyo identificador automatic es calculado por el motor HFSQL. El identificador automatic de este Record se calculará de acuerdo con el mayor valor del identificador automatic del archivo (10).





