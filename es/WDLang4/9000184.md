
## Keep-alive en la conexión
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Presentación
<a name="presentacion_ELTTEXTE000081"></a>
La conexión a la base de datos puede interrumpirse en cualquier momento a nivel de "hardware".: Falta cable, dispositivo en espera, conexión WiFi interrumpida, etc.

Cuando se pierde una conexión, el estándar TCP/IP no hace nada.. El servidor espera la posible comunicación del cliente.

HFSQL Client/Server le permite definir un timeout o más precisamente un time-to-live (TTL). 

Esto le permite definir la frecuencia con la que el servidor verificará la presencia del cliente. Sin respuesta del cliente, la conexión se cierra y las transacciones actuales se liberan: se acabaron las conexiones "fantasma" gracias a los dispositivos móviles!

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## ¿Cómo proceder?
<a name="¿como_proceder_ELTTEXTE000105"></a>
Para configurar el keep-alive on connection en un servidor HFSQL: 

- Mediante programación: utilizar [HSetServer](../WDLang4/3044359.md) asociada a las constantes *hkaInterval* y *hkaTimeout*: 

	- la constante **hkaInterval** se utiliza para definir el tiempo máximo (en segundos) después del cual, si no se establece comunicación entre el servidor y el cliente, el servidor comprobará la presencia del cliente. Esta vez es set a 30 minutos por Default. 

	- la constante **hkaTimeout** permite definir el tiempo de espera del servidor para verificar la presencia del cliente. Si el cliente no se encuentra al final de este tiempo de espera, el cliente se desconecta automáticamente (lado del servidor).. Esta duración es set a 2 minutos por Default. 




- A través del archivo HFConf.INI:

	- los **KeepAliveInterval** La palabra clave de la sección INIT se utiliza para definir el tiempo máximo (en segundos) después del cual, si no se establece comunicación entre el servidor y el cliente, el servidor comprobará la presencia del cliente.. Esta vez es set a 30 minutos por Default. 

	- la palabra clave **KeepAliveTimeout** de la sección INIT permite definir el tiempo de espera del servidor para verificar la presencia del cliente. Si el cliente no se encuentra al final de este tiempo de espera, el cliente se desconecta automáticamente (lado del servidor).. Esta duración es set a 2 minutos por Default. 








