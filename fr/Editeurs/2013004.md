


## Traduction des messages de programmation
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000324"></a>
Lors de la réalisation d'une application multilingue, vous avez la possibilité de saisir la traduction des différents messages affichés depuis le code à l'utilisateur (messages affichés par les fonctions [Info](../WDLang1/3021011.md) et [OuiNon](../WDLang1/3021005.md) par exemple).

Cette traduction est réalisée et saisie dans la fenêtre des messages traduits.

Chaque message traduit correspond alors à une "ressource". 

A partir de la version 27, la gestion des chaînes multilingues utilise une nouvelle technologie. Cette nouvelle technologie permet d'optimiser la gestion des chaînes multilingues dans les cas suivants : 

- fusion de branches dans le GDS, 

- gestion des messages dans les modèles,

- gestion des messages multilingues "liés" à plusieurs éléments. 


Les projets créés avec la version 27 profitent automatiquement de cette nouvelle technologie. Pour les projets créés avec une version précédente, le changement de technologie est réalisé à l'aide d'un assistant spécifique. Pour plus de détails, consultez [Assistant de migration des messages multilingues](../Editeurs/9000206.md). 

Remarque : Cette page d'aide présente la traduction des messages multilingues via la nouvelle technologie. Si vous utilisez l'ancienne technologie, consultez [Traduire les messages (format 26 et antérieur)](#NOTE2B_1).

**Remarque** : Pour plus de détails sur le développement et la programmation d'une application multilingue, consultez [Applications multilingues](../WDLang1/3054008.md).

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Traduire les messages (format 27 et supérieur)
<a name="traduire_les_messages_format_27_superieur_ELTTEXTE000348"></a>


### Traduire le message en cours de saisie (messages au format 27 et supérieur)
<a name="traduire_message_cours_saisie_messages_format_27_superieur_ELTPARAGRAPHE000051"></a>Pour traduire le message en cours de saisie :

1. Sélectionnez le texte à traduire.

2. Sélectionner l'option "Traduire" du menu contextuel. La fenêtre de traduction des messages s'affiche.
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Traduction_messages_hc3.gif)


3. Saisissez la traduction du message et validez.
	L'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Projet_multilangue%20-%20HC%20N%B0003%201.gif)
 présente dans le libellé de la langue permet d'afficher un menu permettant de simplifier les traductions. Pour plus de détails, consultez [Saisie de textes multilingues](../WDLang1/1000020822.md).

4. Une icône apparaît à droite du message traduit. Cette icône indique que le message en cours est un message multilingue. L'icône permet d'accéder rapidement à la fenêtre de traduction.![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=code-drapeau.gif)
Le survol de l'icône affiche dans une bulle les différentes traductions existantes pour la chaîne dans toutes les langues du projet.![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Code_drapeau18.gif)





**Remarque** : Si votre application gère des langues utilisant des alphabets spécifiques, il est nécessaire de saisir la traduction des différents messages multilingues en utilisant ces alphabets spécifiques. Pour plus de détails, consultez [Gérer les alphabets spécifiques dans une application multilingue](../WDLang1/3054009.md).


### Gestion des messages utilisés plusieurs fois
<a name="gestion_des_messages_utilises_plusieurs_fois_ELTPARAGRAPHE000077"></a>La réutilisation d'un même message dans différents traitements reste possible : il suffit pour cela de déclarer une [Constante](../Motscles/1514012.md) dans le projet. 

1. Déclarez et définissez la valeur de la constante. 
	Par exemple : 
	
	```wl
	CONSTANTE
		PhraseFermeture = "Vous allez quitter cette application."
	FIN
	```
Dans ce code, la constante contient la chaîne multilingue à partager. 

2. Utilisez la constante dans les différents codes où le message doit être utilisé.  

3. Utilisez la fonction [Nation](../WDLang1/3054014.md) pour changer dynamiquement la langue de l'application. La valeur de la constante s'adaptera automatiquement à la langue spécifiée avec la fonction [Nation](../WDLang1/3054014.md). 




Rappel : La fonction [Nation](../WDLang1/3054014.md) permet de changer la langue de la totalité de l'application (UI, code, valeurs des constantes, ...).

**Attention** : L'utilisation des constantes pour gérer la réutilisation des messages multilingues ne doit pas être systématique. Par exemple, si vous utilisez l'outil WDTRAD pour gérer la traduction de vos applications, il est possible d'utiliser la fonctionnalité de traduction automatique permettant de reporter la traduction lorsque des chaînes sont identiques. La traduction ne reste donc à faire qu'une seule et unique fois.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Manipulation des messages
<a name="manipulation_des_messages_ELTTEXTE000405"></a>


### Convertir les chaînes de caractères présents dans le code en messages multilingues
<a name="convertir_les_chaines_caracteres_presents_dans_code_messages_multilingues_ELTPARAGRAPHE000086"></a>Pour convertir les chaînes de caractères présents dans le code en messages multilingues :

1. Sous le volet "Code", dans le groupe "Langues", déroulez "Traduire les chaînes" et sélectionnez "Convertir les chaînes simples en messages multilingues".

2. Sélectionnez les éléments dans lesquels la conversion doit être effectuée.

3. Pour chaque chaîne de caractères trouvé, l'éditeur propose de convertir ou non cette chaîne en message multilingue.
	Remarque : Si l'option "Réutiliser les messages existants" est cochée, les messages multilingues identiques correspondront à la même ressource.

4. Validez la conversion.



<a name="NOTE2_3"></a>


### Parcourir les différents messages à traduire présents dans les différents éléments d'un projet
<a name="parcourir_les_differents_messages_traduire_presents_dans_les_differents_elements_projet_ELTPARAGRAPHE000112"></a>Pour parcourir les différents messages à traduire présents dans les différents éléments d'un projet :

1. Affichez la fenêtre de saisie des messages traduits : sous le volet "Code", dans le groupe "Langues", déroulez "Traduire les chaînes" et sélectionnez "Traduction des messages" (ou utilisez les touches Ctrl + T).

2. Sélectionnez l'élément contenant les ressources (messages à traduire).

3. Utilisez les différents boutons fléchés pour parcourir les ressources. A tout moment il est possible de modifier les messages, ou d'ajouter de nouveaux messages.



<a name="NOTE2_4"></a>


### Faire une recherche dans les différents messages traduits
<a name="faire_une_recherche_dans_les_differents_messages_traduits_ELTPARAGRAPHE000135"></a>Pour faire une recherche dans les différents messages traduits :

1. Activez la recherche : sous le volet "Accueil", dans le groupe "Rechercher", déroulez "Rechercher" et sélectionnez "Rechercher" (ou utilisez le raccourci Ctrl + F). Le volet "Rechercher - Remplacer" s'affiche.

2. Spécifiez le texte à rechercher.

3. Spécifiez les options : 

	- Recherche dans le code. 

	- Dans les options avancées (![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_VoletRech_avance.gif)
), indiquez que la recherche doit être faite dans les chaînes multilingues du code. 






<a name="NOTE2_5"></a>


### Rechercher et supprimer les messages inutilisés
<a name="rechercher_supprimer_les_messages_inutilises_ELTPARAGRAPHE000163"></a>Pour rechercher et supprimer les messages inutilisés :

1. Sous le volet "Code", dans le groupe "Langues", déroulez "Traduire les chaînes" et sélectionnez "Rechercher les messages inutilisés". L'assistant d'optimisation des messages multilingues se lance.

2. Sélectionnez les messages inutilisés et validez l'assistant pour supprimer les messages sélectionnés.




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Caractéristiques du message à traduire
<a name="caracteristiques_message_traduire_ELTTEXTE000447"></a>


### Caractéristiques
<a name="caracteristiques_ELTPARAGRAPHE000187"></a>

- Un message dans une application doit être traduit dans toutes les langues sélectionnées pour le projet.

- Un message peut être constitué de plusieurs lignes.

- Un message peut comporter des caractères spéciaux (tabulation par exemple).

- Pour saisir les caractères spéciaux, il faut saisir le code ASCII équivalent. Pour cela, il faut utiliser le pavé numérique et taper le code ASCII correspondant (par exemple Alt + 09 pour une tabulation).



<a name="NOTE4_2"></a>


### Afficher un message dans une langue non gérée
<a name="afficher_message_dans_une_langue_non_geree_ELTPARAGRAPHE000197"></a>En exécution, si la traduction d'un message n'a pas été effectuée pour la langue spécifiée (c'est-à-dire si le message n'est pas associé à cette langue), le mécanisme des langues préférées permet d'afficher l'information voulue dans une autre langue, proche de celle voulue.

Pour plus de détails sur le mécanisme des langues préférées, consultez [Gestion de la langue de l'application par programmation](../WDLang1/3054012.md).

<a name="NOTE2B"></a>
<a name="NOTE2B_1"></a>


## Traduire les messages (messages au format 26 et antérieur)
<a name="traduire_les_messages_messages_format_26_anterieur_ELTTEXTE000477"></a>


### Traduire le message en cours de saisie (messages au format 26 et antérieur)
<a name="traduire_message_cours_saisie_messages_format_26_anterieur_ELTPARAGRAPHE000211"></a>Pour traduire le message en cours de saisie :

1. Sélectionnez le texte à traduire.

2. Sélectionner l'option "Traduire" du menu contextuel. La fenêtre de traduction des messages s'affiche.
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Code_Message_multi.gif)


3. Saisissez la traduction du message et validez.
	L'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Projet_multilangue%20-%20HC%20N%B0003%201.gif)
 présente dans le libellé de la langue permet d'afficher un menu permettant de simplifier les traductions. Pour plus de détails, consultez [Saisie de textes multilingues](../WDLang1/1000020822.md).
	**Remarque** : L'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=MessTRaduit_Loupe.gif)
 permet de rechercher un message. Le volet "Rechercher - Remplacer" s'affiche avec toutes les options nécessaires.

4. Une icône apparaît à droite du message traduit. Cette icône indique que le message en cours est un message multilingue. L'icône permet d'accéder rapidement à la fenêtre de traduction.![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=code-drapeau.gif)
Le survol de l'icône affiche dans une bulle les différentes traductions existantes pour la chaîne dans toutes les langues du projet.![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Code_drapeau18.gif)





**Remarque** : Si votre application gère des langues utilisant des alphabets spécifiques, il est nécessaire de saisir la traduction des différents messages multilingues en utilisant ces alphabets spécifiques. Pour plus de détails, consultez [Gérer les alphabets spécifiques dans une application multilingue](../WDLang1/3054009.md).


### Messages multilingues reliés
<a name="messages_multilingues_relies_ELTPARAGRAPHE000241"></a>Un message multilingue peut être copié/collé à plusieurs emplacements dans plusieurs traitements ou événements d'un même projet. 

Deux possibilités sont proposées pour la copie du message multilingue : 

- le message est directement copié, sans conserver le lien avec le message d'origine (cas par défaut). 

- le message est collé et les messages restent liés : la modification d'un message modifie également les autres messages liés. 




Pour conserver le lien : 

1. Copiez le message initial (Ctrl + C). 

2. Positionnez-vous dans le code de l'élément où le message doit être collé. 

3. Sous le volet "Accueil", dans le groupe "Edition", déroulez "Coller" et sélectionnez "Collage spécial". 

4. Le message est collé et le lien est conservé. 


Lorsque le lien est conservé, un pictogramme spécifique signale que le message multilingue est utilisé à plusieurs endroits dans le code.
![Le pictogramme indique que ce message est utilisé à plusieurs endroits dans le code. Une modification aura donc un impact dans toutes les utilisations](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=MsgMultilanguesRelies.gif)


Dans ce cas, la fenêtre de gestion des messages multilingues (ouverte par la combinaison de touches Ctrl + T utilisée sur le message) permet de connaître les différentes utilisations du message (icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=MessTraduit_refcroisees.gif)
).


