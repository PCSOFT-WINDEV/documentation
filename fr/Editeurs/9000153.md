


## Gestion des agencements en WINDEV et WINDEV Mobile
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000427"></a>
L'agencement permet de définir plusieurs vues d'une fenêtre dans un même projet sans dupliquer cette fenêtre. 

**Dans une application WINDEV ou WINDEV Mobile**, il est ainsi par exemple possible de définir : 

- une vue spécifique pour le mode portrait, 

- une vue spécifique pour le mode paysage, 

- une vue spécifique au téléphone, 

- une vue spécifique à la tablette, 

- ...




En exécution, il est possible de : 

- sélectionner l'agencement à afficher grâce à la fonction [FenChangeAgencement](../WDLang1/1000021056.md). 

- connaître l'agencement en cours grâce à la fonction [FenAgencementEnCours](../WDLang1/1000021133.md).




Cette page d'aide présente : 

- ![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png) [Comment créer un agencement pour une fenêtre WINDEV Mobile](#NOTE2_1). 

- [Comment créer un agencement pour une fenêtre WINDEV](#NOTE2_2).

- [Comment créer un agencement pour une fenêtre interne](#NOTE2_3).

- [Comment manipuler les agencements sous l'éditeur](#NOTE3_1). 

- [Comment gérer les agencements en exécution](#NOTE4_1). 




Remarque : Il est également possible de créer des agencements dans les projets WEBDEV pour créer des sites "mobile friendly". Pour plus de détails, consultez [Agencements WEBDEV](../Editeurs/1410086642.md).

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Mise en place
<a name="mise_place_ELTTEXTE000451"></a>
![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png) 

### Créer un nouvel agencement pour une fenêtre WINDEV Mobile
<a name="creer_nouvel_agencement_pour_une_fenetre_windev_mobile_ELTPARAGRAPHE000070"></a>Pour créer un nouvel agencement pour une fenêtre : 

1. Ouvrez la fenêtre concernée sous l'éditeur. 

2. Sous le volet "Fenêtre", dans le groupe "Agencements", déroulez "Agencements" et sélectionnez l'option "Ajouter des agencements". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Agencement%201%20-%20HC%20N%B0001.jpg)


3. L'assistant d'ajout d'un agencement se lance. Passez si nécessaire l'étape de présentation. 

4. L'assistant propose de gérer les différences entre le téléphone et la tablette. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Agencement%201%20-%20HC%20N%B0002.jpg)
Il est possible de : 

	- Choisir uniquement la plateforme en cours (téléphone uniquement ou tablette uniquement). 

	- Créer des agencements (car la disposition des champs est différente sur la tablette et sur le téléphone). 

	- Utiliser uniquement les ancrages (car les ancrages suffisent pour repositionner les champs dans la fenêtre suivant sa taille). 




5. Passez à l'étape suivante de l'assistant. 

6. L'assistant propose de gérer l'orientation Portrait/Paysage de l'application. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Agencement%201%20-%20HC%20N%B0003.jpg)
Il est possible de : 

	- Créer des agencements (car la disposition des champs est différente sur la tablette et sur le téléphone). 

	- Utiliser uniquement les ancrages (car les ancrages suffisent pour repositionner les champs dans la fenêtre suivant son orientation).




7. Passez à l'étape suivante de l'assistant. 

8. L'assistant propose d'utiliser une présentation différente pour chaque plateforme utilisée (par exemple, une présentation sous iOS et une présentation sous Android). <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Agencement%201%20-%20HC%20N%B0004.jpg)


9. Sélectionnez l'option voulue et passez à l'étape suivante de l'assistant. 

10. Validez l'assistant. 

11. Si nécessaire les différents agencements sont créés. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Agencement%201%20-%20HC%20N%B0005.jpg&type=thumb)


12. L'éditeur affiche sur la droite les différents agencements disponibles pour la fenêtre. Un double-clic sur la pastille de l'agencement voulu permet de l'afficher sous l'éditeur pour le modifier. 




Astuce : 

- La création d'un agencement se base sur la plateforme d'édition en cours. Il est plus rapide de se placer sur l'agencement le plus proche graphiquement pour limiter les modifications. 

- Pour personnaliser les champs des différents agencements, il est recommandé de commencer par l'agencement le plus grand et le plus complet puis de créer les autres agencements en réduisant ou en masquant des éléments. 



<a name="NOTE2_2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Créer un nouvel agencement pour une fenêtre WINDEV
<a name="creer_nouvel_agencement_pour_une_fenetre_windev_ELTPARAGRAPHE000125"></a>Pour créer un nouvel agencement pour une fenêtre : 

1. Ouvrez la fenêtre concernée sous l'éditeur. 

2. Sous le volet "Fenêtre", dans le groupe "Agencements", déroulez "Agencements" et sélectionnez l'option "Ajouter des agencements". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Agencement%201%20-%20HC%20N%B0001.jpg)


3. **Si le projet WINDEV ne contient pas de plateforme mobile**, la fenêtre de création d'un agencement s'affiche. Cliquez sur "Ajouter" pour ajouter un nouvel agencement. 

4. **Si le projet WINDEV contient au moins une plateforme mobile**, l'assistant d'ajout d'un agencement se lance. Passez si nécessaire l'étape de présentation. 

	1. L'assistant propose de gérer les différences entre le téléphone et la tablette. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Agencement%201%20-%20HC%20N%B0002.jpg)
Il est possible de : 

		- Choisir uniquement la plateforme en cours (téléphone uniquement ou tablette uniquement). 

		- Créer des agencements (car la disposition des champs est différente sur la tablette et sur le téléphone). 

		- Utiliser uniquement les ancrages (car les ancrages suffisent pour repositionner les champs dans la fenêtre suivant sa taille). 




2. Passez à l'étape suivante de l'assistant. 

3. L'assistant propose de gérer l'orientation Portrait/Paysage de l'application. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Agencement%201%20-%20HC%20N%B0003.jpg)
Il est possible de : 

	- Créer des agencements (car la disposition des champs est différente sur la tablette et sur le téléphone). 

	- Utiliser uniquement les ancrages (car les ancrages suffisent pour repositionner les champs dans la fenêtre suivant son orientation).

5. L'éditeur affiche sur la droite les différents agencements disponibles pour la fenêtre. Un double-clic sur la pastille de l'agencement voulu permet de l'afficher sous l'éditeur pour le modifier. 



<a name="NOTE2_3"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Créer un nouvel agencement pour une fenêtre interne
<a name="creer_nouvel_agencement_pour_une_fenetre_interne_ELTPARAGRAPHE000175"></a>En mobile, de nombreuses fonctionnalités utilisent des fenêtres internes : fenêtre de détail dans une table, rendez-vous dans un champ Planning, ...

L'utilisation des agencements sur les fenêtres internes permet principalement de proposer une interface pour le mode portrait et le mode paysage. 

Pour créer un nouvel agencement pour une fenêtre interne : 

1. Ouvrez la fenêtre interne concernée sous l'éditeur. 

2. Sous le volet "Fenêtre", dans le groupe "Agencements", déroulez "Agencements" et sélectionnez l'option "Ajouter des agencements". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Agencement%201%20-%20HC%20N%B0001.jpg)


3. La fenêtre d'ajout d'agencements apparaît. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Agencement_FI%20-%20HC%20N%B0001.gif&type=thumb)
Cliquez sur "Créer" pour ajouter un nouvel agencement. 

4. Validez la fenêtre. 

5. L'éditeur affiche sur la droite les différents agencements disponibles pour la fenêtre interne. 

	- Un double-clic sur la pastille de l'agencement voulu permet de l'afficher sous l'éditeur pour le modifier. 

	- L'option "Description" du menu contextuel de la barre de titre de l'agencement permet de définir les paramètres de l'agencement. 











<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Manipulations des agencements
<a name="manipulations_des_agencements_ELTTEXTE000487"></a>


### Gestion des champs dans les agencements
<a name="gestion_des_champs_dans_les_agencements_ELTPARAGRAPHE000213"></a>Par défaut, la dissociation automatique est activée (![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Agencement_Page_manip%20-%20HC%20N%B0001.gif)) : 

- Un champ créé dans un agencement est créé dans tous les agencements, avec les mêmes caractéristiques (taille, position, etc.). 

- Un champ déplacé (ou redimensionné) dans un agencement est déplacé (ou redimensionné) uniquement dans l'agencement en cours. 

- La dissociation automatique est activée par défaut pour tous les champs. Lorsque ce mode est activé, toute modification de taille ou de position effectuée sur un champ d'une des fenêtres spécifiques de l'agencement ne sera pas reportée sur les autres. 




Pour qu'une modification de champ (position ou taille) soit reportée dans tous les agencements, il est possible d'enlever la dissociation automatique (![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Agencement_Page_manip%20-%20HC%20N%B0002.gif)) : la prochaine modification de taille ou de position sera effectuée sur tous les agencements. Un triangle rouge peut apparaître lors de la sélection d'un champ. Il indique que le champ est dissocié, et que sa modification affectera uniquement l'agencement en cours. 

**Conseil** : Des toast apparaissent régulièrement pour vous informer de l'influence des modification du champ dans les autres agencements en fonction de l'activation ou non de la dissociation automatique et / ou des options de dissociation du champ. 
<a name="NOTE3_2"></a>


### Menu contextuel des champs spécifique aux agencements
<a name="menu_contextuel_des_champs_specifique_aux_agencements_ELTPARAGRAPHE000232"></a>Le menu contextuel "Agencements" des champs permet également de gérer la dissociation ou non des caractéristiques du champ. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Agencement_Dissocier.gif)
Ces options sont les suivantes :  

- **Dissocier la position** : Si cette option est sélectionnée, la position du champ sera modifiée uniquement sur l'agencement en cours. Si cette option n'est pas sélectionnée, la position du champ sera modifiée sur tous les agencements. 

- **Dissocier la taille** : Si cette option est sélectionnée, la taille du champ sera modifiée uniquement sur l'agencement en cours. Si cette option n'est pas sélectionnée, la taille du champ sera modifiée sur tous les agencements.  

- **Dissocier l'ancrage** : Si cette option est sélectionnée, l'ancrage du champ sera modifié uniquement sur l'agencement en cours. Si cette option n'est pas sélectionnée, l'ancrage du champ sera modifié sur tous les agencements. 

- **Dissocier la police** : permet de dissocier la police dans un ou plusieurs agencements. Il est par exemple possible d'utiliser une police spécifique pour Android et une autre police pour iOS. Il est également possible de spécifier la taille de la police par agencement.




Remarque : Si le mode dissociation automatique n'est pas activé, lors de la désactivation d'une dissociation par le menu contextuel, la caractéristique pour l'agencement en cours est appliquée automatiquement pour tous les agencements.  

Le menu contextuel "Agencements" des champs propose également d'autres options : 

- **Rendre invisible dans cet agencement** : Permet de rendre invisible le champ sélectionné dans l'agencement en cours. 

- **Rendre visible dans tous les agencements** : Permet de rendre le champ en cours visible dans tous les agencements. 




Remarque : Ce menu contextuel est disponible pour une sélection de champs. 

Limite : Pour les champs Graphes, il n'est pas possible de dissocier les propriétés du titre et de la légende entre plusieurs agencements. 
<a name="NOTE3_2b"></a>
<a name="NOTE3_3"></a>


### Menu contextuel des agencements
<a name="menu_contextuel_des_agencements_ELTPARAGRAPHE000270"></a>Le menu contextuel des vignettes des agencements disponibles permet de gérer les agencements : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Agencement_MenuCtx.gif)


Il est possible de : 

- Visualiser la description de l'agencement et de la modifier. Pour plus de détails, consultez [Paramètres de l'agencement](#NOTE4_1).

- Activer l'agencement, c'est-à-dire l'afficher pour le modifier. 

- Activer l'agencement en mode double vue : les deux agencements pourront être affichés et modifiés en parallèle. 

- Créer un nouvel agencement à partir de celui en cours.

- Supprimer l'agencement sélectionné. 

- Afficher des vignettes proportionnelles.

- Rafraîchir automatiquement : Permet de rafraîchir l'agencement dès qu'une modification est effectuée dans la fenêtre.  

- Rafraîchir cet agencement : Permet de rafraîchir immédiatement l'agencement. 

- Tout rafraîchir : Permet de rafraîchir immédiatement tous les agencements. 



<a name="NOTE3_3b"></a>


### Comparaison de fenêtres avec agencements
<a name="comparaison_fenetres_avec_agencements_ELTPARAGRAPHE000301"></a>WINDEV et WINDEV Mobile permettent de comparer deux projets, deux éléments d'un projet, etc. Pour plus de détails, consultez [Comparateur de projets](../Editeurs/2030024.md). 

Lors de la comparaison de fenêtres contenant des agencements, les différences sur chaque agencement sont présentées. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Agencement_Diff.gif&type=thumb)






<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Gestion des agencements en exécution
<a name="gestion_des_agencements_execution_ELTTEXTE000535"></a>


### Fonctionnement par défaut
<a name="fonctionnement_par_defaut_ELTPARAGRAPHE000317"></a>L'agencement initial est automatiquement choisi en fonction : 

- du système, 

- de l'orientation, 

- de la taille de la plateforme, 

- de la taille de la fenêtre ou de la page (sous l'éditeur).






Il est possible de définir les paramètres de l'agencement (option "Description" du menu contextuel de la barre de titre de l'agencement) pour chaque plateforme : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Agencements_propri%E9t%E9s%20-%20HC%20N%B0001.gif)





<a name="NOTE4_2"></a>


### Programmation
<a name="programmation_ELTPARAGRAPHE000366"></a>Il est possible : 

- de forcer l'agencement à utiliser (fonction [FenChangeAgencement](../WDLang1/1000021056.md)). Il suffit d'indiquer en paramètre le numéro de l'agencement à utiliser. Ce numéro est indiqué dans la barre de titre de l'agencement. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Agencement_Numero.gif&type=thumb)


- de connaître l'agencement en cours (fonction [FenAgencementEnCours](../WDLang1/1000021133.md)).





