


## Configuration de projet
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000690"></a>
Les configurations de projet permettent de définir les différents types de générations supportées par le projet : exécutable 32 bits, exécutable 64 bits, Webservice, composant, ...

Les éléments du projet peuvent être : 

- communs à plusieurs configurations (par exemple, une fenêtre utilisée dans un exécutable 32 et 64 bits).

- spécifiques à une configuration (par exemple une classe utilisée uniquement par un composant).




A tout moment, vous pouvez travailler sur une configuration spécifique : les éléments n'appartenant pas à cette configuration apparaissent grisés dans le volet "Explorateur de projet".

Cette page d'aide présente les sujets suivants : 

- [Créer une configuration de projet](#NOTE2_1). 

- [Sélectionner une configuration de projet](#NOTE2_2). 

- [Générer une configuration de projet](#NOTE2_3). 

- [Ajouter un élément dans une configuration de projet](#NOTE2_4). 

- [Exclure un élément d'une configuration de projet](#NOTE2_5). 

- [Dupliquer une configuration de projet](#NOTE2_6).

- [Supprimer une configuration de projet](#NOTE2_7). 

- [Caractéristiques d'une configuration](#NOTE2_8). 




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Comment le faire ?
<a name="comment_faire_ELTTEXTE000714"></a>


### Créer une configuration
<a name="creer_une_configuration_ELTPARAGRAPHE000054"></a>Par défaut, une seule configuration est créée dans un projet. Cette configuration a pour nom le nom du projet et contient tous les éléments du projet.

Pour créer une nouvelle configuration : 

1. Sous le volet "Projet", dans le groupe "Configuration de projet", déroulez "Nouvelle configuration" et sélectionnez l'option "Nouvelle configuration (via assistant)". 
	Remarques : 

	- Il est possible de sélectionner directement la plateforme de la configuration de projet à créer en déroulant l'option "Nouvelle configuration". 

	- Il est également possible d'utiliser l'option "Nouvelle Configuration" du menu contextuel du volet "Explorateur de projet". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Config_Projet_explo.gif)





2. L'assistant de création d'une configuration de projet se lance. Indiquez :

	- le nom de la configuration.
			Attention : Si le projet contient plusieurs configurations de projet, ce nom correspondra également au nom du répertoire dans lequel les fichiers de la configuration de projet seront générés.

	- sa description.

	- le type de génération : Exécutable, Java, Bibliothèque, Composant, Webservice, Assemblage DotNet, Exécutable DotNet, ...
			Remarque : Cette caractéristique n'est pas demandée si la plateforme a été sélectionnée dès la création.




3. Selon le type de génération choisi pour la configuration de projet, il est possible d'indiquer des options supplémentaires : 

	- Options de compatibilité multi-produit : L'élément sera généré uniquement pour un type de projet spécifique ou pour une utilisation dans tous les produits (WINDEV, WEBDEV et WINDEV Mobile). Il est possible d'activer ou non les erreurs de compilation pour la compatibilité 64 bits ou Linux.

	- Système d'exploitation et plateforme.




4. Indiquez si nécessaire les éléments du projet à intégrer à la configuration de projet en cours de création (fenêtres, états, requêtes, ...). Si votre projet utilise des composants, il est également possible de sélectionner les composants faisant partie de la configuration.

5. Validez la création de la configuration. Cette configuration de projet est automatiquement sélectionnée. Cette configuration pourra être modifiée :

	- soit depuis la fenêtre de gestion des configurations de projet : sous le volet "Projet", dans le groupe "Configuration de projet", cliquez sur "Gérer les configurations". Il suffit de sélectionner la configuration voulue et de cliquer sur le bouton "Description".

	- soit par l'option "Description" du menu contextuel de la configuration de projet dans le volet "Explorateur de projet".




<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Config_Projet_explo_2.gif)


**Répertoire des configurations de projet** : 
Lors de la création d'une configuration de projet, les fichiers de cette configuration de projet sont générés par défaut dans un sous-répertoire du répertoire EXE du projet. Il est ainsi plus simple de retrouver les fichiers générés par une configuration. 

Si le projet était déjà un projet multi-configurations, lors de la création d'une configuration de projet, un plan de l'assistant propose de générer les fichiers de la configuration : 

- dans le répertoire EXE du projet (fonctionnement conservé par compatibilité). 

- dans un sous-répertoire par configuration (créé dans le répertoire EXE du projet). Dans ce cas, un répertoire est créé pour chacune des configurations existantes dans le projet. Le nom de ce répertoire correspond au nom de la configuration de projet.




Remarques : 

- Dans l'onglet "Options" de la fenêtre de description du projet, l'option "Générer toutes les configurations dans le répertoire "Exe" (déconseillé si plusieurs configurations)" permet de retrouver le fonctionnement des versions précédentes. 

- En mode GO, les fichiers utilisés sont les fichiers présents dans le répertoire de la configuration (fichiers INI, fichiers de données, ...). 

- A la première création d'une configuration de projet, le contenu du répertoire EXE est copié dans son intégralité dans les sous-répertoires de la configuration de projet. Il peut être nécessaire de supprimer les fichiers non concernés par la configuration en cours (par exemple, fichier EXE non nécessaire dans le répertoire de la configuration d'un composant). 

- Il est également possible de créer une configuration de projet à partir d'une configuration existante. Il suffit de réaliser une [duplication de configuration](#NOTE2_6). 



<a name="NOTE2_2"></a>


### Travailler sur une configuration de projet
<a name="travailler_sur_une_configuration_projet_ELTPARAGRAPHE000144"></a>La sélection de la configuration de travail se fait :

- par le volet "Explorateur de projet" : il suffit de double-cliquer sur la configuration voulue ou de sélectionner l'option "Activer cette configuration" du menu contextuel. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Config_projet_liste_explo.gif)


- par la fenêtre de gestion des configurations de projet : sous le volet "Projet", dans le groupe "Configuration de projet", cliquez sur "Gérer les configurations". Il suffit de cocher la configuration courante et de valider la fenêtre.


Le projet dans son ensemble correspond à la configuration nommée avec le nom du projet.

Lorsque vous travaillez sur une configuration spécifique : 

- Dans le volet "Explorateur de projet", l'icône précédant le nom d'un élément non utilisé dans la configuration en cours est grisée. 

- Il est possible de définir une première fenêtre ou une première page pour chaque configuration de projet.

- Il est possible de définir les options du groupware utilisateur pour chaque configuration de projet. 

- Lors de la génération des éléments d'une configuration, seuls les éléments définis dans la configuration sont pris en compte.

- Dans les boutons d'accès rapide, l'icône de génération s'adapte automatiquement au type de la configuration manipulée (création d'un exécutable, création d'une archive JAVA, ...).



<a name="NOTE2_3"></a>


### Générer une configuration de projet
<a name="generer_une_configuration_projet_ELTPARAGRAPHE000177"></a>Pour générer le résultat d'une configuration de projet : 

1. Affichez la fenêtre de gestion des configurations de projet : sous le volet "Projet", dans le groupe "Configuration de projet", cliquez sur "Gérer les configurations".

2. Sélectionnez la configuration de projet à générer. 

3. Cliquez sur le bouton "Générer".




Pour générer tous les résultats de toutes les configurations de projet, utilisez la génération multiple. Pour plus de détails, consultez [Génération des configurations de projet](../Editeurs/9000053.md). 
<a name="NOTE2_4"></a>


### Ajouter un élément dans une configuration de projet
<a name="ajouter_element_dans_une_configuration_projet_ELTPARAGRAPHE000205"></a>Pour ajouter un élément dans une configuration :

1. Dans le volet "Explorateur de projet", sélectionnez l'élément à ajouter (fenêtre, état, ...).

2. Dans le menu contextuel de l'élément (clic droit), sélectionnez l'option "Configurations". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Configuration_de_projet2%20-%20HC%20N%B0001.gif&type=thumb)
Dans le menu qui apparaît : 

	- les configurations cochées correspondent aux configurations associées à l'élément. 

	- les configurations décochées correspondent aux configurations non associées à l'élément. 

	- l'option "Toutes" permet d'associer l'élément à toutes les configurations. 

	- l'option "Aucune" permet de ne plus associer l'élément à une configuration. 

	- l'option "Multiples" permet de choisir les configurations auxquelles l'élément doit être associé. 




3. Sélectionnez la configuration décochée dans laquelle l'élément doit être ajouté. 




Remarque :  Lors de l'enregistrement d'un nouvel élément, la fenêtre suivante s'affiche :<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Config_Ajout.GIF)
Cette fenêtre permet de spécifier la configuration dans laquelle l'élément en cours doit être ajouté. 
Pour que cette fenêtre s'affiche automatiquement à chaque enregistrement d'un nouvel élément, cochez l'option "Demander l'emplacement des nouveaux éléments dans le projet" dans l'onglet "Options" de la description du projet.
<a name="NOTE2_5"></a>


### Exclure un élément d'une configuration de projet
<a name="exclure_element_une_configuration_projet_ELTPARAGRAPHE000240"></a>Pour exclure un élément d'une configuration :

1. Dans le volet "Explorateur de projet", sélectionnez l'élément à exclure (fenêtre, état, ...).

2. Dans le menu contextuel de l'élément (clic droit), sélectionnez l'option "Configurations". Dans le menu qui apparaît : 

	- les configurations cochées correspondent aux configurations associées à l'élément. 

	- les configurations décochées correspondent aux configurations non associées l'élément. 




3. Sélectionnez la configuration cochée pour laquelle l'élément doit être exclu. 




Remarque : Les éléments exclus d'une configuration de projet ne sont pas compilés pour cette configuration de projet. Le code de l'élément est grisé. 
Dans le code non compilé : 

- il n'y a aucune assistance à la saisie du code.

- il n'y a pas de références croisées : pas de Shift+F2, les utilisations des éléments ne sont pas vues, les éléments peuvent apparaître dans les listes des éléments orphelins et du code mort.

- il n'y a pas d'analyse du code : pas de renommage intelligent. 

- il n'y a pas d'erreur de compilation : si on modifie le prototype d'une procédure, l'erreur ne sera affichée que lors du passage dans une configuration qui autorise la compilation du code. 



<a name="NOTE2_6"></a>


### Dupliquer une configuration de projet
<a name="dupliquer_une_configuration_projet_ELTPARAGRAPHE000267"></a>La duplication d'une configuration de projet peut être effectuée : 

- depuis le volet "Explorateur de projet".

- depuis la fenêtre de gestion des configurations. 




Pour dupliquer une configuration de projet depuis le volet "Explorateur de projet" : 

1. Sélectionnez la configuration de projet à dupliquer dans le volet "Explorateur de projet". 

2. Affichez le menu contextuel de la description et sélectionnez l'option "Dupliquer". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Config_Projet_explo_2.gif)


3. La nouvelle configuration de projet apparaît dans le volet "Explorateur de projet". 

4. Modifiez si nécessaire la nouvelle configuration de projet : 

	- Dans le volet "Explorateur de projet, sélectionnez l'option "Description" du menu contextuel. 

	- Dans l'onglet "Général", modifiez pour la configuration dupliquée : le nom, le type de génération et le répertoire de génération de la configuration.







Pour dupliquer une configuration depuis la fenêtre de gestion des configurations de projet :

1. Affichez la fenêtre de gestion des configurations de projet : sous le volet "Projet", dans le groupe "Configuration de projet", cliquez sur "Gérer les configurations".

2. Sélectionnez la configuration de projet à dupliquer. 

3. Cliquez sur le bouton "Dupliquer". 

4. Modifiez si nécessaire la nouvelle configuration de projet : 

	- Cliquez sur le bouton "Description". 

	- Dans l'onglet "Général", modifiez pour la configuration dupliquée : le nom, le type de génération et le répertoire de génération de la configuration.







Remarques : 

- La configuration dupliquée contient les mêmes éléments que la configuration de base. Il est ainsi possible de créer facilement une configuration iOS dans un projet Android. 

- Le nom de l'élément généré doit être modifié si nécessaire dans l'assistant de génération correspondant. 



<a name="NOTE2_7"></a>


### Supprimer une configuration de projet
<a name="supprimer_une_configuration_projet_ELTPARAGRAPHE000319"></a>Pour supprimer une configuration :

1. Sélectionnez la configuration voulue dans le volet "Explorateur de projet".

2. Sélectionnez l'option "Supprimer" du menu du volet "Explorateur de projet".




Remarques : 

- Les éléments de la configuration seront conservés dans le projet (fenêtres, états, ...).

- Les éléments générés (exécutable, service, composant, ...) ne seront pas supprimés du disque. 



<a name="NOTE2_8"></a>


### Caractéristiques d'une configuration de projet
<a name="caracteristiques_une_configuration_projet_ELTPARAGRAPHE000334"></a>**Pour modifier une configuration de projet**, sous le volet "Projet", dans le groupe "Configuration de projet", cliquez sur "Gérer les configurations".

Dans la fenêtre de gestion des configurations, il est possible de décrire :

- une ligne de commande pour le test de la configuration de projet : bouton "Mode test".

- l'action à effectuer avant la génération de la configuration de projet : bouton "Action avant génération". Il suffit d'indiquer l'action à effectuer au moment de la génération.

- l'action à effectuer après la génération de la configuration de projet : bouton "Action après génération". Il suffit d'indiquer l'action à effectuer après la génération.




Le bouton "Description" ouvre la **fenêtre de description de la configuration**. Cette fenêtre est constituée des plusieurs onglets : 

- **Onglet "Général"** correspondant aux informations générales de la configuration. Pour plus de détails, consultez [Caractéristiques présentes dans l'onglet "Général"](#NOTE2_8b).

- **Onglet "Eléments**" affichant la liste des éléments présents dans la configuration. 
	![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Cet onglet permet également de connaître et paramétrer les animations d'ouverture et/ou de fermeture des fenêtres de la configuration de projet via le bouton "Animations de fenêtre". Pour plus de détails, consultez [Animation de fenêtre](../WDLang1/3038054.md). 

- **Onglet "Composants**" affichant l'ensemble des composants externes utilisés par la configuration de projet.

- **Onglet "Compatibilité"** listant les options de compatibilité de la configuration de projet. Ces options concernent : \*\* les options multiplateforme : Il est possible de : 

	- Activer ou non les erreurs de compilation pour la compatibilité 64 bits ou Linux.




- les options multiplateforme d'une configuration de type "Composant". 

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) **Onglet "Unicode"** permettant de définir le mode d'utilisation des chaînes UNICODE ou ANSI en exécution.

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) **Onglet "Télémétrie"** permettant d'activer la télémétrie pour la configuration courante en spécifiant ses paramètres. Pour plus de détails, consultez [Activer la télémétrie](../WDLang1/1410086582.md).

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) **Onglet "GPU / Store Privé"** permettant d'activer ou non pour la configuration en cours le groupware utilisateur et/ou le déploiement sur le Store Privé.



<a name="NOTE2_8b"></a>


### Caractéristiques présentes dans l'onglet "Général"
<a name="caracteristiques_presentes_dans_onglet_general_ELTPARAGRAPHE000422"></a>Les options disponibles dans l'onglet "Général" sont les suivantes : 

- **les informations générales** : le nom et la description de la configuration.

- **les informations de génération** : 

	- le type de génération.

	- le répertoire de génération de la configuration de projet si le projet contient plusieurs configurations.

	- les actions à effectuer avant génération et après génération de la configuration de projet.




- les premières fenêtres ou premières pages. 

	- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) **la première fenêtre du projet** : Permet de sélectionner la première fenêtre qui sera affichée lors du lancement du projet (ou de l'exécutable associé). 
			Le bouton [...] permet d'afficher l'aperçu de toutes les fenêtres du projet pour une sélection plus rapide.
			Pour plus de détails, consultez [Première fenêtre du projet](../Editeurs/9000177.md).




- **les caractéristiques de l'exécutable**. 

	- L'option "Exécutable cryptable
(Chargement de la bibliothèque par les API standards)" permet de rendre les exécutables générés compatibles avec les outils de cryptage et de compression d'exécutables (UPX, Enveloppe HASP, ...). 

	- L'option "Désactiver la prévention d'exécution des données (option /NXCOMPAT:NO)
(Permet l'utilisation de modules tierces qui ne gèrent pas les dernières normes de sécurité)" permet de gérer l'option de compilation "NX" (No eXécute). 

		- Les exécutables et DLL 32 bits pour Windows sont désormais compilés par défaut avec l'option "NX" (No eXécute). Cette option est vivement recommandée pour accroître la sécurité. Elle est obligatoire par exemple pour faire certifier une application par Microsoft. En effet, une application compilée sans cette option peut permettre à son auteur d'exécuter un code qu'il a placé à un emplacement spécifique de la mémoire. Cette technique, déjà utilisée par des applications malveillantes, est désormais interdite. 

		- L'option "Désactiver la prévention d'exécution des données (option /NXCOMPAT:NO)" permet de compiler sans l'option "NX". Cela peut être nécessaire dans le cas où l'exécutable utilise une DLL tierce (ActiveX, pilote ODBC d'accès à une base, ...), qui elle n'a pas le flag NX et qui exécute du code en mémoire via ce qui peut être une faille de sécurité. Si l'application principale est compilée avec l'option NX, elle sera stoppée par Windows en faute de protection générale (GPF). 




- **Remarques** :

	- Il est recommandé de solliciter l'éditeur de la DLL afin d'avoir une version actualisée de la DLL avec le flag NX.

	- Nous vous conseillons de prévoir à moyen terme une alternative à l'utilisation de la DLL. En effet, avec la sécurité sans cesse accrue des systèmes, il est assez probable qu'un jour les exécutables sans l'option NX ne puissent plus être exécutés. 

- 

	- Application d'administration de l'appareil (peut devenir "device owner" pour le mode kiosque) : Cette option permet de gérer le mode kiosque complet. Pour plus de détails, consultez [Application en mode kiosque](../WDLang3/1000024431.md).

	- Hauteur action bar  : Cette option permet de paramétrer la hauteur du champ Action Bar dans les différentes fenêtres. Jusqu'à la version 25, la hauteur des champs Action Bar est de 48 px par défaut. A partir des nouveaux projets 26, la hauteur du champ Action Bar passe à 56 px par défaut. Cette option permet de modifier la hauteur du champ Action Bar dans les projets existants. 
			Remarque : En cas de modification de la hauteur, la nouvelle hauteur s'applique à toutes les fenêtres de l'application. 







**Pour les actions avant et après génération, les opérations à effectuer sont les suivantes** : 

1. Saisissez le script de commande à exécuter. Vous pouvez y saisir :

	- le chemin d'un exécutable : saisissez le chemin directement dans le champ ou utilisez le bouton "Parcourir...".

	- des macros : cliquez sur le bouton "Macro" et double-cliquez sur la macro que vous souhaitez ajouter à votre ligne de commande. Par exemple, la macro "Nom du projet en cours" {$NomProjet} sera remplacée par le nom de votre projet en cours d'édition. Une macro spécifique permet d'exécuter une option d'un PersoMenu.




2. Sélectionnez ensuite les options d'exécution de la ligne de commande :

	- Afficher la console : une console (invite de commande) sera affichée.

	- Laisser la console ouverte : si une console est affichée, elle restera ouverte à la fin de l'exécution du programme lancé.

	- Exécution non bloquante : l'exécution de la ligne de commande ne bloquera pas l'accès à WINDEV, WEBDEV ou WINDEV Mobile.




3. Sélectionnez le répertoire d'exécution du programme.

4. Validez



<a name="NOTE2_9"></a>


### Astuces
<a name="astuces_ELTPARAGRAPHE000619"></a>

- Pour connaître par programmation la configuration de projet utilisée, il suffit d'utiliser la fonction [ProjetInfo](../WDLang1/3064004.md) avec la constante *piConfiguration*.

- Pour activer une configuration de projet depuis le volet "Explorateur de projet", il suffit de double-cliquer sur le nom de la configuration voulue. L'option "Description" du menu contextuel permet d'afficher la fenêtre de description de la configuration sélectionnée.

- Pour ouvrir directement le répertoire de génération d'une configuration : 

	- Utilisez l'option "Ouvrir le répertoire de génération" du menu contextuel de la configuration de projet. 

	- Sous le volet "Accueil", dans le groupe "Général", déroulez ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Rep_Projet.gif) et sélectionnez "Explorer le répertoire de génération". 








