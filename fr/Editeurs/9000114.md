


## Créer une application WINDEV pour Linux
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000316"></a>
WINDEV permet de développer des applications pour le système d'exploitation Linux.

Le développement d'applications pour Linux à l'aide de WINDEV se fait de façon similaire au développement pour Windows à quelques spécificités près. Pour plus de détails, consultez [Limites des applications WINDEV pour Linux](../Editeurs/9000115.md). 

Les exécutables WINDEV pour Linux utilisent la librairie graphique QT. Cette librairie doit donc absolument être installée sur les machines Linux (version 5 minimale).  Cette librairie est une librairie standard, disponible sur la plupart des distributions Linux. Remarque : Pour bénéficier de la gestion des images de type SVG, la librairie QT installée doit supporter le format d'image SVG. Pour plus de détails, consultez le paragraphe [Diffuser une application Linux](#NOTE6_1). 

**Remarques** : 

- A partir de la version 27, les distributions Linux supportées sont les suivantes :

	- Debian en version 9 ou supérieur

	- Fedora en version 25 ou supérieur

	- Ubuntu en version 18.04 ou supérieur (version minimale de GCC : 5.1)




A partir de la version 27, les distributions Linux suivantes ne sont plus supportées : 

- OpenSUSE:Leap:15.0. (La version officielle est openSUSE Leap 15.2 qui est supportée).

- Les applications Linux développées avec WINDEV fonctionnent uniquement sur du matériel possédant un processeur Intel ou compatible (les processeurs ARM ne sont pas supportés).

- A partir de la version 28, seuls des projets et des exécutables Linux **64 bits** peuvent être créés.  




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Créer un projet pour Linux avec WINDEV
<a name="creer_projet_pour_linux_avec_windev_ELTTEXTE000340"></a>
Pour créer un projet Linux avec WINDEV :

1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_nouveau.gif)
 parmi les boutons d'accès rapide. 

	- La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Projet". 

	- L'assistant de création de projet se lance. 




2. Dans l'étape "Description - Type de projet", sélectionnez "Application Windows ou Linux". Passez à l'étape suivante.

3. Dans l'étape "Description - Système d'exploitation", sélectionnez "Plateforme Linux". Passez à l'étape suivante.

4. La suite de l'assistant se déroule de la même façon que pour n'importe quelle autre plateforme. Pour plus de détails, reportez-vous à la page d'aide [Créer un projet WINDEV](../Editeurs/2030032.md).




Lorsque votre projet est créé, vous pouvez développer votre projet comme un projet WINDEV classique : 

- Seuls les champs disponibles sous Linux pourront être créés. 

- Dans les fenêtres de description, les options non disponibles en Linux sont automatiquement grisées. 

- Des erreurs de compilation indiquent les fonctions et les champs non disponibles en Linux. 

- Si des champs non disponibles sont présents dans l'exécutable Linux, une erreur fatale est affichée en exécution. 




**Remarque** : L'analyse d'un projet WINDEV Linux peut utiliser les types de fichiers de données suivants : 

- HFSQL Classic.

- HFSQL Client/Serveur.

- MySQL.

- MariaDB.

- PostgreSQL.

- SQLite.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Créer une configuration de projet pour Linux
<a name="creer_une_configuration_projet_pour_linux_ELTTEXTE000364"></a>
Si vous voulez utiliser un projet WINDEV existant en Linux, il est nécessaire de créer une configuration de projet spécifique à la création d'exécutables Linux.

Pour créer une nouvelle configuration de projet pour Linux :

1. Sous le volet "Projet", dans le groupe "Configuration de projet", cliquez sur "Nouvelle configuration" et sélectionnez "Nouvelle configuration (via assistant)". L'assistant de création de configuration se lance. Passez à l'étape suivante.

2. Indiquez le nom et la description de la configuration et sélectionnez "Application Windows ou Linux". Passez à l'étape suivante.

	- Sélectionnez le système d'exploitation "Plate-forme Linux". Passez à l'étape suivante.




3. Sélectionnez les éléments à intégrer par défaut dans la configuration de projet (fenêtres, requêtes, ...). 

4. Validez. 




**Remarque** : Il sera à tout moment possible d'inclure ou d'exclure des éléments du projet dans la configuration de projet grâce au volet "Explorateur de projet" (option "Inclure dans la configuration courante" ou option "Exclure de la configuration courante"). 

Pour plus de détails, consultez [Configuration de projet](../Editeurs/9000030.md). 

Pour développer votre projet : 

- Les champs non disponibles dans une des configurations apparaissent en bleuté sous l'éditeur. 

- Dans les fenêtres de description, les options non disponibles dans la configuration en cours sont automatiquement grisées. Les options non disponibles dans une des configurations sont bleutées. 

- Dans la configuration Linux, des erreurs de compilation indiquent les champs non disponibles en Linux. 

- Si des champs non disponibles sont présents dans l'exécutable Linux, une erreur fatale est affichée en exécution. 

- Dans la configuration Linux, des erreurs de compilation indiquent les fonctions non disponibles en Linux. 




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Tester un projet WINDEV Linux
<a name="tester_projet_windev_linux_ELTTEXTE000388"></a>
En mode Linux, il est possible de tester une fenêtre ou le projet grâce au GO correspondant. Le test de l'application est réalisé sous Windows. 

**Attention** : Lors du test en mode GO de l'application WINDEV Linux, les spécificités de Linux ne sont pas prises en compte : tous les champs fonctionnent (même ceux qui ne sont pas gérés sous Linux). 

<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Créer l'exécutable Linux
<a name="creer_executable_linux_ELTTEXTE000412"></a>
Pour créer l'exécutable Linux : 

1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Ico_Generer_exelx.gif)
 parmi les boutons d'accès rapide (ce bouton est présent si la configuration en cours est une configuration Linux). 

2. L'assistant de création d'un exécutable Linux se lance.

3. Saisissez le nom de l'exécutable. Le même nom est automatiquement donné à la librairie associée à l'exécutable.

4. Sélectionnez le mode d'utilisation de la bibliothèque : bibliothèque intégrée à l'exécutable, bibliothèque externe, ... Par défaut, la librairie est intégrée à l'exécutable.

5. Indiquez le message d'erreur qui sera affiché sur la console si une erreur d'exécution survient.

6. Indiquez si l'exécutable prendra en compte les bibliothèques de patch.

7. Indiquez les langues gérées par l'exécutable.

8. Indiquez les éléments à intégrer dans la bibliothèque. 

9. Si nécessaire, sélectionnez les composants utilisés par l'exécutable.

10. Indiquez les informations de l'exécutable. Ces informations peuvent être récupérées par programmation grâce à la fonction [ExeInfo](../WDLang1/3035001.md). Ces informations sont les suivantes :

	- le nom de la société. Par exemple, le nom de la société éditrice.

	- une brève description du but de l'application. Par exemple : "Gestion des pièces en stock".

	- le copyright de l'application

	- l'URL du site Web : Vous pouvez indiquer l'URL de votre site par exemple.

	- l'adresse email : Adresse email à laquelle les utilisateurs de l'application peuvent vous joindre.




11. Indiquez le numéro de version de l'exécutable. La version d'un exécutable permet de connaître les fonctionnalités disponibles ou non dans l'application utilisée par l'utilisateur. Ce numéro de version peut être récupéré par programmation grâce à la fonction WLangage [ExeInfo](../WDLang1/3035001.md). 
	Le format du numéro de version correspond à un ensemble de 4 nombres séparés par des points.

	- Le premier groupe de 4 chiffres correspond au nombre de changements majeurs effectués dans l'application.

	- Le second groupe de 4 chiffres correspond au nombre de changements mineurs effectués dans l'application.

	- Le troisième groupe de 4 chiffres correspond au nombre de changements sans modification d'IHM effectués dans l'application.

	- Le dernier groupe de 4 chiffres correspond au nombre de révisions. 
			Il est conseillé d'incrémenter automatiquement ce numéro à chaque génération. Cette incrémentation est réalisée automatiquement si l'option "Incrémentation automatique de la version à chaque génération" est cochée.




12. Passez à l'étape suivante. Si nécessaire, acceptez la sauvegarde du projet proposée par l'assistant. 

13. L'exécutable Linux est automatiquement généré. Il est possible d'ouvrir le répertoire de génération. Ce répertoire contient : 

	- un fichier sans extension qui est l'exécutable Linux. 

	- éventuellement un fichier WDL de même nom. Il s'agit de la bibliothèque de l'exécutable. 

	- les fichiers .so nécessaires à l'exécution. 

	- éventuellement les fichiers .FIC, .MMO et .NDX si votre application utilise des fichiers de données HFSQL Classic. Les noms des fichiers de données doivent être tout en minuscules. Si des fichiers de données étaient présents avant la création de la configuration de projet, ils ont tous été recopiés avec une casse minuscule. 

	- éventuellement des fichiers spécifiques à cette configuration (fichier de configuration .ini par exemple). 
			**Remarque** : Si ces fichiers utilisent une casse spécifique, cette casse doit être respectée dans le code de l'application (Linux étant un système "case sensitive"). 







Remarque : Pour ouvrir un explorateur de fichiers sur le répertoire de génération de l'application, sous le volet "Accueil", dans le groupe "Général", déroulez l'option ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Rep_Projet.gif)
 et sélectionnez "Ouvrir le répertoire de génération". 

<a name="NOTE6"></a>
<a name="NOTE6_1"></a>


## Diffuser l'exécutable Linux
<a name="diffuser_executable_linux_ELTTEXTE000436"></a>
Les applications Linux ne disposent pas d'installation à proprement parler comme sous Windows. 

Pour diffuser une application WINDEV Linux, il est donc nécessaire de fournir tout le contenu du répertoire de génération aux utilisateurs. 

**Pour tester et diffuser l'exécutable Linux créé avec WINDEV** :

1. Connectez-vous au poste Linux par exemple par l'application "WinScp".

2. Copiez sur le poste Linux le contenu du répertoire de génération : exécutable, \*.WDL (si vous avez choisi un bibliothèque externe) et \*.so

3. Changez les attributs du programme pour lui donner les droits d'exécution : 

	- soit en cochant l'option "Autoriser l'exécution du fichier comme un programme" du menu contextuel du fichier

	- soit en utilisant la ligne de commande suivante dans la console : 
			
		```txt
		chmod + x monappli
		```





4. Exécutez le programme. Par exemple, pour lancer l'exécutable du répertoire en cours, utilisez la notation : ./monappli (le nom de l'application doit être précédé de **/.**).




Remarque : Pour mettre à jour une application Linux, il suffit de : 

- regénérer l'exécutable. 

- copier uniquement le fichier exécutable dans le répertoire de l'application Linux (si la bibliothèque est intégrée dans l'exécutable).

- copier uniquement le fichier WDL généré  dans le répertoire de l'application Linux (si la bibliothèque n'est pas intégrée à l'exécutable).





### Utilisation d'un exécutable Linux
<a name="utilisation_executable_linux_ELTPARAGRAPHE000260"></a>Pour utiliser un  exécutable Linux, il est nécessaire d' **installer la librairie QT (Core et GUI)**, version 5 minimale. 

**Sous Ubuntu**, cette librairie peut être installée avec la commande suivante : 

```txt
sudo apt-get install libqtcore5 libqtgui5
```


Remarque : Pour bénéficier de la gestion des images de type SVG, la librairie QT installée doit supporter le format d'image SVG.


- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDGestionContacts.gif) ***Exemples complets (WINDEV)*** : **WD Gestion Contacts** <br>Cet exemple illustre la gestion de contacts sous WINDEV.<br>Dans cet exemple, nous abordons les principaux thèmes suivants :<br>1/ les zones répétées<br>2/ les états étiquettes <br>3/ les requêtes<br>4/ l'envoi d'email<br>5/ l'ouverture à Outlook <br>6/ la manipulation de données présentes sur un terminal mobile.


