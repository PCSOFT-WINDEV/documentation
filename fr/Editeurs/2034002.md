


## Fonctions mathématiques SQL 
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000683"></a>
Les principales fonctions mathématiques SQL pouvant être utilisées sur des requêtes en code SQL sont les suivantes :


|   |   |
| --- | --- |
| <br><br>- [ABS](#NOTE3_1)<br><br>- [ACOS](#NOTE3_2)<br><br>- [ASIN](#NOTE3_3)<br><br>- [ATAN](#NOTE3_4)<br><br>- [ATAN2](#SQL_ATAN2)<br><br>- [BIN](#NOTE3_5)<br><br>- [CAST](#CAST)<br><br>- [CBRT](#CBRT)<br><br>- [CEIL](#NOTE3_6)<br><br>- [CEILING](#NOTE3_6)<br><br>- [COS](#NOTE3_7)<br><br>- [DEGREES](#DEGREES)<br><br>- [DIV](#DIV)<br><br>- [EXP](#NOTE3_8)<br><br>- [FLOOR](#NOTE3_9)<br><br>- [HEX](#NOTE3_10)<br><br>- [LN](#NOTE3_11)<br><br>- [LOG](#NOTE3_12)<br><br>- [LOG10](#NOTE3_13)<br><br><br> | <br><br>- [MOD](#NOTE3_14)<br><br>- [OCT](#NOTE3_15)<br><br>- [PI](#NOTE3_16)<br><br>- [POWER](#NOTE3_17)<br><br>- [RADIANS](#RADIANS)<br><br>- [RANDOM](#RANDOM)/[RAND](#RANDOM)<br><br>- [ROUND](#NOTE3_18)<br><br>- [SIGN](#NOTE3_19)<br><br>- [SIN](#NOTE3_20)<br><br>- [SQRT](#NOTE3_21)<br><br>- [STDDEV](#STDDEV)<br><br>- [STDDEV_POP](#STDDEV_POP)<br><br>- [STDDEV_SAMP](#STDDEV_SAMP)<br><br>- [TAN](#NOTE3_22)<br><br>- [TRUNC](#NOTE3_23)<br><br>- [UNHEX](#SQL_UNHEX)<br><br>- [VARIANCE](#VARIANCE)<br><br>- [VAR_POP](#VAR_POP)<br><br>- [VAR_SAMP](#VAR_SAMP)<br><br><br> |


Pour plus de détails sur les fonctions mathématique SQL, consultez une documentation spécifique au langage SQL.

Pour connaître toutes les commandes SQL (fonctions, clauses, opérateurs, ...) utilisables dans une requête SQL gérée par HFSQL, consultez [Commandes utilisables dans une requête SQL gérée par HFSQL](../Editeurs/2034006.md).

**Remarques** :

- Ces instructions sont utilisables :

	- dans le code SQL des requêtes créées sous l'éditeur de requêtes. Ces requêtes sont ensuite exécutées grâce à la fonction [HExécuteRequête](../WDLang4/3044080.md).

	- dans le code SQL des requêtes exécutées avec la fonction du WLangage [HExécuteRequêteSQL](../WDLang4/3044084.md).




- Sauf indication contraire, ces fonctions sont utilisables sur tous les types de sources de données (Oracle, Access, SQL Server, ...).






<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Fonctions mathématiques SQL
<a name="fonctions_mathematiques_sql_ELTTEXTE000713"></a>


### ABS
<a name="abs_ELTPARAGRAPHE000158"></a>La fonction **ABS** permet de connaître la valeur absolue d'un nombre.

**Format d'utilisation** :

```txt
ABS(Nombre)
```

<a name="NOTE3_2"></a>


### ACOS
<a name="acos_ELTPARAGRAPHE000168"></a>La fonction **ACOS** permet de connaître l'angle de cosinus d'un nombre.

**Format d'utilisation :**

```txt
ACOS(Nombre)
```

<a name="NOTE3_3"></a>


### ASIN
<a name="asin_ELTPARAGRAPHE000178"></a>La fonction **ASIN** permet de connaître l'angle de sinus d'un nombre.

**Format d'utilisation** :

```txt
ASIN(Nombre)
```

<a name="NOTE3_4"></a>


### ATAN
<a name="atan_ELTPARAGRAPHE000188"></a>La fonction **ATAN** permet de connaître l'angle de tangente d'un nombre.

**Format d'utilisation** :

```txt
ATAN(Nombre)
```

<a name="SQL_ATAN2"></a>


### ATAN2
<a name="atan2_ELTPARAGRAPHE000200"></a>La fonction **ATAN2** permet de connaître l'arctangente des variables X et Y. Cette fonction est équivalente au calcul de l'arctangente de Y / X, excepté que les signes des deux arguments servent à déterminer le quadrant du résultat. 

**Format d'utilisation** :

```txt
ATAN2(Y,X)
```

<a name="NOTE3_5"></a>


### BIN
<a name="bin_ELTPARAGRAPHE000210"></a>La fonction **BIN** retourne la chaîne de caractères représentant "entier" en binaire. Cet entier doit être compris entre 0 et 2 puissance 63-1.

![Connecteurs Natifs (Accès Natifs)](https://doc.pcsoft.fr/ext/images/fr/AN.png) Cette fonction ne peut pas être utilisée sur une source de données PostgreSQL.

**Format d'utilisation** :

```txt
BIN(Entier)
```

<a name="CAST"></a>


### CAST
<a name="cast_ELTPARAGRAPHE000226"></a>La fonction **CAST** permet de convertir un nombre dans un autre. 

**Format d'utilisation** :

```txt
CAST(Nombre AS Type)
```
**Exemple d'utilisation** : 

- Conversion du totalTTC (monétaire) en entier (pas de décimales) : 
	
	```sql
	cast(commande.totalttc as integer)
	```


- Conversion du totalTTC (monétaire) en numérique de 6 chiffres dont 2 chiffres pour la partie décimale.
	
	```sql
	cast(commande.totalttc as decimal (6,2))
	```




<a name="CBRT"></a>


### CBRT
<a name="cbrt_ELTPARAGRAPHE000246"></a>La fonction **CBRT** retourne la racine cubique d'un nombre.

**Format d'utilisation** :

```txt
CBRT(Nombre)
```

<a name="NOTE3_6"></a>


### CEILING
<a name="ceiling_ELTPARAGRAPHE000256"></a>

### CEIL
<a name="ceil_ELTPARAGRAPHE000260"></a>Les fonctions **CEILING** et **CEIL** retournent la valeur arrondie par excès d'un nombre.

**Format d'utilisation** :

```txt
CEILING(Nombre)
CEIL(Nombre)
```

<a name="NOTE3_7"></a>


### COS
<a name="cos_ELTPARAGRAPHE000269"></a>La fonction **COS** permet de connaître le cosinus d'un nombre.

**Format d'utilisation** :

```txt
COS(Nombre)
```

<a name="DEGREES"></a>


### DEGREES
<a name="degrees_ELTPARAGRAPHE000281"></a>La fonction **DEGREES** permet de convertir en degrés un angle exprimé en radians.

**Format d'utilisation** :

```txt
DEGREES(Nombre)
```

<a name="DIV"></a>


### DIV
<a name="div_ELTPARAGRAPHE000293"></a>La fonction **DIV** effectue une division.

**Format d'utilisation** :

```txt
DIV(Dividende, Diviseur)
```

<a name="NOTE3_8"></a>


### EXP
<a name="exp_ELTPARAGRAPHE000303"></a>La fonction **EXP** permet de connaître l'exponentielle d'un nombre.

**Format d'utilisation** :

```txt
EXP(Nombre)
```

<a name="NOTE3_9"></a>


### FLOOR
<a name="floor_ELTPARAGRAPHE000313"></a>La fonction **FLOOR** permet de connaître la valeur approchée basse d'un nombre.

**Format d'utilisation** :

```txt
FLOOR(Nombre)
```

<a name="NOTE3_10"></a>


### HEX
<a name="hex_ELTPARAGRAPHE000323"></a>La fonction **HEX** retourne en hexadécimal un entier (exprimé en base 10). Cet entier doit être compris entre 0 et 2 puissance 63-1.

**Remarque** : Utilisée avec le moteur HFSQL, la fonction **HEX**renvoie une chaîne commençant par l'octet de poids fort.

![Connecteurs Natifs (Accès Natifs)](https://doc.pcsoft.fr/ext/images/fr/AN.png) **Cas particuliers** : 

- **Connecteur Natif DB2** : La fonction **HEX**utilisée sur les numériques renvoie une chaîne de caractères commençant par l'octet de poids faible. 

- **Connecteur Natif PostgreSQL** : Cette fonction ne peut pas être utilisée sur une source de données PostgreSQL. 


**Format d'utilisation** :

```txt
HEX(Entier)
```
Exemple sur HFSQL : HEX(258) = 0102

Exemple sur DB2 : HEX(258) = 0201
<a name="NOTE3_11"></a>


### LN
<a name="_ELTPARAGRAPHE000344"></a>La fonction **LN** permet de connaître le logarithme népérien d'un nombre.

**Format d'utilisation** :

```txt
LN(Nombre)
```

<a name="NOTE3_12"></a>


### LOG
<a name="log_ELTPARAGRAPHE000354"></a>La fonction **LOG** permet de connaître le logarithme népérien d'un nombre.

**Format d'utilisation** :

```txt
LOG(Nombre)
```


Autre syntaxe possible : Logarithme en base Base de Nombre :

```txt
LOG(Base, Nombre)
```

<a name="NOTE3_13"></a>


### LOG10
<a name="log10_ELTPARAGRAPHE000367"></a>La fonction **LOG10** permet de connaître le logarithme décimal d'un nombre.

![Connecteurs Natifs (Accès Natifs)](https://doc.pcsoft.fr/ext/images/fr/AN.png) Cette fonction ne peut pas être utilisée sur une source de données PostgreSQL.

**Format d'utilisation** :

```txt
LOG10(Nombre)
```

<a name="NOTE3_14"></a>


### MOD
<a name="mod_ELTPARAGRAPHE000381"></a>La fonction **MOD** permet de connaître le modulo d'un nombre par un autre (reste d'une division).

**Format d'utilisation** :

```txt
MOD(Dividende, Diviseur)
```

<a name="NOTE3_15"></a>


### OCT
<a name="oct_ELTPARAGRAPHE000391"></a>La fonction **OCT** retourne en octal un entier (exprimé en base 10). Cet entier doit être compris entre 0 et 2 puissance 63-1.

![Connecteurs Natifs (Accès Natifs)](https://doc.pcsoft.fr/ext/images/fr/AN.png) Cette fonction ne peut pas être utilisée sur une source de données PostgreSQL.

**Format d'utilisation** :

```txt
OCT(Entier)
```

<a name="NOTE3_16"></a>


### PI
<a name="_ELTPARAGRAPHE000405"></a>La fonction **PI** permet de connaître la valeur de PI.

**Format d'utilisation** :

```txt
PI()
```

<a name="NOTE3_17"></a>


### POWER
<a name="power_ELTPARAGRAPHE000415"></a>La fonction **POWER** permet de connaître l'élévation d'un nombre à une puissance donnée.

**Format d'utilisation** :

```txt
POWER(Nombre, Puissance)
```

<a name="RADIANS"></a>


### RADIANS
<a name="radians_ELTPARAGRAPHE000427"></a>La fonction **RADIANS** convertit en radians un angle exprimé en degrés.

**Format d'utilisation** :

```txt
RADIANS(Nombre)
```

<a name="RANDOM"></a>


### RANDOM
<a name="random_ELTPARAGRAPHE000439"></a>La fonction **RANDOM** retourne un nombre compris entre 0.0 et 1.0 (inclus).

La fonction **RAND** est équivalente : elle retourne un nombre compris entre 0.0 et 1.0 (inclus).

**Format d'utilisation** :

- RANDOM : 
	
	```txt
	RANDOM()
	```


- RAND : 
	
	```txt
	RAND()
	```




<a name="NOTE3_18"></a>


### ROUND
<a name="round_ELTPARAGRAPHE000461"></a>La fonction **ROUND** permet d'arrondir un nombre selon un nombre de décimal donné.

**Format d'utilisation** :

```txt
ROUND(Nombre, Décimal)
```


**Exemple** : Le code SQL suivant permet d'arrondir le prix des produits à 2 décimales :

```sql
SELECT Désignation,
ROUND(PrixHT, 2) AS Prix
FROM PRODUIT
```

<a name="NOTE3_19"></a>


### SIGN
<a name="sign_ELTPARAGRAPHE000474"></a>La fonction **SIGN** renvoie 1, 0 ou -1 selon que le nombre donné est positif, nul ou négatif.

**Format d'utilisation** :

```txt
SIGN(Nombre)
```

<a name="NOTE3_20"></a>


### SIN
<a name="sin_ELTPARAGRAPHE000484"></a>La fonction **SIN** permet de connaître le sinus d'un nombre.

**Format d'utilisation** :

```txt
SIN(Nombre)
```
Remarque : Le paramètre Nombre est exprimé en radians. 
<a name="NOTE3_21"></a>


### SQRT
<a name="sqrt_ELTPARAGRAPHE000495"></a>La fonction **SQRT** permet de connaître la racine carrée d'un nombre.

**Format d'utilisation** :

```txt
SQRT(Nombre)
```

<a name="STDDEV"></a>


### STDDEV
<a name="stddev_ELTPARAGRAPHE000507"></a>La fonction **STDDEV** permet de connaître l'écart-type d'une série de valeurs. On utilise la fonction STDDEV lorsque la série de valeurs représente un échantillon de la population des données. Cette fonction est équivalente à STDDEV_SAMP.

L'écart-type est la racine carrée de la variance.

**Format d'utilisation** :

```txt
STDDEV(Nombre)
```


Exemple : Moyenne et écart-type du totalTTC des commandes par année : 

```sql
select substr(commande.datecommande,1,4) as annee, avg(commande.totalttc) as moyenne,
		stddev (commande.totalttc) as unecarttype from commande group by annee
```

<a name="STDDEV_POP"></a>


### STDDEV_POP
<a name="stddevpop_ELTPARAGRAPHE000524"></a>La fonction **STDDEV_POP** permet de connaître l'écart-type d'une série de valeurs. On utilise la fonction STDDEV_POP lorsque la série de valeurs représente la population entière des données. 

L'écart-type est la racine carrée de la variance.

**Format d'utilisation** :

```txt
STDDEV_POP(Nombre)
```


Exemple : Moyenne et écart-type du totalTTC des commandes par année : 

```sql
select substr(commande.datecommande,1,4) as annee, avg(commande.totalttc) as moyenne, 
		stddev_pop (commande.totalttc) as unecarttype from commande group by annee
```

<a name="STDDEV_SAMP"></a>


### STDDEV_SAMP
<a name="stddevsamp_ELTPARAGRAPHE000541"></a>La fonction **STDDEV_SAMP** permet de connaître l'écart-type d'une série de valeurs. On utilise la fonction STDDEV_SAMP lorsque la série de valeurs représente un échantillon de la population des données. Cette fonction est équivalente à STDDEV.

L'écart-type est la racine carrée de la variance.

**Format d'utilisation** :

```txt
STDDEV_SAMP(Nombre)
```


Exemple : Moyenne et écart-type du totalTTC des commandes par année : 

```sql
select substr(commande.datecommande,1,4) as annee, avg(commande.totalttc) as moyenne, 
		stddev_samp (commande.totalttc) as unecarttype from commande group by annee
```

<a name="NOTE3_22"></a>


### TAN
<a name="tan_ELTPARAGRAPHE000556"></a>La fonction **TAN** permet de connaître la tangente d'un nombre.

**Format d'utilisation** :

```txt
TAN(Nombre)
```

<a name="NOTE3_23"></a>


### TRUNC
<a name="trunc_ELTPARAGRAPHE000566"></a>La fonction **TRUNC** permet de connaître la partie entière.

**Format d'utilisation** :

```txt
TRUNC(Nombre)
```

<a name="SQL_UNHEX"></a>


### UNHEX
<a name="unhex_ELTPARAGRAPHE000578"></a>La fonction **UNHEX** effectue l'opération inverse de la fonction HEX. Chaque paire de chiffres hexadécimaux : 

- est interprétée comme des nombres.

- est convertie en un caractère représenté par le nombre. 




La valeur renvoyée est une chaîne binaire. 

**Format d'utilisation** :

```txt
UNHEX(Chaîne hexadécimale)
```
**Remarque** : Si les caractères passés à la fonction ne correspondent pas à des éléments d'une valeur hexadécimale, la fonction renvoie NULL. 
<a name="VARIANCE"></a>


### VARIANCE
<a name="variance_ELTPARAGRAPHE000596"></a>La fonction **VARIANCE** permet de connaître la variance d'une série de valeurs. On utilise la fonction VARIANCE lorsque la série de valeurs représente un échantillon de la population des données. Cette fonction est équivalente à VAR_SAMP. 

**Format d'utilisation** :

```txt
VARIANCE(Nombre)
```


Exemple : Moyenne et variance du totalTTC des commandes par année : 

```sql
select substr(commande.datecommande,1,4) as annee, avg(commande.totalttc) as moyenne, 
		variance (commande.totalttc) as mavariance from commande group by annee
```

<a name="VAR_POP"></a>


### VAR_POP
<a name="varpop_ELTPARAGRAPHE000611"></a>La fonction **VAR_POP** permet de connaître la variance d'une série de valeurs. On utilise la fonction VAR_POP lorsque la série de valeurs représente la population entière des données.

**Format d'utilisation** :

```txt
VAR_POP(Nombre)
```


Exemple : Moyenne et variance du totalTTC des commandes par année : 

```sql
select substr(commande.datecommande,1,4) as annee, avg(commande.totalttc) as moyenne, 
		var_pop (commande.totalttc) as mavariance from commande group by annee
```

<a name="VAR_SAMP"></a>


### VAR_SAMP
<a name="varsamp_ELTPARAGRAPHE000626"></a>La fonction **VAR_SAMP** permet de connaître la variance d'une série de valeurs. On utilise la fonction VAR_SAMP lorsque la série de valeurs représente un échantillon de la population des données. Cette fonction est équivalente à VARIANCE.

L'écart-type est la racine carrée de la variance.

**Format d'utilisation** :

```txt
VAR_SAMP(Nombre)
```


Exemple : Moyenne et variance du totalTTC des commandes par année : 

```sql
select substr(commande.datecommande,1,4) as annee, avg(commande.totalttc) as moyenne, 
		var_samp (commande.totalttc) as mavariance from commande group by annee
```



