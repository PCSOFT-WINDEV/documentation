
## Rétro-Modélisation de code
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000177"></a>
La rétro-modélisation de code permet de visualiser sous forme de graphe :

- les différents traitements, appels de procédures contenus dans une procédure ou un traitement WLangage. Le graphe obtenu est appelé **"Graphe des appelés"**. 
	Ce type de graphe permet de comprendre rapidement l'organisation d'une procédure et de trouver immédiatement où des modifications doivent être apportées (cas d'une reprise d'un code existant par exemple).

- les différents traitements appelant une procédure ou un traitement WLangage. Le graphe obtenu est appelé **"Graphe des appelants"**. 
	Ce type de graphe permet d'évaluer rapidement l'impact d'une modification effectuée dans une procédure.




La rétro-modélisation peut être effectuée sur un code de fenêtre, de page, de champ, d'une procédure, ...
La rétro-modélisation crée un graphe sous l'éditeur de modélisation souple. Ce graphe peut être entièrement modifié selon vos besoins.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Exemple et vocabulaire
<a name="exemple_vocabulaire_ELTTEXTE000201"></a>


### Exemple : modélisation des appelés pour la procédure "ValidationCommande"
<a name="exemple_modelisation_des_appeles_pour_procedure_validationcommande_ELTPARAGRAPHE000029"></a>La rétro-modélisation des appelés de la procédure "ValidationCommande" est la suivante :
<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Retro_ExempleGeneral.gif)


Les différents éléments de ce graphe sont les suivants :

1. Traitement pour lequel la rétro-modélisation a été effectuée.

2. Traitement appelé.

3. Groupe de traitements non détaillé.

4. Groupe de traitements détaillé.




**Qu'est-ce qu'un groupe de traitements ?**
Un groupe de traitements permet de regrouper les traitements par fonctionnalité, afin d'obtenir une vision synthétique de l'architecture des traitements. Dans cet exemple, la procédure "ValidationCommande" lance la procédure "ModificationStock", qui elle-même lance deux procédures. Cet ensemble est un groupe de traitements.

Dans le graphe, un groupe de traitements peut être détaillé ou non. L'icône  ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Retro_AugmenteDetails.gif) permet de détailler un groupe de traitements et l'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Retro_DiminueDetails.gif) permet de réduire un groupe de traitements.

Les graphes obtenus peuvent ensuite être modifiés sous l'éditeur de modélisation souple, afin d'afficher plus de détails, d'ajouter des commentaires, ...



<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Comment le faire ?
<a name="comment_faire_ELTTEXTE000225"></a>
Pour faire une rétro-modélisation de code : 

1. Lancez l'assistant de rétro-modélisation : 

	- soit en sélectionnant l'option "Rétro-modélisation" dans le menu contextuel de la procédure (volet "Explorateur de projet").

	- soit directement depuis l'éditeur de code. Il suffit de placer le curseur de la souris sur le nom d'une procédure, dans un traitement, une procédure, un code de classe, ... et de sélectionner l'option "Rétro-modélisation" dans le menu contextuel.

	- soit depuis la fenêtre des références croisées d'une procédure (ouverte par "Shift+F2") : cliquez sur le bouton "Rétro-modélisation des appelants" (onglet "Appelants") ou "Rétro-modélisation des appelés" (onglet "Appelés").




2. Choisissez le type de graphe que vous souhaitez obtenir : Graphe des appelés ou Graphe des appelants.

3. Saisissez le nom de la modélisation souple qui sera générée.
	Par défaut, ce nom est de la forme "Rétro-modélisation des &lt;appelés/appelants&gt; par &lt;Nom de la Procédure&gt;".

4. Sélectionnez les options de coloration de la modélisation. Il est possible de colorer les traitements : dans ce cas, tous les traitements appartenant à un même élément du projet (fenêtre, classe, ...) utiliseront la même couleur.
	Il est également possible d'activer la grille d'alignement sous l'éditeur de modélisation.

5. Vous pouvez regrouper les traitements par fonctionnalité. 
	Les regroupements sont conseillés lors de la rétro-modélisation de procédures complexes. Ils permettent d'obtenir une vision synthétique puis d'explorer étape par étape le code considéré.
	Pour les traitements de taille réduite, il est conseillé de ne pas effectuer de regroupement afin d'accéder directement au niveau de détails maximal. Cependant, le niveau de détails ne pourra pas être modifié sous l'éditeur de modélisation.

6. Validez la création du graphe. L'éditeur de modélisation souple s'ouvre et affiche le graphe généré.





<a name="NOTE3_2"></a>


### Changer le niveau de détails dans la modélisation
<a name="changer_niveau_details_dans_modelisation_ELTPARAGRAPHE000085"></a>Si vous avez choisi de générer un graphe avec regroupement des traitements par fonctionnalité, il est possible de changer le niveau de détails directement dans la modélisation.


|   |   |
| --- | --- |
| **Traitements regroupés** | **Traitements détaillés** |
| <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Retro_ExempleSansDetail.gif)<br> | <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Retro_ExempleAvecDetail.gif)<br> |



**Pour augmenter le niveau de détails** : 

- d'un traitement : double-cliquez sur l'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Retro_AugmenteDetails.gif) du traitement affiché dans la modélisation.

- de tous les traitements du graphe : cliquez sur l'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Retro_AugmenteDetailsTout.gif) de la barre d'outils.




**Pour diminuer le niveau de détails** :

- d'un traitement : double-cliquez sur l'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Retro_DiminueDetails.gif) du traitement.

- de tous les traitements du graphe : cliquez sur l'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Retro_DiminueDetailsTout.gif) de la barre d'outils.





<a name="NOTE3_3"></a>


### Accéder au code d'un traitement depuis la modélisation
<a name="acceder_code_traitement_depuis_modelisation_ELTPARAGRAPHE000122"></a>Il est possible d'accéder au code d'un traitement :

- soit en double-cliquant sur le bouton ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Retro_BoutonCode.gif) du traitement.

- soit en utilisant la touche "F2" sur le traitement sélectionné.







