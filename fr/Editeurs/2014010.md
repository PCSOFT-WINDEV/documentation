
## Compatibilité Composant externe et application déployée
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000173"></a>
Les évolutions d'un composant externe peuvent être de plusieurs natures :

- ajout de fonctionnalités, modification de fonctionnalités,

- corrections diverses, ...




Cette page d'aide présente :

- [Comment prendre en compte la mise à jour d'un composant dans une application déployée](#NOTE2_1).

- [Les différents modes de compatibilité d'un composant : compatibilité ascendante et descendante](#NOTE3_1).






<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Prendre en compte la mise à jour d'un composant dans une application déployée
<a name="prendre_compte_mise_jour_composant_dans_une_application_deployee_ELTTEXTE000197"></a>
Pour mettre à jour un composant externe dans une application déployée en clientèle, il existe deux méthodes :

1. Recompilation du projet utilisant le composant externe (méthode conseillée).

2. ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Distribution directe du fichier ".WDK".





<a name="NOTE2_2"></a>


### 1. Recompilation du projet utilisant le composant externe (méthode conseillée)
<a name="1_recompilation_projet_utilisant_composant_externe_methode_conseillee_ELTPARAGRAPHE000041"></a>Recompilez le projet qui utilise le composant puis redistribuez l'application (avec le composant).

Dans ce cas, aucun problème de version ou de compatibilité ne sera rencontré.

La recompilation est nécessaire dans les cas suivants :

- De nouvelles fonctions ont été ajoutées dans le composant et doivent être prises en compte par l'application.

- Les paramètres de certaines procédures ont été modifiés.

- Incompatibilité de la nouvelle version du composant avec les anciennes versions du composant.

- ...





<a name="NOTE2_3"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### 2. Distribution directe du fichier ".WDK"
<a name="2_distribution_directe_fichier_wdk_ELTPARAGRAPHE000060"></a>Fournissez directement une mise à jour du composant (fichier ".WDK") en clientèle sans recompilation du projet.

Cette méthode peut être utilisée dans les cas suivants :

- La nouvelle version sert à corriger un ou des dysfonctionnements d'une version antérieure.

- De nouvelles fonctions ont été ajoutées dans le composant mais ne sont pas nécessaires au bon fonctionnement de l'application.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Modes de compatibilité
<a name="modes_compatibilite_ELTTEXTE000233"></a>


### Définition
<a name="definition_ELTPARAGRAPHE000074"></a>La gestion de la compatibilité est liée aux versions d'un composant. En effet, si des modifications ont été apportées au composant, les applications qui utilisent le composant en déploiement peuvent rencontrer des problèmes d'exécution si elles ne sont pas en phase avec ce composant.

La gestion de la compatibilité est une étape importante dans la distribution d'un composant.

Deux types de compatibilités sont alors à distinguer :

- ***la compatibilité descendante*** : la version du composant utilisée (fichier .WDK) pour compiler les applications utilisant ce composant doit être toujours supérieure ou égale à la version actuellement utilisée. Cette compatibilité est automatiquement gérée par WINDEV. Si le composant distribué est d'une version inférieure à celle utilisée par les applications, ces applications refuseront de fonctionner.

- ***la compatibilité ascendante*** : l'utilisation d'une nouvelle version d'un composant avec les projets compilés avec une ancienne version peut être interdite. Il est donc nécessaire de recompiler les projets pour utiliser correctement la nouvelle version du composant.





<a name="NOTE3_2"></a>


### Compatibilité descendante
<a name="compatibilite_descendante_ELTPARAGRAPHE000089"></a>WINDEV vérifie toujours le numéro de version des composants pour s'assurer que la version du composant utilisée en déploiement est supérieure ou égale à celle utilisée dans le projet de développement.

Par exemple :

1. Le projet a été compilé avec la version 1.00C d'un composant.

2. La version 1.00C est la version de référence. Cela signifie que les applications utilisant ce composant ne fonctionneront que si la version du composant est supérieure ou égale à la version de référence.

	- ***Premier cas*** : Les applications en clientèle utilisent le composant (fichier .WDK) dans une version inférieure à 1.00C. Une erreur surviendra au chargement de ces applications.![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=AppC_CompoA_MarchePascopier.gif)


	- ***Second cas*** : Les applications en clientèle fonctionneront si elles utilisent le composant dans la version attendue.![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=AppC_CompoC_Marchecopier.jpg)





<a name="NOTE3_3"></a>


### Compatibilité ascendante
<a name="compatibilite_ascendante_ELTPARAGRAPHE000109"></a>WINDEV détecte automatiquement les incompatibilités entre deux versions d'un même composant lors de la génération de ce composant. Si des différences sont détectées, WINDEV propose de modifier le "numéro de la dernière version compatible". Ce numéro est le numéro de version à partir duquel les applications utilisant le composant seront autorisées à fonctionner.

Par exemple :

1. Un projet qui utilisait le composant en version 1.00C n'a pas été recompilé avec la nouvelle version 1.00E de ce composant.

2. Un composant est distribué en version 1.00E.

	- ***Premier cas*** : le composant a été modifié uniquement pour corriger certains dysfonctionnements. Lors de la génération du composant, le "numéro de dernière version compatible" n'a pas été modifié.
			Pour que les applications fonctionnent correctement, il n'est pas nécessaire de recompiler les projets avec la nouvelle version du composant. Le composant (fichier .WDK) peut être directement distribué en clientèle.![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=AppC_CompoE_Marchecopier.jpg)


	- ***Second cas*** : le composant a été modifié pour ajouter un paramètre à une procédure par exemple. Lors de la génération du composant, le "numéro de dernière version compatible" a été modifié.
			Pour que les applications fonctionnent, il faut nécessairement que les projets soient recompilés avec la nouvelle version du composant. Dans le cas contraire, les applications refuseront de fonctionner pour éviter les problèmes dus aux incompatibilités éventuelles de la nouvelle version du composant.![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=AppC_CompoE_MarchePascopier.jpg)







