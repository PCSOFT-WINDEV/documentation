


## Compiler un projet WINDEV Mobile sous Xcode
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000174"></a>
Lorsque le projet WINDEV Mobile pour iPhone/iPad est généré sur le poste de développement, les fichiers générés doivent être transférés sur un poste Mac pour être compilés. 

Pour plus de détails, consultez : 

- [Développer un projet pour iPhone/iPad](../Editeurs/1000019818.md). 

- [Développer une application pour Apple Watch](../Editeurs/1000019919.md).

- [Générer l'application iPhone/iPad](../Editeurs/1000019908.md).




Remarque : Livré avec la LST 127, l'utilitaire "WMIOSBuild" permet de copier un projet iOS sur un Mac, de le compiler puis de déployer automatiquement l'application sur le périphérique connecté au poste de développement. Finis les allers-retours entre le poste de développement et le Mac ! [Consultez le sommaire de la LST 127](https://pcsoft.fr/lst/Last/lst127.htm). 



- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMIOSBuild.gif) ***LST n°127*** : **WMIOSBuild** <br>Cet outil vous permet de lancer une compilation XCODE directement depuis WINDEV Mobile après la génération de votre projet pour iOS.<br>Cette mise à jour permet de générer les projets IOS sous XCODE 12.5 et + !<br><br>Vous aurez besoin d'un poste sous MacOS accessible sur le réseau, sur lequel est installé la dernière version de XCODE, et d'un compte utilisateur administrateur sur ce poste. WMIOSBuild s'occupe du reste.<br>En fin de compilation, il est possible de déployer l'archive générée (.IPA) vers un serveur externe pour une installation AdHoc, ou de générer une archive 'enterprise' pour le déploiement dans un MDM PCSCloud.





## Version de Xcode à utiliser
<a name="version_xcode_utiliser_ELTTEXTE000198"></a>
Les projets Xcode générés par **WINDEV Mobile 26** sont adaptés à Xcode 11.2. Cette version de Xcode doit être utilisée pour le test et le déploiement d'applications pour iOS. 
Attention : les projets générés à partir de WINDEV Mobile 26 sont utilisables uniquement avec des périphériques iOS version 11 et supérieure.



## Compilation sous Xcode sur le MAC
<a name="compilation_sous_xcode_sur_mac_ELTTEXTE000222"></a>


### Transférer le projet WINDEV Mobile sur le MAC
<a name="transferer_projet_windev_mobile_sur_mac_ELTPARAGRAPHE000060"></a>Pour transférer le projet WINDEV Mobile sur le MAC :

1. Copiez le dossier complet généré dans le répertoire EXE sur un support externe (clé USB, disque dur externe, répertoire partagé avec le MAC sur le réseau). **Ce répertoire a pour nom &lt;Nom du projet&gt;.xcode.gen**. 

2. Collez ce dossier sur le MAC qui va compiler l'application.

3. Ouvrez le dossier sur le MAC et ouvrez le fichier nommé "Nom_du_projet.xcodeproj".<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=IOS_selection_projet_xCode1.gif)


4. Le projet s'ouvre dans Xcode.





### Gestion des signatures sous Xcode 8 et supérieur
<a name="gestion_des_signatures_sous_xcode_8_superieur_ELTPARAGRAPHE000073"></a>L'assistant de génération d'applications iOS offre la possibilité de gérer les signatures sous Xcode.

Si vous avez choisi cette option dans l'[assistant de génération](../Editeurs/1000019923.md), par défaut, lors de l'ouverture du projet sous Xcode, Xcode utilise le mode de signature "automatique". L'option "Automatically manage signing" est sélectionnée. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=XCode_signature1.gif)
Vous devez préciser l'option "Team" avant de compiler le projet sous Xcode. 
Remarque : les caractéristiques des "Team" sont précisées dans les comptes Xcode. Le "Provisioning profile" est automatiquement sélectionné. 

Il est possible de choisir le mode de signature "manuel" en décochant l'option "Automatically manage signing". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=XCode_signature2.gif)
Dans ce cas, Xcode demande de renseigner les caractéristiques de signature. Il suffit de sélectionner le "Provisioning profile" voulu pour les modes "Debug" et "Release". Si ces fichiers ne sont pas présents dans Xcode, il est possible de les importer. 


### Compiler le projet sous Xcode
<a name="compiler_projet_sous_xcode_ELTPARAGRAPHE000091"></a>WINDEV Mobile génère automatiquement un projet Xcode pour vos compilations iOS. Pour vous faciliter la mise au point des applications, WINDEV Mobile génère un "Scheme" pour Xcode.

Pour compiler le projet sous Xcode : 

1. Dans la liste déroulante en haut à gauche, sélectionnez les options de compilation. Sélectionnez le scheme correspondant à votre application puis la cible de compilation (appareil actuellement connecté ou un simulateur). 
	
	<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=IOS_Choix_cible1.gif)<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=IOS_selection_cible1.gif)


2. Pour lancer la compilation, cliquez sur l'option de menu "Product .. Clean" puis sur l'option de menu "Product .. Build". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=IOS_compilation_build.gif)


3. Un compte-rendu de compilation apparaît en haut ("Succeeded" ou sinon le nombre de warnings et d'erreurs). Vous pouvez cliquer sur ces symboles pour voir la liste des erreurs/warnings.<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=IOS_resultat_Compilation.gif)


4. Une fois le programme compilé sans erreurs, vous pouvez lancer la simulation (Option "Product .. Run"). La fenêtre de simulation apparaît avec l'application.<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=IOS_simulation_iPhone.gif)





Vous pouvez ensuite tester votre application directement sur votre iPhone ou iPad. Pour plus de détails, consultez [Déploiement de l'application](../Editeurs/1000019864.md). 

Remarques : 

- **Attention** : Depuis Avril 2020, le déploiement via App Store nécessite d'utiliser la version 25 de WINDEV Mobile.

- Génération 32 bits et 64 bits : Les applications iOS sont générées par défaut en 32 et 64 bits (imposé par la société Apple). Cependant, sous Xcode dans le simulateur Apple, les applications s'exécuteront TOUJOURS en mode 32 bits.

- Dans certains cas, une erreur de link peut apparaître dans Xcode 11.2. Cette erreur correspond à un problème référencé sous Xcode (requête en cours chez Apple). Vous pouvez effectuer les manipulations suivantes pour obtenir votre application : 

	- Sélectionnez l'option "Product .. Clean build folder". 

	- Sélectionnez l'option "Xcode .. Quit Xcode" (ne fermez pas Xcode via la croix). 

	- Réouvrez votre projet sous XCode et relancez le build. 








