


## Développer une application de type Widget iOS 13
			

<DIV class="specObsolete">
	<IMG style="float:left;margin-right:10px;" src="https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=warning_big.png"><B>Avertissement</B><BR>
	A partir de la version <B>26 (89)</B>,  il est recommandé de développer des applications de type Widget iOS 14. Pour plus de détails, consultez [Développer une application Widget iOS 14](../Editeurs/1000019929.md).
</DIV><a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000173"></a>
Une application Widget iOS est une application destinée à être affichée sous forme de Widget sur un périphérique iOS (iPhone, iPad, ...).

Une application Widget iOS est toujours associée à une application iOS avec laquelle elle peut échanger des données.

Le développement d'une application Widget iOS est réalisé en plusieurs étapes : 

- [Création et développement du projet sous WINDEV Mobile](#NOTE2_1). 

- [Génération de l'application](../Editeurs/1000019908.md).

- [Compilation sous Xcode](../Editeurs/1000019878.md). 




Cette page d'aide présente uniquement la création d'un projet Widget iOS et son développement. Sa génération et sa compilation sont identiques à celles pour une application iOS classique.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Créer un projet pour Widget iOS 13 avec WINDEV Mobile
<a name="creer_projet_pour_widget_ios_13_avec_windev_mobile_ELTTEXTE000197"></a>
Pour créer un projet Widget iOS 13 avec WINDEV Mobile : 

1. Créez un projet pour iOS (pour plus de détails, consultez [Développer une application pour iPhone/iPad](../Editeurs/1000019818.md)).

2. Créez une configuration Widget iOS 13 :

	- Lancez l'assistant de création d'une nouvelle configuration : sous le volet "Projet", dans le groupe "Configuration de projet", déroulez "Nouvelle configuration" et sélectionnez l'option "Nouvelle configuration (via assistant)". 
			Pour plus de détails, consultez [Configuration de projet](../Editeurs/9000030.md).

	- Dans l'étape "Informations générales" de l'assistant, sélectionnez "Widget iOS".<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Cr%E9erAppliWidgetIOS13%20-%20HC%20N%B0001.gif&type=thumb)


	- Dans l'étape "Application iOS associée" de l'assistant, sélectionnez la configuration iOS du projet associée à la configuration Widget iOS.<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Cr%E9erAppliWidgetIOS13%20-%20HC%20N%B0002.gif&type=thumb)




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Développer une application pour Widget iOS avec WINDEV Mobile
<a name="developper_une_application_pour_widget_ios_avec_windev_mobile_ELTTEXTE000221"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000064"></a>Le développement d'une application Widget iOS 13 et de son application iOS associée est similaire au développement pour une application classique.

**Pour l'application iOS**, vous créez les différents éléments de votre application. Le développement du projet se fait comme un projet WINDEV Mobile classique. Cependant, il existe quelques spécificités au développement pour iOS. Pour plus de détails, consultez [Particularités des applications iOS](../Editeurs/1000019865.md).

**Pour l'application Widget iOS 13**, vous pouvez :

- créer des fenêtres. Ces fenêtres sont au format Widget iOS (voir les limitations ci-dessous).

- ajouter des champs dans les fenêtres. Dans une application Widget iOS, les champs disponibles sont les suivants : 

	- Bouton

	- Interrupteur et interrupteur à bascule, 

	- Sélecteur,

	- Image, 

	- Jauge, Jauge infinie, 

	- Liste, 

	- Zone répétée, 

	- Libellé,  

	- Calendrier, 

	- Code-barres, 

	- Modèle de champs, superchamp, groupe de champs,

	- Fenêtre interne.




- utiliser des fonctions/propriétés/types WLangage. Si une fonction n'est pas disponible, une erreur de compilation est affichée.




En Mode Widget iOS 13, l'utilisation du "scroll" ou du clavier est interdite. 

**Attention** : iOS limite la mémoire disponible pour les widgets. La valeur de cette limitation dépend du matériel, de la version d'iOS, des autres applications, ... Il est conseillé de limiter au maximum la consommation de mémoire dans vos configurations Widget iOS 13 :

- Limiter le nombre de champs. 

- Préférer les fenêtres internes aux plans, 

- Vérifier la taille des images (notamment pour le style des champs). 


Si le widget dépasse la limitation, il sera tué par iOS avec l'erreur : EXC_RESOURCE RESOURCE_TYPE_MEMORY (limit=xxx MB, unused=xxx)

**Lorsque le développement est terminé**, vous pouvez générer le projet Xcode permettant de compiler l'application Widget iOS et son application iOS associée sur le MAC : 

1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_generation_IOS.gif) parmi les boutons d'accès rapide. 

2. Choisissez si nécessaire la première fenêtre affichée sur les différentes plateformes (iPhone, iPad et Widget iOS).

3. L'assistant de génération se lance. Pour plus de détails sur la génération du projet Xcode, consultez [Génération de l'application](../Editeurs/1000019908.md).


Remarque : Une étape spécifique "Apple Widget (Widget iOS) est affichée dans l'assistant. Cette étape permet de gérer le nom du Widget et sa signature. Le "Bundle ID" du widget correspond à celui de l'application iOS en lui ajoutant à la fin ".&lt;Nom de la configuration Widget iOS&gt;". Il est nécessaire d'enregistrer les 2 "Bundle ID" (celui de l'application et celui du widget) dans le "Provisioning profile". 


### Les fenêtres des applications Widget iOS 13
<a name="les_fenetres_des_applications_widget_ios_13_ELTPARAGRAPHE000116"></a>Dans la plateforme Widget iOS 13, les fenêtres créées sous l'éditeur ont une taille spécifique pour les Widgets iOS 13. 

En effet, la largeur et la hauteur de la fenêtre sont fixées par le système iOS et dépendent du périphérique sur lequel le widget est exécuté. 

- La fenêtre proposée sous l'éditeur de fenêtres correspond à la largeur minimale possible. Pour gérer la taille en exécution de votre Widget, il est nécessaire d'utiliser les ancrages. 

- La fenêtre proposée sous l'éditeur de fenêtres correspond à la hauteur minimale possible pour un affichage en mode Widget replié. Il est possible d'afficher le Widget en mode déplié. il suffit de définir la taille maximale possible désirée avec la propriété [HauteurDéroulée](../Proprietes/1000024950.md). Lorsque la valeur de la hauteur déroulée est supérieure à la hauteur repliée d'un Widget iOS 13, alors ce Widget pourra être dépliable. La hauteur dépliée sera définie par le système. Elle pourra être comprise entre la taille repliée et la taille déroulée demandée. Pour gérer le mode déplié, il est également conseillé d'utiliser les ancrages. 





