
## Fusion des différences (GDS)
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Principe
<a name="principe_ELTTEXTE000133"></a>
La gestion des branches permet de gérer en parallèle plusieurs versions (exploitées ou pas) d'une même application.

Le cas habituel est celui-ci : 

- Vous avez diffusé une version de votre application et vous travaillez sur la future version applicative de cette application. 

- Mais vous souhaitez dans le même temps, reporter dans la version en clientèle les corrections de bug que vous effectuez dans la nouvelle version, et ainsi créer et diffuser des versions correctives intermédiaires.




Les branches sont souvent représentées sur une flèche du temps. 

Exemple : 
<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Branche-Fusion-et-reintegration-de-modification-01.gif)


Dans cet exemple, il y a une branche principale (appelée "Ma Version") à partir de laquelle une branche "Version 1" a été créée. L'origine est l'état du projet au moment où la branche a été créée. Cette origine est notée dans la branche : elle permettra par la suite de faire une fusion automatique.

Dans notre exemple, des modifications ont été réalisées à la fois dans la branche principale et dans la branche "Version 1". Nous voulons réintégrer toutes les modifications de la branche principale dans "Version 1" en réalisant une fusion de branches. 
<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Branche-Fusion-et-reintegration-de-modification-02.gif)


Pour effectuer cette fusion, trois éléments vont être comparés :

- L'état du projet au moment où la branche a été créée (l'origine).

- L'état actuel de la branche principale ("Ma Version").

- L'état actuel de la branche "Version 1".



<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Branche-Fusion-et-reintegration-de-modification-03.gif)


En comparant les fichiers dans ces trois états, il est possible de calculer une fusion des deux branches.

La fusion est réintégrée dans la branche Version 1. Les branches étant fusionnées à ce moment, le moment de la fusion devient la nouvelle origine qui sera utilisée pour la fusion suivante au besoin.
<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Branche-Fusion-et-reintegration-de-modification-04.gif)


<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Fenêtre de fusion
<a name="fenetre_fusion_ELTTEXTE000157"></a>


### Affichage initial
<a name="affichage_initial_ELTPARAGRAPHE000047"></a>La fenêtre de fusion apparaît uniquement lorsqu'un conflit apparaît. Cette fenêtre reprend les trois moments de comparaison. 

Pour chaque élément : 

- la colonne "Projet en cours" correspond à l'état de l'élément dans la version du projet actuellement ouverte sous l'éditeur. 

- la colonne "Modifications à reporter" correspond à l'état de l'élément dans la branche. 




Par défaut, cette fenêtre propose de récupérer l'élément présent dans la branche. Par exemple, si l'élément n'existe pas dans le projet en cours, mais s'il existe dans la branche, il sera proposé dans le résultat de la fusion.

Vous pouvez choisir les éléments à prendre en compte dans la fusion pour chaque élément : il suffit de cliquer sur les cases du tableau correspondant à la version à prendre en compte pour la fusion. 
<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=GDS_R%E9cup%E9rer_fusion%20-%20HC%20N%B0004.gif&type=thumb)


Remarque : L'option "Vue complète (afficher toutes les différences avec l'origine)" permet de visualiser également les différences avec la version d'origine, c'est-à-dire lors de la création de la branche.  


### Conflit de modifications de code
<a name="conflit_modifications_code_ELTPARAGRAPHE000069"></a>Lorsqu'un conflit de modification de code est détecté, le lien "Différences de code" apparaît dans la fenêtre de fusion. Ce lien permet d'afficher la fenêtre de fusion des différences de code. 
<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=GDS_R%E9cup%E9rer_fusion%20-%20HC%20N%B0005.gif&type=thumb)


Cette fenêtre est divisée en trois parties : 

- la colonne "Projet en cours" : correspond au code dans la version du projet actuellement ouvert sous l'éditeur. 

- la colonne "Résultat" : correspond au code fusionné qui sera utilisé. 

- la colonne "Modifications à reporter" correspond au code utilisé dans la branche. 




Dans cette fenêtre, il suffit d'utiliser les boutons fléchés pour construire le code fusionné dans la zone résultat. 

Remarque : l'option "Voir la version d'origine" permet d'ajouter une quatrième colonne correspondant au code de la version d'origine. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=GDS_R%E9cup%E9rer_fusion%20-%20HC%20N%B0006.gif&type=thumb)







