


## Changement de version des projets présents dans le GDS
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000161"></a>
Lorsque plusieurs projets partagent des éléments dans un même GDS, le changement de version des projets WINDEV, WEBDEV et
WINDEV Mobile doit être fait avec précaution, sous peine de bloquer un projet.

Dès lors qu'un projet est ouvert dans une version supérieure de WINDEV, WEBDEV ou WINDEV Mobile (passage de la version 24 à la version 25 par exemple), tous ses éléments (fenêtres, classes, etc.) sont "convertis" au nouveau format pour pouvoir prendre en compte les nouveautés de la version.

Si certains de ces éléments sont partagés avec d'autres projets via le GDS, il est alors impossible pour les autres projets (restés en version inférieure, 24 par exemple) de récupérer la mise à jour des éléments ouvert avec une version supérieure.

Les projets locaux en 24 sont toujours fonctionnels, mais s'ils n'étaient pas à jour d'une correction pour un élément maintenant ouvert avec la dernière version, il n'est plus possible de récupérer (simplement) les corrections.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Avant le changement de version
<a name="avant_changement_version_ELTTEXTE000185"></a>
Faites la liste complète des projets qui partagent des éléments via le GDS : si vous choisissez d'ouvrir un projet avec une nouvelle version, tous les projets qui partagent au moins un élément devront être ouverts avec cette version en même temps.

Pour chaque élément partagé du projet "principal", listez tous les projets qui partagent cet élément.

Dans l'administrateur du GDS, un élément partagé est identifiable par un pictogramme spécifique.

Pour lister les projets qui partagent un élément, depuis l'administrateur du GDS, ouvrez les propriétés de l'élément (clic droit, "Propriétés") et affichez le volet "Partages". 

Bien entendu, cette opération doit être effectuée pour chaque projet partageant un élément, de façon récursive : si vous ouvrez avec une version supérieure un projet A qui partage un élément avec un projet B qui partage lui-même un autre élément avec un projet C, les 3 projets doivent être changés de version en même temps.

Important : prévoyez une date pour passer vos projets en version supérieure ! Le passage en version supérieure d'un projet ayant des éléments partagés ne doit pas s'improviser.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Le jour du changement de version
<a name="jour_changement_version_ELTTEXTE000209"></a>
Les opérations à réaliser sont les suivantes : 

1. Depuis l'administrateur du GDS, assurez-vous que tous les éléments de tous les projets concernés sont correctement réintégrés : aucun élément ne doit être extrait avant le changement de version.

2. Ouvrez les projets concernés dans leur version actuelle (24 par exemple) et vérifiez que tous les éléments en local sont à jour. 
	Ces vérifications permettent de s'assurer que la branche de sauvegarde qui va être créée ultérieurement contiendra bien tous les éléments dans leur version la plus à jour.
	De plus, avoir une version locale du projet à jour est un atout supplémentaire non négligeable en cas de soucis.




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Le changement de version
<a name="changement_version_ELTTEXTE000233"></a>
Le changement de version des projets doit être effectué de manière séquentielle : un projet, puis un autre et ainsi de suite.

Si vous êtes une équipe, ne changez pas la version simultanément des projets liés.

Commencez par modifier le projet ayant le plus d'éléments partagés.

Pour chaque projet :

1. Ouvrez le projet dans la nouvelle version (25 par exemple) : une fenêtre de GDS se lance, indiquant que vous tentez d'ouvrir un projet d'une version inférieure.

2. Sélectionnez l'option "Passer ce projet en version 25 et conserver la connexion GDS" sans oublier de cocher l'option "Créer une branche dans le GDS avec l'ancien projet".
	La création d'une branche est, dans la majorité des cas, INDISPENSABLE !

3. Dans l'assistant de création d'une branche qui se lance, conservez le nom de la branche fixé par défaut ("Sauvegarde version 24").
	Si vous modifiez le nom de cette branche, pensez à appliquer strictement le même nom de branche pour tous les projets.
	Le nommage de la branche est primordial pour que les partages d'éléments entre les projets puissent se réappliquer correctement au sein de la branche.

4. À l'étape 3/3 de l'assistant de création d'une branche, cochez l'option "Rechercher et recréer les partages dans la branche". 
	Si vos projets en local sont à bien jour, cochez l'option "Utiliser ma version locale comme référence pour la branche".

5. Lorsque la branche est créée et le projet ouvert en version supérieure, réintégrez tous les éléments du projet qui ont été extraits puis fermez le projet. 

6. Dans l'administrateur du GDS, assurez-vous que tous les éléments du projet ont été réintégrés.

7. Vérifiez également que la branche contenant l'ancienne version du projet ("Sauvegarde version 24") est bien présente.


Cette opération doit être répétée pour tous les projets concernés.

<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Travailler avec la branche
<a name="travailler_avec_branche_ELTTEXTE000257"></a>
Lorsque tous les projets ont changé de version, vous pouvez tout à fait continuer à travailler sur l'ancienne version du projet (version 24 par exemple) si nécessaire (en cas de modification ou de correction urgente par exemple).

Il suffit pour cela d'ouvrir le projet situé dans la branche :

- si vous avez réalisé la migration sur votre poste, l'assistant de création d'une branche a automatiquement réalisé une copie du projet dans le répertoire "C:\\Mes Projets.Branches\\Sauvegarde version 24\\" (par défaut).

- si la migration a été réalisée sur un autre poste ou par un autre développeur, utilisez simplement l'option "Ouvrir un projet depuis le GDS" et sélectionnez le projet dans l'arborescence "GDS:\\\\Branches\\Sauvegarde version 24\\".
	Pensez à fixer un chemin local permettant d'identifier que cette version du projet est issue d'une branche.




Après modification dans une branche, n'oubliez pas de reporter ces modifications sur la version la plus récente du projet (25 par exemple).

Pour réaliser ce report :

1. Ouvrez le projet dans sa version la plus récente. 

2. Sous le volet "GDS", dans le groupe "Projet", déroulez "Branches" puis sélectionnez l'option "Récupérer des modifications depuis une branche".

3. Un assistant se lance pour vous guider dans le report de vos modifications.





