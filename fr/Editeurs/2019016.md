


## Tester une page dynamique (mode session ou mode AWP)
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000231"></a>
Le test d'une page seule permet d'exécuter uniquement la page en cours sous WEBDEV.

Vous pouvez ainsi choisir de tester votre projet à partir d'une page donnée, ou de tester le fonctionnement d'une page dès que son développement est terminé.

Lors de ce test, le débogueur peut être lancé.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Comment le faire ?
<a name="comment_faire_ELTTEXTE000255"></a>


### Tester la page en cours (en mode session ou en mode AWP)
<a name="tester_page_cours_mode_session_mode_awp_ELTPARAGRAPHE000022"></a>Pour tester la page en cours (mode session ou AWP) depuis l'éditeur : 

1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_Go_Page_bl.gif) parmi les boutons d'accès rapide (ou F9).

2. L'éditeur est automatiquement réduit en icône et la page s'exécute dans le navigateur choisi par défaut.




**Astuce** : Pour sélectionner le navigateur utilisé lors du test de la page, utilisez l'icône de test de la page parmi les boutons d'accès rapide. La flèche à droite permet de dérouler un menu afin de choisir rapidement le navigateur à utiliser pour le test.<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=GO_PAGE_WB_deroule.gif)


Le choix du navigateur utilisé par défaut peut également être réalisé dans les [options de WEBDEV](../Editeurs/2036001.md). 
Le navigateur de test peut être sélectionné sous le volet "Projet", dans le groupe "Mode test", en déroulant "Mode test" et en sélectionnant "Navigateur de test".

**Remarques** :

- Lors du test d'une page qui attend un ou plusieurs paramètres, une fenêtre de saisie des paramètres s'affiche automatiquement.

- Pour lancer le débogueur, il suffit d'utiliser le mot-clé STOP dans le code ou d'utiliser un point d'arrêt.

- Il est possible de relancer le dernier test effectué (page, requête, état, ...) depuis n'importe quel élément du projet grâce à l'option "GO .. Relancer le dernier test" présente dans les boutons d'accès rapide. 

- L'option "Tester depuis un téléphone (accès via un QR Code)" permet de tester directement la page sur un mobile. Une fenêtre s'affiche proposant un QR code à flasher avec votre mobile. Une fois le code flashé, la page s'affiche sur le mobile. Vous pouvez ainsi vérifier le comportement de la page sur un mobile. 
	Attention : 

	- Ce mode de test n'est pas disponible si vous utilisez le serveur Web intégré IIS Express. 

	- Le téléphone doit être connecté au même réseau que le PC (via le WiFi par exemple). 


Pour plus de détails, consultez [Tester un site WEBDEV sur un mobile](../Editeurs/2019035.md). 



<a name="NOTE2_2"></a>


### Evénements exécutés
<a name="evenements_executes_ELTPARAGRAPHE000076"></a>**Au lancement du test d'une page (mode session)**, les événements WLangage suivants sont exécutés :

- Déclaration des classes (code serveur),

- Initialisation du projet (code serveur),

- Déclarations globales de la page en cours (code serveur),

- Initialisation des champs présents dans la page en cours (code serveur),

- Initialisation de la page en cours (code serveur),

- Chargement de la page en cours (code navigateur),

- Entrée du premier champ de la page en cours (si ce champ a un traitement d'entrée) (code navigateur).




**Au lancement du test d'une page AWP**, la page est exécutée avec une URL contenant les paramètres de la page et la ligne de commande du projet. La ligne de commande du projet est définie sous le volet "Projet", dans le groupe "Mode test", en déroulant "Mode test" et en sélectionnant "Paramétrage du mode test". Les événements WLangage suivants sont exécutés :

- Déclaration des classes (code serveur),

- Initialisation du projet (code serveur),

- Déclarations globales de la page en cours (code serveur),

- Initialisation des champs présents dans la page en cours (code serveur),

- Initialisation de la page en cours (code serveur),

- Chargement de la page en cours (code navigateur),

- Entrée du premier champ de la page en cours (si ce champ a un événement WLangage de type "Entrée dans le champ") (code navigateur).




Lors du test :

- Les codes d'initialisation (projet, classes, collections de procédures, ...) sont ré-exécutés à chaque action dans la page AWP et à chaque affichage d'une nouvelle page AWP.

- L'ensemble des fonctionnalités de la page pourront être exécutées. Il sera possible par exemple d'ouvrir d'autres pages. Lors du passage d'une page à l'autre (fonction [PageAffiche](../WDLang2/3058008.md) par exemple), le débogueur bloque l'exécution de la page suivante tant que la page précédente n'a pas été tracée dans son intégralité.

- La fonction [EnModeTest](../WDLang1/3013011.md) renvoie <u><u><u><u>Vrai</u></u></u></u>.



<a name="NOTE2_3"></a>


### Arrêter le test d'une page en mode session ou AWP
<a name="arreter_test_une_page_mode_session_awp_ELTPARAGRAPHE000129"></a>Pour arrêter le test, plusieurs méthodes sont possibles :

- 1ère méthode : Fermez le site en cours de test. WEBDEV affiche l'éditeur en cours au moment du lancement du test.

- 2ème méthode : Revenez dans l'éditeur avec la barre des tâches ou avec Alt + Tab et confirmez l'arrêt du test. WEBDEV affiche l'éditeur en cours au moment du lancement du test.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Notes
<a name="notes_ELTTEXTE000291"></a>


### Répertoire des fichiers de données à utiliser en test
<a name="repertoire_des_fichiers_donnees_utiliser_test_ELTPARAGRAPHE000141"></a>Pour paramétrer les fichiers de données utilisés lors du test de l'application sous l'éditeur :

1. Affichez la description du projet : sous le volet "Projet", dans le groupe "Projet", cliquez sur "Description".

2. Dans l'onglet "Fichier", sélectionnez l'emplacement des fichiers de données de test :

	- Répertoire courant : Les fichiers de données se trouveront dans le sous-répertoire EXE du projet.

	- Répertoire spécifique : Les fichiers de données se trouveront dans le répertoire indiqué.






<a name="NOTE3_2"></a>


### Gestion des mots de passe (analyse ou fichier de données)
<a name="gestion_des_mots_passe_analyse_fichier_donnees_ELTPARAGRAPHE000166"></a>Lors du test de la page dynamique, aucun mot de passe n'est demandé, que la page soit associée à une analyse protégée en exécution ou à un fichier de données protégé par mot de passe.

Les mots de passe nécessaires doivent être précisés par programmation dans l'événement "Initialisation" du projet :

- Si la page manipule un fichier de données d'une analyse protégée par un mot de passe en exécution, ce mot de passe doit être spécifié avec la fonction [HOuvreAnalyse](../WDLang4/3044106.md).

- Si la page manipule un (ou plusieurs) fichier(s) de données protégé(s) par un mot de passe, ce mot de passe doit être spécifié avec la fonction [HPasse](../WDLang4/3044108.md).




Si les mots de passe ne sont pas précisés dans l'événement "Initialisation" du projet, une erreur WLangage est affichée lors du test de la page.


### Vérification de l'environnement d'exécution avant le test
<a name="verification_environnement_execution_avant_test_ELTPARAGRAPHE000328"></a>Avant de lancer un test de projet, WEBDEV vérifie que l'environnement de test est correctement configuré.

Si un problème est détecté, WEBDEV propose d'afficher la fenêtre de diagnostic : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=wb_verifconfig.gif)
Les options disponibles sont les suivantes : 

- "Lancer le diagnostic" provoque l'ouverture de la fenêtre de diagnostic détaillé.

- "Lancer le test" ignore le diagnostic et lance le test. Cette option doit être employée si le diagnostic est incorrect.

- "Annuler" abandonne le lancement du test.




La fenêtre de diagnostic détaillé se présente de la façon suivante : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=wb_verifconfig_detail.gif)


Cette fenêtre effectue une série de tests pour vérifier que l'environnement de test est correctement configuré.

Pour chaque erreur détectée, un bouton "Corriger" permet de rétablir automatiquement l'environnement de test correct.

Si une aide supplémentaire est disponible, le bouton "Aide" sera activé pour y accéder.


