


## Développement d'applications pour Android
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000262"></a>
WINDEV Mobile permet le développement d'applications pour le système d'exploitation Android.

Le développement d'applications pour Android à l'aide de WINDEV Mobile se fait très simplement. Il est possible de tester les applications Android directement depuis WINDEV Mobile. Les applications créées pourront ensuite être déployées. Pour plus de détails, consultez [Déploiement d'applications Android](../Editeurs/9000118.md). 

Cette page d'aide présente : 

- [Les différentes étapes de la création d'un projet pour Android avec WINDEV Mobile](#NOTE2_1).

- [Les différents modes de tests des applications Android](#NOTE3_1). 




**Remarque** : Le développement pour la plateforme Android présente quelques particularités. Ces spécificités sont détaillées dans [Particularités des applications pour Android](../Editeurs/9000108.md).

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Créer un projet pour Android avec WINDEV Mobile
<a name="creer_projet_pour_android_avec_windev_mobile_ELTTEXTE000286"></a>


### Créer un projet Android avec WINDEV Mobile
<a name="creer_projet_android_avec_windev_mobile_ELTPARAGRAPHE000037"></a>Pour créer un projet Android avec WINDEV Mobile : 

1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_nouveau.gif)
 parmi les boutons d'accès rapide. 

	- La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Projet". 

	- L'assistant de création de projet se lance.




2. Choisissez le type de projet à créer : "Application Android ou iOS". Passez à l'étape suivante de l'assistant. 

3. Sélectionnez la plateforme du projet à créer. Il est possible de créer : 

	- un projet multiplateforme Android et iOS : ce projet contient déjà les 2 plateformes Android et iOS et pourra être exécuté sur l'une ou l'autre de ces plateformes. 

	- un projet Android uniquement : ce projet contiendra uniquement la plateforme Android. 

	- un projet iOS uniquement : ce projet contiendra uniquement la plateforme iOS. 


 Pour créer un projet Android, sélectionnez "Android uniquement". Passez à l'étape suivante de l'assistant.

4. Indiquez si le projet créé doit être un projet vierge ou un projet basé sur un exemple. 
	Remarque : Si le projet est basé sur un exemple, sélectionnez le nom de l'exemple à utiliser. 

5. Passez à l'étape suivante de l'assistant.

6. L'assistant propose de choisir le type d'appareils Android concernés par le projet : 

	- Générer une application pour téléphones et tablettes.

	- Générer une application pour téléphones uniquement.

	- Générer une application pour tablettes uniquement.

	- Générer une application pour un appareil précis.




7. **Si votre application est destinée à fonctionner sur plusieurs appareils Android** (téléphones de tailles différentes ou de résolutions différentes), il est conseillé d'utiliser une des trois premières options. Dans ce cas, WINDEV Mobile propose par défaut la plus petite résolution pour créer les fenêtres de l'application. L'utilisation des ancrages permettra à l'application de fonctionner sur tous les supports. 

8. **Si votre application est destinée à fonctionner sur un seul type d'appareil**, l'écran suivant de l'assistant permet de sélectionner le modèle exact.  

9. Passez à l'étape suivante. 

10. Choisissez le nom et l'emplacement de votre projet. Vous pouvez saisir une brève description du projet. Passez à l'étape suivante. 

11. Ajoutez si nécessaire des documents de conception au projet. Passez à l'étape suivante.

12. Indiquez si ce projet doit être intégré dans le [Gestionnaire de sources (GDS)](../Editeurs/2038001.md). Le gestionnaire de sources simplifie le travail en équipe et est également utile si vous travaillez seul. Passez à l'étape suivante.

13. Indiquez si vous désirez utiliser la charte de programmation. La charte de programmation correspond à une norme de programmation pouvant être reprise dans toute l'application. Cette norme permet de préfixer les différents éléments du projet, les variables, ... Pour plus de détails, consultez [Charte de Programmation](../Editeurs/9000074.md). Passez à l'étape suivante.

14. Sélectionnez la **charte graphique** utilisée si nécessaire. Cette charte sera proposée par défaut lors de la création d'une fenêtre et sera appliquée à tous les nouveaux champs. Cette option pourra être modifiée dans la fenêtre de description du projet (Onglet "Style"). Passez à l'étape suivante.

15. Sélectionnez : 

	- les **langues gérées**. Ces langues seront proposées par défaut dès qu'une option d'un élément (champ, fenêtre, ...) pourra être traduite. 

	- la **langue par défaut en exécution**. Cette langue sera utilisée pour visualiser le projet en exécution. Pour sélectionner la langue par défaut, affichez le menu contextuel de la langue voulue et sélectionnez l'option "Langue par défaut". 




16. Passez à l'étape suivante de l'assistant. 

17. Indiquez si le projet doit utiliser **une base de données** ou non.
	Si votre projet utilise une base de données, la base de données peut exister ou être nouvelle. Dans le cas d'une nouvelle base de données, un assistant de création de base de données est automatiquement exécuté à la fin de la création du projet.

18. Validez. Le projet créé devient le projet en cours.




**Remarques** : 

- Si vous avez demandé :

	- l'utilisation du GDS, [l'assistant d'ajout de projet dans une base de sources](../Editeurs/2038002.md) se lance automatiquement.

	- la création d'une base de données, [l'assistant correspondant](../Editeurs/2011011.md) se lance automatiquement.




- Tous les gabarits proposés peuvent être utilisés avec une application Android.

- Tous les gabarits appliquent le thème holographique à partir de Android 5. 
	Remarque : Pour utiliser le thème "Material Design", dans l'onglet "Général" de la description de la configuration Android, cochez l'option "Appliquer le thème Matérial design aux champs natifs et aux fenêtre Info/Erreur/Dialogue (nécessite Android 5.0 ou supérieure)".



<a name="NOTE2_2"></a>


### Polices utilisées dans un projet Android
<a name="polices_utilisees_dans_projet_android_ELTPARAGRAPHE000108"></a>Par défaut, les projets pour Android utilisent sous l'éditeur les polices "Droid" (Droid Sans, Droid Sans Mono et Droid Serif) et les Roboto. Ces polices sont automatiquement installées sur le poste de développement lors de l'installation de WINDEV Mobile.

**Utilisation des polices natives Android/iOS en exécution**
Les polices suivantes peuvent être utilisées :

- Droid Sans -> toutes versions d'Android

- Droid Sans Mono-> toutes versions d'Android

- Droid Serif -> toutes versions d'Android

- Roboto -> à partir d'Android 4.0 (Ice Cream Sandwich, api level 14)

- Roboto Condensed -> à partir d'Android 4.1 (Jelly Bean, api level 16)

- Roboto Light -> à partir d'Android 4.1 (Jelly Bean, api level 16)

- Roboto Thin -> à partir d'Android 4.2 (Jelly Bean MR1, api level 17)




Lors de la définition du style d'un champ, il est possible de choisir d'autres polices, installées sur le poste de développement. 

Si la police spécifiée n'est pas supportée en exécution sur l'appareil, une police de substitution sera utilisée (Droid Sans ou Roboto à partir d'Android 4.0). Des problèmes d'affichage peuvent alors survenir. 

Remarque : Si une police personnalisée est utilisée dans le projet sans avoir été intégrée dans le projet, une erreur d'UI est affichée. 

Pour utiliser des polices spécifiques (en édition comme en exécution) : 

1. Affichez la fenêtre de description du projet : sous le volet "Projet", dans le groupe "Projet", cliquez sur "Description".

2. Dans l'onglet "Avancé", cliquez sur le bouton "Polices du projet". 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Police_perso_WM%20-%20HC%20N%B0001.gif)


3. Dans la fenêtre qui s'affiche, ajoutez les polices voulues (bouton "Ajouter" permettant d'ajouter des fichiers au format "TTF" ou "OTF"). Les fichiers correspondant à la police seront copiés dans le sous-répertoire "Fonts" du projet. 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Police_perso_WM%20-%20HC%20N%B0002.gif&type=thumb)

	**ATTENTION** : Vous devez disposer des droits nécessaires pour la diffusion des polices sélectionnées. 

4. Validez les différentes fenêtres. 


Les polices sélectionnées seront disponibles sous l'éditeur de fenêtres, intégrées dans l'application Android et iOS puis déployées. Ces polices sont également disponibles sous l'éditeur d'états. Vérifiez que les polices ajoutées gèrent l'alphabet de votre application et qu'elles sont redistribuables. 


Lors de la sélection d'une police dans le style d'un champ, les polices intégrées apparaîtront en tant que police disponible pour la plateforme et en tant que police personnalisée.
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Police_perso_WM%20-%20HC%20N%B0004.gif&type=thumb)

<a name="NOTE2_3"></a>


### Analyse d'un projet Android
<a name="analyse_projet_android_ELTPARAGRAPHE000117"></a>Lors de la création d'une analyse pour un projet Android, il est possible d'utiliser : 

- soit une base de données HFSQL Classic ou Client/Serveur. 

- soit une base de données "SQLite". Il s'agit de la base de données par défaut présente sur le système d'exploitation Android. Le Connecteur Natif à cette base de données est inclus dans WINDEV Mobile. 




Lors de l'utilisation d'une base de données SQLite, WINDEV Mobile vous guidera dans la description d'une connexion à une base de données SQLite en indiquant :

- Un nom et une description pour la connexion (le nom est utilisé en programmation avec les fonctions telles que [HOuvreConnexion](../WDLang4/3044107.md)).

- Les paramètres avancés de la connexion :

	- Le nom du fichier contenant la base de données (en SQLite, l'ensemble de la base est contenu dans un unique fichier dont l'extension est habituellement .db).

	- Le répertoire contenant la base de données.







**Remarques** : 

- Dans une base de données SQLite, il est fortement recommandé que chaque fichier de données contienne un identifiant automatique.

- Le Connecteur Natif pour SQLite est disponible pour les applications WINDEV, WEBDEV et WINDEV Mobile.

- Pour plus de détails sur les bases de données Android, consultez [Application Android : Utilisation et partage de données](../Editeurs/9000123.md). 






<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Tester un projet Android
<a name="tester_projet_android_ELTTEXTE000378"></a>
Plusieurs modes de test sont disponibles pour les applications Android :

- [Le Go du projet dans le simulateur WINDEV Mobile](#NOTE3_2). 

- [Le Go du projet sur l'émulateur Android : l'émulateur est livré avec le SDK Android](#NOTE3_3).

- [Le Go du projet directement sur le périphérique](#NOTE3_4).




**Remarque** : Pour tester une application, il est nécessaire de générer cette application. Pour plus de détails, consultez [Génération d'une application pour Android](../Editeurs/9000109.md).
<a name="NOTE3_2"></a>


### Go du projet directement dans le simulateur
<a name="projet_directement_dans_simulateur_ELTPARAGRAPHE000171"></a>Ce test lance une fenêtre de test WINDEV Mobile dans laquelle est exécutée l'application pour Android. 

Ce test permet d'utiliser le débogueur. 

Cependant, de nombreuses différences peuvent être observées avec une exécution réelle. En effet, la simulation utilise le PC et non le périphérique Android. 

Remarque : Lors du GO du projet, une première fenêtre du projet doit être définie. 
Si l'application est disponible pour téléphones et tablettes, il est possible de définir une première fenêtre pour téléphones et une première fenêtre pour tablettes. 
<a name="NOTE3_3"></a>


### Go du projet directement dans l'émulateur Android
<a name="projet_directement_dans_emulateur_android_ELTPARAGRAPHE000188"></a>L'émulateur Android est livré avec le SDK Android. Pour utiliser un émulateur, il faut tout d'abord le créer depuis Android Studio (voir la documentation d'Android Studio pour plus de détails). Si l'émulateur a été créé, il sera automatiquement proposé dans la liste des périphériques disponibles via le GO. 

**Remarques** : 

- Le temps de lancement de l'émulateur est relativement long. Il est conseillé de ne pas fermer l'émulateur entre 2 tests du projet. 

- Le débogueur n'est pas attaché à l'application. Les points d'arrêts ne sont pas pris en compte.

- Ce type de test ne tient pas compte de la vitesse du téléphone. Le test prend en compte la vitesse du poste de développement. 

- Certaines fonctions WLangage ne sont pas disponibles sous l'émulateur. La documentation des différentes fonctions indique si la fonction peut être utilisée ou non dans l'émulateur. Quand les fonctions ne sont pas disponibles, les fonctions échouent.  



<a name="NOTE3_4"></a>


### Go du projet directement sur le périphérique
<a name="projet_directement_sur_peripherique_ELTPARAGRAPHE000204"></a>Pour réaliser ce test, il est nécessaire d'avoir installé les drivers spécifiques et configuré le téléphone (pour plus de détails, consultez [Préparation du téléphone Android pour effectuer des tests](../Editeurs/9000117.md)). 

L'exécutable Android est alors copié sur le téléphone connecté au PC et lancé. 

**Remarque** : Le débogueur n'est pas attaché à l'application. Les points d'arrêts ne sont pas pris en compte.


- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMInscrits.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Inscrits** <br>Cette application est un gestionnaire de présence. Elle permet de noter les personnes présentes lors d'un séminaire.<br>La base de données est préalablement renseignée avec la liste des personnes inscrites.<br>Il est possible de rechercher une personne par son nom.<br>Dans cet exemple, nous abordons les principaux thèmes suivants :<br>1/ l'utilisation d'une zone répétée fichier basée sur une requête<br>2/ l'utilisation d'une base de données au format HFSQL.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMClientFTP.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Client FTP** <br>Cet exemple est un Client FTP pour Android et iOS.<br>Il montre comment interagir avec un serveur FTP grâce aux fonctions FTP du WLangage.<br>Il permet entre autres de :<br>- Renommer des fichiers<br>- Supprimer des fichiers<br>- Créer des dossiers<br>- Télécharger des fichiers<br>- Envoyer des fichiers sur le serveur
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=AndroidExplorer.gif) ***Android (WINDEV Mobile)*** : **Android Explorer** <br>Cet exemple est un explorateur de fichiers pour Android.<br>Il permet de lister, supprimer, renommer les fichiers et les répertoires présents sur un périphérique Android. Il permet également de créer des répertoires.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMGestionContacts.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Gestion Contacts** <br>Cet exemple illustre la gestion de contacts pour Android et iOS.<br>Il permet de :<br>- lister les contacts du téléphone<br>- appeler les contacts<br>- envoyer des sms aux contacts<br>- ...
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMGestiondeCommandes.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Gestion de Commandes** <br>L'exemple WM Gestion de commandes est une gestion de commandes et factures simplifiée.<br>Cet exemple permet de :<br>- créer/modifier/supprimer un produit,<br>- créer/modifier/supprimer un client,<br>- contacter un client par email,<br>- voir l'historique des actions effectuées auprès d'un client,<br>- effectuer une commande, imprimer un bon de commande,<br>- facturer une commande, imprimer une facture.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMLecteurRSS.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Lecteur RSS** <br>Cet exemple est un lecteur de flux RSS pour les périphériques Android et iOS. Cette application vous permettra de suivre l'actualité de vos flux préférés. Ce lecteur gère les images composant un billet ainsi que les liens vers un site extérieur. Il intègre en plus un système de gestion de favoris.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMMotdepasse.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Mot de passe** <br>Sites web, comptes bancaires, ... notre vie quotidienne est remplie de mots de passe. Avec WM Mot de passe, vous n'avez plus besoin de mémoriser tous les mots de passe de vos différents comptes. L'application conserve pour vous, de façon sécurisée tous vos mots de passe. WM Mot de passe est également capable de générer pour vous des mots de passe extrêmement sûrs.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMNotes.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Notes** <br>Cet exemple utilise les fonctions de dessin du WLangage pour Android et iOS. <br>Il vous permet de dessiner des "notes" graphiques et de les enregistrer.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=AndroidSyntheseVocale.gif) ***Android (WINDEV Mobile)*** : **Android Synthèse Vocale** <br>Cet exemple didactique montre comment gérer la reconnaissance et la synthèse vocale sous Android.<br>La synthèse vocale se fait en utilisant soit les fonctions WLangage, soit un fichier JAR externe intégré dans le projet WINDEV Mobile.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMSysteme.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Système** <br>Cette application est un exemple didactique montrant quelques unes des fonctionnalités de WINDEV Mobile pour Android/iOS.<br>Les fonctions système utilisées sont : <br>- NFC<br>- Champ Multimédia<br>- Luminosité<br>- Volume<br>- WIFI<br>- Bluetooth<br>- Toast<br>- Boussole<br>- Accéléromètre<br>- Champ caméra<br>- LED<br>- Vibrations<br>- Notifications<br>- Fonctions de dessin<br>- Internet
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMSports.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Sports** <br>Cet exemple est une application de sport vous permettant d'enregistrer vos performances.<br>L'application calcule la distance parcourue, le temps, la vitesse moyenne et le nombre de calories dépensées en fonction du sport pratiqué. <br>Le parcours réalisé est affiché sur un champ carte grâce à des marqueurs et un tracé d'itinéraire. <br>Si vous disposez d'une montre Apple Watch, vous pourrez piloter WM Sports avec votre montre !<br><br>L'exemple dispose aussi d'une partie serveur qui sert à la synchronisation des données des utilisateurs.<br>Ce webservice est disponible dans l'exemple WEBDEV "WW_Sports".
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMNotedefrais.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Note de frais** <br>Cet exemple permet de gérer vos notes de frais.<br><br>Voici les principales fonctionnalités de cette application :<br>- La saisie des factures<br>- Gestion des devises étrangères<br>- Ajout de justificatif photo pour les factures<br>- Envoi par mail de la note de frais<br>- Suivi des notes de frais<br>- ...
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMStocks.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Stocks** <br>Cette application permet de réaliser des inventaires et d'enregistrer les résultats dans une base de données.<br>L'exemple permet de créer des entrées/sorties dans le stock, en scannant directement le code-barres des produits.<br>Il est optimisé pour être exécuté sur les tablettes.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=AndroidInventaire.gif) ***Android (WINDEV Mobile)*** : **Android Inventaire** <br>Cette application permet de réaliser les inventaires et d'enregistrer les résultats dans une base de données.


