
## Conditions de mise à jour d'une application automatique (Live update)
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000161"></a>
A chaque modification importante de l'application sur le poste de développement (modifications des fenêtres, du code, de l'analyse, ...), il est nécessaire de recréer l'exécutable et d'installer une mise à jour de l'application sur les postes utilisateurs.

Dans le cas d'une installation individuelle, il suffit d'installer la mise à jour sur le poste utilisateur.

Dans le cas d'une installation "réseau", l'installation de la mise à jour sur les postes utilisateurs peut être obligatoire ou optionnelle. En effet, si les modifications ne portent pas sur la structure des fichiers de données, les utilisateurs pourront continuer d'utiliser la version déjà installée.

Cette page d'aide présente uniquement **la mise à jour d'une application installée en réseau (live update)**.



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Quand est-ce-qu'une mise à jour est obligatoire ?
<a name="quand_estcequune_mise_jour_est_obligatoire_ELTTEXTE000185"></a>
Une mise à jour est obligatoire :

- si l'analyse a été modifiée.

- pour que tous les utilisateurs utilisent la même version de l'application.

- si de nouvelles fonctionnalités indispensables ont été ajoutées.




**Remarque** : Si une nouvelle version de WINDEV est utilisée pour créer l'exécutable de votre application, il est conseillé de rendre la mise à jour obligatoire.



<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Exécutable de référence pour le contrôle des versions
<a name="executable_reference_pour_controle_des_versions_ELTTEXTE000209"></a>
Cette étape de l'assistant permet de spécifier la version de l'application à partir de laquelle l'installation de la mise à jour est obligatoire.

Les informations à indiquer sont :

- ***le numéro de la version en cours*** : ce numéro correspond au numéro de version de l'exécutable qui sera installé. Ce numéro est automatiquement récupéré par l'assistant de création du programme d'installation.
	Remarque : Le numéro de version est spécifié lors de la création de l'exécutable. Il est possible d'incrémenter automatiquement ce numéro à chaque création de l'exécutable.

- ***le numéro de version minimale autorisée à fonctionner sans la mise à jour*** : ce numéro correspond au numéro de version de l'exécutable présent sur les postes utilisateurs à partir duquel la mise à jour n'est pas obligatoire. 
	Par défaut, ce numéro correspond au numéro de la version en cours.




L'installation de la mise à jour :

- ***sera obligatoire*** si la version de l'exécutable installé sur les postes utilisateurs est **inférieure**à la version minimale autorisée à fonctionner sans la mise à jour.

- ***ne sera pas obligatoire*** si la version de l'exécutable installé sur les postes utilisateurs est **égale ou supérieure**à la version minimale autorisée à fonctionner sans la mise à jour.




Pour personnaliser la fenêtre de mise à jour de votre application, cliquez sur le bouton "Avancé". Il est ainsi possible de :

- saisir les modifications effectuées dans l'application pour cette mise à jour (historique des modifications),

- paramétrer les options de [Contrôle à distance des exécutables WINDEV](../WDAdminExe/2028052.md),

- modifier les conditions d'application de la mise à jour. 
	Pour informer les utilisateurs qu'une mise à jour de l'application est disponible, une fenêtre s'affiche au lancement de l'application. Cette fenêtre permet selon le cas d'installer ou non la mise à jour. Les options de conditions d'application de la mise à jour permettent de configurer cette fenêtre.






<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Installation de la mise à jour sur les postes utilisateurs
<a name="installation_mise_jour_sur_les_postes_utilisateurs_ELTTEXTE000233"></a>
Lors du lancement de l'application :

- ***si la mise à jour est obligatoire*** : Les utilisateurs devront installer cette mise à jour. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=FenMiseAJourOblig.gif)


- ***si la mise à jour n'est pas obligatoire*** : Les utilisateurs pourront au choix installer la mise à jour ou lancer directement l'application. Cette mise à jour leur sera proposée aux prochains lancements de l'application.<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=FenMiseAJour.gif)
Cette fenêtre s'affiche dans la langue d'exécution du programme d'installation. Par défaut, seules les langues anglaise et françaises sont disponibles. Pour utiliser une langue différente, il suffit de traduire le projet WDSetup. Pour plus de détails, consultez [WDSetup : Gérer des langues supplémentaires](../Editeurs/2028037.md).





<a name="NOTE4_2"></a>


### Exemple
<a name="exemple_ELTPARAGRAPHE000087"></a>Par exemple, en Janvier 2020, la version 1.01A de votre application a été installée chez vos utilisateurs finaux.

En Février 2020, après modification de la description d'un fichier de données, vous avez créé la version 1.01B. La mise à jour de cette nouvelle version est obligatoire.

Puis, en Mars 2020, vous avez modifié l'aspect des fenêtres et vous avez créé la version 1.01C. La mise à jour de cette version n'est pas obligatoire.

Lors du lancement de l'application sur le poste utilisateurs :

- les utilisateurs utilisant la version 1.01A devront obligatoirement se mettre à jour.<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=MAJAppliOblig.gif)


- les utilisateurs utilisant la version 1.01B pourront au choix installer la mise à jour ou lancer directement l'application.<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=MAJAppliNonOblig.gif)






<a name="NOTE4_3"></a>


### Détection automatique des mises à jour disponibles
<a name="detection_automatique_des_mises_jour_disponibles_ELTPARAGRAPHE000108"></a>L'application vérifie régulièrement si une mise à jour réseau est disponible. 
Rappel : le délai de vérification est paramétrable depuis l'application WDAdminExe ou par la fonction [AppliChangeParamètre](../WDLang1/1000017260.md). 

Si une mise à jour est disponible, une notification Windows sera affichée uniquement si l'utilisateur est en train d'utiliser l'application.

- **En cas de mise à jour facultative**, le message de la notification est le suivant : 
	Une mise à jour facultative de l'application '&lt;nom de l'application&gt;' est disponible. Pour installer cette mise à jour, fermez puis relancez l'application.

- **En cas de mise à jour obligatoire**, le message de la notification est le suivant : 
	Une mise à jour obligatoire de l'application '&lt;nom de l'application&gt;' est disponible. Pour installer cette mise à jour, fermez puis relancez l'application.


Ces messages ne sont pas modifiables ni paramétrables. 

Le mécanisme de détection des mises à jour disponibles est systématiquement actif. 
**Remarques** : 

- Si l'utilisateur a refusé l'installation d'une mise à jour facultative au lancement de l'application, cette version ne sera pas proposée par le mécanisme de notification. 

- Les notifications de mise à jour obligatoire sont affichées toutes les 5 minutes si la mise à jour n'est pas effectuée. 

- Les notifications d'une mise à jour facultative ne sont réaffichées si la mise à jour n'est pas effectuée. Elle sera proposée uniquement au prochain lancement de l'application.






Gestion des notifications : 

- Si l'application utilise une icône dans le "SysTray", cette dernière sera utilisée pour faire remonter la notification. 

- Si l'application n'utilise pas d'icône dans le "SysTray", une icône sera créée pour faire remonter la notification. L'icône créée sera différente entre les mises à jour facultatives et les mises à jour obligatoires.


La fonction [AppliDétecteMAJDisponible](../WDLang1/1410087705.md) permet de personnaliser le mécanisme de détection automatique des mises à jour.


