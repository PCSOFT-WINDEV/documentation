


## Déploiement d'une application utilisant un composant externe
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000155"></a>
Le déploiement d'une application utilisant un ou plusieurs composants externes se fait de la même façon que le déploiement d'une application classique : sous le volet "Projet", dans le groupe "Génération", déroulez "Procédure d'installation" et sélectionnez "Créer la procédure d'installation". 

Lors du déploiement d'une application utilisant un composant, les fichiers suivants sont automatiquement installés sur le poste de l'utilisateur (ou sur le poste serveur) :

- &lt;Nom du composant&gt;.WDK

- &lt;NomApplication&gt;.EXE
	

- les fichiers nécessaires au fonctionnement du composant et de l'application.




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Mise à jour des composants et des exécutables déployés
<a name="mise_jour_des_composants_des_executables_deployes_ELTTEXTE000179"></a>
Lors de la mise à jour d'un composant et/ou d'un exécutable déployé, il est possible d'installer sur le poste de l'utilisateur final :

- soit l'exécutable de l'application, le composant et les fichiers nécessaires à leur fonctionnement.

- soit uniquement l'exécutable de l'application et les fichiers nécessaires au fonctionnement de l'application.

- soit uniquement le composant et les éventuels fichiers nécessaires à son fonctionnement.




Pour plus de détails sur la gestion de la compatibilité entre l'application et son composant, consultez [Gérer les versions d'un composant (lors d'une modification)](../Editeurs/2021002.md).
<a name="NOTE2_2"></a>


### Les différentes méthodes
<a name="les_differentes_methodes_ELTPARAGRAPHE000054"></a>Pour mettre à jour un composant en clientèle, deux possibilités existent :


1. **La recompilation du projet hôte**
	Recompilez l'application qui utilise le composant et redistribuez l'application avec le composant. Dans ce cas, aucun problème de version ou de compatibilité ne sera rencontré. La recompilation est nécessaire dans les cas suivants :

	- De nouvelles fonctions ont été ajoutées dans le composant et doivent être prises en compte par l'application.

	- Les paramètres de certaines procédures ont été modifiés.

	- Incompatibilité de la nouvelle version avec les anciennes versions du composant.

	- ...




2. **Distribution directe du fichier .WDK**
	Fournissez directement une mise à jour du composant (fichier .WDK) en clientèle sans recompilation du projet. Cette possibilité s'applique en général lorsque :

	- La nouvelle version sert à corriger un ou des dysfonctionnements d'une version antérieure.

	- De nouvelles fonctions ont été ajoutées dans le composant mais ne sont pas nécessaires au bon fonctionnement de l'application.







<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Partager un composant entre plusieurs applications
<a name="partager_composant_entre_plusieurs_applications_ELTTEXTE000209"></a>
Plusieurs applications installées sur la même machine peuvent utiliser le même composant externe. Pour partager le composant entre ces applications et éviter ainsi de dupliquer le composant dans chaque application, effectuez les opérations suivantes :

1. Copiez dans un répertoire les fichiers du composant :

	- le fichier &lt;Nom du composant&gt;.WDK

	- les autres fichiers du composant (si nécessaire)




2. Dans chaque répertoire des applications utilisant le composant :

	- Supprimez le fichier &lt;Nom du composant&gt;.WDK et les fichiers nécessaires au composant du répertoire de l'application.

	- Créez un fichier &lt;Nom du composant&gt;.INI dans le répertoire de l'application. Ce fichier est de la forme :
			
		```txt
		[General]
		Localisation = <Répertoire dans lequel les fichiers du composant sont disponibles>
		```






**Avantage** : La mise à jour du composant externe est facilitée : elle s'effectue uniquement dans le répertoire du composant (et non pas dans chaque application). Si le composant est également présent dans le répertoire de l'application, si un fichier .INI est présent, c'est le composant indiqué dans le fichier .INI qui est prioritaire.



## Forcer l'utilisation d'un composant externe quand le WDK a été intégré dans l'application
<a name="forcer_utilisation_composant_externe_quand_wdk_ete_integre_dans_application_ELTTEXTE000233"></a>
Lorsqu'un composant a été intégré dans la bibliothèque d'une application au moment de la création de l'exécutable, il reste possible de forcer l'utilisation d'un WDK externe.

Il est ainsi possible par exemple de déboguer plus simplement le composant ou de corriger une fonctionnalité sans disposer du projet de l'application.

Pour cela :

1. Créez une fichier &lt;Nom du composant&gt;.ini à côté de l'exécutable de l'application.

2. Ce fichier est de la forme :
	
	```txt
	[Debug]
	Localisation = <Chemin du WDK à utiliser>
	```






