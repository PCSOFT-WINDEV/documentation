


## Installer un serveur HFQL Client/Serveur avec une application
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000158"></a>
Lors de la création du programme d'installation d'une application WINDEV utilisant des fichiers de données HFSQL Client/Serveur, l'assistant permet :

- soit d'utiliser les paramètres de connexion définis dans l'analyse ou par programmation. Dans ce cas, aucune information supplémentaire n'est demandée.

- soit de définir les paramètres de connexion lors de l'installation de l'application. L'assistant d'installation propose alors plusieurs options :

	- proposer à l'utilisateur final d'installer un serveur HFSQL Client/Serveur.

	- configuration de la connexion aux fichiers HFSQL Client/Serveur.

	- installation des fichiers de données HFSQL Client/Serveur.







Ces options sont choisies sur l'écran "Paramètres des bases de données" de l'assistant de création d'installation.


<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Installation d'un serveur et choix du type de serveur
<a name="installation_serveur_choix_type_serveur_ELTTEXTE000188"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000028"></a>Lors de son installation, une application WINDEV (monoposte ou réseau) peut proposer à l'utilisateur final d'installer un serveur HFSQL Client/Serveur. Pour cela, il est bien entendu nécessaire que l'application WINDEV utilise des fichiers de données HFSQL Client/Serveur dans la description de son analyse.

Pour installer un serveur HFSQL avec votre application : 

1. Cochez l'option "Intégrer l'installation d'un serveur HFSQL" dans l'écran "Paramètres des bases de données" de l'assistant d'installation.

2. Passez au plan suivant.

3. L'assistant d'installation permet de proposer à l'utilisateur final d'installer :

	- un serveur HFSQL Client/Serveur Windows.

	- un serveur HFSQL Client/Serveur Linux.
			Il est possible de proposer l'installation de l'un ou l'autre de ces serveurs (ou aucun).




4. Pour réaliser ces installations, le programme d'installation doit être livré avec les packs d'installation des différents serveurs. Le bouton "Avancé" permet de sélectionner le pack nécessaire. Il est également possible de télécharger le dernier pack d'installation disponible depuis le site PC SOFT.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Configuration de la connexion
<a name="configuration_connexion_ELTTEXTE000212"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000049"></a>Si votre application utilise une connexion à un serveur HFSQL Client/Serveur définie dans votre analyse, il est possible de configurer cette connexion automatiquement lors de l'installation de l'application finale.

Pour configurer cette connexion : 

1. Sélectionnez la connexion voulue.

2. Cliquez sur le bouton "Paramétrage".



<a name="NOTE3_2"></a>


### Configuration
<a name="configuration_ELTPARAGRAPHE000061"></a><br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Option_WDInst_HFSQL%20-%20HC%20N%B0002.gif&type=thumb)
Les principales options à paramétrer sont les suivantes :

- Si l'utilisateur peut ou non saisir les paramètres de la connexion durant l'installation.

- Si la connexion doit utiliser les options de l'analyse ou les valeurs indiquées dans l'assistant. Dans ce cas, il est nécessaire de spécifier les valeurs de la connexion à utiliser.

- Si les paramètres du serveur installé précédemment doivent être utilisés.




**Remarques** :

- Si l'installation doit créer une nouvelle base de données, l'utilisateur spécifié dans les paramètres de l'installation doit être un "super utilisateur". En effet, même si l'utilisateur a les droits de création de la base de données, il n'aura pas les droits de création de fichiers sur cette base.

- Si une connexion est configurée par l'utilisateur lors de l'installation, cette connexion sera stockée dans le fichier "&lt;Nom de l'exécutable&gt;.WX". Ce fichier correspond à un fichier caché, au format texte. L'accès à son contenu est possible grâce à la fonction [INILit](../WDLang1/3013043.md).




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Installation des fichiers de données
<a name="installation_des_fichiers_donnees_ELTTEXTE000242"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000083"></a>Lors de la création du programme d'installation de l'application, il est également possible de déployer directement les fichiers de données HFSQL Client/Serveur sur le serveur voulu.
<a name="NOTE4_2"></a>


### Paramétrage
<a name="parametrage_ELTPARAGRAPHE000090"></a>Pour chaque fichier de l'application, il est possible d'indiquer grâce au bouton "Propriétés" :

- l'emplacement actuel du fichier de données à installer.

- la connexion qui doit être associée à ce fichier

- si l'index doit être copié ou non. Si l'index n'est pas copié, il sera automatiquement reconstruit lors de l'installation. Cette option permet de limiter la taille du programme d'installation si le fichier d'index est très important.




<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Installation de l'application
<a name="installation_application_ELTTEXTE000272"></a>
Lors de l'installation de l'application chez l'utilisateur final, selon les options sélectionnées, l'assistant propose à l'utilisateur d'installer un serveur HFSQL Client/Serveur sur un poste Windows ou Linux. Cet assistant permet également de configurer la connexion utilisée.  

A la fin de l'installation, un fichier ".wx" est créé à côté de l'exécutable.

La structure de ce fichier est donnée à titre d'information. Cette structure peut être modifiée dans une prochaine version. Il est conseillé de ne pas modifier ce fichier manuellement.

Ce fichier contient les informations suivantes :

```txt
[CONNECT]
NBCX = Nombre de connexions définies
NOM_x = Nom de la connexion numéro x
BASE_x = Type de base de données utilisée (correspond toujours à hAccèsHFClientServeur)
ADRESSE_x = Adresse du serveur utilisé (nom du serveur ou adresse IP)
PORT_x = Port de connexion
DATABASE_x = Nom de la Database utilisée
LOGIN_x = Login de connexion
PWD_x = Mot de passe crypté
ACCES_x = Type d'accès (hOLectureEcriture ou hOLecture)
INFOEXT_x = Informations étendues
```



