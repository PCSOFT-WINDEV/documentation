


## Installation à 2 niveaux
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000174"></a>
L'installation à deux niveaux (ou installation multisites) est la combinaison de :

- une [installation réseau](../Editeurs/2028085.md) de référence déployée sur un réseau local.

- une [installation HTTP](../Editeurs/9000026.md) utilisée pour la mise à jour de l'installation de référence sur le réseau local.




L'installation se déroule en 3 étapes:

- **Téléchargez via un serveur HTTP une installation de référence sur un serveur local**. Lors d'une première installation, l'utilisateur final lance l'installation par Internet, via une page spécifique.

- **Installez cette installation de référence sur un serveur local**. L'application de référence correspond au programme d'installation de l'application sur les postes utilisateurs. 
	A la fin de cette installation, une tâche planifiée est créée sur le serveur local. Cette tâche planifiée permet de vérifier et de mettre à jour toutes les 15 mn la version de l'installation de référence par rapport à la version de l'installation HTTP. 

- **L'application finale est installée sur chaque poste utilisateur, en exécutant le programme d'installation présent sur le serveur**. Les mises à jour seront ensuite effectuées automatiquement lorsque l'application de référence évoluera sur le serveur




Au lancement de l'application, une mise à jour automatique sera effectuée (selon la version de l'application installée sur le poste utilisateur)

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Comment le faire ?
<a name="comment_faire_ELTTEXTE000198"></a>


### Créer une installation multi-sites
<a name="creer_une_installation_multisites_ELTPARAGRAPHE000039"></a>Pour créer une installation multi-sites : 

1. Créez l'exécutable de l'application (![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Generation_Exe.gif)
 parmi les icônes d'accès rapide). 

2. Lancez la création de la procédure d'installation : 

	- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Generation_Exe.gif)
 parmi les icônes d'accès rapide. 

	- Sélectionnez "Créer la procédure d'installation de l'exécutable".




3. Dans l'assistant, sélectionnez "Installation".

4. Choisissez "Installation avec mise à jour automatique (Live Update)". 

5. Choisissez "Installation multisite".

6. Choisissez si un package de déploiement doit être créé ou si le déploiement doit être effectué immédiatement dans une plateforme PCS Cloud. 

7. Suivez les différentes étapes de l'assistant. 



<a name="NOTE2_2"></a>


### Pour installer la version de référence
<a name="pour_installer_version_reference_ELTPARAGRAPHE000060"></a>A la fin de la création de la procédure d'installation, il est possible de lancer le programme d'installation. Il est également possible de lancer directement ce programme en exécutant le fichier INSTALL.EXE.

1. Lancez le programme d'installation précédemment créé. 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Installation_a_2_niveaux%20-%20HC%20N%B0001.gif&type=thumb)


2. Choisissez le serveur de destination sur lequel l'installation de référence sera installée : 

	- Machine en cours (option "Déployer l'installation sur cette machine"). Ce mode d'installation n'est pas disponible lors de l'installation sur un serveur Linux.

		- Si un serveur HTTP est installé sur le poste en cours, ce serveur est configuré, et les fichiers de l'application de référence sont copiés dans le répertoire spécifié. 

		- Si aucun serveur HTTP n'est installé sur le poste en cours, un serveur par défaut est installé (WDADMINEXE) et automatiquement configuré. Les fichiers de l'application de référence sont installés dans le répertoire spécifié. 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Installation_a_2_niveaux%20-%20HC%20N%B0002.gif&type=thumb)







Remarques : 

- Dans certains cas, il peut être nécessaire de configurer le serveur HTTP. Par exemple, vous pouvez créer un répertoire virtuel (alias) sur le site Web qui pointe sur le répertoire dans lequel le déploiement par FTP a été effectué. 

- Dans tous les cas, une page HTML permettant de télécharger l'installation de l'application par l'utilisateur final est disponible. Cette page peut être intégrée à votre site.




**3.** Validez l'installation de la version de référence.

A la fin de cette installation, une tâche planifiée est créée sur le poste. Cette tâche planifiée permet de vérifier et de mettre à jour toutes les 15 mn la version de l'installation de référence par rapport à la version de l'installation HTTP. 

Le nom de la tâche planifiée créée est indiqué sur le dernier plan de l'installation. Ce nom est de la forme : MAJ_&lt;NomApplication&gt;_&lt;identifiant&gt;. Exemple : MAJ_WDGoldLite_2169562193. 

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Remarques
<a name="remarques_ELTTEXTE000228"></a>
<a name="NOTE3_2"></a>


### Protocoles utilisés
<a name="protocoles_utilises_ELTPARAGRAPHE000107"></a>L'installation et les mises à jour de l'application de référence sur le serveur sont faites par le protocole FTP.

L'installation puis les mises à jour de l'application sur les postes des utilisateurs à partir de l'application de référence sont faites par le protocole HTTP. 

Les requêtes HTTP téléchargent des fichiers avec les extensions ".tmp", ".net" et ".zip" à partir du serveur. Il faut donc que le serveur Web qui héberge l'application de référence accepte ces extensions. Pour plus de détails, consultez la [FAQ n°3102](https://faq.pcsoft.fr/faqread.awp?idfaq=3102&lang=fr).
<a name="NOTE3_4"></a>


### Page de téléchargement
<a name="page_telechargement_ELTPARAGRAPHE000121"></a>Lors du déploiement de l'application, une page htm est automatiquement créée avec un lien vers le fichier d'installation de l'application cliente (lien vers le fichier Installe.exe).

Vous pouvez reprendre cette page et la personnaliser selon vos besoins.

Cette page peut être déplacée. Il suffit de mettre à jour le lien de téléchargement de la page.


