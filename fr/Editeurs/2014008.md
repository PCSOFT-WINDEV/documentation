


## Modifier un composant externe
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000251"></a>
A tout moment, un composant externe créé et généré avec WINDEV, WEBDEV ou WINDEV Mobile peut être modifié. Cette modification peut correspondre :

- soit à l'ajout d'éléments dans le composant,

- soit à la suppression d'éléments du composant,

- soit à la modification des droits sur les éléments du composant,

- soit à la modification d'un des éléments du composant. 




Dans tous les cas, après cette modification, le composant doit être régénéré pour prendre en compte les modification effectuées.

Cette page d'aide présente :

- [Comment modifier un composant](#NOTE2_1).

- [Comment régénérer une nouvelle version du composant en tenant compte de la compatibilité du composant](#NOTE3_1).

- [Les différents types de compatibilités (ascendante ou descendante) et les problèmes associés](#NOTE4_1).




Remarque : Les états intégrés dans un composant ne sont pas modifiables avec le logiciel Etats & Requêtes.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Modifier un composant
<a name="modifier_composant_ELTTEXTE000275"></a>


### Ajouter ou supprimer un élément dans un composant
<a name="ajouter_supprimer_element_dans_composant_ELTPARAGRAPHE000039"></a>Pour ajouter ou supprimer un élément dans un composant :

1. Ouvrez le projet du composant : sous le volet "Accueil", dans le groupe "Général", déroulez "Ouvrir" et sélectionnez "Ouvrir un projet".

2. Sous le volet "Projet", dans le groupe "Projet", déroulez "Liste des éléments" et sélectionnez "Liste des composants générés".

3. La fenêtre de description des composants s'affiche. Cette fenêtre permet d'effectuer les modifications suivantes :

	- Modifier un composant (bouton [Modifier]). 
			L'assistant de modification d'un composant se lance avec les options du composant sélectionné. Il est possible de modifier les différentes options du composant (ajouter des éléments, modifier la visibilité des éléments, ...).

	- Connaître et modifier les éléments intégrés dans le composant.

	- Rendre visible ou non les éléments intégrés dans le composant.

	- Modifier les droits d'accès du composant sur le projet client.




4. Régénérer le composant.



<a name="NOTE2_2"></a>


### Modifier d'un élément du composant
<a name="modifier_element_composant_ELTPARAGRAPHE000088"></a>Pour modifier d'un élément du composant :

1. Ouvrez le projet du composant : sous le volet "Accueil", dans le groupe "Général", déroulez "Ouvrir" et sélectionnez "Ouvrir un projet".

2. Ouvrez l'élément désiré.

3. Effectuez les modifications nécessaires.

4. Enregistrez ces modifications (![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_Enregistrer.gif)).

5. Régénérez le composant : cliquez sur l'icône de génération parmi les boutons d'accès rapide : ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_generation_Composant.gif)




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Régénérer le composant modifié : gérer la compatibilité entre les différentes versions
<a name="regenerer_composant_modifie_gerer_compatibilite_entre_les_differentes_versions_ELTTEXTE000305"></a>
Après n'importe quelle modification, le composant doit être régénéré pour prendre en compte les modifications effectuées (changement de l'interface d'une fenêtre par exemple).

Pour régénérer le composant modifié :

1. Lancez la génération du composant :

	- soit en cliquant sur l'icône de génération parmi les boutons d'accès rapide.

	- soit directement par la fenêtre de description des composants (option [Générer]).




2. L'assistant de génération du composant se lance.

3. Dans l'écran "Compatibilité du composant en déploiement", une vérification des modifications apportées est effectuée:

	- **Si les modifications rendent le composant incompatible avec les versions antérieures**, l'écran s'affiche : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=versionning_1.gif&type=thumb)
Mettez les numéros de version en phase (bouton ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=versionning_2.gif)).
			Passez à l'étape suivante pour continuer la génération du composant.

	- **Si les modifications détectées ne rendent pas le composant incompatible avec les versions antérieures**, aucune action spécifique n'est nécessaire. Cliquez simplement sur "Suivant" pour continuer la génération du composant.







<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Les différents types de compatibilités
<a name="les_differents_types_compatibilites_ELTTEXTE000329"></a>


### Définition
<a name="definition_ELTPARAGRAPHE000149"></a>La gestion de la compatibilité est liée aux versions d'un composant. En effet, si des modifications ont été apportées au composant, les applications qui utilisent le composant en déploiement peuvent rencontrer des problèmes d'exécution si elles ne sont pas en phase avec ce composant.

La gestion de la compatibilité est une étape importante dans la modification d'un composant WINDEV. Il existe 2 types de compatibilité :

- ***La compatibilité descendante*** : la version du composant utilisée (fichier .WDK) pour compiler les applications utilisant ce composant doit être toujours supérieure ou égale à la version actuellement utilisée en déploiement. 
	Cette compatibilité est automatiquement gérée par WINDEV. Si le composant installé avec l'application est d'une version inférieure à celle utilisée par l'application, l'application refusera de fonctionner.

- ***La compatibilité ascendante*** : l'utilisation d'une nouvelle version d'un composant avec les projets compilés avec une ancienne version peut être interdite. Il est donc nécessaire de recompiler les projets pour utiliser correctement la nouvelle version du composant.



<a name="NOTE4_2"></a>


### Compatibilité descendante
<a name="compatibilite_descendante_ELTPARAGRAPHE000163"></a>Le numéro de version des composants est automatiquement vérifié pour s'assurer que la version du composant utilisée dans l'application en déploiement est supérieure ou égale à celle utilisée lors du développement de l'application.

Exemple :
Le projet a été compilé avec la version 1.00C d'un composant. 
La version 1.00C est la version de référence. Cela signifie que les applications utilisant ce composant ne fonctionneront que si la version du composant est supérieure ou égale à la version de référence.

Les cas suivants peuvent survenir :

- ***Premier cas*** : Les applications en clientèle utilisent le composant (fichier .WDK) dans une version inférieure à 1.00C. Une erreur surviendra au chargement de ces applications.<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=AppC_CompoA_MarchePascopier.jpg)


- ***Second cas*** : Les applications en clientèle fonctionneront si elles utilisent le composant dans la version attendue. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=AppC_CompoC_Marchecopier.jpg)


- ***Troisième cas*** : Les applications en clientèle fonctionneront également si le composant est d'une version supérieure à celle attendue (uniquement dans le cas où la nouvelle version n'apporte que des corrections de dysfonctionnement). <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=AppC_CompoD_Marchecopier.jpg)




<a name="NOTE4_3"></a>


### Compatibilité ascendante
<a name="compatibilite_ascendante_ELTPARAGRAPHE000185"></a>Les incompatibilités entre deux versions d'un même composant sont automatiquement détectées lors de la génération de ce composant. Si des différences sont détectées, vous pouvez modifier le "numéro de la dernière version compatible". Ce numéro est le numéro de version à partir duquel les applications utilisant le composant seront autorisées à fonctionner.

Exemple : 
Un projet qui utilisait le composant en version 1.00C n'a pas été recompilé avec la nouvelle version 1.00E de ce composant.

Le composant est installé sur les postes de déploiement en version 1.00E.

Les cas suivants peuvent survenir :

- ***Premier cas*** : le composant a été modifié uniquement pour corriger certains dysfonctionnements. Lors de la génération du composant, le "numéro de dernière version compatible" n'a pas été modifié.
	**Pour que les applications fonctionnent correctement**, il n'est pas nécessaire de recompiler les projets avec la nouvelle version du composant. Le composant (fichier .WDK) peut être directement distribué en clientèle.<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=AppC_CompoE_Marchecopier.jpg)


- ***Second cas*** : le composant a été modifié pour ajouter un paramètre à une procédure par exemple. Lors de la génération du composant, le "numéro de dernière version compatible" a été modifié.
	Pour que les applications fonctionnent, il faut nécessairement que les projets soient recompilés avec la nouvelle version du composant. Dans le cas contraire, les applications refuseront de fonctionner pour éviter les problèmes dus aux incompatibilités éventuelles de la nouvelle version du composant.<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=AppC_CompoE_MarchePascopier.jpg)






