


## Distribuer un composant externe
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000178"></a>
Lorsque le composant externe a été créé, testé et généré, il peut être mis à disposition des développeurs. Plusieurs méthodes sont possibles : 

- **Utilisation directe du composant externe**
	Exemple : le composant externe est directement utilisé sur le poste du développeur qui a créé le composant.

- **Distribution simple**, en fournissant directement les fichiers nécessaires.
	Exemple : le composant externe est destiné à être utilisé à l'intérieur d'une même société, par plusieurs développeurs. Dans ce cas, les fichiers nécessaires peuvent être copiés sur un disque réseau.

- **Distribution par le GDS** : Ce mode de distribution permet aux projets présents dans le GDS d'utiliser directement un composant externe publié dans le GDS. Pour plus de détails, consultez [GDS et composants](../Editeurs/2038015.md).
	Exemple : Une société partage différents projets par le GDS. Les projets permettant de créer les composants externes et les projets utilisant les composants utilisent tous le même GDS.

- **Distribution à partir d'un programme d'installation** (avec une procédure d'installation du composant identique à celle utilisée pour les applications).
	Exemple : Ce mode de distribution est conseillé si le composant externe est destiné à être vendu ou à être distribué à grande échelle, avec des mises à jour régulières.




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Utilisation directe du composant externe
<a name="utilisation_directe_composant_externe_ELTTEXTE000202"></a>


### Définition
<a name="definition_ELTPARAGRAPHE000036"></a>Le composant externe est créé et utilisé sur le même poste.

Lors de l'importation du composant externe dans un projet, il suffit de sélectionner le fichier WDI correspondant au composant. Ce fichier est disponible dans le répertoire EXE du projet du composant. 

Le répertoire de génération correspond au répertoire associé à la configuration de projet de type "Composant externe".<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Composant_MemePoste.gif)

<a name="NOTE2_2"></a>


### Attention
<a name="attention_ELTPARAGRAPHE000050"></a>Les fichiers référencés dans le fichier &lt;Nom du composant&gt;.WDO seront automatiquement recopiés dans le répertoire EXE du projet utilisant le composant. 

Si le composant externe utilise des fichiers spécifiques (fichiers de données, fichiers texte, etc.), il est nécessaire de créer (ou de compléter) un fichier &lt;Nom du composant&gt;.WDO après la génération du composant. Ce fichier contient la liste des fichiers externes (fichiers de données, fichiers texte, ...) utilisés par le composant. Pour plus de détails, consultez [Fichier WDO](../Editeurs/2014005.md). 

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Distribution simple d'un composant externe
<a name="distribution_simple_composant_externe_ELTTEXTE000232"></a>


### Définition
<a name="definition_ELTPARAGRAPHE000066"></a>La distribution simple d'un composant externe consiste à fournir uniquement les fichiers nécessaires au fonctionnement du composant par simple copie. Les fichiers sont copiés dans un répertoire spécifique. Ce répertoire peut par exemple être présent sur un serveur réseau.

Lors de l'importation du composant externe dans un projet, il suffit de sélectionner le fichier WDI correspondant au composant dans le répertoire de distribution.<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=composant-reseau.gif)

<a name="NOTE3_2"></a>


### Eléments nécessaires
<a name="elements_necessaires_ELTPARAGRAPHE000078"></a>Pour distribuer un composant externe, il est nécessaire de fournir :

- Les fichiers automatiquement générés par WINDEV ou WEBDEV (fichier &lt;Nom du composant&gt;.WDK et fichier &lt;Nom du composant&gt;.WDI)

- Si nécessaire, les fichiers spécifiques manipulés par le composant (fichiers de données, fichiers d'initialisation, ...) ainsi que le fichier &lt;Nom du composant&gt;.WDO. Le fichier texte &lt;Nom du composant&gt;.WDO contient la liste des fichiers qui doivent être fournis avec le composant. Pour plus de détails sur ce fichier, consultez [Diffusion de composant avancé : le fichier WDO](../Editeurs/2014005.md).




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Distribution grâce à une procédure d'installation
<a name="distribution_grace_une_procedure_installation_ELTTEXTE000262"></a>


### Définition
<a name="definition_ELTPARAGRAPHE000095"></a>La diffusion des composants externes à l'aide d'une procédure d'installation consiste à fournir aux utilisateurs du composant externe, un programme d'installation. Ce programme installe tous les fichiers nécessaires à l'utilisation du composant externe dans le répertoire spécifié par l'utilisateur.

Ce mode d'installation permet de gérer automatiquement :

- le fichier WDO et l'installation des fichiers spécifiques (fichiers de données, ...) utilisés par le composant externe.

- l'installation d'outils spécifiques (MDAC, driver ODBC pour HFSQL, ...).

- la mise à jour automatique des fichiers de données utilisés par le composant externe (si nécessaire).

- la désinstallation du composant externe.

<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=composant-instal.gif)

<a name="NOTE4_2"></a>
Pour proposer une procédure d'installation pour un composant externe : 

1. Créez la procédure d'installation du composant externe directement par les boutons d'accès rapide : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_Composant_installation.gif)


2. Dans les différents écrans de l'assistant, spécifiez :

	- le nom du composant externe.

	- les langues proposées dans la procédure d'installation.

	- le titre de la fenêtre principale du programme d'installation. Le bouton "Avancé" permet de configurer l'interface de l'installeur. 

	- les fichiers installés. Il est possible d'ajouter des fichiers spécifiques aux fichiers correspondant par défaut au composant. Le fichier WDO sera automatiquement créé à partir de cette liste.

	- le répertoire d'installation par défaut du composant. Le bouton "Avancé" permet de configurer les modifications qui doivent être apportées au système. 

	- les modules optionnels à installer. 

	- le support d'installation, les options de sécurité et les paramètres avancés. 

	- ...







Par défaut, les fichiers nécessaires à l'installation d'un composant externe sont créés dans le sous-répertoire "&lt;Nom projet&gt;\\EXE\\INSTALL_COMPO&lt;Nom du composant&gt;".

**Rappel** : Lors de la création de l'installation d'une application, les fichiers nécessaires sont créés dans le sous-répertoire "&lt;Nom projet&gt;\\EXE\\INSTALL".


