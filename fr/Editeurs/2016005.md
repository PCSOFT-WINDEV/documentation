


## Création d'un gabarit d'état
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Les différentes étapes
<a name="les_differentes_etapes_ELTTEXTE000206"></a>
La création d'un gabarit d'état se décompose en plusieurs étapes :

- [**Étape 1** : Création d'un projet regroupant les différents gabarits d'états](#NOTE2_1). 

- [**Étape 2** : Création d'un état gabarit pour tous les types d'états](#NOTE3_1).

- [**Étape 3** : Copie des états gabarit](#NOTE4_1).

- [**Étape 4 (optionnelle)** : Création d'un aperçu d'état](#NOTE5_1). 




Remarques :

- Nous vous indiquons ici une des méthodes de création d'un gabarit d'état. La marche à suivre décrite ci-dessus est conseillée mais en aucun cas obligatoire.

- Sous l'éditeur d'états utilisateur (logiciel Etats & Requêtes), il n'est pas possible de créer vos propres gabarits d'états.

- L'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=i_blue_sm.jpg)
 indique un conseil. Les instructions données dans ces conseils ne sont pas obligatoires mais permettent une meilleure organisation pour la création d'un gabarit d'état.




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Étape 1 : Création d'un projet gabarit
<a name="etape_1_creation_projet_gabarit_ELTTEXTE000230"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000039"></a>Un gabarit est le plus souvent constitué de plusieurs modèles d'états (4 au maximum). Pour simplifier la création et la modification de vos gabarits, nous vous conseillons d'utiliser un projet par gabarit.

Le projet gabarit regroupera :

- un état gabarit pour chaque type d'état. WINDEV propose 4 types d'états, le projet gabarit contiendra donc 4 états gabarit.

- un aperçu d'état.




**Remarque** : Si vous personnalisez vos fenêtres grâce à des gabarits, vous pouvez créer vos gabarits de fenêtre dans ce projet. Pour plus de détails, consultez [Création d'un gabarit de fenêtres](../Editeurs/2016009.md).
<a name="NOTE2_2"></a>


### Créer un projet gabarit
<a name="creer_projet_gabarit_ELTPARAGRAPHE000056"></a>Pour créer un projet gabarit, créez un nouveau projet : 

- Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_nouveau.gif)
 parmi les boutons d'accès rapide. 

- La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Projet".


Ce projet n'est lié à aucune analyse et n'utilise aucun gabarit.
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=i_blue_sm.jpg)
 Pour identifier facilement vos projets gabarit, nous vous conseillons d'utiliser la notation suivante : "Gabarit_&lt;NomDuGabarit&gt;". Par exemple, si le nom du gabarit est Caraïbe, le projet s'appellera "Gabarit_Caraïbe".

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Étape 2 : Création d'un état gabarit
<a name="etape_2_creation_etat_gabarit_ELTTEXTE000260"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000074"></a>Chaque état de type gabarit correspond à un type d'état. Il est donc nécessaire de créer un état de type gabarit pour chacun des types d'états utilisés. Pour connaître les différents types d'états disponibles, consultez [Les types d'états proposés par WINDEV](../WDChamp/1011054.md).
<a name="NOTE3_2"></a>


### Créer un état de type gabarit
<a name="creer_etat_type_gabarit_ELTPARAGRAPHE000084"></a>Pour créer un état de type gabarit :

1. Créez un état libre : 

	- Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_nouveau.gif)
 parmi les boutons d'accès rapide. 

	- La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Etat" puis sur "Etat". L'assistant de création d'un état se lance.

	- Dans l'assistant, sélectionnez "Etat vierge" et validez.




2. Cet état :

	- ne s'imprimera pas sur un formulaire,

	- n'utilisera pas de source de données,

	- aura les dimensions par défaut.




3. Spécifiez le nom de l'état selon la notation suivante : "&lt;NomDuGabarit&gt;_&lt;TypeEtat&gt;. Par exemple, "Caraïbe_Etiquette".

4. Dans les onglets "Fond" et "Détail" de la description des blocs de l'état (option "Description du bloc" du menu contextuel), spécifiez le style souhaité (couleur de fond, épaisseur du cadre, ...).

5. Pour personnaliser votre état, vous pouvez ajouter :

	- ***des champs spécifiques à votre gabarit***. 
			Ces champs apparaîtront dans tous les états utilisant ce gabarit. Par exemple, vous pouvez ajouter un champ prédéfini pour afficher la date ou l'heure système, ou un champ Image pour afficher le logo d'une entreprise.

	- ***des champs contenant les données de votre état***.
			Lors de la création d'un état, l'éditeur d'états créé automatiquement tous les champs nécessaires à l'utilisation de l'état. Ces champs adoptent le style par défaut des champs de l'état (sans couleur de fond, sans cadre, police "Arial" taille "11"). 
			Pour utiliser un style de champ différent, il suffit d'ajouter des champs (voir la liste de ces champs) et de définir leur style dans l'état gabarit. Ces champs peuvent être positionnés dans n'importe quel bloc.
			Si des champs personnalisés sont ajoutés dans un état gabarit, ces champs seront automatiquement utilisées lors de la création de l'état.




6. Enregistrez l'état (Ctrl + S).




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Étape 3 : Copie des états gabarit
<a name="etape_3_copie_des_etats_gabarit_ELTTEXTE000290"></a>
Pour utiliser un gabarit personnalisé dans vos applications, il est nécessaire de copier les états gabarit dans le répertoire "Personnel\\Gabarit\\&lt;NomDuGabarit&gt;" d'installation de WINDEV ou WEBDEV

**Remarque** : Après avoir copié les états gabarit, il est nécessaire de relancer WINDEV ou WEBDEV pour prendre en compte ces nouveaux gabarits d'états.

<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Étape 4 : Création de l'aperçu du gabarit
<a name="etape_4_creation_apercu_gabarit_ELTTEXTE000314"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000130"></a>Pour simplifier l'utilisation d'un gabarit personnalisé, nous vous conseillons de créer des aperçus. Ces aperçus seront utilisés lors de l'application d'un gabarit sur un état.

Chaque aperçu d'état correspond à un type d'état. En effet, l'aperçu est différent selon le type d'état sélectionné (ou en cours). Il est donc conseillé de créer un aperçu d'état pour chacun des types d'états utilisés.
<a name="NOTE5_2"></a>


### Créer un aperçu de gabarit
<a name="creer_apercu_gabarit_ELTPARAGRAPHE000139"></a>Pour créer un aperçu de gabarit :

1. Dans un projet associé à une analyse, créez un nouvel état : 

	- Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_nouveau.gif)
 parmi les boutons d'accès rapide. 

	- La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Etat" puis sur "Etat". L'assistant de création d'un état se lance.

	- Créez un état de type "Fiche" par exemple.




2. Sélectionnez le gabarit d'état précédemment créé. Aucun aperçu de gabarit n'apparaît dans la zone "Aperçu".

3. Validez la création de l'état. L'état créé devient l'état en cours.

4. Faites une copie de l'état créé : sous volet "Accueil", dans le groupe "Édition", cliquez sur "Copier" (ou utilisez la combinaison de touches Ctrl + C).

5. Collez le contenu du presse-papiers dans un logiciel de dessin ("Paint" par exemple).

6. Enregistrez l'image :

	- selon la notation suivante : "&lt;NomDuGabarit&gt;_&lt;TypeEtat&gt;.BMP".
			Par exemple, "Caraïbe_Fiche.BMP".

	- dans le répertoire "Personnel\\Gabarit\\&lt;NomDuGabarit&gt;" d'installation de WINDEV ou WEBDEV.








