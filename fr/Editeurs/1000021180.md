
## Groupware utilisateur : Configurer le site
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000288"></a>
Lorsque le groupware utilisateur est paramétré, la configuration des utilisateurs et des accès est effectuée en exécution, en se connectant avec un compte "superviseur".

Lors du premier lancement, il est nécessaire d'utiliser l'utilisateur "Superviseur" et de choisir un mot de passe pour cet utilisateur. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=GPU_Configurer_le_site%20-%20HC%20N%B0001.gif&type=thumb)


Après identification, un utilisateur qui est superviseur du groupware aura le choix entre lancer l'application et configurer le groupware.<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=GPU_Configurer_le_site%20-%20HC%20N%B0002.gif&type=thumb)


L'option "Configurer le groupware" permet d'accéder aux options d'administration du groupware utilisateur. Il est alors possible de : 

- [Configurer les utilisateurs et les groupes](#NOTE2_1). 

- [Configurer les droits](#NOTE3_1). 

- [Voir des statistiques](#NOTE4_1). 

- [Récupérer des données provenant d'un ancien groupware](#NOTE5_1). 

- [Paramétrer le mode intégré](#NOTE6_1). 

- [Crypter les mots de passe](#NOTE7_1). 




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Configuration des utilisateurs et des groupes
<a name="configuration_des_utilisateurs_des_groupes_ELTTEXTE000312"></a>


### Manipulation des utilisateurs et des groupes
<a name="manipulation_des_utilisateurs_des_groupes_ELTPARAGRAPHE000046"></a>Le groupware utilisateur permet de définir des groupes et des utilisateurs, selon des règles simples :

- un utilisateur peut appartenir à plusieurs groupes (ou à aucun).

- un groupe peut avoir plusieurs sous-groupes,

- un groupe ne peut avoir qu'un seul groupe "parent".








**Pour créer un utilisateur** : 

1. Dans la partie "Gestion des droits", cliquez sur l'onglet "Utilisateurs".  

2. Cliquez sur le bouton "Ajouter un utilisateur". L'écran de saisie d'un nouvel utilisateur apparaît. 

3. Saisissez les informations concernant l'utilisateur. 
	Remarques : 

	- Si vous saisissez le mot de passe, celui-ci apparaît masqué. 

	- Le nouvel utilisateur créé peut être une utilisateur "superviseur". Dans ce cas, il pourra également créer des utilisateurs et configurer leurs droits. 

	- Le nouvel utilisateur peut être un utilisateur activé. Cette option est prise en compte uniquement dans le cas du groupware utilisateur en mode intégré. Pour plus de détails, consultez Paramétrage du mode intégré. 




4. Cliquez sur "Enregistrer". Le nouvel utilisateur est automatiquement ajouté à la liste des utilisateurs. 


Les boutons "Modifier" et "Supprimer" permettent de manipuler les différents utilisateurs de la liste. 





**Pour créer un groupe** : 

1. Dans la partie "Gestion des droits", cliquez sur l'onglet "Groupes". 

2. Cliquez sur le bouton "Ajouter un groupe". L'écran de saisie d'un nouveau groupe apparaît.

3. Saisissez le nom du groupe. 

4. Cliquez sur "Enregistrer". Le nouveau groupe est automatiquement ajouté à la liste des groupes. 


Les boutons "Modifier", "Supprimer" et "Déplacer" permettent de manipuler les différents groupes de la liste. 





**Pour associer un utilisateur à un groupe** : 

1. Sélectionnez l'utilisateur dans la liste des utilisateurs. 

2. Cochez la case présente en début de ligne : les boutons "Groupes de l'utilisateur" et "Supprimer l'utilisateur" apparaissent.

3. Cliquez sur le bouton "Groupes de l'utilisateur".

4. Dans la popup qui s'affiche, cochez le groupe voulu puis cliquez sur le bouton "Valider".

5. L'association est réalisée. Le nom du groupe de l'utilisateur apparait dans la liste des utilisateurs.








**Pour positionner un groupe comme sous-groupe d'un autre groupe** : 

1. Sélectionnez le groupe dans la liste des groupes. 

2. Cliquez sur le bouton "Déplacer".  

3. Dans la page popup qui s'affiche, sélectionnez le groupe destination et validez. 




La création d'une hiérarchie "groupes/utilisateurs" permet de définir un héritage dans les droits d'accès. Par exemple, dans cette configuration : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=gpu_wb_UtilisateurGroupes.gif)


- le groupe "Secrétaire" héritera des droits d'accès du groupe "Commercial",

- l'utilisatrice "Loreleï" bénéficiera des droits d'accès du groupe "Secrétaire".





### Cas particulier : l'utilisateur "Visiteur"
<a name="cas_particulier_utilisateur_visiteur_ELTPARAGRAPHE000111"></a>Si le site utilise le groupware utilisateur intégré, un utilisateur spécifique est créé en plus du superviseur. Cet utilisateur a pour nom "Visiteur (non connecté)". 

Cet utilisateur permet de gérer les droits des utilisateurs non identifiés. En effet, sur un site Internet public (souvent en mode AWP), il est souvent intéressant de restreindre les droits pour les utilisateurs non identifiés. Les droits de ce compte sont utilisés tant que l'internaute ne s'est pas identifié (par un lien spécifique de connexion par exemple). 

Le groupware utilisateur de WEBDEV permet d'associer cet utilisateur à un ou plusieurs groupes et de lui associer des droits.  



<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Configuration des droits
<a name="configuration_des_droits_ELTTEXTE000342"></a>
La définition des droits peut être effectuée sur les groupes et les utilisateurs.

Astuce : Pour faciliter et accélérer la définition des droits d'accès, commencez toujours par définir les droits des groupes "parents", puis ceux des sous-groupes et enfin ceux des utilisateurs.

**Pour définir les droits** : 

1. Cochez la ligne correspondant à l'utilisateur ou au groupe dont vous voulez configurer les droits. Cliquez sur l'icône "Gestion des droits" de la ligne. 

2. La définition des droits commence par autoriser ou interdire l'accès aux pages et états du site : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Groupware%20utilisateur%20-%20HC%20N%B0007.jpg&type=thumb)
La liste des éléments apparaît. Dans cette liste, apparaissent également les pages et les états des composants utilisés par le site. 

3. Il suffit de : 

	- Cocher l'élément voulu. 

	- Cliquer la combo "Accès" et choisir le droit correspondant : "Autoriser l'accès", "Interdire l'accès" ou "Réinitialiser l'accès par défaut".
			Important : si vous interdisez l'accès à une page, pensez à bloquer tous les moyens d'accès à cette page (en grisant les boutons, options de menu, ...). Si un utilisateur a la possibilité d'ouvrir une page à laquelle il n'a pas accès, une erreur fatale sera affichée.

	- Un pictogramme indique le droit d'accès de la page ou de l'état en cours. 
			Remarques : 

		- Si l'accès à un élément est explicitement autorisé (option "Autoriser l'accès") pour un groupe, il peut être interdit pour un sous-groupe ou un utilisateur du groupe. 

		- Il est possible d'autoriser un élément qui est interdit dans le groupe "parent".




4. Si une page ou un état est autorisé pour le groupe ou pour l'utilisateur, il est alors possible de définir l'état de chaque champ, bouton, menu, option de menu, ... Il suffit de cliquer sur la ligne de la page. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Groupware%20utilisateur%20-%20HC%20N%B0008.jpg&type=thumb)


	- L'état de l'élément peut être celui défini par défaut dans l'UI du site ou un état particulier :

	- inactif,

	- grisé

	- invisible.

5. Lorsque le paramétrage est réalisé, validez (bouton "Enregistrer"). 




Remarque : Si votre projet correspond à un site mixte AWP/Classique, il est possible de définir les droits sur les pages AWP et sur les pages classiques. Dans ce cas, la connexion depuis une page AWP sera transmise automatiquement à la partie classique.

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Statistiques
<a name="statistiques_ELTTEXTE000366"></a>
L'option de menu "Statistiques" permet d'obtenir les statistiques de connexion à une des applications utilisant la base de données du groupware utilisateur, sur une période donnée. 

<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Récupération de données
<a name="recuperation_donnees_ELTTEXTE000390"></a>
Si vous avez déjà intégré le groupware utilisateur dans un projet avant la version 19, deux possibilités s'offrent à vous :

- soit vous souhaitez conserver le groupware tel qu'il est. Il vous suffit alors de cocher l'option "Mode compatible 18 et inférieur" dans l'onglet "Intégration" de la description du groupware. 

- soit vous souhaitez bénéficier des fonctionnalités du nouveau groupware, sans perdre vos données existantes. Il vous suffit alors de passer par la récupération des données.




Pour importer des données existantes : 

1. Connectez-vous avec un utilisateur qui est superviseur (l'utilisateur "SUPERVISEUR" par exemple). 

2. Dans la page de gestion du groupware, cliquez sur "Récupération de données". 

3. Sélectionnez le type de la base de données qui contient les informations du groupware à importer. 

4. Indiquez :

	- le mot de passe des fichiers de données du groupware à importer. Si vous ne l'avez pas modifié, le mot de passe est “PCSGPW2001”.

	- les informations de localisation des fichiers (les répertoires pour des fichiers au format HFSQL Classic ou les paramètres de connexions au serveur dans les autres cas).




5. Validez. 




<a name="NOTE6"></a>
<a name="NOTE6_1"></a>


## Paramétrage du mode intégré
<a name="parametrage_mode_integre_ELTTEXTE000414"></a>
L'option de menu "Paramétrage du mode intégré" permet de paramétrer la gestion des nouveaux utilisateurs dans le cas du groupware intégré.  

Remarque : Pour que ce paramétrage soit pris en compte, le groupware utilisateur en mode intégré doit avoir été défini dans le projet correspondant au site. Un lien spécifique permettant de gérer l'identification des utilisateurs doit avoir été incorporé dans une des pages du site. Pour plus de détails, consultez [Options du groupware utilisateur](../Editeurs/1000021153.md).  
<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=GPU_Integre_WB%20-%20HC%20N%B0001.gif&type=thumb)


Le paramétrage du mode intégré consiste à : 

- Choisir la règle d'activation des nouveaux utilisateurs. Cette activation peut être : 

	- automatique : les utilisateurs seront automatiquement activés après leur inscription. 

	- réalisée par email : les utilisateurs recevront un email contenant un lien d'activation. Dans ce cas, il est nécessaire : 

		1. de paramétrer les adresses emails d'expédition et de destination (l'adresse de destination est utilisée pour envoyer une copie de l'email). 

		2. de paramétrer le serveur SMTP utilisé pour l'envoi des emails




- Activer le mode sécurisé pour les différents formulaires d'identification. Le mode sécurisé utilise un certificat SSL. Ce certificat doit être actif sur le serveur Web. 




<a name="NOTE7"></a>
<a name="NOTE7_1"></a>


## Activer le cryptage des mots de passe
<a name="activer_cryptage_des_mots_passe_ELTTEXTE000438"></a>
A partir de la version 20, les mots de passe sont cryptés par défaut.  

Le cryptage des mots de passe est automatiquement intégré à partir de la version 200057 lors de la mise en place du groupware utilisateur. 

Pour un projet en version 20 dont le groupware utilisateur est déjà en place, l'application doit être recompilée, déployée, et l'activation du cryptage des mots de passe doit être fait par l'utilisateur identifié en mode "Administrateur". 

**ATTENTION** : Lors de la mise en place du cryptage des mots de passe sur un projet existant : 

- Les mots de passe existants seront migrés.

- Cette opération est irréversible.

- Si les fichiers des comptes utilisateurs sont partagés avec d'autres applications ou sites, tous les sites et applications doivent être mis à jour avec la version 200057 ou supérieure. Dans le cas contraire, il sera impossible de se connecter à l'application ou au site.




Pour plus de détails, consultez [Groupware utilisateur : Cryptage des mots de passe](../Editeurs/1000021283.md). 








