


## Code coverage
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000223"></a>
Le code coverage est la mesure de la couverture des tests réalisés sur une application ou un site. Chaque ligne de code qui a été exécutée est considérée comme "testée". Les tests "manuels" (exécution des lignes de code lors d'un GO par exemple) et les tests automatiques sont pris en compte.

**Attention** : Le code coverage ne permet pas de savoir si les tests ont réussi : il permet juste de savoir si la ligne de code a été exécutée.

Le code coverage permet donc de détecter les lignes de code d'une application qui n'ont jamais été exécutées.

Ces lignes de code se trouvent dans tous les éléments d'une application :

- fenêtre,

- champ,

- procédure,

- méthode,

- "bout de code",

- ...


Le code coverage donne une bonne idée du niveau de test du code d'une application.

Remarque : Le code coverage collecte : 

- les données individuelles dans un fichier de type ".wdcoverage" présent dans le répertoire du projet. 

- les données de l'équipe dans la base de données des Centres de Contrôle. Elles sont ainsi partagées entre les différents utilisateurs des Centres de Contrôle. Il est ainsi possible d'obtenir des statistiques concernant l'équipe travaillant sur un même projet. 




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Comment visualiser le code coverage ?
<a name="comment_visualiser_code_coverage_ELTTEXTE000247"></a>
Le code coverage peut être visualisé à plusieurs endroits : 

- Tableau de bord du projet, 

- Explorateur de projet, 

- Editeur de code. 



<a name="NOTE2_2"></a>


### Tableau de bord du projet
<a name="tableau_bord_projet_ELTPARAGRAPHE000047"></a>Le code coverage est visualisé dans le Tableau de bord du projet grâce à un widget spécifique nommé "Couverture". 
<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Code%20coverage%20-%20HC%20N%B0001.gif)


Ce Widget affiche le graphe des pourcentages de code testé et non testé. 

Un clic sur la flèche du Widget permet de dérouler le menu du Widget. Ce menu permet de : 

- Afficher le résultat du dernier GO. Dans ce cas, seul le code coverage concernant le dernier GO de la configuration en cours est affiché. 

- Afficher les résultats personnels. Dans ce cas, le code coverage concernant le développeur en cours sur la configuration en cours est affiché. Les données des GO et des tests automatiques sont pris en compte. 

- Afficher les résultats de l'équipe. Dans ce cas, le code coverage concernant tous les développeurs travaillant sur la configuration en cours est affiché. Les données des GO et des tests automatiques sont pris en compte.

- Activer ou désactiver le Widget (pour afficher ou non les données du code coverage dans le tableau de bord du projet). 

- Afficher la couverture dans le code. Permet d'afficher les lignes testées sous l'éditeur de code.


 
Remarque : Ces actions peuvent également être effectuées depuis le volet "Tests automatiques". Pour plus de détails, consultez le paragraphe [Configuration des données affichées par le code coverage](#NOTE3_1). 
<a name="NOTE2_3"></a>


### Explorateur de projet
<a name="explorateur_projet_ELTPARAGRAPHE000073"></a>L'explorateur de projet affiche le code coverage pour chaque élément présent dans l'explorateur. Un graphe est affiché pour chaque élément correspondant au pourcentage de code testé pour cet élément. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Code%20coverage%20-%20HC%20N%B0002.gif)


Un survol sur ce graphe permet d'obtenir une information plus précise dans une bulle d'aide. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Code%20coverage%20-%20HC%20N%B0003.gif)


Les informations affichées dans l'explorateur de projet concernent la configuration en cours. 

Il est possible de paramétrer les informations affichées. Pour plus de détails, consultez le paragraphe [Configuration des données affichées par le code coverage](#NOTE3_1). 
<a name="NOTE2_4"></a>


### Editeur de code
<a name="editeur_code_ELTPARAGRAPHE000091"></a>Sous l'éditeur de code, il est possible de visualiser le code testé. Pour activer cette fonctionnalité : 

- depuis le Widget "Couverture", sélectionnez l'option "Afficher la couverture dans le code". 

- sous le volet "Tests automatiques", dans le groupe "Couverture de code", cliquez sur "Affichage dans le code". Si cette option est en surbrillance, l'affichage dans le code est activé.<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Code%20coverage%20-%20HC%20N%B0001%201.gif)





Le code testé est affiché sur fond bleuté.  <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Code%20coverage%20-%20HC%20N%B0004.gif)


Remarque : L'affichage dans le code du code testé dépend : 

- de la configuration en cours, 

- des options d'affichage sélectionnées dans le volet "Tests automatiques" (dernier GO, ...). Pour plus de détails, consultez le paragraphe [Configuration des données affichées par le code coverage](#NOTE3_1). 




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Configuration des données affichées par le code coverage
<a name="configuration_des_donnees_affichees_par_code_coverage_ELTTEXTE000289"></a>
La configuration des données affichées par le code coverage est réalisée via le volet "Tests automatiques" du ruban. 

Pour sélectionner le type de données à afficher : 

1. Sous le volet "Tests automatiques", dans le groupe "Couverture de code", déroulez la première option. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Code%20coverage%20-%20HC%20N%B0002%201.gif)


2. Sélectionnez les données à afficher : 

	- Dernier GO. Dans ce cas, seul le code coverage concernant le dernier go de la configuration en cours est affiché. 

	- Cumul personnel. Dans ce cas, le code coverage concernant le développeur en cours sur la configuration en cours est affiché. Les données des GO et des tests automatiques sont pris en compte. 

	- Cumul de l'équipe. Dans ce cas, le code coverage concernant tous les développeurs travaillant sur la configuration en cours est affiché. Les données des GO et des tests automatiques sont pris en compte.

	- Aucun. Le code coverage n'est pas affiché.




3. Les données affichées sont automatiquement mises à jour.  




Pour réinitialiser les données : 

- Données personnelles : Sous le volet "Tests automatiques", dans le groupe "Couverture de code", cliquez sur "Réinitialiser les données personnelles". Les données personnelles sont supprimées pour le projet et la configuration en cours. 

- Données de l'équipe : Sous le volet "Tests automatiques", dans le groupe "Couverture de code", cliquez sur "Réinitialiser les données personnelles". Les données de l'équipe sont supprimées de la base des Centres de Contrôle pour le projet et la configuration en cours.





