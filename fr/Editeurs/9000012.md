


## Déployer une archive Java
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000188"></a>
Comme pour toute application, WINDEV permet de créer un programme d'installation pour une application Java. Cette procédure d'installation n'est actuellement disponible que pour Windows. Le programme d'installation sera un exécutable et permettra d'installer les fichiers nécessaires ainsi que le runtime Java (JRE). Pour les autres plateformes, il est actuellement nécessaire de déployer vos fichiers manuellement.

Pour lancer l'assistant de création d'installation, sous le volet "Projet", dans le groupe "Génération", déroulez "Procédure d'installation" et sélectionnez "Créer la procédure d'installation".



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Déployer une application Java (générée avec WINDEV)
<a name="deployer_une_application_java_generee_avec_windev_ELTTEXTE000218"></a>


1. Installez le JRE (Java Runtime Environnement) sur la machine cible.
	Remarque : Il est possible de télécharger le JRE pour Windows, Linux, Apple Mac OS X, Solaris sur le site [http://www.oracle.com/technetwork/java/javase/downloads/index.html](http://www.oracle.com/technetwork/java/javase/downloads/index.html). 

2. Copiez l'archive générée par WINDEV sur la machine cible.
	Il est également nécessaire de copier tous les fichiers utilisés par l'application (images, fichiers texte, ...).

3. Si le framework Java de WINDEV n'a pas été intégré dans l'archive générée :
	Copiez le fichier wd280java.jar dans le même répertoire que l'archive générée par WINDEV.

4. Si l'application utilise un driver JDBC qui n'a pas été intégré dans l'archive générée :
	Copiez l'archive (ou les fichiers du class) du driver JDBC dans le même répertoire que l'archive générée par WINDEV.

5. Si l'application utilise le moteur HFSQL : 
	Copiez dans le répertoire de l'archive générée par WINDEV :

	- l'analyse (fichier .WDD).

	- les fichiers de données. 
			Rappel : Sur Linux et sur Mac, les fichiers de données HFSQL doivent être en minuscules et sans accent.

	- les librairies natives d'accès à HFSQL :

		- pour une exécution sur Windows : wd280jav.dll, wd280hf.dll, wd280sql.dll, wd280vm.dll. Ces fichiers sont disponibles dans le sous-répertoire Programmes du répertoire d'installation de WINDEV.

		- pour une exécution sous Linux : wd280jav.so, wd280hf.so, wd280sql.so, wd280vm.so. Ces fichiers sont disponibles dans le sous-répertoire "Programmes\\Donnees" du répertoire d'installation de WINDEV. 
						Remarque : les modules d'accès à Hyper File 5 ainsi que les Connecteurs Natifs ne sont pas disponibles pour Linux dans cette version. Il est nécessaire d'utiliser soit HFSQL Classic, soit un accès JDBC.





Remarque : Support de Mac OS X 10.9 minimum.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Exécuter l'application
<a name="executer_application_ELTTEXTE000242"></a>
L'archive générée par WINDEV est généralement auto-exécutable (le manifeste de l'archive contient toutes les informations nécessaires à son exécution).

Le double-clic sur l'archive suffit donc généralement pour lancer son exécution.

Il peut cependant arriver que le double-clic ne fonctionne pas.

**Liste des cas connus où le double-clic ne fonctionne pas** : 

- l'exécutable "Java" n'est pas associé à l'extension JAR.

- un nom de driver JDBC trop long est mal recopié dans le fichier manifest.mf généré par l'outil de création d'archive jar.exe, ce qui rend le manifeste inutilisable.




Dans ce cas, il est possible d'exécuter l'archive en utilisant la ligne de commande copiée dans le fichier &lt;Nom de l'archive&gt;.bat.

Ce fichier est généré automatiquement par WINDEV lors de la génération de l'archive de l'application.

ATTENTION : Cette ligne de commande a été générée pour la machine de compilation. Il faudra peut-être l'adapter pour la machine cible.
<a name="NOTE3_2"></a>


### Exemple de ligne de commande : 
<a name="exemple_ligne_commande_ELTPARAGRAPHE000111"></a>
```txt
"C:\j2sdk1.4.2_04\bin\java.exe" -classpath MonProjet.jar;
WD280java.jar;mysql-connector-java-3.0.14-production-bin.jar GWDPMonProjet
```


Détail de la ligne de commande :


|   |   |
| --- | --- |
| "C:\\j2sdk1.4.2_04\\bin\\java.exe" | Chemin complet de l'exécutable Java pour exécuter l'archive générée. |
| classpath MonProjet.jar;wd280java.jar;mysql-connector-java-3.0.14-production-bin.jar | Liste des archives (.JAR) nécessaires à l'exécution de l'application.<br><br>MonProjet.jar est le nom de l'archive générée par WINDEV.<br><br>Dans cet exemple, ni le framework, ni le driver JDBC de MySQL n'ont été intégrés dans l'archive générée : ils sont donc ajoutés dans le classpath, séparés par des ';' (points virgules). |
| GWDPMonProjet | C'est le nom de la classe Java contenant la méthode "main", point de départ de l'exécution de l'application.<br>Ce nom est généré automatiquement par WINDEV à partir du nom du projet.<br>Pour plus de détails sur la ligne de commande, reportez vous à la documentation de l'exécutable "java". |




