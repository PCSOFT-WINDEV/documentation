


## Tester un état
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000202"></a>
Le test d'un état seul permet d'exécuter uniquement l'état en cours sous WINDEV, WEBDEV ou WINDEV Mobile. Comme pour le test du projet, il est possible de lancer le débogueur dès qu'un problème est rencontré.

**Remarque** : Le test de l'état est réalisé uniquement sur le poste de développement. Les données testées ­correspondent aux données présentes sur le poste de développement.

Lors du test d'un état, les événements WLangage suivants sont exécutés :

- Initialisation du projet.

- Evénements associés à l'état.

- Evénements associés aux blocs de l'état.

- Evénements associés aux champs de l'état.




Pour plus de détails, consultez [Enchaînement des événements associés aux états](../WDChamp/1011004.md), [Evénements associés à un état](../WDChamp/1011037.md), [Evénements associés aux blocs d'un état](../WDChamp/1011042.md) et [Evénements associés aux champs d'un état](../WDChamp/1013047.md).

**Remarque** : Le test de l'état est disponible uniquement pour les états basés sur une requête, un fichier de données, un fichier texte et les états associés à aucune source de données. Pour les autres types d'états, il est nécessaire de tester l'élément (fenêtre, page ou projet) à partir duquel l'état est imprimé.|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ER.png) | Important | Lors du test d'un état sous [le logiciel Etats & Requêtes](../Presentation/3088004.md), l'événement d'initialisation du projet est exécuté. |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Comment le faire ?
<a name="comment_faire_ELTTEXTE000244"></a>


### Tester l'état en cours
<a name="tester_etat_cours_ELTPARAGRAPHE000049"></a>Pour tester l'état en cours : 

1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_GO_Fenetre_WD_bl.gif) parmi les boutons d'accès rapide (touche F9).

2. Un écran s'affiche permettant de choisir le mode d'impression de l'état : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Go_Etat_Choix.gif)
Les options proposées sont :

	- **Visualisateur de rapports** : permet de visualiser l'état à l'écran tel qu'il sera imprimé.

	- **Imprimante** : l'état est directement imprimé sur l'imprimante par défaut.

	- **Fichier RTF** : l'état est enregistré dans un fichier RTF et affiché dans un éditeur de texte (Word par exemple).

	- **Fichier HTML** : l'état est enregistré dans un fichier HTML et affiché dans le navigateur Internet installé sur le poste.

	- **Fichier PDF** : l'état est enregistré dans un fichier PDF et affiché dans un éditeur de PDF (Acrobat Reader par exemple).

	- **Fichier PDF Générique** : l'état est enregistré dans un fichier PDF générique (indépendant de l'imprimante) et affiché dans un éditeur de PDF (Acrobat Reader par exemple).


 Pour plus de détails sur ces différents modes, consultez [Modes d'impression d'un état](../WDChamp/1011031.md).

3. Choisissez le mode d'impression voulu et validez. Si votre état n'est pas enregistré, WINDEV, WEBDEV ou WINDEV Mobile propose automatiquement de l'enregistrer sous le nom donné dans l'assistant de création de l'état.

4. Si nécessaire, fournissez des renseignements supplémentaires :

	- Si ***l'état est borné***, une fenêtre s'affiche permettant de saisir les bornes de l'état. Pour plus de détails, consultez [Etat borné](../WDChamp/1011052.md).

	- Si ***l'état est basé sur une requête paramétrée***, une fenêtre s'affiche permettant de saisir les paramètres de la requête. Pour plus de détails, consultez [Etat sur requête paramétrée](../WDChamp/1011013.md).

	- Si ***l'état est paramétré***, donnez une valeur par défaut aux paramètres dans la déclaration des paramètres. Pour plus de détails, consultez [Passer des paramètres à un état](../WDChamp/1011008.md).





Remarque : Il est possible de relancer le dernier test effectué (fenêtre, requête, état, ...) depuis n'importe quel élément du projet grâce à l'option "GO .. Relancer le dernier test" présente dans les boutons d'accès rapide. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=GO_Relancer_le_dernier_test%20-%20HC%20N%B0001.gif)

<a name="NOTE2_2"></a>


### Remarque : Iconiser ou non l'éditeur lors du test
<a name="remarque_iconiser_non_editeur_lors_test_ELTPARAGRAPHE000275"></a>Par défaut, lors d'un test, l'éditeur s'icônise. Selon la configuration matérielle (écran large, 2 écrans, ...), cette icônisation n'est pas utile. 

Pour conserver l'éditeur ouvert : 

1. Sous le volet "Accueil", dans le groupe "Environnement", déroulez "Options" et sélectionnez "Options de l'éditeur de code". 

2. Dans l'onglet "Débogueur", décochez l'option "Iconiser l'éditeur lors du mode test". 

3. Validez. 



<a name="NOTE2_3"></a>


### Arrêter le test d'un état
<a name="arreter_test_etat_ELTPARAGRAPHE000101"></a>Pour arrêter le test, plusieurs méthodes sont possibles :

- **1ère méthode** : Fermez le visualisateur de rapports dans lequel l'état en cours de test est affiché. L'éditeur en cours au moment du lancement du test est affiché.

- **2ème méthode** : Revenez dans l'éditeur avec la barre des tâches ou avec la combinaison de touches Alt + Tab et confirmez l'arrêt du test. L'éditeur en cours au moment du lancement du test est affiché.

- **3ème méthode** : Revenez dans l'éditeur avec la barre des tâches ou avec la combinaison de touche Alt + Tab et cliquez sur l'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Partie2_PileDesAppels%202.gif) (option "Terminer le test") présente dans le volet "Débogueur".




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Notes
<a name="notes_ELTTEXTE000308"></a>


### Répertoire des fichiers de données à utiliser en test
<a name="repertoire_des_fichiers_donnees_utiliser_test_ELTPARAGRAPHE000116"></a>Pour indiquer les fichiers de données utilisés lors du test de l'application sous l'éditeur :

1. Affichez la description du projet : sous le volet "Projet", dans le groupe "Projet", cliquez sur "Description".

2. Dans l'onglet "Fichiers", sélectionnez l'emplacement des fichiers de données de test :

	- ***Répertoire de la configuration courante ou répertoire courant*** (option sélectionnée par défaut) : Les fichiers de données se trouveront dans le sous-répertoire correspondant à la configuration en cours (sous-répertoire du répertoire EXE du projet).

	- ***Répertoire spécifique*** : Les fichiers de données se trouveront dans le répertoire indiqué.






<a name="NOTE3_2"></a>


### Gestion des mots de passe (analyse ou fichier de données)
<a name="gestion_des_mots_passe_analyse_fichier_donnees_ELTPARAGRAPHE000145"></a>Lors du test d'un état lié à un fichier de données protégé par mot de passe, aucun mot de passe n'est demandé.

Les mots de passe nécessaires doivent être précisés par programmation dans l'événement WLangage "Ouverture" de l'état :

- Si l'état est lié à un (ou plusieurs) fichier(s) de données protégé(s) par un mot de passe, ce mot de passe doit être spécifié avec la fonction [HPasse](../WDLang4/3044108.md).

- Si les mots de passe ne sont pas précisés dans l'événement "Ouverture" de l'état, une erreur WLangage est affichée lors du test de l'état.





