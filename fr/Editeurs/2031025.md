


## Créer les fenêtres Fiche d'un Pattern RAD WINDEV
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Les étapes de la création de pattern RAD
<a name="les_etapes_creation_pattern_rad_ELTTEXTE000220"></a>
Les différentes étapes permettant de créer un Pattern RAD WINDEV sont les suivantes :

1. [Création du projet de type "Pattern RAD"](../Editeurs/2031021.md). 

2. Création des différentes fenêtres du pattern.

	- **Fenêtre Fiche** (avec si nécessaire des boutons de liaison). 

	- [Fenêtre Table](../Editeurs/2031026.md) (avec si nécessaire des boutons de liaison). 

	- [Fenêtre de relation](../Editeurs/2031027.md) (avec si nécessaire des boutons de liaison). 

	- [Boutons et fenêtre vision plus](../Editeurs/2031029.md).

	- [Menus](../Editeurs/2031030.md).




3. [Génération du Pattern RAD](../Editeurs/2031023.md).

4. [Utilisation du Pattern RAD](../Editeurs/2031024.md).




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Quelles fenêtres doivent être créées ?
<a name="quelles_fenetres_doivent_etre_creees_ELTTEXTE000244"></a>


### Les fichiers à créer
<a name="les_fichiers_creer_ELTPARAGRAPHE000043"></a>Rappel : Pour réaliser un pattern RAD permettant de faire un projet complet, les fichiers suivants sont nécessaires :

- Une fenêtre de type Fiche pour RADFichierA.

- Une fenêtre de type Fiche pour RADFichierB. Un champ Combo et un bouton Vision plus (ou une combo popup) doivent permettre de sélectionner un élément du fichier RADFichierA.

- Une fenêtre de type Fiche pour RADFichierC. Une champ Combo et un bouton Vision plus (ou une combo popup) doivent permettre de sélectionner un élément du fichier RADFichierB.

- Une fenêtre de type Table pour RADFichierA.

- Une fenêtre de type Table pour RADFichierB.

- Une fenêtre de type Table pour RADFichierC.

- Une fenêtre de relation RADFichierB / RADFichierD.




Ces différents éléments doivent contenir des boutons de liaison. Il est également possible de fournir le menu général de l'application.
<a name="NOTE2_2"></a>


### Norme à suivre
<a name="norme_suivre_ELTPARAGRAPHE000060"></a>Cette page d'aide présente différentes règles applicables à la conception des pages et des fenêtres du Pattern RAD. Ces règles ont été utilisées pour concevoir les différents Patterns livrés avec WINDEV 28.

Ces règles sont une recommandation. Vous pouvez évidemment mettre en place et utiliser vos propres normes.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Les fenêtres Fiche
<a name="les_fenetres_fiche_ELTTEXTE000274"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000073"></a>Une fenêtre Fiche est constituée des éléments suivants :

- Un superchamp : Ce superchamp contient les champs de la fiche à afficher. Ce superchamp est lié au fichier à afficher.

- De boutons permettant de réaliser des actions de base : Valider, Annuler et si nécessaire Imprimer.

- [De boutons de liaison](../Editeurs/2031028.md) permettant d'afficher par exemple les fenêtres de type table correspondantes (uniquement pour les fiches concernant RADFichierA et RADFichierB).

- [De boutons Vision Plus](../Editeurs/2031029.md) permettant de sélectionner des éléments d'un autre fichier dans une fenêtre spécifique (uniquement pour les fiches concernant RADFichierB et RADFichierC).




Exemple de fenêtre Fiche pour le Pattern RAD Simple : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Pattern_RAD_WDFiche.gif)

<a name="NOTE3_2"></a>


### Créer une fenêtre Fiche
<a name="creer_une_fenetre_fiche_ELTPARAGRAPHE000092"></a>Pour créer une fenêtre Fiche : 

1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_nouveau.gif) parmi les boutons d'accès rapide : 

	- La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Fenêtre" puis sur "Fenêtre". L'assistant de création d'une fenêtre se lance.

	- Dans l'assistant, sélectionnez "Vierge" et validez.




2. Dans la fenêtre de description, saisissez les informations suivantes :

	- Le nom de la fenêtre. Ce nom doit obligatoirement contenir le nom du fichier affiché dans la fiche (quelques exemples : FEN_Fiche_RADFichierA, FEN_Fic_RADFichierA, ...).

	- Le titre de la fenêtre. Si le titre doit afficher le nom du fichier, utilisez le nom du fichier "RADFichierXX" (par exemple "RADFichierA : Fiche de saisie").




3. Enregistrez la fenêtre.

4. Créez un superchamp dans la fenêtre : sous le volet "Création", dans le groupe "Conteneurs", cliquez sur "Superchamp". 
	Ce superchamp va afficher les champs de la fiche. Positionnez ce champ dans la fenêtre et définissez sa taille. Si tous les champs ne peuvent pas entrer dans la taille définie, des ascenseurs apparaîtront automatiquement.

5. Dans la fenêtre de description du superchamp, indiquez le nom du superchamp. Ce nom doit être obligatoirement SC_Fiche (SC_ est le préfixe de la charte de programmation : il n'est pas nécessaire si vous n'utilisez pas de charte de programmation).

6. Dans l'onglet "Contenu" de la description du superchamp, spécifiez :

	- le fichier parcouru : RADFichierXX (par exemple "RADFichierA").

	- la rubrique parcourue : IDRADFichierXX (par exemple "IDRADFichierA").




7. Créez et positionnez les différents boutons de votre fenêtre (bouton de validation, d'annulation, d'impression, de parcours, ...). Ces boutons peuvent avoir n'importe quel nom.
	Attention : si vous autorisez l'utilisateur à appliquer un gabarit aux fenêtres créées par le RAD, il est nécessaire de définir le type de bouton qui doit être utilisé par le gabarit. Cette information peut être définie dans le modifieur (Catégorie "Gabarit").

8. Cas du ***bouton de validation*** (bouton "OK" ou "Valider" par exemple).
	Pour simplifier la gestion du bouton de validation, il est possible d'utiliser une action prédéfinie. Il est conseillé d'utiliser l'action "Fermeture de la fenêtre et renvoyer une valeur", avec l'option "Valeur renvoyée : la valeur spécifiée dans le code par ..ValeurRenvoyée".
	Dans le code du bouton de validation, il est conseillé d'activer la gestion automatique des erreurs (Option "Si Erreur : ", avec le traitement automatique "Afficher l'erreur et retourner en saisie").
	Le code du bouton de validation peut être par exemple (cas d'une fiche sur RADFichierA) : 
	
	```wl
	// Lecture des informations saisies 
	EcranVersFichier()
	// S'il s'agit d'un nouvel enregistrement
	SI RADFichierA..NouvelEnregistrement = Vrai ALORS 
		// On l'ajoute
		HAjoute(RADFichierA) 
	SINON 
		// On le modifie 
		HModifie(RADFichierA) 
	FIN
	// Valeur de retour de la fenêtre 
	MaFenêtre..ValeurRenvoyée = Vrai
	```


9. Cas du ***bouton d'annulation*** (bouton "Annuler" par exemple).
	Pour simplifier la gestion du bouton d'annulation, il est possible d'utiliser une action prédéfinie. Il est conseillé d'utiliser l'action "Fermeture de la fenêtre et renvoyer une valeur", avec l'option "Valeur renvoyée : la valeur spécifiée dans le code par ..ValeurRenvoyée".

10. Saisissez le code d'initialisation de la fenêtre. Voici un exemple :
	
	
	```wl
	// Affichage des enregistrements 
	FichierVersEcran()
	// Valeur de retour renvoyée par défaut
	MaFenêtre..ValeurRenvoyée = Faux
	```

	Ce code permet d'afficher la valeur des enregistrements dans la fiche et de renvoyer une valeur.

11. Ajoutez si nécessaire les [boutons de liaison](../Editeurs/2031028.md).

12. Ajoutez si nécessaire les [boutons Vision Plus](../Editeurs/2031029.md) (pour les fiches RADFichierB et RADFichierC).



<a name="NOTE3_3"></a>


### Cas des boutons d'impression
<a name="cas_des_boutons_impression_ELTPARAGRAPHE000164"></a>Un pattern RAD peut contenir des boutons permettant de lancer une impression. Le code de ces boutons (ou l'action prédéfinie associée) doit permettre de lancer l'impression (ou l'aperçu) de l'état.

Il est nécessaire de créer les états dans le projet du pattern RAD :

- Le nom de ces états doit contenir RADFichierX. Pour plus de lisibilité, il est conseillé d'utiliser "Fiche" ou "Table" dans le nom du formulaire pour identifier immédiatement le type de l'état.

- Ce nom doit être utilisé dans le code du bouton imprimer (ou dans l'action prédéfinie associée au bouton).




ATTENTION : Il n'est pas nécessaire de personnaliser les états présents dans votre projet du Pattern RAD. En effet, lors de la génération, seul le nom de l'état sera conservé. Si le bouton "Imprimer" est présent dans une fenêtre de type "Fiche", l'état imprimé sera un état de type fiche. Si le bouton "Imprimer" est présent dans une fenêtre de type "Table", l'état imprimé sera un état de type Table.


