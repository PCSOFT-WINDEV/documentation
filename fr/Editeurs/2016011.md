


## Gabarit
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000376"></a>
WINDEV, WEBDEV et WINDEV Mobile vous offrent la possibilité de personnaliser l'interface de vos applications en leur donnant une ergonomie professionnelle grâce à différentes interfaces prédéfinies : les **gabarits**.

Un gabarit peut être appliqué à votre projet (votre fenêtre ou votre état) à n'importe quel moment du développement. Bien entendu, même si un gabarit est utilisé, chaque fenêtre et chaque état peuvent être personnalisés individuellement.

Dans le cas des fenêtres, il est également possible d'appliquer un gabarit dynamiquement, lors de l'exécution de votre programme. Pour plus de détails, consultez le paragraphe ["Comment appliquer un gabarit dynamiquement ?"](#NOTE3).

Par défaut, plusieurs gabarits sont proposés. Il est également possible de créer vos propres gabarits.

**Remarques : Gabarits et modèles** : 

- Les gabarits permettent de définir les caractéristiques d'interface d'une fenêtre ou d'un état : le style des champs, les images utilisées, ...

- Les modèles de fenêtres ou d'états permettent de définir l'interface mais aussi des fonctionnalités (boutons, champs, code par exemple). Ces fonctionnalités seront reportées sur chaque élément utilisant le modèle et pourront être au besoin surchargées.




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Comment appliquer, créer et supprimer un gabarit ?
<a name="comment_appliquer_creer_supprimer_gabarit_ELTTEXTE000400"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Appliquer un gabarit à un projet
<a name="appliquer_gabarit_projet_ELTPARAGRAPHE000048"></a>Pour appliquer un gabarit à un projet : 

1. Sous le volet "Projet", dans le groupe "Autres actions", cliquez sur "Appliquer un gabarit au projet".

2. Sélectionnez le gabarit à appliquer.

3. Par défaut :

	- le gabarit sélectionné sera appliqué sur :

		- l'ensemble des fenêtres et des états du projet.

		- l'ensemble des champs des fenêtres et des états.




- les champs utilisés uniquement pour l'interface des fenêtres (champs décors servant par exemple à réduire ou fermer la fenêtre) seront supprimés et remplacés par ceux du nouveau gabarit.

- le gabarit sélectionné est appliqué en se basant sur le nom des styles. Tous les noms de style dans les gabarits fournis sont standard. Cette option permet d'optimiser l'application du gabarit. Les surcharges de style, si elles existent sont conservées.




**Remarques** :

- Cette méthode peut être appliquée à un projet utilisant ou non un gabarit.

- Il est également possible d'associer un gabarit à un projet (option "Gabarit du projet" dans l'onglet "Style" de la description du projet). Le gabarit sélectionné sera proposé par défaut lors de la création d'une fenêtre ou d'un état.



<a name="NOTE2_2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Appliquer un gabarit à une fenêtre
<a name="appliquer_gabarit_une_fenetre_ELTPARAGRAPHE000091"></a>Pour appliquer un gabarit à une fenêtre : 

1. Sous le volet "Fenêtre", dans le groupe "Style et gabarits", cliquez sur "Appliquer un gabarit".

2. Sélectionnez le gabarit à appliquer. Le gabarit sélectionné est automatiquement appliqué à la fenêtre ouverte sous l'éditeur. Il est ainsi possible de voir directement l'effet du gabarit. 

3. Par défaut :

	- le gabarit sélectionné sera appliqué sur :

		- la fenêtre en cours.

		- l'ensemble des champs de la fenêtre en cours (qu'ils utilisent ou non un gabarit).




- les champs utilisés uniquement pour l'interface de la fenêtre (champs décors servant par exemple à réduire ou fermer la fenêtre) seront supprimés et remplacés par ceux du nouveau gabarit.

- le gabarit sélectionné est appliqué en se basant sur le nom des styles. Tous les noms de style dans les gabarits fournis sont standard. Cette option permet d'optimiser l'application du gabarit. Les surcharges de style, si elles existent, sont conservées.

4. Selon l'aperçu, vous pouvez : 

	- Valider le gabarit sélectionné : le gabarit sera alors réellement appliqué à la fenêtre en cours. 

	- Changer de gabarit. Le nouveau gabarit sélectionné est automatiquement appliqué en visualisation à la fenêtre en cours. 

	- Annuler le changement de gabarit. La fenêtre en cours sous l'éditeur reprend son aspect initial. 







**Remarque** : Cette méthode peut être appliquée à une fenêtre utilisant ou non un gabarit.
<a name="NOTE2_3"></a>


### Appliquer un gabarit à un état
<a name="appliquer_gabarit_etat_ELTPARAGRAPHE000130"></a>Pour appliquer un gabarit à un état :

1. Sous le volet "Modification", dans le groupe "Modèles et gabarit", cliquez sur "Appliquer un gabarit".

2. Sélectionnez le gabarit à appliquer.

3. Validez. Le gabarit est appliqué à l'état en cours. 




**Remarque** : Cette méthode peut être appliquée à un état utilisant ou non un gabarit.
<a name="NOTE2_4"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Créer un gabarit de fenêtre
<a name="creer_gabarit_fenetre_ELTPARAGRAPHE000157"></a>Si aucun gabarit fourni par défaut ne vous convient, vous pouvez créer votre propre gabarit.

La création d'un gabarit de fenêtre se décompose en plusieurs étapes :

- **Étape 1** : [Création d'un projet regroupant les différents gabarits de fenêtre](../Editeurs/2016009.md).

- **Étape 2** : [Création d'une fenêtre contenant les styles des champs](../Editeurs/2016009.md).

- **Étape 3** : [Création d'une fenêtre modèle](../Editeurs/2016009.md).

- **Étape 4** : [Génération du gabarit](../Editeurs/2016009.md).

- **Étape 5 (optionnelle)** : [Création de l'aperçu du gabarit](../Editeurs/2016009.md).




**Remarque** : Nous vous indiquons ici une des méthodes de création d'un gabarit de fenêtre. La marche à suivre décrite ci-dessus est conseillée mais en aucun cas obligatoire.
<a name="NOTE2_5"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Modifier un gabarit de fenêtre
<a name="modifier_gabarit_fenetre_ELTPARAGRAPHE000191"></a>Pour modifier un gabarit existant, il suffit de modifier le fichier gabarit (fichier .STY) présent dans le répertoire où le gabarit a été généré.
<a name="NOTE2_6"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Créer un gabarit d'état
<a name="creer_gabarit_etat_ELTPARAGRAPHE000200"></a>Si aucun gabarit fourni par défaut ne vous convient, vous pouvez créer votre propre gabarit.

La création d'un gabarit d'état se décompose en plusieurs étapes :

- **Étape 1** : [Création d'un projet regroupant les différents gabarits d'état](../Editeurs/2016005.md).

- **Étape 2** : [Création d'un état gabarit pour tous les types d'états](../Editeurs/2016005.md).

- **Étape 3** : [Copie des états gabarit](../Editeurs/2016005.md).

- **Étape 4 (optionnelle)** : [Création d'un aperçu d'état](../Editeurs/2016005.md).




**Remarques** :

- Nous vous indiquons ici une des méthodes de création d'un gabarit d'états. La marche à suivre décrite ci-dessus est conseillée mais en aucun cas obligatoire.

- La création de gabarits d'états n'est pas disponible sous le logiciel Etats & Requêtes.



<a name="NOTE2_7"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Supprimer un gabarit
<a name="supprimer_gabarit_ELTPARAGRAPHE000233"></a>Pour supprimer un gabarit d'un projet, il faut supprimer le gabarit de toutes les fenêtres du projet : 

1. Affichez la fenêtre de description du projet : sous le volet "Projet", dans le groupe "Projet", cliquez sur "Description". 

2. Dans l'onglet "Style", choisissez le gabarit "Aucun". 

3. Pour chaque fenêtre du projet : 

	- Ouvrez la fenêtre sous l'éditeur. 

	- Affichez la description de la fenêtre (option "Description" du menu contextuel). 

	- Dans l'onglet "Style", sélectionnez le gabarit "Aucun".

	- Validez la fenêtre de description. 

	- Dans la fenêtre, modifiez le style des champs pour qu'ils n'utilisent plus le gabarit (il est possible de s'aider du bouton "Style utilisé" de l'onglet "Style" de la fenêtre de description des champs). 




4. Lorsque toutes les fenêtres ont été traitées, sous le volet "Projet", dans le groupe "Projet", déroulez "Recompiler et synchroniser" et sélectionnez l'option "Réactualiser style et gabarit". Si aucun lien n'est trouvé entre les champs et le gabarit, le gabarit sera automatiquement supprimé du projet. 




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Comment appliquer un gabarit dynamiquement (par programmation) ?
<a name="comment_appliquer_gabarit_dynamiquement_par_programmation_ELTTEXTE000460"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Présentation
<a name="presentation_ELTPARAGRAPHE000279"></a>Appliquer un gabarit dynamiquement à des fenêtres consiste à appliquer un gabarit uniquement en exécution, lors de l'affichage de la fenêtre. Cette fonctionnalité permet ainsi d'harmoniser rapidement des fenêtres provenant par exemple de plusieurs applications.

Exemple : Votre application utilise un ou plusieurs composants WINDEV. Pour harmoniser le "look" des fenêtres à l'exécution, il suffit d'appliquer dynamiquement le gabarit de votre projet.
<a name="NOTE3_2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Comment le faire ?
<a name="comment_faire_ELTPARAGRAPHE000290"></a>Pour appliquer dynamiquement un gabarit aux différentes fenêtres de votre application (ou uniquement aux fenêtres de vos composants WINDEV), il suffit d'utiliser la fonction [ChangeGabarit](../WDLang1/3013026.md) (par exemple dans le code d'initialisation du projet), en indiquant :

- le champ d'application du nouveau gabarit (fenêtre spécifique, fenêtres des composants, toutes les fenêtres)

- le nom du gabarit à utiliser. Ce nom correspond à un fichier "WDY", généré lors de la création du gabarit. Ce fichier doit être livré avec l'application.




Pour ne pas appliquer le gabarit dynamiquement sur une des fenêtres du projet : 

1. Afficher la fenêtre de description de la fenêtre concernée. 

2. Dans l'onglet " Style", cochez l'option "Toujours conserver le style/gabarit d'origine". 

3. Validez. 



<a name="NOTE3_3"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Fichiers nécessaires
<a name="fichiers_necessaires_ELTPARAGRAPHE000321"></a>Pour appliquer un gabarit dynamiquement à une ou plusieurs fenêtres, il est nécessaire de fournir lors du déploiement de l'application :

- l'application et si nécessaire ses composants WINDEV associés.

- le ou les fichiers WDY correspondants aux différents gabarits à appliquer. Ces fichiers peuvent être incorporés à la bibliothèque de l'application (fichier WDL). Pour plus de détails, consultez [Créer un exécutable](../Editeurs/2025002.md).





