


## Installations avec prise en charge du Push
			





## Présentation
<a name="presentation_ELTTEXTE000157"></a>
L'installation avec prise en charge du Push permet de déployer une application sur tous les postes clients d'un réseau depuis un unique poste d'administration.

Ce mode d'installation est une option de l'installation en réseau local avec mise à jour automatique (Live Update). Pour plus de détails sur les modes d'installation, consultez : [L'éditeur d'installation WDInst](../Editeurs/2028042.md).



## Comment le faire ?
<a name="comment_faire_ELTTEXTE000181"></a>


### Créer l'installation avec prise en charge du Push
<a name="creer_installation_avec_prise_charge_push_ELTPARAGRAPHE000017"></a>Pour créer une installation réseau avec prise en charge du Push :

1. Lancez l'assistant de création d'installation : sous le volet "Projet", dans le groupe "Génération", déroulez "Procédure d'installation" et sélectionnez "Créer la procédure d'installation".

2. Choisissez l'option "Installation en réseau local (LAN) avec prise en charge du Push" dans l'assistant de création d'installation.

3. Générez l'installation

4. Effectuez l'installation de référence de l'installation réseau (en exécutant Install_Serveur.exe).

5. A la fin de l'installation de référence, l'assistant d'installation permet de lancer l'outil "WDAdminExe". Cet outil est utilisé pour réaliser les installations des postes clients en Push. Cochez la case "Lancer WDAdminExe" pour accepter son lancement. 


**Remarque** : L'outil "WDAdminExe" est présent dans le sous-répertoire "INSTALL" de l'installation de référence de l'application. WDAdminExe est un outil redistribuable.  


### Déployer en Push sur les postes clients
<a name="deployer_push_sur_les_postes_clients_ELTPARAGRAPHE000044"></a>Pour déployer en push sur les postes clients :

1. Lancez WDAdminExe (voir ci-dessus).

2. Affichez l'onglet "Push" de la fenêtre principale : 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDAdminExe_2%20-%20HC%20N%B0002.gif&type=thumb)


3. Saisissez dans "Listage des machines" (1) le nom d'utilisateur et le mot de passe d'un compte Windows disposant d'assez de droits pour énumérer les machines du réseau.
	**Remarques** :

	- Dans un Active Directory, le nom d'utilisateur doit être au format DOMAINE\\UTILISATEUR et/ou au format UTILISATEUR@DOMAINE.

	- Ce compte n'a pas besoin d'être un administrateur.

	- Il est possible de mémoriser les informations de connexion. Si cette option est utilisée, il est important de ne pas mémoriser le mot de passe d'un administrateur.

	- Il est également possible de charger une liste de machines à partir d'un fichier texte. Le fichier texte peut contenir : 

		- des noms de machines ou des adresses IP.

		- des commentaires sous la forme "// Commentaire". 


Chaque ligne doit contenir un nom (ou adresse IP) et un commentaire. Par exemple : 
			
		```txt
		VIB //Machine de Vincent
		FP //Machine de Florence
		```


4. Cliquez sur "Lister les machines" pour valider les informations de connexion et commencer l'énumération des postes clients.
	**Attention** : en fonction des stratégies LDAP définies dans Active Directory, l'importation peut être limitée à 1 000 utilisateurs. Dans ce cas, pour supprimer cette limitation, il faut intervenir sur le paramètre LDAP MaxPageSize. Pour plus de détails, consultez [https://support.microsoft.com/kb/315071](https://support.microsoft.com/kb/315071). 

5. Vous pouvez utiliser les critères (2) ainsi que la liste des groupes (3) pour filtrer les machines à afficher. La liste des groupes est disponible uniquement sur un domaine Active Directory.

6. La table des machines (4) affiche : 

	- les postes clients trouvés, 

	- le commentaire s'il existe du fichier texte.

	- le numéro de version de l'application si elle est déjà installée,

	- le résultat des précédentes installations en Push.




7. Sélectionnez les postes clients sur lesquels l'application doit être déployée en mode Push.

8. Cliquez sur "Lancer l'installation en PUSH..." pour déclencher l'installation.
	La fenêtre de lancement de l'installation s'affiche : 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDAdminExe_2%20-%20HC%20N%B0003.gif&type=thumb)


9. Si plusieurs versions de l'application sont présentes dans l'installation de référence, sélectionnez la version de l'application à déployer en Push (1).

10. Le résumé (2) vous rappelle la liste des machines cibles de l'installation. Il est possible de supprimer des machines dans cette liste grâce au menu contextuel.

11. Vous pouvez utiliser un compte Windows différent de celui qui a servi à énumérer les machines si nécessaire (3).

12. Vous pouvez programmer l'installation en Push pour qu'elle soit réalisée en différé (4). Cette option permet de mettre automatiquement à jour un parc complet de postes clients en dehors des heures de travail par exemple.

13. La validation de cette fenêtre provoque le début des installations en Push. L'avancement peut être suivi dans la table des machines de la fenêtre principale de WDADMINEXE.




**Remarque** : Un bouton "Avancé" permet de paramétrer la durée d'attente des installations en Push. Si de nombreuses installations échouent avec des erreurs de timeout, il peut être nécessaire d'ajuster ce paramètre.


### Services nécessaires sur les postes cibles
<a name="services_necessaires_sur_les_postes_cibles_ELTPARAGRAPHE000096"></a>**Remarque** : Selon les versions de Windows utilisées, les noms de ces services dans la panneau de configuration peuvent varier.

Sur les postes cibles de l'installation en mode Push, les services suivants doivent être démarrés :

- Partage de fichiers (Service "lanmanserveur")

- Accès au registre à distance / Registre Distant (Service "RemoteRegistry")




De plus, le partage administratif (ADMIN$) doit exister. Ce partage peut être vu dans l'outil d'administration "Gestion de l'ordinateur", dans la partie "Outils système .. Dossiers partagés .. Partages".


### Services nécessaires sur le poste réalisant l'installation en Push
<a name="services_necessaires_sur_poste_realisant_installation_push_ELTPARAGRAPHE000108"></a>Sur le poste réalisant l'installation en mode Push, le service "Station de travail" ("lanmanworkstation") doit être démarré.


