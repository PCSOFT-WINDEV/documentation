


## Rafraichissement des données de la page
			

<DIV class="specObsolete">
	<IMG style="float:left;margin-right:10px;" src="https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=warning_big.png"><B>Avertissement</B><BR>
	A partir de la version <B>26</B>,  cette fonctionnalité est conservée par compatibilité. <br><br> L'expérience montre un support aléatoire de la technologie "Server-sent events" (SSE) par les navigateurs.<br>Cette fonctionnalité reste donc utilisable lorsque vous maîtrisez les navigateurs utilisés, dans un intranet sécurisé par exemple, et si elle convient aux besoins du site.<br>**Dans le cas d'un site tout public, la solution d'un timer navigateur sera généralement à privilégier.**
</DIV><a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000132"></a>
Dans un site dynamique WEBDEV, les données de la page sont rafraîchies lors d'une action de l'utilisateur. 

Dans certains cas, il peut être nécessaire de rafraîchir certaines des informations contenues dans cette page, sans aucune intervention de l'internaute : par exemple un compteur de mails reçus ou un niveau de stock. Plusieurs méthodes sont possibles : 

- Utiliser un timer navigateur pour rafraîchir la page ou appeler une procédure serveur en [Ajax](../WDLang2/3055116.md).

- Utiliser l'option de rafraîchissement automatique de la page. Ce mécanisme est basé sur la technologie "Server-sent events" (SSE). Cette technologie permet à la session (coté serveur) d'initier la transmission de données vers le navigateur une fois que la connexion initiale a été mise en place.




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Comment le faire ?
<a name="comment_faire_ELTTEXTE000156"></a>


### Définir un rafraîchissement automatique des données
<a name="definir_rafraichissement_automatique_des_donnees_ELTPARAGRAPHE000036"></a>Pour définir un rafraîchissement automatique des données dans une page : 

1. Affichez la page voulue sous l'éditeur de pages. 

2. Affichez la fenêtre de description de la page : sous le volet "Page", dans le groupe "Description", cliquez sur "Description". 

3. Dans l'onglet "Général", cochez l'option "" et indiquez la période de rafraîchissement (en secondes).

4. Validez. 

5. Affichez les événements associés à la page (F2 sur la page par exemple). 

6. Deux nouveaux événements sont disponibles : 

	- **Rafraîchissement des données de la page (code serveur)** : Cet événement est exécuté lors du rafraîchissement de la page. Il permet par exemple de mettre à jour les champs voulus : remplissage d'une liste, ... Cet événement est un événement Ajax. 

	- **Après rafraîchissement des données de la page (code navigateur)** : Cet événement est exécuté après l'événement "Rafraîchissement des données de la page (code serveur)" de la page. Il permet d'effectuer un traitement supplémentaire sur le navigateur.


 Remarque : Si l'événement "Rafraîchissement des données de la page (code serveur)" renvoie <u><u><u><u>Vrai</u></u></u></u> (RENVOYER Vrai), le code navigateur est exécuté (cas par défaut). Dans le cas contraire, le code navigateur ne sera pas exécuté.




**Attention** : Pour que le code de rafraîchissement soit exécuté, la période de rafraîchissement saisie doit être inférieure au timeout de durée de vie du site.
Rappel : La durée de vie de la session correspond au paramètre "Déconnecter les utilisateurs inactifs depuis..." spécifié dans l'administrateur du Serveur d'application WEBDEV (onglet "Configuration").


### Conditions d'utilisation
<a name="conditions_utilisation_ELTPARAGRAPHE000076"></a>Cette option est disponible uniquement pour des sites dynamiques WEBDEV développés en HTML5 et fonctionnant sur des navigateurs de type : 

- Google Chrome : Toutes versions

- Mozilla Firefox : A partir de Firefox 6.0

- Opéra : A partir de Opéra 11

- Safari : A partir de Safari 5.0

- Internet Explorer : Non supporté (IE 11 inclus)

- Edge : Non supporté





