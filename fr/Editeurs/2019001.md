


## Débogueur : Exécuter un projet Pas à Pas
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000509"></a>
L'exécution du projet pas à pas permet de lancer le débogueur au lancement de l'application. Cette solution permet de suivre méticuleusement le déroulement de l'application.

**Principe du débogage** : Le débogage d'une application consiste à :

- vérifier le bon fonctionnement d'un traitement,

- comprendre le fonctionnement d'un programme existant,

- vérifier la valeur des variables,

- vérifier le bon fonctionnement de cas particuliers dans une application.




Le débogueur permet de réaliser ces opérations. Le débogueur permet également de déboguer les composants utilisés dans une application. Pour plus de détails, consultez [Déboguer un composant](../Editeurs/2014012.md).

Remarque : WINDEV, WEBDEV et WINDEV Mobile mettent également à votre disposition divers outils de trace (fenêtre de trace, boîte d'information, ...). Pour plus de détails, consultez le paragraphe [Déboguer sans le débogueur](../Editeurs/2019002.md).



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Le débogueur
<a name="debogueur_ELTTEXTE000533"></a>
Le débogueur permet de tracer les programmes en WLangage afin de faciliter la mise au point de ces programmes. 

Le code source exécuté est visualisé à l'écran. Les différents traitements exécutés sont hiérarchisés dans le volet "Débogueur".

Les différentes options proposées par le débogueur sont accessibles : 

- via l'onglet "Débogueur" du ruban. 

- via le volet "Débogueur". 

- via le menu contextuel du code en cours de débogage. 




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Comment le faire ?
<a name="comment_faire_ELTTEXTE000557"></a>


### Lancer le débogueur
<a name="lancer_debogueur_ELTPARAGRAPHE000061"></a>Pour lancer le débogueur, plusieurs moyens sont possibles :

- **Dès le début du test du projet** : sous le volet "Projet", dans le groupe "Mode test", déroulez "Mode test" et sélectionnez "Déboguer le projet". Le débogueur est lancé en même temps que l'exécution du projet.
	Cette méthode est conseillée si l'examen des traitements d'initialisation du projet et de la première fenêtre ou page est nécessaire.

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) **Lors de l'interruption du test en appuyant sur les touches Ctrl + Pause**. L'action effectuée après l'utilisation des touches Ctrl + Pause (clic sur un bouton, ...) lancera le débogueur.

- **Lors du test, en lançant le débogueur depuis l'éditeur de code**. Cette méthode est conseillée par exemple pour lancer le débogueur lorsque un traitement semble anormalement long (possibilité d'une boucle infinie). Dans ce cas, effectuez les manipulations suivantes :

	- Cliquez sur l'icône WINDEV, WEBDEV ou WINDEV Mobile dans la barre des tâches.

	- A la question "Voulez-vous arrêter le test ? ", répondez "Non".

	- Dans le volet "Débogueur", cliquez sur "Pause" ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=main_debog.gif)
. 




- **Par programmation** en ajoutant dans le code le mot-clé **[Stop](../Motscles/1511014.md)** à l'endroit à partir duquel le débogueur doit être lancé.
	 Cette méthode est conseillée lorsque le traitement à partir duquel le débogueur doit être lancé est connu.
	**Remarque** : Le mot-clé [Stop](../Motscles/1511014.md) est pris en compte uniquement lors des tests de l'application sous l'éditeur de WINDEV, WINDEV Mobile ou WEBDEV. Lors de l'utilisation de l'exécutable, le mot-clé [Stop](../Motscles/1511014.md) est ignoré.

- **Dans l'éditeur de code** en ajoutant dans le code un point d'arrêt à l'endroit à partir duquel le débogueur doit être lancé. Pour plus de détails sur les points d'arrêt, consultez le paragraphe [Gestion des points d'arrêt](../Editeurs/2019005.md).

- **A partir d'une expression saisie dans le volet "Débogueur"**. Pour plus de détails sur les expressions, consultez le paragraphe [Expression à évaluer](#NOTE4_3).




Lorsque le débogueur est lancé : 

- l'éditeur de code de WINDEV, WEBDEV, WINDEV Mobile affiche l'onglet "Débogueur". Le libellé du volet est en rouge.

- la barre d'état du produit est colorée en orange. 





### Remarque : Iconiser ou non l'éditeur lors du test
<a name="remarque_iconiser_non_editeur_lors_test_ELTPARAGRAPHE000125"></a>Par défaut, lors d'un test, l'éditeur s'icônise. Selon la configuration matérielle (écran large, 2 écrans, ...), cette icônisation n'est pas utile. 

Pour conserver l'éditeur ouvert : 

1. Sous le volet "Accueil", dans le groupe "Environnement", déroulez "Options" et sélectionnez "Options de l'éditeur de code". 

2. Dans l'onglet "Débogueur", décochez l'option "Iconiser l'éditeur lors du mode test". 

3. Validez. 



<a name="NOTE3_2"></a>


### Utiliser le débogueur en 32 bits et 64 bits
<a name="utiliser_debogueur_32_bits_64_bits_ELTPARAGRAPHE000155"></a>Le débogueur est disponible en 32 bits et en 64 bits. Toutes les fonctionnalités sont disponibles dans ces deux modes. 

![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) **Tests en WINDEV** : 
Dans une application WINDEV, il est possible de créer des configurations de projet pour des exécutables 32 et 64 bits. Si votre poste est équipé d'un système 32 bits, le débogueur sera exécuté en 32 bits, si votre poste est équipé d'un système 64 bits, le débogueur sera exécuté en 64 bits. 

|   | Système 32 bits | Système 64 bits |
| --- | --- | --- |
| Configuration Exécutable 32 bits | GO 32 bits | GO 32 bits |
| Configuration Exécutable 64 bits | GO ! (32 bits) | GO 64 bits |
| Composant | GO 32 bits | GO 32 bits ou 64 bits |


Remarques : 

- Lors d'une exécution d'une configuration de projet 64 bits sur un système 32 bits, un point d'exclamation apparait sur l'icône GO pour indiquer que l'exécution sera effectuée en 32 bits. 

- Lors de l'exécution d'un composant, il est nécessaire d'indiquer le mode de débogage de l'élément. Cette option peut être indiqué par le menu de l'icône GO du projet (option "Déboguer l'élément en 64 bits"). 



<a name="NOTE3_3"></a>


### Exécuter du code sous le débogueur
<a name="executer_code_sous_debogueur_ELTPARAGRAPHE000219"></a>Une fois le débogueur activé, chaque manipulation effectuée dans l'application engendre le positionnement du curseur du débogueur (représenté par la flèche) sur le code en cours d'exécution. Il est alors possible de continuer l'exécution du code :

- soit ligne à ligne,

- soit par bloc de lignes,

- soit en ignorant les points d'arrêt,

- soit en modifiant directement le code à exécuter ("Edit and continue"),

- soit en indiquant la ligne de code à exécuter (Retour arrière).






**1. Exécuter du code ligne à ligne**
Pour exécuter la ligne de code en cours, utilisez :

- La touche F7 pour exécuter le code de la ligne et le code des procédures appelées par cette ligne. L'exécution de la ligne et des procédures appelées par la ligne sera visualisée sous le débogueur. L'icône correspondante dans le volet "Débogueur" est la suivante : icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Partie2_PileDesAppels%205.gif)
.  

- La touche F8 pour exécuter le code de la ligne et le code des procédures appelées par cette ligne. Seule l'exécution de la ligne sera visualisée sous le débogueur. L'icône correspondante dans le volet "Débogueur" est la suivante : ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Partie2_PileDesAppels%203.gif)





Remarque : Si la procédure possède l'attribut d'extension &lt;sans pas à pas&gt;, son code sera ignoré lors du débogage. Pour plus de détails, consultez [Ignorer des fonctions lors du débogage pas à pas](#NOTE4_6).

**2. Exécuter du code par bloc de lignes**
Par défaut, le curseur du débogueur (flèche) est positionné sur la ligne en cours. Le curseur de saisie de la souris (caret) peut être positionné sur n'importe quelle autre ligne de code.
Pour exécuter les lignes de code situées entre le curseur du débogueur et le caret, utilisez la touche F6. L'icône correspondante dans le volet "Débogueur" est la suivante : ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Partie2_PileDesAppels%208.gif)


**3. Exécuter du code en ignorant les points d'arrêt**
Pour exécuter le code en ignorant les points d'arrêt, cliquez sur l'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Debug_IconeIgnorerpoint.gif)
 du volet "Débogueur" présent dans le ruban.
Il est également possible de 

- lister les points d'arrêt, 

- activer ou désactiver un point d'arrêt, 

- ajouter un point d'arrêt. 


**Remarque** : Pour arrêter l'exécution du code sous le débogueur, cliquez sur l'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Debug_IconeContinuerTest.gif)
. Le test du projet continue sans le débogueur.

**4. Modifier directement le code à exécuter**
Pour modifier le code à exécuter, il suffit de modifier directement le code sous l'éditeur de code pendant l'exécution du test. Une fenêtre s'affiche indiquant qu'un test est en cours et demandant si le test doit être arrêté. Il suffit de ne pas arrêter le test, d'effectuer la modification voulue et de reprendre le test.

**5. Exécuter du code en indiquant la ligne de code à exécuter (Retour Arrière)**
Il est possible d'indiquer au débogueur la ligne de code à exécuter immédiatement. Cette ligne de code peut se trouver avant ou après la ligne de code en cours d'exécution. Cette fonctionnalité est intéressante par exemple si le code à exécuter a été modifié.
Pour cela, il suffit d'utiliser l'option "Définir l'instruction suivante" du débogueur. Cette option est disponible aussi bien dans le volet "Débogueur" du ruban que dans le menu contextuel d'une ligne de code. 
<a name="NOTE3_4"></a>


### Configurer le mode d'arrêt du débogueur
<a name="configurer_mode_arret_debogueur_ELTPARAGRAPHE000288"></a>Il est possible de configurer le mode d'arrêt du test (et du débogueur) dans les options d'affichage de l'éditeur de code : 

1. Sous le volet "Accueil", dans le groupe "Environnement", déroulez "Options" et sélectionnez "Options de l'éditeur de code". 

2. Affichez l'onglet "Débogueur".



![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=config_debug.gif)


<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Notes
<a name="notes_ELTTEXTE000605"></a>


### Hiérarchie des événements/traitements
<a name="hierarchie_des_evenementstraitements_ELTPARAGRAPHE000314"></a>Les événements/traitements en cours d'exécution dans le débogueur sont hiérarchisés. Cette hiérarchisation est listée dans la pile des appels dans le volet "Débogueur". 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Partie2_PileDesAppels.gif&type=thumb)


Par exemple, l'événement "Initialisation" de l'application lance une fenêtre qui utilise une procédure. Lorsque la procédure sera en cours de débogage, il sera possible de revenir sous l'éditeur de code :

- A l'endroit où la procédure est appelée.

- A l'endroit où la fenêtre est ouverte.




**Remarque** : Cette fonctionnalité n'arrête pas le débogage sous le débogueur.
<a name="NOTE4_2"></a>


### Visualiser le contenu des variables
<a name="visualiser_contenu_des_variables_ELTPARAGRAPHE000329"></a>Le débogueur permet d'examiner la valeur des variables utilisées dans le code en cours. Les valeurs peuvent être visualisées :

- Lors du survol d'une variable avec la souris.

- Dans le débogueur :

	- L'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Debug_IconeVariableLocale.gif)
 permet de visualiser les variables locales.

	- L'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Debug_IconeVariableGlobale.gif)
 permet de visualiser les variables globales.

	- Il est possible de visualiser le contenu des variables sous forme hexadécimale via le bouton ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Partie2_PileDesAppels%2016.gif)
. 







**Fenêtre de watch**
Le contenu des variables peut être visualisé dans une fenêtre spécifique : la fenêtre de watch. Pour afficher cette fenêtre, il suffit d'utiliser l'option "Editer la valeur" du menu contextuel de la variable dans le volet "Débogueur". Cette fenêtre permet aussi bien de visualiser le contenu des variables simple que le contenu de variables structurées : tableau, chaîne RTF multiligne, type structuré du langage, classe, ...

Cette fenêtre est non modale : il est possible d'ouvrir plusieurs fenêtres de watch sur différentes variables simultanément. Il est également possible de conserver ces fenêtres ouvertes pendant le débogage de l'application. Ces fenêtres sont mises à jour à chaque instruction exécutée. 

Cette fenêtre permet également de : 

- Visualiser la variable affichée en mode hexadécimal.

- Sauvegarder le contenu de la variable sur le disque (intéressant pour une variable de type RTF, HTML, image, ...). 

- Afficher une image contenue dans une variable ou un mémo. 

- Afficher le contenu d'une variable RTF ou HTML sous forme formatée. 



<a name="NOTE4_3"></a>


### Expression à évaluer
<a name="expression_evaluer_ELTPARAGRAPHE000364"></a>Le débogueur permet d'insérer une expression à évaluer. Cette expression peut être de tout type : variable, fonction, opération sur variables, ... Le résultat de l'expression est calculé et affiché.

Cette expression permet d'effectuer un débogage personnalisé. Par exemple, il est possible de connaître le contenu d'une variable au fur et à mesure de son utilisation dans l'application.

***Une expression peut être auto-stop*** : le débogueur peut par exemple se lancer dès qu'une condition est vérifiée ou dès que la valeur d'une variable est modifiée.
Par exemple, sur une mailing de 40 000 clients, un problème survient sur le numéro 12345. Pour lancer le débogueur dès que le numéro de client est égal à 12345, il suffit de définir l'expression suivante comme étant auto-stop :

```wl
Client.NumCli = 12345
```


**Pour insérer une expression** :

1. Sélectionnez l'option "Ajouter une expression" du menu contextuel du volet "Débogueur".

2. Saisissez la nouvelle expression.

3. Validez la création de l'expression en appuyant sur la touche Entrée. La valeur de l'expression sera automatiquement affichée dans la colonne "Valeur" lors du débogage.




**Pour modifier une expression :**

1. Sélectionnez l'expression à modifier.

2. Sélectionnez l'option "Éditer l'expression" du menu contextuel du volet "Débogueur".

3. Modifiez l'expression.

4. Validez la modification en appuyant sur la touche Entrée. La valeur de l'expression sera automatiquement affichée dans la colonne "Valeur" lors du débogage.




**Pour supprimer une expression :**

1. Sélectionnez l'expression à supprimer.

2. Sélectionnez l'option "Supprimer l'expression" du menu contextuel du volet "Débogueur". L'expression est supprimée.




**Pour rendre une expression auto-stop :** il suffit de cliquer dans la colonne "Stop" en face de l'expression désirée.
<a name="NOTE4_4"></a>


### Compte-rendu HFSQL et compte-rendu WLangage
<a name="compterendu_hfsql_compterendu_wlangage_ELTPARAGRAPHE000398"></a>Le compte-rendu HFSQL (icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Debug_IconeCpteRenduHF.gif)
) permet d'afficher le résultat des fonctions HFSQL suivantes (si elles existent) dans le volet "Débogueur" :

- [HEnDehors](../WDLang4/3044094.md),

- [HTrouve](../WDLang4/3044104.md),

- [HErreur](../WDLang4/3044088.md),

- [HErreurInfo](../WDLang4/3044071.md),

- [HNumEnr](../WDLang4/3044063.md).






Le compte-rendu du WLangage (icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Debug_IconeCpteRenduWL.gif)
) permet d'afficher les informations suivantes dans le volet "Débogueur" :

- le numéro du timer (s'il existe),

- le numéro et le message des erreurs non fatales,

- le nom de l'objet en cours (correspondant au mot-clé [MoiMême](../Motscles/1511007.md)).



<a name="NOTE4_5"></a>


### Gestion des threads
<a name="gestion_des_threads_ELTPARAGRAPHE000436"></a>Il est possible de déboguer une application multi-threadée. Lors de l'arrivée sur un point d'arrêt ou sur une instruction STOP, vous pouvez :

- Visualiser les différents threads.

- Basculer sur les informations (pile d'appels, variables, ...) des différents threads grâce à la combo présente dans le volet "Débogueur".  



![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Debog_thread.gif)

<a name="NOTE4_6"></a>


### Ignorer certaines fonctions lors du débogage en mode "Pas à pas" 
<a name="ignorer_certaines_fonctions_lors_debogage_mode_pas_pas_ELTPARAGRAPHE000448"></a>Lors des phases de débogage en pas à pas, il est quelque fois nécessaire de ne pas déboguer le contenu de certaines fonctions (par exemple une fonction de log ou une fonction de conversion). 

Pour cela, il suffit de faire suivre la déclaration de la fonction, procédure ou méthode de l'attribut d'extension **&lt;sans pas à pas&gt;**. 

Pour plus de détails, consultez : 

- [Déclarer une procédure/une fonction](../Motscles/1513008.md).

- [Classes, membres, méthodes et propriétés](../POO/6010006.md)





