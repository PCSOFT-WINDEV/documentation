
## WDInst : Installation d'une application HFSQL Client/Serveur
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000169"></a>
Lors de la création du programme d'installation d'une application WINDEV utilisant des fichiers de données HFSQL Client/Serveur, WDInst permet :

- d'installer si nécessaire un serveur HFSQL Client/Serveur.

- de paramétrer les connexions utilisées. Il est possible :

	- soit d'utiliser les paramètres de connexion définis dans l'analyse ou par programmation.

	- soit de définir les paramètres de connexion lors de l'installation de l'application.




- de copier les fichiers de données HFSQL directement sur le serveur lors de l'installation






<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Installation d'un serveur et choix du type de serveur
<a name="installation_serveur_choix_type_serveur_ELTTEXTE000199"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000026"></a>Lors de son installation, une application WINDEV (monoposte ou réseau) peut proposer à l'utilisateur final d'installer un serveur HFSQL Client/Serveur. Pour cela, il est bien entendu nécessaire que l'application WINDEV utilise des fichiers de données HFSQL Client/Serveur dans la description de son analyse.

WDInst permet de proposer à l'utilisateur final d'installer :

- un serveur HFSQL Client/Serveur Windows.

- un serveur HFSQL Client/Serveur Linux.




Il est possible de proposer l'installation de l'un ou l'autre de ces serveurs (ou aucun).

Pour paramétrer cette option depuis WDInst, sélectionnez l'option "Paramètres de l'installation .. Fichiers HFSQL" et sélectionnez l'onglet "HFSQL C/S".


<a name="NOTE2_2"></a>


### Paramètres avancés
<a name="parametres_avances_ELTPARAGRAPHE000043"></a>**Attention** : Pour réaliser ces installations, le programme d'installation doit être livré avec les packs d'installation des différents serveurs. Le bouton "Avancé" permet de sélectionner le pack nécessaire. Il est également possible de télécharger le dernier pack d'installation disponible depuis le site PC SOFT.



<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Configuration de la connexion
<a name="configuration_connexion_ELTTEXTE000229"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000053"></a>Si votre application utilise une connexion à un serveur HFSQL Client/Serveur définie dans votre analyse, il est possible de configurer cette connexion automatiquement lors de l'installation de l'application finale.

Pour paramétrer cette option depuis WDInst, sélectionnez l'option "Paramètres de l'installation .. Fichiers HFSQL" et sélectionnez l'onglet "Connexions".


**Pour configurer ces connexions** : 

1. Sélectionnez l'option "Editer l'emplacement des fichiers de données". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Option_WDInst_HFSQL%20-%20HC%20N%B0001.gif&type=thumb)


2. Sélectionnez la connexion voulue dans le tableau.

3. Cliquez sur le bouton "Editer". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Option_WDInst_HFSQL%20-%20HC%20N%B0002.gif&type=thumb)





Les principales options à paramétrer sont les suivantes :

- Si l'utilisateur peut ou non saisir les paramètres de la connexion durant l'installation.

- Si la connexion doit utiliser les options de l'analyse ou les valeurs indiquées dans l'assistant. Dans ce cas, il est nécessaire de spécifier les valeurs de la connexion à utiliser.

- Si les paramètres du serveur installé précédemment doivent être utilisés.




**Remarques** :

- Si l'installation doit créer une nouvelle base de données, l'utilisateur spécifié dans les paramètres de l'installation doit être un "super utilisateur". En effet, même si l'utilisateur a les droits de création de la base de données, il n'aura pas les droits de création de fichiers de données sur cette base.

- Si une connexion est configurée par l'utilisateur lors de l'installation, cette connexion sera stockée dans le fichier "&lt;Nom de l'exécutable&gt;.WX". Ce fichier correspond à un fichier caché, au format texte. L'accès à son contenu est possible grâce à la fonction [INILit](../WDLang1/3013043.md).






<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Installation des fichiers de données
<a name="installation_des_fichiers_donnees_ELTTEXTE000253"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000091"></a>Lors de la création du programme d'installation de l'application, il est également possible de déployer directement les fichiers de données HFSQL Client/Serveur sur le serveur voulu.

Pour paramétrer cette option depuis WDInst, sélectionnez l'option "Paramètres de l'installation .. Fichiers HFSQL" et sélectionnez l'onglet "HFSQL C/S".


<a name="NOTE4_2"></a>


### Paramétrage
<a name="parametrage_ELTPARAGRAPHE000101"></a>Pour chaque fichier de données de l'application, il est possible d'indiquer grâce au bouton "Propriétés" :

- l'emplacement actuel du fichier de données à installer.

- la connexion qui doit être associée à ce fichier de données. 

- si l'index doit être copié ou non. Si l'index n'est pas copié, il sera automatiquement reconstruit lors de l'installation. Cette option permet de limiter la taille du programme d'installation si le fichier d'index est très important.






<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Installation de l'application
<a name="installation_application_ELTTEXTE000283"></a>
Lors de l'installation de l'application chez l'utilisateur final, selon les options sélectionnées, l'assistant propose à l'utilisateur d'installer un serveur HFSQL Client/Serveur sur un poste Windows ou Linux, et permet de configurer la connexion utilisée.  

A la fin de l'installation, un fichier ".wx" est créé à côté de l'exécutable.

La structure de ce fichier est donnée à titre d'information. Cette structure peut être modifiée dans une prochaine version. Il est conseillé de ne pas modifier ce fichier manuellement.

Ce fichier contient les informations suivantes :

```txt
[CONNECT]
NBCX = Nombre de connexions définies
NOM_x = Nom de la connexion numéro x
BASE_x = Type de base de données utilisée (correspond toujours à hAccèsHFClientServeur)
ADRESSE_x = Adresse du serveur utilisé (nom du serveur ou adresse IP)
PORT_x = Port de connexion
DATABASE_x = Nom de la Database utilisée
LOGIN_x = Login de connexion
PWD_x = Mot de passe crypté
ACCES_x = Type d'accès (hOLectureEcriture ou hOLecture)
INFOEXT_x = Informations étendues
```



