


## Groupware utilisateur Mobile (Android et iOS)
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000263"></a>
WINDEV Mobile propose un groupware utilisateur pour les applications Android et iOS. 

Le principe d'utilisation est très simple : 

- Lors du lancement de l'application, un écran de connexion propose à l'utilisateur de s'identifier (avec possibilité de créer un nouveau compte). 

- A la validation de l'écran de connexion, l'application vérifie les informations de connexion en faisant une requête à un Webservice. 

- Si les informations de connexion sont correctes, l'utilisateur peut utiliser l'application avec les droits qui lui ont été accordés. Une base de données locale des droits est copiée sur le périphérique mobile, permettant une prochaine connexion, même en mode déconnecté. 




**Remarque** : Cette page d'aide présente la mise en place de la fonctionnalité "Groupware Utilisateur". Pour la mise en place de la fonctionnalité Store Privé, consultez [Store Privé pour applications mobiles](../Editeurs/1410086652.md).

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Mettre en place le groupware utilisateur sur une application mobile
<a name="mettre_place_groupware_utilisateur_sur_une_application_mobile_ELTTEXTE000287"></a>
Pour mettre en place le groupware utilisateur dans une application mobile : 

1. [Etape 1 : Configurez si nécessaire votre serveur](#NOTE2_2). 

2. [Etape 2 : Activez le groupware utilisateur dans votre projet mobile](#NOTE2_3).

3. [Etape 3 : Paramétrez les utilisateurs et les droits](#NOTE2_4). 

4. [Etape 4 : Testez votre application](#NOTE2_5). 



<a name="NOTE2_2"></a>


### Etape 1 : Configuration du serveur
<a name="etape_1_configuration_serveur_ELTPARAGRAPHE000049"></a>Deux cas peuvent se présenter : 

- **Vous utilisez une plateforme PCSCloud** : les éléments nécessaires sont installés par défaut sur votre plateforme. 
	Rappel : PCSCloud est une solution payante, clé en main. Pour plus de détails, consultez [PCSCloud](https://pcscloud.net/FR/cloud_developpement.awp).

- **Vous n'utilisez pas une plateforme PCSCloud** : installez les éléments suivants : 

	- un serveur HFSQL,

	- le serveur réservé, en demandant l'installation des modules pour le Groupware utilisateur mobile (WDBaaS).


 Pour plus de détails, consultez la page [Configuration d'un serveur BaaS (Groupware utilisateur et Store Privé)](../Editeurs/1000021311.md).



<a name="NOTE2_3"></a>


### Etape 2 : Activez le groupware utilisateur dans une configuration de votre projet mobile
<a name="etape_2_activez_groupware_utilisateur_dans_une_configuration_votre_projet_mobile_ELTPARAGRAPHE000071"></a>Pour activer le groupware utilisateur dans une configuration de votre projet WINDEV Mobile : 

1. Ouvrez votre projet sous WINDEV Mobile. 

2. Sélectionnez si nécessaire la configuration de projet dans laquelle le groupware utilisateur doit être activé. 

3. Sous le volet "Projet", dans le groupe "Projet", cliquez sur "GPU / Store Privé". 

4. Dans la fenêtre de description de la configuration de projet en cours, dans la zone "Groupware Utilisateur : Inactif", cliquez sur le bouton "Modifier". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=GPU_Mobile%20-%20HC%20N%B0001.gif&type=thumb)


5. Dans la fenêtre qui s'affiche, dans l'onglet "Général" : 

	- Activez les services MBaaS : cliquez sur "Actif". 

	- Sélectionnez la fonctionnalité voulue : "GPU : Gestion des droits d'accès pour les utilisateurs". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=GPU_Mobile%20-%20HC%20N%B0002.gif&type=thumb)


	- Dans la zone "Serveur d'application du GPU et du Store Privé (webservice et site d'administration)", indiquez le serveur à utiliser. Dans le cas d'un nouveau serveur, sélectionnez le type de serveur à utiliser : 

	- **Plateforme PCSCloud**. Dans ce cas, indiquez les caractéristiques de votre plateforme [PCSCloud](https://pcscloud.net/FR/cloud_developpement.awp). 
						Rappel : Cette option permet de profiter d'un serveur Web, d'un serveur réservé et d'un moteur HFSQL Client/Serveur déjà installés et configurés. 

	- **Serveur réseau ou Internet** avec le protocole utilisé. Saisissez le nom du serveur, l'utilisateur et le mot de passe. Ces informations vous ont été communiquées lors de l'installation du serveur réservé pour le groupware utilisateur. 

6. Dans l'onglet "GPU", indiquez :  <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=GPU_Mobile%20-%20HC%20N%B0003.gif&type=thumb)


	- Le mode de personnalisation du groupware utilisateur : 

	- **"Fenêtre de login par défaut (conseillée)"** :  WINDEV Mobile se charge de tout. Il suffit de lancer l'application pour utiliser le groupware utilisateur.

	- **"Personnaliser la fenêtre de login"** : Tous les éléments du groupware utilisateur sont intégrés dans votre projet via un composant interne. Il est possible de personnaliser les différents éléments du groupware utilisateur. Cependant, les évolutions du produit ne seront pas intégrées.

7. Dans l'onglet "Options", indiquez : 

	- Les textes utilisés pour les emails envoyés lors de la validation de l'inscription et la gestion des mots de passe oubliés. 
			Remarque : Les paramètres du serveur utilisé pour envoyer des emails doivent être indiqués dans le site de gestion du groupware utilisateur. 

	- La langue des fichiers : Par défaut, les fichiers de données spécifiques au groupware utilisateur sont en français mais il est possible d'utiliser les fichiers de données en langue anglaise. 




8. Validez la fenêtre de gestion du groupware utilisateur. 




**Attention : Lors de la validation de la fenêtre du groupware utilisateur, les actions suivantes sont réalisées :** 

- Ajout du composant interne contenant les fenêtres du groupware utilisateur (cas du groupware utilisateur avec la personnalisation de la fenêtre de login). 

- Déclaration de l'application en cours dans le serveur d'application réservé pour le groupware utilisateur. 

- Activation des sites de gestion des utilisateurs et de leurs droits. 

- Mise à jour du fichier XML contenant la description des fenêtres de l'application sur le serveur. 

- Définition d'un utilisateur par défaut, ayant pour login "superviseur" et pour mot de passe "superviseur". 



<a name="NOTE2_4"></a>


### Etape 3 : Paramétrez les utilisateurs et les droits
<a name="etape_3_parametrez_les_utilisateurs_les_droits_ELTPARAGRAPHE000165"></a>Pour paramétrer les utilisateurs et les droits : 

1. Lancez un site d'administration via un des liens présents dans l'onglet "Général" de la fenêtre de gestion du groupware utilisateur : 

	- soit l'URL correspondant à l'application en exploitation. Les utilisateurs et les mots de passe définis seront utilisés lorsque l'application sera déployée. 

	- soit l'URL correspondant au mode test. Les utilisateurs et les mots de passe définis seront utilisés lors d'un test sur le téléphone (Go de l'application).  




2. Connectez-vous au site d'administration. Utilisez le login "superviseur" associé au mot de passe "superviseur". 

3. Vous pouvez : 

	- définir les différents utilisateurs, leurs droits et leur mode de connexion. 

	- définir les paramètres du serveur SMTP utilisé pour l'envoi des différents emails (validation d'inscription, ...). 







Remarques : 

- Seul un utilisateur ayant l'option "Superviseur" peut accéder au site de gestion des utilisateurs et des droits. 

- Un bandeau spécifique permet de savoir si le site de gestion des utilisateurs et des droits est utilisé en mode test. 

- La liste des différentes fenêtres et les différents champs de l'application sont mis à jour sur le serveur (pour une utilisation dans la gestion des droits) lors des actions suivantes : 

	- Validation de la fenêtre de paramétrage du groupware utilisateur. 

	- Lancement de l'application en mode test. 

	- Génération de l'application. 


 Pour gérer une nouvelle fenêtre dans les droits des utilisateurs, il est donc nécessaire de générer l'application pour voir la fenêtre apparaître dans le site de gestion des droits. 



<a name="NOTE2_5"></a>


### Etape 4 : Testez l'application
<a name="etape_4_testez_application_ELTPARAGRAPHE000193"></a>Pour tester l'application : 

- Lancez le test de votre projet via les boutons d'accès rapide. 

	- Sous Android, le test est réalisé via le simulateur ou sur votre mobile. 

	- Sous iOS, le test est réalisé via le simulateur ou sur votre mobile via WMDEV. 




- Connectez-vous via le login et le mot de passe définis dans le site d'administration de test. L'application utilisera la base des utilisateurs et des droits de test. 




Le déploiement de l'application est réalisé de la même façon que pour toutes les applications Android ou iOS. L'application déployée utilisera la base des utilisateurs et des droits de déploiement. 

Remarque : 

- Lorsque l'application est lancée en test (Go en simulateur, ou émulateur Android, ou WMDev), la base des utilisateurs et des droits de test est automatiquement sélectionnée. 

- Après déploiement d'un APK sur un appareil ou dans un émulateur Android, la base des utilisateurs et des droits de production est automatiquement utilisée.




Pour modifier la base utilisée (base des utilisateurs et des droits de test ou de production) par programmation, utilisez : 

- un lancement manuel du groupware utilisateur. 

- la fonction [gpwOuvre](../WDLang6/3041002.md). 





