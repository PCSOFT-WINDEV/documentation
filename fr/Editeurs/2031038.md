


## Créer les fenêtres Relation d'un pattern RAD WINDEV Mobile
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Les étapes de la création de pattern RAD
<a name="les_etapes_creation_pattern_rad_ELTTEXTE000554"></a>
Les différentes étapes permettant de créer un Pattern RAD WINDEV Mobile sont les suivantes :

1. [Création du projet de type "Pattern RAD"](../Editeurs/2031021.md).

2. Création des différentes fenêtres du pattern.

	- [Fenêtre Fiche](../Editeurs/2031036.md) (avec si nécessaire des options de liaison).

	- [Fenêtre Table](../Editeurs/2031037.md) (avec si nécessaire des options de liaison).

	- **Fenêtre de relation**(avec si nécessaire des options de liaison).

	- [Boutons et fenêtre vision plus](../Editeurs/2031040.md).

	- [Menu principal](../Editeurs/2031041.md).




3. [Génération du Pattern RAD](../Editeurs/2031023.md).

4. [Utilisation du Pattern RAD](../Editeurs/2031024.md).




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Création des différentes fenêtres du pattern
<a name="creation_des_differentes_fenetres_pattern_ELTTEXTE000578"></a>


### Les fichiers à créer
<a name="les_fichiers_creer_ELTPARAGRAPHE000043"></a>Rappel : Pour réaliser un pattern RAD permettant de faire un projet complet, les fichiers suivants sont nécessaires :

- Une fiche pour RADFichierA.

- Une fiche pour RADFichierB. Un bouton Vision plus (ou une combo popup) doit permettre de sélectionner un élément du fichier RADFichierA.

- Une fiche pour RADFichierC. Un bouton Vision plus (ou une combo popup) doit permettre de sélectionner un élément du fichier RADFichierB.

- Une table pour RADFichierA.

- Une table pour RADFichierB.

- Une table pour RADFichierC.

- Une fenêtre de relation RADFichierB/RADFichierD.




Ces différents éléments doivent contenir des boutons de liaison. Il est également possible de fournir le menu général de l'application.
<a name="NOTE2_2"></a>


### Différence Mobile et Smartphone
<a name="difference_mobile_smartphone_ELTPARAGRAPHE000060"></a>Concevoir une application pour Mobile et une application pour Smartphone sont deux choses différentes. En effet, sur un Smartphone, l'écran est plus petit, et un menu déroulant permet de valider ou non les écrans.

Cette différence se retrouve au niveau des patterns RAD. Cette page d'aide présente comment faire une fenêtre fiche pour Mobile et pour Smartphone.
<a name="NOTE2_3"></a>


### Norme à suivre
<a name="norme_suivre_ELTPARAGRAPHE000069"></a>Cette page d'aide présente différentes règles applicables à la conception des pages et des fenêtres du Pattern RAD. Ces règles ont été utilisées pour concevoir les différents Patterns livrés avec WINDEV Mobile 16.

Ces règles sont une recommandation. Vous pouvez évidemment mettre en place et utiliser vos propres normes.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Les fenêtres de relation en Mobile
<a name="les_fenetres_relation_mobile_ELTTEXTE000614"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000080"></a>Les fenêtres de relation permettent d'afficher simultanément des informations provenant de plusieurs fichiers. Dans un exemple simple, ce type de fenêtre permettrait d'afficher les commandes et les lignes de commandes correspondantes. Ce type de fenêtre peut être Fiche + Table.

Une fenêtre Fiche + Table regroupe les éléments des fiches, et les éléments des tables.

Cette fenêtre contient un onglet : cet onglet est composé de deux volets : un volet affichant la fiche sur RADFichierB, un volet affichant la table sur RADFichierD.

La fiche est constituée des éléments suivants :

- Un superchamp : Ce superchamp contient les champs de la fiche à afficher. Ce superchamp est lié au fichier à afficher.

- Une combo et un bouton Vision plus.

- De boutons si nécessaires permettant de réaliser des actions de base.




La table est constituée des éléments suivants :

- Une table : Cette table est une table fichier, avec fichier chargé en mémoire.

- De boutons permettant de réaliser des actions de base : Ajouter, Modifier, Supprimer et si nécessaire Imprimer.

- D'options de liaison permettant d'afficher par exemple les fiches correspondantes.  




Dans le pattern RAD, une seule fenêtre de relation doit être créée : elle relie RADFichierB à RADFichierD.

**Exemple** : Fenêtre de relation dans le pattern RAD Simple : ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Pattern_RAD_WMRelation.gif)

<a name="NOTE3_2"></a>


### Créer une fenêtre de relation pour un pattern Mobile
<a name="creer_une_fenetre_relation_pour_pattern_mobile_ELTPARAGRAPHE000108"></a>Pour créer une fenêtre de relation pour un pattern Mobile : 

1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_nouveau.gif)
 parmi les boutons d'accès rapide. 

	- La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Fenêtre" puis sur "Fenêtre". L'assistant de création d'une fenêtre se lance.

	- Sélectionnez l'option "Assistant". 

	- Spécifiez que la fenêtre maximisée doit avoir des onglets.




2. Dans la fenêtre de description, saisissez les informations suivantes :

	- Le nom de la fenêtre. Ce nom doit obligatoirement contenir le nom du fichier affiché dans la fiche (quelques exemples : FEN_Relation_RADFichierD, FEN_Rel_RADFichierD, ...).

	- Le titre de la fenêtre. Si le titre doit afficher le nom du fichier, utilisez le nom du fichier "RADFichierXX" (par exemple "RADFichierD : Relation").




3. Enregistrez la fenêtre.

4. L'onglet présent dans la fenêtre doit afficher les deux éléments suivants :

	- une partie Fiche : dans cette partie seront affichée les caractéristiques de la fiche sur le fichier RADFichierB.

	- une partie Table : dans cette partie seront affichées les caractéristiques de la table sur le fichier RADFichierD. Des boutons permettent également de gérer les enregistrements présents dans la table.




5. Affichez les caractéristiques de l'onglet :

	- Cet onglet a pour nom "RADOnglet".

	- Cet onglet a deux volets, un volet ayant par exemple pour libellé "Fiche RADFichierB" et un volet ayant par exemple pour libellé "Table RADFichierD".







**Création de la partie Fiche** :

1. Créez un superchamp dans l'onglet contenant la fiche : sous le volet "Création", dans le groupe "Conteneurs", cliquez sur "Superchamp". 
	Ce superchamp va afficher les champs de la fiche. Positionnez ce champ dans la fenêtre et définissez sa taille. Si tous les champs ne peuvent pas entrer dans la taille définie, des ascenseurs apparaîtront automatiquement.

2. Dans la fenêtre de description du superchamp, indiquez le nom du superchamp. Ce nom doit être obligatoirement SC_RADFichierB (SC_ est le préfixe de la charte de programmation : il n'est pas nécessaire si vous n'utilisez pas de charte de programmation).

3. Dans l'onglet "Contenu" de la fenêtre de description du superchamp, spécifiez :

	- le fichier parcouru : RADFichierB.

	- la rubrique parcourue : IDRADFichierB.







**Création de la partie Table** : 

1. Créez un champ Table dans l'onglet contenant la table : sous le volet "Création", dans le champ "Données", déroulez "Table et Liste" et sélectionnez "Table (Verticale)".

2. Dans l'assistant de création de table, indiquez les caractéristiques suivantes :

	- Sélectionnez l'option "Afficher les données d'un fichier ou d'une requête existante".

	- Sélectionnez le fichier de base de la table : RADFichierD.

	- Conservez les rubriques proposées. La clé de parcours est IDRADFichierBRel.

	- Indiquez la source pour le remplissage : "Fichier chargé en mémoire".

	- Validez le nom de la table.




3. Positionnez le champ Table dans la fenêtre et définissez sa taille. Si nécessaire les colonnes correspondant aux identifiants peuvent être invisibles.

4. Créez et positionnez les différents boutons permettant de gérer les enregistrements affichés dans la table. Ces boutons peuvent avoir n'importe quel nom. 
	Il est conseillé de mettre :

	- un bouton de validation (sur la partie fiche par exemple),

	- un bouton de suppression (dans la partie table par exemple),

	- un bouton d'insertion (dans la partie table par exemple),

	- une option de menu permettant d'accéder à la fiche du fichier RADFichierC.
			Attention : si vous autorisez l'utilisateur à appliquer un gabarit aux fenêtres créées par le RAD, il est nécessaire de définir le type de bouton qui doit être utilisé par le gabarit. Cette information peut être définie dans le modifieur (Catégorie "Gabarit").




5. Cas du ***bouton de validation*** (bouton Valider par exemple).
	Ce bouton permet de valider et de fermer la fenêtre. Pour simplifier, il est possible d'utiliser une action prédéfinie. Il est conseillé d'utiliser l'action "Fermeture de la fenêtre et renvoyer une valeur", avec l'option "Valeur renvoyée : la valeur spécifiée dans le code par ..ValeurRenvoyée".
	Le code de ce bouton est par exemple :
	
	```wl
	// Vérification des champs
	SI TABLE_RADFichierD..Occurrence = 0 ALORS
		Erreur("Vous devez saisir des RADFichierD")
		RETOUR
	FIN
	// Mise à jour du contexte HFSQL
	EcranVersFichier()
	// Ajout ou modification de RADFichierB
	SI RADFichierB..NouvelEnregistrement = Vrai ALORS
		HAjoute(RADFichierB, hIgnoreIntégrité)
	SINON
		HModifie(RADFichierB)
	FIN
	// On a ajouté le RADFichierB
	// Maintenant on va ajouter les RADFichierD correspondants
	POUR TOUTE LIGNE DE TABLE_RADFichierD
	 // On affecte l'identifiant de RADFichierB 
	 // dans les colonnes de la table des RADFichierD 
		TABLE_RADFichierD.COL_IDRADFichierBRel = RADFichierB.IDRADFichierB 
		// Enregistrement de la table
		TableEnregistre(TABLE_RADFichierD) 
	FIN
	// Valeur de retour
	MaFenêtre..ValeurRenvoyée = Vrai
	```


6. Cas du ***bouton de suppression*** (bouton Supprimer par exemple).
	Ce bouton peut par exemple supprimer un enregistrement sélectionné dans la table. 
	Le code du bouton Supprimer peut être par exemple :
	
	```wl
	// Suppression de l'enregistrement courant 
	TableSupprime(TABLE_RADFichierD)
	```

	Dans le code du bouton de suppression, il est conseillé d'activer le gestion automatique des erreurs (Option "Si Erreur : ", avec le traitement automatique "Afficher l'erreur et retourner en saisie").

7. Cas du ***bouton d'insertion*** (bouton Insérer par exemple).
	Ce bouton permet par exemple d'insérer une ligne au dessus de la ligne en cours. Le code du bouton Insérer peut être par exemple :
	
	```wl
	// Insertion d'une ligne 
	TableInsèreLigne(TABLE_RADFichierD, -1)
	```

	Dans le code du bouton d'insertion, il est conseillé d'activer le gestion automatique des erreurs (Option "Si Erreur : ", avec le traitement automatique "Afficher l'erreur et retourner en saisie").

8. Cas de l'option de menu "Fiche RADFichierC".
	Ajoutez si nécessaire un menu dans votre fenêtre : sous le volet "Fenêtre", dans le groupe "Barres et menus", déroulez "Menu principal" et sélectionnez "Ajouter le menu principal".
	Ce menu doit avoir pour nom "MENUPRINCIPAL_OPTIONS" et pour libellé "Options".
	Dans ce menu, ajoutez une option permettant d'afficher la fiche sur RADFichierC. Cette option a pour nom "MENULIA_RadFichierC" et pour libellé "Fiche RADFichierC".
	Cette option permet de visualiser dans une fiche un enregistrement sélectionné dans la table. Le code de cette option peut être par exemple :
	
	```wl
	// Recherche du RADFichierC pour le RADFichierD courant
	HLitRecherchePremier(RADFichierC, IDRADFichierC, RADFichierD.IDRADFichierCRel)
	// Si le RADFichierC n'existe pas
	SI HTrouve(RADFichierC) = Faux ALORS
		// Message indiquant qu'il n'y a pas d'enregistrement RADFichierC
		// lié à l'enregistrement RADFichierD courant
		Info("Pas d'enregistrement RADFichierC lié à l'enregistrement courant.")
		RETOUR
	FIN
	// Ouverture de la fenêtre fiche du RADFichierC
	Ouvre(FEN_Fiche_RADFichierC)
	```


9. Code d'initialisation de la fenêtre :
	
	```wl
	// Affichage des enregistrements
	FichierVersEcran()
	// Filtre pour la table des FichierD
	HFiltre(RADFichierD, IDRADFichierBRel, RADFichierB.IDRADFichierB)
	```


10. Code de fermeture de la fenêtre. Ce code permet de désactiver le filtre : 
	
	```wl
	// Désactive le filtre
	HDésactiveFiltre(RADFichierD)
	```





<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Les fenêtres de relation en Smartphone
<a name="les_fenetres_relation_smartphone_ELTTEXTE000646"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000251"></a>Les fenêtres de relation permettent d'afficher simultanément des informations provenant de plusieurs fichiers. Dans un exemple simple, ce type de fenêtre permettrait d'afficher les commandes et les lignes de commandes correspondantes. Ce type de fenêtre peut être Fiche + Table.

Une fenêtre Fiche + Table regroupe les éléments des fiches et les éléments des tables.

Cette fenêtre contient un onglet : cet onglet est composé de deux volets : un volet affichant la fiche sur RADFichierB, un volet affichant la table sur RADFichierD.

La fiche est constituée d'un superchamp : Ce superchamp contient les champs de la fiche à afficher. Ce superchamp est lié au fichier à afficher.

La table est une table fichier, avec fichier à accès direct.

La fenêtre contient également un menu permettant de gérer la table, de gérer la fiche, et d'accéder à la fiche RADFichierC.

Dans le pattern RAD, une seule fenêtre de relation doit être créée : elle relie RADFichierB à RADFichierD. Il est également nécessaire de faire une fenêtre fiche permettant de visualiser les enregistrements du fichier RADFichierD sous forme de fiche.

**Exemple** : Fenêtre de relation dans le pattern RAD Simple : ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Pattern_RAD_WMRelation.gif)

<a name="NOTE4_2"></a>


### Créer une fenêtre de relation pour un pattern Smartphone
<a name="creer_une_fenetre_relation_pour_pattern_smartphone_ELTPARAGRAPHE000273"></a>Pour créer une fenêtre de relation pour un pattern Smartphone : 

1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_nouveau.gif)
 parmi les boutons d'accès rapide. 

	- La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Fenêtre" puis sur "Fenêtre". L'assistant de création d'une fenêtre se lance.

	- Sélectionnez l'option "Assistant". Conservez les options par défaut.




2. Dans la fenêtre de description, saisissez les informations suivantes :

	- Le nom de la fenêtre. Ce nom doit obligatoirement contenir le nom du fichier affiché dans la fiche (quelques exemples : FEN_Relation_RADFichierD, FEN_Rel_RADFichierD, ...).

	- Le titre de la fenêtre. Si le titre doit afficher le nom du fichier, utilisez le nom du fichier "RADFichierXX" (par exemple "RADFichierD : Relation").




3. Enregistrez la fenêtre.

4. Créez un champ Onglet : sous le volet "Création", dans le groupe "Conteneurs", déroulez "Onglet et associés" et cliquez sur "Onglet".

5. Cet onglet doit afficher les deux éléments suivants :

	- une partie Fiche : dans cette partie seront affichée les caractéristiques de la fiche sur le fichier RADFichierB.

	- une partie Table : dans cette partie seront affichées les caractéristiques de la table sur le fichier RADFichierD. Des boutons permettent également de gérer les enregistrements présents dans la table.




6. Affichez les caractéristiques de l'onglet :

	- Cet onglet a pour nom "RADOnglet".

	- Cet onglet a deux volets, un volet ayant par exemple pour libellé "RADFichierB" et un volet ayant par exemple pour libellé "RADFichierD".







**Création de la partie Fiche**

1. Créez un superchamp dans l'onglet contenant la fiche : sous le volet "Création", dans le groupe "Conteneurs", cliquez sur "Superchamp".
	Ce superchamp va afficher les champs de la fiche. Positionnez ce champ dans la fenêtre et définissez sa taille. Si tous les champs ne peuvent pas entrer dans la taille définie, des ascenseurs apparaîtront automatiquement.

2. Dans la fenêtre de description du superchamp, indiquez le nom du superchamp. Ce nom doit être obligatoirement SC_RADFichierB (SC_ est le préfixe de la charte de programmation : il n'est pas nécessaire si vous n'utilisez pas de charte de programmation).

3. Affichez dans le modifieur les caractéristiques du superchamp. Dans la catégorie "Analyse", spécifiez :

	- le fichier parcouru : RADFichierB.

	- la rubrique parcourue : IDRADFichierB.







**Création de la partie Table**

1. Créez un champ Table dans l'onglet contenant la table : sous le volet "Création", dans le groupe "Données", déroulez "Table et Liste" et sélectionnez "Table (Verticale)".

2. Dans l'assistant de création de table, indiquez les caractéristiques suivantes :

	- Sélectionnez l'option "Afficher les données d'un fichier ou d'une requête existante".

	- Sélectionnez le fichier de base de la table : RADFichierD.

	- Conservez les rubriques proposées. La clé de parcours est IDRADFichierBRel.

	- Indiquez la source pour le remplissage : "Fichier avec accès direct".

	- Validez le nom de la table.




3. Positionnez le champ Table dans la fenêtre et définissez sa taille. Si nécessaire les colonnes correspondant aux identifiants peuvent être invisibles.




**Création des menus et options de menu**

1. Modifiez le menu présent dans la fenêtre :

	- des options de menu doivent permettre d'ajouter, modifier ou supprimer une ligne.

	- une option de menu doivent permettre d'accéder au fichier RADFichierC.

	- une option de menu doit permettre de supprimer l'enregistrement courant de la table.

	- une option de menu doit permettre de fermer la fenêtre. ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Pattern_RAD_WMRelation_Smar.gif)





2. Cas des options "Nouvelle ligne", "Modifier ligne" et "Supprimer ligne".
	L'option "Nouvelle ligne" permet de saisir un nouvel enregistrement pour le fichier RADFichierD. Le code de "Nouvelle ligne" est par exemple :
	
	```wl
	// Création d'un nouvel enregistrement
	HRAZ(RADFichierD)
	// Ouverture de la fiche du fichier RADFichierD en mode création
	Ouvre(FEN_Fiche_RADFichierD)
	// Rafraîchissement de la table
	TableAffiche(TABLE_RADFichierD, taCourantPremier)
	```

	L'option "Modifier ligne" permet de modifier la ligne sélectionnée :
	
	```wl
	// Une ligne est-elle sélectionné ?
	SI TableSelect(TABLE_RADFichierD) = -1 ALORS RETOUR
	// Ouverture de la fiche du fichier RADFichierD en mode modification
	Ouvre(FEN_Fiche_RADFichierD)
	// Rafraîchissement de la table
	TableAffiche(TABLE_RADFichierD, taCourantBandeau)
	```

	L'option "Supprimer ligne" permet de supprimer la ligne en cours :
	
	```wl
	// Demande confirmation de suppression
	SELON OuiNon("Supprimer l'enregistrement ?")
		CAS Oui
			// Suppression de l'enregistrement RADFichierD à partir de la table
			TableSupprime(TABLE_RADFichierD)
			// Positionnement sur l'enregistrement courant
			TableAffiche(TABLE_RADFichierD, taCourantPremier)
		CAS Non
			// Ne rien faire 
	FIN
	```


3. Cas de l'option permettant d'accéder à RADFichierC
	Cette option est une option de liaison. Le code associé à cette option est le suivant :
	
	```wl
	// Recherche du RADFichierC pour le RADFichierD courant
	HLitRecherchePremier(RADFichierC, IDRADFichierC, RADFichierD.IDRADFichierCRel)
	
	// Si le RADFichierC n'existe pas
	SI HTrouve(RADFichierC) = Faux ALORS 
		// Message indiquant qu'il n'y a pas d'enregistrement RADFichierC 
		// lié à l'enregistrement RADFichierD courant
		Info("Pas d'enregistrement RADFichierC lié à l'enregistrement courant.") 
		RETOUR 
	FIN
	// Ouverture de la fenêtre fiche du RADFichierC
	Ouvre(FEN_Fiche_RADFichierC)
	```


4. Code de l'option de menu de fermeture :
	
	```wl
	// Fermeture de la fenêtre
	Ferme()
	```


5. Code d'initialisation de la fenêtre :
	
	```wl
	// Affichage des enregistrements
	FichierVersEcran()
	// Valeur de retour par défaut
	MaFenêtre..ValeurRenvoyée = Faux
	```




<a name="NOTE4_3"></a>


### Création de la fenêtre fiche sur RADFichierD
<a name="creation_fenetre_fiche_sur_radfichierd_ELTPARAGRAPHE000394"></a>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=pattern_RAD_WMFichierD.gif)


1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_nouveau.gif)
 parmi les boutons d'accès rapide. 

	- La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Fenêtre" puis sur "Fenêtre". L'assistant de création d'une fenêtre se lance.

	- Sélectionnez l'option "Assistant". 

	- Conservez les options par défaut.




2. Dans la fenêtre de description, saisissez les informations suivantes :

	- Le nom de la fenêtre. Ce nom doit obligatoirement contenir le nom du fichier affiché dans la fiche (quelques exemples : FEN_Fiche_RADFichierD, FEN_Fic_RADFichierD, ...).

	- Le titre de la fenêtre. Si le titre doit afficher le nom du fichier, utilisez le nom du fichier "RADFichierXX" (par exemple "RADFichierD : Fiche").




3. Enregistrez la fenêtre.

4. Créez un superchamp dans la fenêtre : sous le volet "Création", dans le groupe "Conteneurs", cliquez sur "Superchamp".
	Ce superchamp va afficher les champs de la fiche. Positionnez ce champ dans la fenêtre, et définissez sa taille. Si tous les champs ne peuvent pas entrer dans la taille définie, des ascenseurs apparaîtront automatiquement. 

5. Dans la fenêtre de description du superchamp, indiquez le nom du superchamp. Ce nom doit être obligatoirement SC_Fiche (SC_ est le préfixe de la charte de programmation : il n'est pas nécessaire si vous n'utilisez pas de charte de programmation).

6. Affichez dans le modifieur les caractéristiques du superchamp. Dans la catégorie "Analyse", spécifiez :

	- le fichier parcouru : RADFichierD.

	- la rubrique parcourue : IDRADFichierD.




7. Modifiez le menu présent dans la fenêtre :

	- une option de menu doit permettre de valider la fenêtre.  
			
		```wl
		// Lecture des informations saisies
		EcranVersFichier()
		// S'il s'agit d'un nouvel enregistrement
		SI RADFichierD..NouvelEnregistrement = Vrai ALORS
			// On l'ajoute
			HAjoute(RADFichierD)
		SINON
			// On le modifie
			HModifie(RADFichierD)
		FIN
		// Valeur de retour de la fenêtre
		MaFenêtre..ValeurRenvoyée = Vrai
		// Fermeture de la fenêtre
		Ferme()
		```


	- une option de menu doit permettre de fermer la fenêtre.
			
		```wl
		// Valeur de retour de la fenêtre
		MaFenêtre..ValeurRenvoyée = Faux
		// Fermeture de la fenêtre
		Ferme()
		```





8. Création de combos et d'un bouton Vision pour la saisie des enregistrements liés :

	- Combo sur le fichier RADFichierB

	- Bouton vision sur RADFichierB

	- Combo sur le fichier RADFichierC







**8.1.** Combo sur RADFichierB
Sous le volet "Création", dans le groupe "Champs usuels", cliquez sur "Combo".
Dans l'assistant de création de la combo, sélectionnez les options suivantes :

- "Je veux saisir directement une liste de valeurs ou remplir la combo par programmation".

- la combo est liée à la clé de la relation  IDRADFichierBRel

- le champ déroulé est une liste.

- le nom du champ est "COMBO_IDRADFichierB" (COMBO_ est le préfixe de la charte de programmation : il n'est pas nécessaire si vous n'utilisez pas de charte de programmation).




**8.2.** Bouton Vision sur RADFichierB
Sous le volet "Création", dans le groupe "Champs usuels", cliquez sur "Bouton". Dans la fenêtre de description du champ, indiquez le nom du bouton. Ce champ a pour nom "BTN_VISION_RADFichierB" (BTN_ est le préfixe de la charte de programmation : il n'est pas nécessaire si vous n'utilisez pas de charte de programmation).

Le code de clic du bouton est par exemple le suivant :

```wl
// Ouverture de la fenêtre vision d'un RADFichierB
SI Ouvre(FEN_Vision_RADFichierB) = Vrai ALORS
	// Rafraîchit le contenu de la combo IDRADFichierB
	ListeAffiche(COMBO_IDRADFichierB, taCourantPremier)
FIN
```
**8.3.** Combo sur RADFichierC
Sous le volet "Création", dans le groupe "Champs usuels", cliquez sur "Combo".
Dans l'assistant de création de la combo, sélectionnez les options suivantes :

- "Je veux saisir directement une liste de valeurs ou remplir la combo par programmation". 

- la combo est liée à la clé de la relation  IDRADFichierCRel

- le champ déroulé est une liste.

- le nom du champ est "COMBO_IDRADFichierC" (COMBO_ est le préfixe de la charte de programmation : il n'est pas nécessaire si vous n'utilisez pas de charte de programmation).




**9.** Code d'initialisation de la fenêtre :

```wl
// Affichage des enregistrements
FichierVersEcran()
// Affichage de l'information liée
SC_Fiche.COMBO_IDRADFichierC = RADFichierC.IDRADFichierC
SC_Fiche.COMBO_IDRADFichierC..Etat = Grisé
// Valeur de retour par défaut
MaFenêtre..ValeurRenvoyée = Faux
```



