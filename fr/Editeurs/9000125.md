
## Fichier WX
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000386"></a>
Le fichier &lt;Nom de l'exécutable&gt;.WX permet de gérer certaines fonctionnalités directement, même si ces fonctionnalités n'ont pas été prévues dans l'application. Ce fichier est présent à côté de l'exécutable. 

Ce fichier est un fichier texte contenant différentes sections correspondant aux fonctionnalités voulues. 

Il est ainsi possible de gérer : 

- [la désactivation du JIT](#NOTE2).

- [la gestion des tests automatiques utilisateur](#NOTE3).

- [l'audit dynamique](#NOTE4).

- [le log d'exécution](#NOTE5).

- [les connexions utilisées par l'application](#NOTE6).






<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Désactiver la technologie JITc
<a name="desactiver_technologie_jitc_ELTTEXTE000410"></a>
Le principe de la technologie JITc (Just In Time Compilation) est très simple : le code L5G de WINDEV est transformé sur la machine d'exécution en "code assembleur natif" lors de son exécution. Pour plus de détails, consultez [Technologie JITc](../Editeurs/2020009.md). 

En cas de suspicion de problèmes liés à la technologie JIT, il est possible de désactiver cette technologie pour une application spécifique, en modifiant (ou en ajoutant) le fichier &lt;Nom exécutable&gt;.WX. Ce fichier est situé à côté de l'exécutable. Pour désactiver la technologie JITc, il suffit d'ajouter les lignes : 


```txt
[WD_EXECUTION]
OPTIM_EXECUTION=0
```




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Gestion des tests automatiques utilisateur
<a name="gestion_des_tests_automatiques_utilisateur_ELTTEXTE000434"></a>
WINDEV permet à l'utilisateur d'enregistrer un scénario de test pour le transmettre au service qualité ou au développeur. L'utilisateur peut ainsi transmettre simplement un protocole de reproduction difficilement explicable.

Le développeur pourra importer directement le ou les tests dans son projet. Ces tests pourront être lancés par exemple pour reproduire le problème de l'utilisateur, et être ainsi ajoutés aux tests automatiques disponibles sur l'application.

Pour plus de détails, consultez [Test automatique créé par l'utilisateur](../Editeurs/2019031.md). 

La création d'un scénario de test peut être réalisée sans modifier l'application, grâce au fichier &lt;Nom exécutable&gt;.WX. Ce fichier doit contenir les lignes suivantes : 


```txt
[Scenario]
Actif = <0/1>
Fichier = <Nom du fichier WSCT>
CheminDLL = <Chemin DLL de test>
```


**Détaillons ces lignes :**

- Actif : Ce paramètre doit correspondre à 0 pour ne pas enregistrer, et 1 pour enregistrer le scénario

- Fichier : Nom du fichier scénario (fichier d'extension "wsct"). Ce nom peut être construit avec les éléments suivants :
	


|   |   |
| --- | --- |
| [%RepExe%] | Répertoire de l'exécutable, toujours complété par le caractère "\\". Ce répertoire est équivalent au résultat de la fonction [fRepExe](../WDLang1/3036049.md). |
| [%NomExe%] | Nom de l'exécutable. |
| [%Date%] | Date de lancement du fichier scénario. |
| [%Heure%] | Heure de lancement du fichier scénario. |
| [%NomUtilisateur%] | Nom de l'utilisateur courant. |
| [%NomMachine%] | Nom de la machine. |
| [%RepDonnees%] | Répertoire des fichiers de données HFSQL spécifié par l'utilisateur lors de l'installation de l'application. Ce répertoire est équivalent au résultat de la fonction [fRepDonnées](../WDLang1/3036001.md). |
| [%RepDonneesUtilisateur%] | Répertoire pour les données de l'utilisateur courant de l'application courante.  Ce répertoire est équivalent au résultat de la fonction [fRepDonnéesUtilisateur](../WDLang1/3036071.md). |



- CheminDLL : chemin permettant d'accéder à la librairie wd280test.dll. Cette DLL est nécessaire à la création du scénario. 








<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Activer l'audit dynamique
<a name="activer_audit_dynamique_ELTTEXTE000458"></a>
L'audit dynamique d'une application permet d'analyser ses performances lors de l'exécution. Un audit dynamique peut être effectué dans un environnement de test ou sur une application en production. L'audit permettra de déceler des problèmes tels que :

- Consommation excessive de mémoire

- Lenteurs des algorithmes utilisés

- Erreurs "masquées" lors de l'exécution




Pour plus de détails, consultez [Audit dynamique](../Editeurs/1014502.md). 

Il est possible d'auditer une application dans son environnement de production sans modifier l'exécutable : il suffit de créer dans le même répertoire que l'exécutable un fichier portant le même nom que l'exécutable et d'extension ".WX".

Ce fichier aura la forme suivante :


```txt
[AUDIT]
ACTIF = 1  (ou 0 pour désactiver l'audit)
FICHIER = <chemin du fichier .wdaudit à générer>
OPTION = <combinaison des options de la fonction dbgActiveAudit>
```




<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Activer le log d'exécution
<a name="activer_log_execution_ELTTEXTE000482"></a>
Le log d'exécution est une trace d'exécution. Ce log est un simple fichier (extension wlog) qui contient le détail de toutes les manipulations effectuées par un utilisateur sur une application WINDEV :

- détail des traitements appelés,

- fonctions du WLangage avec leurs paramètres,

- procédures utilisateur avec leurs paramètres,

- threads,

- composants.




Ce fichier permet par exemple de :

- connaître les manipulations les plus utilisées dans l'application.

- connaître les traitements prenant le plus de temps.

- suivre le code exécuté lors d'un traitement posant problème (difficile à isoler en mode test).




Pour plus de détails, consultez [Log d'exécution](../Editeurs/2019030.md). 

L'activation du log d'exécution peut être réalisée sans modifier l'application grâce à un fichier spécifique. Il suffit de créer un fichier &lt;Nom Exécutable&gt;.WX à côté de l'exécutable de l'application. Ce fichier doit contenir les lignes suivantes :

```txt
[LOG]
Actif=<0/1>
Fichier=<Nom du fichier WXLOG>
Option=<Valeur des options>
```


Détaillons ces lignes :

- **Actif** : Ce paramètre doit correspondre à 0 pour désactiver le log et 1 pour l'activer.

- **Fichier** : Nom du fichier de log (fichier d'extension "wlog"). Ce nom peut être construit avec les éléments suivants :
	


|   |   |
| --- | --- |
| [%RepExe%] | Répertoire de l'exécutable, toujours complété par le caractère "\\". Ce répertoire est équivalent au résultat de la fonction [fRepExe](../WDLang1/3036049.md). |
| [%NomExe%] | Nom de l'exécutable. |
| [%Date%] | Date de lancement du fichier Log. |
| [%Heure%] | Heure de lancement du fichier Log. |
| [%NomUtilisateur%] | Nom de l'utilisateur courant. |
| [%NomMachine%] | Nom de la machine. |
| [%RepDonnees%] | Répertoire des fichiers de données HFSQL spécifié par l'utilisateur lors de l'installation de l'application. Ce répertoire est équivalent au résultat de la fonction [fRepDonnées](../WDLang1/3036001.md). |
| [%RepDonneesUtilisateur%] | Répertoire pour les données de l'utilisateur courant de l'application courante.  Ce répertoire est équivalent au résultat de la fonction [fRepDonnéesUtilisateur](../WDLang1/3036071.md). |



- **Option** : Options du fichier de log.

	- Si les options ne sont pas spécifiées dans le fichier WX (la ligne OPTION n'est pas présente), le fichier de log est créé avec les options par défaut : seules les fonctions WLangage sont présentes dans le fichier de log.

	- "" (chaîne vide) : Seuls les traitements sont mémorisés dans le log.

	- "\*" : le log contient toutes les informations.

	- une combinaison de valeurs :
			- "+F" pour activer la trace des fonctions,
			- "+P" pour activer la trace des paramètres.







<a name="NOTE6"></a>
<a name="NOTE6_1"></a>


## Connexions utilisées par l'application
<a name="connexions_utilisees_par_application_ELTTEXTE000506"></a>
Lors de l'installation de l'application chez l'utilisateur final, selon les options sélectionnées, l'assistant propose à l'utilisateur d'installer un serveur HFSQL Client/Serveur sur un poste Windows ou Linux, et permet de configurer la connexion utilisée.

A la fin de l'installation, un fichier ".wx" est créé à côté de l'exécutable.

La structure de ce fichier est donnée à titre d'information. Cette structure peut être modifiée dans une prochaine version. Il est conseillé de ne pas modifier ce fichier manuellement.

Ce fichier contient les informations suivantes :


```txt
[CONNECT]
NBCX = Nombre de connexions définies
NOM_x = Nom de la connexion numéro x
BASE_x = Type de base de données utilisée (correspond toujours à hAccèsHFClientServeur)
ADRESSE_x = Adresse du serveur utilisé (nom du serveur ou adresse IP)
PORT_x = Port de connexion
DATABASE_x = Nom de la Database utilisée
LOGIN_x = Login de connexion
PWD_x = Mot de passe crypté
ACCES_x = Type d'accès (hOLectureEcriture ou hOLecture)
INFOEXT_x = Informations étendues
```




<a name="NOTE7"></a>
<a name="NOTE7_1"></a>


## Désactiver la télémétrie sur une application
<a name="desactiver_telemetrie_sur_une_application_ELTTEXTE000536"></a>
La télémétrie permet de collecter des informations sur l'utilisation d'une application par les utilisateurs finaux. Pour plus de détails, consultez [Télémétrie : Présentation](../WDLang1/1410086580.md). 

Il est possible de désactiver la télémétrie dans une application : 

- soit en utilisant la fonction [TélémétrieDésactive](../WDLang1/1000021912.md). 

- soit en réinstallant l'application en décochant l'option "Participer à l'amélioration ...". 

- soit via le fichier &lt;Nom exécutable&gt;.WX. Ce fichier doit contenir les lignes suivantes : 
	
	```txt
	[WDANALYTICS]
	COLLECTE=0
	```

	Remarque : Cette entrée n'est pas du tout présente dans le fichier &lt;Nom exécutable&gt;.WX si la télémétrie est active. 









