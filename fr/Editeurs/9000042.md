


## Installation des outils de développement Android
			





## Présentation
<a name="presentation_ELTTEXTE000384"></a>
Par défaut, lors de la première génération d'une application Android, **l'assistant de génération propose de télécharger et d'installer automatiquement tous les éléments nécessaires** : 

- Open JDK (sur un nouveau poste utilisant la génération Android). 

- Le SDK Android de Google,

- Gradle.


Ces outils sont ainsi toujours disponibles dans la version adaptée à la version de WINDEV Mobile en cours d'utilisation. 
Attention : le premier téléchargement peut être relativement long. 

Remarque : Il est possible de configurer le Proxy à utiliser pour le téléchargement automatique : 

- dans l'assistant de génération de l'application Android. 

- dans les options de WINDEV Mobile (onglet "Proxy"). 




Ces éléments peuvent également être installés manuellement. Ce type d'installation n'est pas recommandé car les versions des différents outils peuvent être déphasées avec la version attendue par WINDEV Mobile. 



## Installation manuelle (déconseillée) : les éléments nécessaires
<a name="installation_manuelle_deconseillee_les_elements_necessaires_ELTTEXTE000408"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000027"></a>Pour développer des applications Android avec WINDEV Mobile, il est nécessaire d'installer :

- [Le JDK](#NOTE2_1) : Le JDK (Java Development Kit) distribué par Oracle est utilisé pour compiler les fichiers Java générés.

- [Le SDK Android de Google](#NOTE1_3) : Le SDK Android (Software Development Kit ou Kit de développement logiciel) est un ensemble de fichiers et d'applications distribué par Google afin de permettre la compilation d'applications pour le système d'exploitation Android.

- [Gradle](#NOTE3_1) : Cet outil est nécessaire à la compilation et à la génération des applications Android. 

- Sur certains appareils, il est nécessaire d'installer des fichiers complémentaires pour que le périphérique soit correctement détecté par le SDK et WINDEV Mobile.


Lors de la création d'un projet ou d'une configuration de projet pour Android, il est nécessaire de spécifier le chemin du SDK Android.
<a name="NOTE1_3"></a>


### SDK Android
<a name="sdk_android_ELTPARAGRAPHE000049"></a>**Où trouver le SDK Android ?**
Le SDK Android est disponible en téléchargement sur le site de Google consacré au développement pour Android ([http://developer.android.com](http://developer.android.com)).
Pour développer des applications Android avec WINDEV Mobile, seul le "Stand-alone SDK" est nécessaire. 

La version pour Windows du SDK "Stand-alone" se trouve à l'adresse suivante : [http://developer.android.com/sdk/installing/index.html?pkg=tools](http://developer.android.com/sdk/installing/index.html?pkg=tools).

- Cliquez sur "Download the SDK Now". 

- Téléchargez le SDK pour Windows. 


**Important** : Ces adresses sont valides à l'heure de l'écriture de cette documentation.

**Comment installer le SDK Android ?**
La procédure à suivre est la suivante : 

1. Décompressez le fichier téléchargé dans un dossier à la racine du lecteur "C:" pour éviter une virtualisation de Windows. Par exemple : "C:\\Android\\". 

2. Ouvrez le dossier avec l'explorateur de Windows. 

3. Lancez le programme "SDK Manager.exe". Ce programme va permettre l'installation des différentes versions existantes du SDK Android ainsi que leurs mises à jour.




**Note** : Il peut être nécessaire d'ajouter le chemin du sous-répertoire "Tools" dans le PATH de votre poste. Pour cela : 

- Affichez les propriétés du poste de travail. 

- Dans l'onglet "Avancé", cliquez sur le bouton "Variables d'environnement". 

- Sélectionnez l'option "PATH" dans les variables système et cliquez sur "Modifier". 

- Ajoutez le chemin complet du répertoire "Tools". 




**Remarque** : Le programme "SDK Manager.exe" peut afficher le message d'erreur suivant : 
"Failed to fetch URL https://dl-ssl.google.com/android/repository/repository.xml, reason: HTTPS SSL error. You might want to force download through HTTP in the settings.". 
Ce message indique que le gestionnaire de SDK Android n'a pas réussi à établir une connexion HTTPS pour télécharger les composants du SDK. Pour résoudre ce problème, il faut :

- Cliquer sur "Settings" dans la liste à gauche de la fenêtre. 

- Cocher la case "Force https://... source to be fetched using http://". 

- Cliquer "Save & Apply". 




Remarque : Si vous n'avez pas choisi l'option de mise à jour automatique de Gradle et du SDK Android, ce chemin devra être indiqué dans [l'assistant de génération de l'application Android](../Editeurs/9000109.md). 


### Version du SDK Android nécessaire pour WINDEV Mobile
<a name="version_sdk_android_necessaire_pour_windev_mobile_ELTPARAGRAPHE000101"></a>WINDEV Mobile a besoin au minimum de la version 4.0 du SDK Android. Cette version permet le développement d'applications pour Android 4.0 et supérieur.
Si une version plus récente est installée, WINDEV Mobile utilisera cette version. Les applications générées resteront compatibles avec la version 4.0 de Android.

**Remarque** : Pour profiter de la détection de la plateforme Android depuis WINDEV Mobile, il est également conseillé d'installer le package "USB Driver". 

**Attention : Si vous n'utilisez pas le téléchargement automatique du SDK Android**, pour générer les applications Android avec WINDEV Mobile, il est nécessaire : 

- de mettre à jour Android SDK Tools. 

- d'installer les deux extras suivants : "Android Support Repository" et "Google Repository". 




Pour générer des applications avec WINDEV Mobile, les éléments suivants sont nécessaires : 


|   |   |   |   |
| --- | --- | --- | --- |
| Pour WINDEV Modile : | 24 | 25 jusqu'à 26 "Update 1" | 26 à partir de "Update 2" |
| Android SDK Tools | 26.1.1 | 26.1.1 |   |
| Android Platform-Tools | 28.0.1 | 29.0.5 | 31.0.1 |
| Android SDK Build-Tools | 28.0.2 | 29.0.2 | 30.0.3 |
| Android Support Repository | 47 | 47 |   |
| Google Repository | 58 | 58 |   |



**Versions d'exécution et de compilation** 


|   |   |   |   |   |   |
| --- | --- | --- | --- | --- | --- |
| Version WINDEV Mobile | 24<br>"Update 4" à<br>25<br>"Update 3" | 25<br>"Update 4" à<br>26<br>"Update 2" | 26<br>"Update 3" à<br>27<br>"Update 3" | 27<br>"Update 4" à<br>28 | A partir de 28 |
| Version de compilation | Android 9<br>API Level 28 | Android 10<br>API Level 29 | Android 11<br>API Level 30 | Android 12<br>API Level 31 | Android 12<br>API Level 31 |
| Version d'exécution | Android 5.0 minimum | Android 5.0 minimum | Android 5.0 minimum | Android 5.0 minimum | Android 6.0 minimum |


Le SDK Android fonctionne sur Windows Vista et versions supérieures 64 bits. Windows 10 doit être privilégié.

<a name="NOTE2_1"></a>


### JDK utilisé pour le développement Android
<a name="jdk_utilise_pour_developpement_android_ELTPARAGRAPHE000268"></a>**Où trouver le JDK ?**
Il est possible de télécharger : 

- le JDK de Oracle, disponible en téléchargement sur le site de Oracle à l'adresse suivante : [http://www.oracle.com/technetwork/java/javase/downloads/index.html](http://www.oracle.com/technetwork/java/javase/downloads/index.html).

- OpenJDK, disponible en téléchargement à l'adresse suivante : [https://openjdk.java.net/](https://openjdk.java.net/)





**Version du JDK à installer :** 


|   |   |   |   |
| --- | --- | --- | --- |
|   | WINDEV Mobile 24 et 25 jusqu'à la version "Update 1" | WINDEV Mobile 25 à partir de la version "Update 2" et suivantes | WINDEV Mobile 27 |
| Version JDK | 1.8 ou 9 | 1.8 ou 10 | 11 (disponible uniquement en 64 bits) |

**Remarques** : 

- Le JDK seul est suffisant. Il n'est pas nécessaire de télécharger les versions packagées avec des modules complémentaires (JavaFX ou NetBeans par exemple).

- Le JDK 8 est parfois appelé JDK 1.8. Ces deux dénominations désignent le même produit.

- Il est nécessaire d'installer la version 64 bits du JDK.

- Si pour des besoins spécifiques plusieurs JDK sont installés, l'assistant de génération d'une application Android permet de sélectionner le JDK à utiliser pour compiler dans l'étape "Configuration" : 

	1. Cliquez sur le bouton "Configuration avancée". 

	2. Dans l'écran qui s'affiche, dans la zone "Commande du compilateur Java, sélectionnez "Personnalisé...". 

	3. Sélectionnez le compilateur Java à utiliser. 

	4. Validez la fenêtre et continuez l'assistant de génération de l'application. 






<a name="NOTE3_1"></a>


### Gradle
<a name="gradle_ELTPARAGRAPHE000322"></a>**Où trouver Gradle ?**
La compilation de projets Android avec WINDEV Mobile 27 fonctionne avec la version 7.0.2 de Gradle.

Gradle est disponible en téléchargement sur le site suivant : [http://gradle.org/gradle-download/](http://gradle.org/gradle-download/). La version actuellement en téléchargement est une version supérieure à la version 7.0.2 nécessaire à WINDEV Mobile. 

- Dans la partie "Older releases", cliquez sur "releases page".

- Dans la page qui s'affiche, sélectionnez la version 5.4.1. 

- Cliquez sur "Binary-only". 

- Un fichier au format Zip est téléchargé. 

- Dézippez les fichiers de l'archive dans un répertoire du poste de développement. 




