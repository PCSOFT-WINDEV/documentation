
## Technologie JITc
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000157"></a>
Le principe de la technologie JITc (Just In Time Compilation) est très simple : le code L5G de WINDEV est transformé sur la machine d'exécution en "code assembleur natif" lors de son exécution.

La vitesse d'exécution est plus rapide sur toutes les instructions WLangage. La vitesse est jusqu'à 15 fois plus rapide pour les boucles d'affectation et jusqu'à 7 fois plus rapide pour les calculs sur les entiers et les réels.

Certains traitements scientifiques lourds deviennent facilement envisageables avec WINDEV grâce à cette technologie.

**Pour une application de gestion classique, le gain de vitesse est environ de 8%.**



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Mettre en place et utiliser la technologie JITc
<a name="mettre_place_utiliser_technologie_jitc_ELTTEXTE000181"></a>


### La technologie JITc est utilisée par défaut
<a name="technologie_jitc_est_utilisee_par_defaut_ELTPARAGRAPHE000025"></a>

Cette technologie est appliquée directement sur l'exécutable. Au fur et à mesure de l'exécution de l'application, le code exécuté est transformé en code assembleur et exécuté. Ainsi, seul le code nécessaire est compilé (ce qui accélère les performances de l'application).

Une application utilisant la technologie JITc consomme un peu plus de mémoire : la place nécessaire au code assembleur généré.

**A savoir** : Certains codes ne sont pas pris en compte lors de l'utilisation de la technologie JITc :

- Les appels à la fonction [dbgAssertion](../WDLang1/3014022.md). En effet, cette fonction a un usage réservé au mode test.

- Lors de l'utilisation de codes-cible conditionnels, seul le code correspondant à la plateforme en cours est pris en compte. Les autres codes ne sont pas compilés.





<a name="NOTE2_2"></a>


### Traitements spécifiques désactivant la technologie JITc
<a name="traitements_specifiques_desactivant_technologie_jitc_ELTPARAGRAPHE000043"></a>La technologie JITc n'est pas utilisée lors d'un GO de l'application depuis l'éditeur.

Cette technologie est également automatiquement désactivée :

- Si l'analyseur de performances est activé.

- Si les logs d'exécution sont activés.

- Si l'application est débuggée à distance.




La technologie JITc sera automatiquement réactivée lors du prochain lancement de l'application.


<a name="NOTE2_3"></a>


### Conseils pour optimiser les effets de la technologie JITc
<a name="conseils_pour_optimiser_les_effets_technologie_jitc_ELTPARAGRAPHE000059"></a>Par défaut, la technologie JITc permet d'accélérer vos applications WINDEV. Quelques règles simples permettent de maximiser le gain de la technologie JITc. Il suffit d'apporter quelques adaptations mineures dans le code source :

- **Utiliser des variables locales au lieu de variables globales** :
	Dans certains cas, il est plus simple de déclarer des variables globales, alors qu'une variable locale suffit à l'utilisation qui est faite. Dans ce cas, il est conseillé de remplacer la variable globale par une variable locale. Par exemple, une procédure reçoit en paramètre une variable globale, alors que cette variable n'est pas modifiée par cette procédure. Il est peut être possible de remplacer la variable globale par une variable locale.

- **Typer les variables locales utilisées dans les procédures WLangage** :
	Dans le code de déclaration des procédures, il est conseillé de typer les paramètres attendus par la procédure. Les performances de l'application seront ainsi optimisées (surtout pour des paramètres de type réel ou entier).
	Par exemple : Remplacez le code suivant :
	
	```wl
	PROCEDURE MonCalcul(VarA, VarB, VarC)
	```

	par :
	
	```wl
	PROCEDURE MonCalcul(VarA est un réel, VarB est un réel, VarC est un réel)
	```







La technologie JITc s'applique sur les codes de type : 

- POO : programmation objet, classe, méthodes, membres, ...

- Les structures : déclaration de variables de type structure.


Il est vivement conseillé pour la technologie JITc soit efficace de typer les variables ou membres et les paramètres passés aux méthodes des classes.


<a name="NOTE2_4"></a>


### Comment désactiver la technologie JITc ?
<a name="comment_desactiver_technologie_jitc_ELTPARAGRAPHE000092"></a>**Pour désactiver la technologie JITc** dans une application, il est possible d'utiliser la fonction [ModeExécution](../WDLang1/3013048.md).

**En cas de suspicion de problèmes liés à la technologie JITc**, il est également possible de désactiver cette technologie :

- sur le poste en cours en modifiant le fichier WINI.INI. 
	La modification du fichier WIN.INI entraîne la désactivation du JITc sur le poste en cours : toutes les applications WINDEV installées sur ce poste (y compris WINDEV lui-même) n'utiliseront plus cette technologie. Il suffit d'ajouter les lignes de code suivantes :
	
	```txt
	[WD_EXECUTION]
	OPTIM_EXECUTION=0
	```


- pour une application spécifique, en modifiant (ou en ajoutant) le fichier &lt;Nom exécutable&gt;.WX. 
	Ce fichier est situé à côté de l'exécutable. Pour désactiver la technologie JITc, il suffit d'ajouter les lignes :
	
	```txt
	[WD_EXECUTION]
	OPTIM_EXECUTION=0
	```






