


## Comment faire un site PHP ?
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000304"></a>


### Qu'est-ce qu'un site PHP ?
<a name="questce_quun_site_php_ELTPARAGRAPHE000011"></a>Un site PHP est entièrement compilé en PHP. 

Un site PHP correspond à des pages ".php" générées à partir de WEBDEV. Ce type de site nécessite un moteur PHP pour pouvoir être exécuté.

Ce type de site peut manipuler une base de données. Pour plus de détails, consultez [Manipulation des fichiers de données en PHP](../Editeurs/9000076.md). 

**Pourquoi développer un site PHP avec WEBDEV ?**
Pour certains sites, surtout des petits, il peut être pratique de réaliser ces sites en PHP, afin de faciliter leur hébergement gratuit. Lors du déploiement d'un site PHP, le moteur WEBDEV n'est pas requis, mais vous devez disposer d'un moteur PHP sur le serveur.

**Principe de génération d'un site PHP avec WEBDEV**
WEBDEV permet de générer un site PHP sans connaître le langage PHP. Le développement du site se fait comme pour tous les projets WEBDEV en WLangage.

Vous avez également la possibilité de saisir directement votre code PHP.

Le code PHP (ainsi que le code Javascript) dispose à présent d'une analyse syntaxique et lexicale.

Lors de la génération des pages, les pages WEBDEV et les fonctions du WLangage sont automatiquement converties en pages PHP.



- Base de données MySQL facultative. 




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Comment le faire ?
<a name="comment_faire_ELTTEXTE000328"></a>


### Créer un projet PHP
<a name="creer_projet_php_ELTPARAGRAPHE000088"></a>**Lors de la création d'un projet**, l'assistant vous demande de choisir le type de site que vous désirez réaliser. Il suffit de sélectionner "Site PHP" et de suivre l'assistant. Une fois votre projet créé, vous développez en WLangage comme pour tout site WEBDEV.

**Remarque** : Le nombre de fonctions WLangage utilisables dans un projet PHP est limité dans cette version. Ce nombre de fonctions est amené à croître régulièrement.

Le type de génération d'un projet peut être également modifié à tout moment : 

1. Affichez la fenêtre de description du projet : sous le volet "Projet", dans le groupe "Projet", cliquez sur "Description". 

2. Modifiez si nécessaire le type du site pour le passer en PHP : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ProjetPHP.gif&type=thumb)


3. Validez. 




Dès que le projet est configuré comme un projet PHP, tous les outils disponibles avec WEBDEV sont automatiquement paramétrés pour le projet PHP :

- Le RAD fenêtre ou le RAD application complète est spécifique à une base de données manipulée par un site PHP.

- La compilation du projet indique si votre projet contient des fonctions ou des champs non utilisables en PHP. Un message apparaît en violet dans le volet "Erreurs de compilation".

- La génération des pages génère les pages au format ".php"




**Remarque** : Il est conseillé de créer un nouveau projet PHP pour développer un site PHP plutôt que de transformer un site WEBDEV en site PHP.
<a name="NOTE2_2"></a>


### Le RAD PHP
<a name="rad_php_ELTPARAGRAPHE000124"></a>Comme sur tout projet WEBDEV associé à une analyse, vous pouvez utiliser le RAD pour générer les pages de votre site PHP.

Vous pouvez créer des pages en mode Fiche, Table, etc. Le RAD PHP prend en compte toutes les spécificités de la génération PHP (champs, événements, fonctions utilisables dans un site WEBDEV généré en PHP).

Les pages générées par le RAD PHP utilisent les fonctions SQL et HFSQL du WLangage. La connexion à la base de données est réalisée grâce à la fonction [SQLConnecte](../WDLang4/3072005.md) via ODBC.
<a name="NOTE2_3B"></a>


### Saisir du code en PHP
<a name="saisir_code_php_ELTPARAGRAPHE000138"></a>Les codes exécutés sur le poste serveur sont représentés sous l’éditeur de code par un bandeau Jaune ou Rose.

- bandeau Jaune = WLangage : le sigle WL précède l’intitulé du code.

- bandeau Rose = PHP : le sigle PHP précède l’intitulé du code.




Pour passer d’un code jaune (WLangage) à un code rose (PHP), il suffit de cliquer sur le sigle "WL" précédant l’intitulé du code (ou inversement en cliquant sur "PHP"). Lors de l’enregistrement de la page PHP, le code WLangage est automatiquement converti en code PHP.
<a name="NOTE2_3"></a>


### Test d'un projet PHP
<a name="test_projet_php_ELTPARAGRAPHE000150"></a>Lors du GO d'un projet PHP, le répertoire courant est le répertoire "&lt;NomProjet&gt;_WEB" et non pas le répertoire "EXE" créé automatiquement lors de la création d'un projet PHP.
<a name="NOTE2_4"></a>


### Déploiement d'un site PHP
<a name="deploiement_site_php_ELTPARAGRAPHE000157"></a>Le déploiement d'un site PHP se fait par l'intermédiaire de l'outil [WDDeploie](../WDDeploie/3533001.md).

**Attention** : Pour déployer un site PHP, le répertoire des sessions doit être présent et défini chez l'hébergeur.

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Pages PHP avec ou sans contexte
<a name="pages_php_avec_sans_contexte_ELTTEXTE000376"></a>
Deux types de pages PHP peuvent être générées : 

- les **pages PHP avec contexte**. 
	Dans ce mode, les variables globales sont partagées entre toutes les pages du projet. 
	Par défaut, les pages PHP sont créées avec contexte (option "Génération PHP avec contexte" cochée dans la fenêtre de description de la page, onglet "Général"). 

- les **pages PHP sans contexte** (option "Génération PHP avec contexte" décochée dans la fenêtre de description de la page, onglet "Général"). 
	Dans ce mode, les informations doivent être transmises entre les pages via des cookies ou les paramètres d'une ligne de commande. 





### Cas des pages PHP sans contexte
<a name="cas_des_pages_php_sans_contexte_ELTPARAGRAPHE000193"></a>L'événement "Initialisation" du projet peut être exécuté avant l'événement "Déclarations globales" de la page. Il est ainsi possible de centraliser dans le traitement d'initialisation du projet la déclaration de variables globales ou l'ouverture d'une connexion de base de données par exemple.

**Attention** : Les variables globales seront réinitialisées à chaque affichage ou réactualisation de la page. 

Pour obtenir ce fonctionnement, il suffit de : 

1. Afficher la fenêtre de description de la page (sous le volet "Page", dans le groupe "Edition", cliquez sur "Autres actions" et sélectionnez "Description de la page").

2. Dans l'onglet "Général" : 

	- Vérifier que la page est bien en mode "Page PHP sans contexte" (option "Génération PHP avec contexte" décochée). 

	- Cocher l'option "Exécuter le code du projet PHP à chaque affichage". 







Remarques : 

- Dans un projet issu de WEBDEV 14 (ou d'une version antérieure), cette option n'est pas activée par défaut.

- Dans un nouveau projet WEBDEV de type PHP (à partir de la version 15) : par défaut, les pages créées sont des pages avec contexte. 

- Lors de la conversion d'une page WEBDEV AWP ou dynamique en PHP (à partir de la version 15), cette option est activée par défaut pour maximiser la compatibilité.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Limitations
<a name="limitations_ELTTEXTE000406"></a>
Les éléments suivants ne sont actuellement pas disponibles en génération PHP :

- le type chaîne Unicode.

- l'instruction "GOTO".

- la Programmation Orientée Objet (POO).

- la gestion des réels est plus précise en WLangage qu'en PHP (le nombre de décimales utilisées en PHP est inférieur au nombre de décimales utilisées en WLangage).




De nombreuses fonctions WLangage sont disponibles. Pour plus de détails, consultez [Fonctions disponibles en PHP](../Editeurs/9000054.md).

Seul le jeu de caractères latin 1 (ISO-8859-1) est supporté, ce qui comprend les langues : albanais, allemand, anglais, basque, catalan, danois, gaélique écossais, espagnol, féringien, finnois (sauf caractères Š et š), français (sauf caractères Ÿ, œ et Œ), islandais (sauf caractères „ et ”), gaélique irlandais, italien, néerlandais, norvégien, portugais, romanche et suédois. L'afrikaans et le swahili sont également couverts.



- Une base de données MySQL est facultative. 





- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WW_PayPal_PHP.gif) ***Exemples didactiques (WEBDEV)*** : **WW_PayPal_PHP** <br>Cet exemple PHP réalisé avec WEBDEV présente comment proposer dans vos sites WEBDEV PHP un paiement sécurisé avec la solution PayPal. <br>Il montre comment :<br>- inclure un bouton de paiement PayPal dans une page,<br>- indiquer les informations de paiement à Paypal,<br>- définir une page de validation de paiement,<br>...
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WW_Forum_PHP.gif) ***Exemples complets (WEBDEV)*** : **WW_Forum_PHP** <br>Cet exemple propose les fonctionnalités principales d'un forum utilisateur (création de forums, de sujets (ou topics) et de messages, modération par un administrateur, recherche, etc...)<br><br>WW_FORUM_PHP utilise entre autres les fonctionnalités suivantes :<br>- Champ riche<br>- AJAX<br>- ...
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WW_Blogs_php.gif) ***Exemples complets (WEBDEV)*** : **WW_Blogs_php** <br>Cet exemple est un site Php de gestion de blogs réalisé avec WEBDEV.<br>Un blog est un journal ou un recueil d'actualités sur un site Internet. <br>Il est consultable par tous, et chacun peut y apporter des commentaires.<br>L'auteur du blog écrit ses messages lorsqu'il le souhaite.<br>Il est possible de mettre en forme le texte, d'inclure des images, des citations, etc...<br>De plus, chaque blog peut être exporté en RSS.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WW_Association_PHP.gif) ***Exemples complets (WEBDEV)*** : **WW_Association_PHP** <br>Cet exemple présente un site associatif en WEBDEV PHP.<br>Ce site se compose de 2 parties principales : <br>- la partie visiteur, accessible par tous.<br>- et la partie administration, réservée aux membres de l'association.   <br>  <br>Ce site permet de présenter les actualités, les galeries photos, la présentation de l'association...<br>Les membres de l'association peuvent gérer leurs actualités, leurs photos, des échanges de messages ainsi qu'accéder aux petites annonces...<br>L'administrateur gère l'ensemble du site ainsi que les membres de l'association.


