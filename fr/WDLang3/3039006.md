


## FluxRefuse (Fonction)

***En anglais : StreamReject***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Refuse une demande de connexion d'un flux. Le flux entrant ne sera pas associé à un champ Conférence. Cette fonction doit être utilisée dans l'événement "Demande de connexion d'un nouveau flux" associé au flux.
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// -- Evénement "Demande de connexion d'un nouveau flux"
// Procédure de détection d'un nouveau flux
// nIDFlux est une variable de type entier contenant l'identifiant du flux détecté
PROCEDURE NouveauFlux(nIDFlux) 
// Accepter le flux détecté ?
SI OuiNon("Nouvel appel reçu : " + FluxInfo(nIDFlux), "Acceptez-vous cet appel ? ") = Oui ALORS
	FluxAccepte(nIDFlux, MoiMême)
SINON
	FluxRefuse(nIDFlux)
FIN
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`FluxRefuse(<Identifiant de la connexion>)`
---

**`<Identifiant de la connexion> : (Entier)`**

Identifiant de connexion du flux. Cet identifiant est connu dans l'événement "Demande de connexion d'un nouveau flux" associé au flux.  



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Procédure de détection de flux
<a name="procedure_detection_flux_ELTPARAGRAPHE000152"></a>Un flux est associé à l'événement "Demande de connexion d'un nouveau flux". Cet événement est exécuté lorsqu'une demande de connexion d'un flux entrant est détectée.

Cet événement est exécuté dans un des deux cas suivants : 

- si la propriété [Détection](../Proprietes/2510031.md) utilisée sur le flux est à <u><u><u><u>Vrai</u></u></u></u>.

- si l'option "Détection des flux entrants actifs" a été cochée dans la fenêtre de description des flux.




**Remarque** : Cet événement est exécuté dans un thread spécifique du WLangage. Il est donc soumis aux limitations sur les threads. Pour plus de détails sur la gestion des threads, consultez [Gestion des threads avec WINDEV](../WDLang1/3077026.md).


- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LechampConference.gif) ***Exemples unitaires (WINDEV)*** : **Le champ Conférence** <br>Utilisation du champ "Conférence" :<br>- Réaliser la connexion avec un autre utilisateur<br>- Communiquer (image et son) avec un autre utilisateur via réseau<br>- Fermer une connexion
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDVisioconference.gif) ***Exemples complets (WINDEV)*** : **WD Visioconférence** <br>Cet exemple utilise le champ Conférence et illustre aussi l'utilisation des sockets grâce à une messagerie instantanée.<br>WD VisioConférence permet d'entrer en conférence (son + vidéo) avec un utilisateur distant. De plus grâce à la messagerie instantanée, vous avez la possibilité d'envoyer un fichier à votre correspondant et de dialoguer simplement avec lui.

<a name="XComposante"></a>

## Composante :
wd280com.dll
