


## CarteSuitDéplacement (Fonction)

***En anglais : MapFollowMovement***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Affiche la position courante de l'appareil dans un champ Carte et met à jour cette position durant son déplacement. 




<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Démarre le suivi du déplacement dans le champ Carte
CarteSuitDéplacement(CARTE_Position)
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`<Résultat> = CarteSuitDéplacement(<Champ Carte> [, <Boussole> [, <Procédure WLangage>]])`
---

**`<Résultat> : (Booléen)`**



- <u><u><u><u>Vrai</u></u></u></u> si le suivi du déplacement a été activé, 

- <u><u><u><u>Faux</u></u></u></u> dans le cas contraire. Pour plus de détails sur l'erreur, utilisez la fonction [ErreurInfo](../WDLang1/3013008.md).




**`<Champ Carte> : (Nom de champ)`**

Nom du champ Carte à manipuler. Si ce paramètre correspond à une chaîne vide (""), le champ Carte auquel appartient l'événement en cours sera utilisé.

**`<Boussole> : (Booléen optionnel)`**



- <u><u><u><u>Vrai</u></u></u></u> pour activer la boussole. Une boussole s'affiche dans le champ Carte pour indiquer l'orientation du déplacement de l'appareil. Cette option est disponible uniquement sur les appareils équipés d'un capteur d'orientation. 

- <u><u><u><u>Faux</u></u></u></u> (valeur par défaut) pour désactiver la boussole. 




**`<Procédure WLangage> : (Nom de procédure)`**

Nom de la procédure WLangage (également nommée "callback") appelée à chaque notification de changement de position. Cette procédure est de la forme : 

```txt
PROCEDURE <Nom de la procédure> (<Position>)
```

où &lt;Position&gt; est une variable de type [géoPosition](../WDLang3/1000019191.md) contenant les informations sur la position de l'appareil au moment de la notification. 

Les paramètres de cette procédure sont optionnels. Il n'est pas nécessaire de passer de paramètres à cette procédure. En effet, ces paramètres sont renseignés automatiquement à chaque appel.

Si cette procédure retourne <u><u><u><u>Faux</u></u></u></u>, la carte affichée dans le champ Carte ne sera pas rafraîchie. 

Si ce paramètre n'est pas précisé, à chaque notification de changement de la position de l'appareil, la carte affichée dans le champ Carte est automatiquement centrée sur la nouvelle position. 



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Cas particuliers
<a name="cas_particuliers_ELTPARAGRAPHE000121"></a>

- Pour stopper le suivi du déplacement, utilisez la fonction [CarteFinDéplacement](../WDLang3/1000019949.md).

- Un cercle bleue peut apparaître autour du marqueur indiquant la position actuelle de l'appareil. Ce cercle est une représentation du niveau de précision de la position. Plus il est étendu et moins la position est précise. Pour déterminer la position de l'appareil, la fonction utilise deux sortes de "fournisseurs de localisation" : 

	- le réseau de satellites GPS, 

	- la triangulation effectuée à partir du réseau d'antennes mobiles et Wi-Fi.


 Le choix de l'un ou l'autre dépend du paramétrage de localisation de l'appareil au moment de l'appel.

- Un certain laps de temps peut s'écouler entre l'appel de la fonction **CarteSuitDéplacement** et l'affichage effectif de la position de l'appareil sur la carte. Ce délai correspond au temps nécessaire au fournisseur de localisation (GPS ou réseau mobile/Wi-Fi) pour déterminer la position courante de l'appareil. Une fois cette position obtenue, le champ carte est automatiquement centré sur cette dernière.



<a name="NOTE0_2"></a>
<a name="NOTE0_3"></a>
![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png) 

### Fonctionnalité d'application requise
<a name="fonctionnalite_application_requise_ELTPARAGRAPHE000163"></a>L'utilisation de cette fonction entraîne la déclaration d'une fonctionnalité d'application dans l'assistant de génération de l'application.

Fonctionnalité requise : Géolocalisation

Cette fonctionnalité permet aux applications d'utiliser les fonctionnalités de géolocalisation de l'appareil. 


- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMGeolocalisation.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Geolocalisation** <br>Cet exemple présente comment gérer des recherches de proximité avec géolocalisation :<br>- recherche autour de moi<br>- recherche dans une ville, à une adresse donnée, proche d'une adresse.<br>Les résultats apparaissent dans une zone répétée et dans une carte avec des marqueurs.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMSports.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Sports** <br>Cet exemple est une application de sport vous permettant d'enregistrer vos performances.<br>L'application calcule la distance parcourue, le temps, la vitesse moyenne et le nombre de calories dépensées en fonction du sport pratiqué. <br>Le parcours réalisé est affiché sur un champ carte grâce à des marqueurs et un tracé d'itinéraire. <br>Si vous disposez d'une montre Apple Watch, vous pourrez piloter WM Sports avec votre montre !<br><br>L'exemple dispose aussi d'une partie serveur qui sert à la synchronisation des données des utilisateurs.<br>Ce webservice est disponible dans l'exemple WEBDEV "WW_Sports".

<a name="XComposante"></a>

## Composante :
WDJS.DLL
