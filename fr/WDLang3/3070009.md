
## SocketClientInfo (Fonction)

***En anglais : SocketClientInfo***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Permet au serveur d'obtenir des renseignements sur le socket client en cours. Le socket client en cours correspond au dernier socket dont le message a été lu avec la fonction [SocketLit](../WDLang3/3070014.md). 

Cette fonction peut être utilisée sur un poste serveur de sockets. Il est ainsi possible de savoir si un utilisateur s'est connecté via la socket et ainsi vérifier la validité de la connexion. 

Remarques :

- **Sockets de type UDP** : Permet au serveur d'obtenir des renseignements sur le socket dont le dernier message a été lu avec la fonction [SocketLit](../WDLang3/3070014.md).






**Rappel** : Un socket est une ressource de communication utilisée par les applications pour communiquer d'une machine à une autre sans se soucier du type de réseau.


<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Ajout des messages reçus dans une table
TableAjoute(TABLE_MsgRecus, "1" + TAB + SocketLit("Serveur", Faux) + ...
	TAB + SocketClientInfo("Serveur", SocketAdresse) + ...
	TAB + SocketClientInfo("Serveur", SocketPort))
```



```wl
SAI_PhraseRecueDuPosteB = SocketLit("PosteA", Faux, 2000)
SI SAI_PhraseRecueDuPosteB <> "" ALORS
	Info("Message reçu de l'adresse IP N° " + SocketClientInfo("PosteA", SocketAdresse))
FIN
```



<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`<Résultat> = SocketClientInfo(<Nom du socket> , <Type de l'information>)`
---

**`<Résultat> : (Chaîne de caractères)`**



- Information demandée.

- Chaîne vide en cas de problème. 




**`<Nom du socket> : (Chaîne de caractères)`**

Nom du socket défini sur le serveur. Ce nom a été défini soit par la fonction [SocketCrée](../WDLang3/3070011.md) (cas d'un serveur simplifié) ou par la fonction [SocketAccepte](../WDLang3/3070004.md) (cas d'un serveur standard).

![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Attention : Le nom du socket est "case-sensitive".

**`<Type de l'information> : (Constante de type Entier)`**

Information à récupérer :


|   |   |
| --- | --- |
| *SocketAdresse* | Adresse IP du socket client. |
| *SocketPort* | Numéro de port auquel est connecté le socket. |





<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques




### Lecture du numéro de port
<a name="lecture_numero_port_ELTPARAGRAPHE000092"></a>Lorsque un serveur est créé sur un port, pour chaque nouveau client connecté, un canal de communication est créé. Ce canal de communication utilise un  port, choisi par le système parmi les ports disponibles. La fonction **SocketClientInfo** renvoie donc le numéro de port utilisé par le canal de communication.



<a name="XComposante"></a>

## Classification Métier / UI :
Code métier
## Composante :
wd280com.dll
