
## Installer un Webservice (ancien format)
			




	<B><B>Avertissement</B></B>

	A partir de la version <B><B>20</B></B>,  cette fonctionnalité n'est plus disponible. Pour plus de détails, consultez [Importation/consommation de Webservices](../WDLang3/3086001.md)



<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Installer un Webservice
<a name="installer_webservice_ELTTEXTE000191"></a>
Deux méthodes permettent d'installer un Webservice :

- Installation automatique grâce à WDSOAPINST.EXE

- Installation manuelle.



<a name="NOTE5_2"></a>


### Cas particulier : Installation avec IIS 7
<a name="cas_particulier_installation_avec_iis_7_ELTPARAGRAPHE000035"></a>Si le Webservice doit être installé avec le serveur IIS 7, les manipulations suivantes doivent être effectuées AVANT de procéder à une installation manuelle ou automatique.

Pour que SOAP fonctionne correctement avec IIS 7, il est nécessaire d'activer certaines fonctionnalités de Windows Vista.

Pour cela, à partir du panneau de configuration de Windows :

1. Lancez le menu "Programmes et fonctionnalités" (Programs and features).

2. Cliquez sur le lien "Activer ou désactiver des fonctionnalités Windows" (Turn Windows features on or off).

3. Déroulez ensuite les fonctionnalités "Services Internet (IIS)".

4. Les fonctionnalités à cocher obligatoirement sont les suivantes :

	- ***Compatibilité avec la métabase IIS et avec la configuration IIS 6.*** Cette option est disponible dans la section "Outils d'administration WEB".

	- ***CGI*** et Extensions ISAPI. Ces options sont disponibles dans la section "Fonctionnalités de développement d'applications".

	- ***Contenu statique*** et ***Document par défaut***. Ces options sont disponibles dans la section "Fonctionnalités HTTP communes".

	- ***Authentification de base***. Cette option est disponible dans la section "Sécurité".




5. Il est également conseillé de cocher les options suivantes :

	- ***Console de gestion IIS***. Cette option est disponible dans la section "Outils d'administration Web".

	- ***Console de gestion FTP***. Cette option est disponible dans la section "Service de publication FTP".

	- ***Journalisation HTTP***. Cette option est disponible dans la section "Etat de santé et diagnostics".

	- ***Serveur FTP***. Cette option est disponible dans la section "Service de publication FTP".








<a name="NOTE5_3"></a>


### Installation automatique
<a name="installation_automatique_ELTPARAGRAPHE000063"></a>Pour créer le programme d'installation : 

1. Lancez l'application WDSoapInst.exe. Cette application est présente dans le répertoire "\\Programmes" de WINDEV.

2. Sélectionnez le service à déployer (fichier .WDL de votre projet).

3. Indiquez l'adresse d'installation (de déploiement) du service. Cette adresse doit correspondre à l'adresse pour laquelle le Webservice a été généré.

4. Indiquez si l'installation du serveur SOAP doit être proposée (installation optionnelle par exemple dans le cas d'une mise à jour du Webservice). ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDSOAPSetup.gif)


5. Validez. Le programme d'installation est généré dans le répertoire "InstallWebService" du projet. Le contenu de ce répertoire doit être copié sur le poste d'installation du Webservice.  




Pour installer le Webservice  : 

1. Copiez les fichiers précédemment générés sur le poste serveur.

2. Exécutez le programme WDSOAPSetup.exe.

3. Spécifiez pour quel serveur l'installation du Webservice doit être effectuée. Indiquez si le serveur SOAP doit être installé.

4. Si l'installation du serveur SOAP a été demandée, confirmez les informations de paramétrage du serveur SOAP (localisation des DLL, Fichier journal, ...). Ces informations pourront être modifiées à tout moment dans l'administrateur SOAP. Pour plus de détails, consultez [Configurer l'administrateur](../WDLang3/3086007.md).

5. Indiquez les options de configuration du service : localisation des fichiers, temps de déchargement, ...

6. Validez. Le test du Webservice est disponible.




**Remarque** : Si plusieurs Webservices sont installés sur le même poste, il est obligatoire d'installer :

- toutes les bibliothèques (WDL) dans le même répertoire,

- toutes les DLL WINDEV utilisées dans le même répertoire.




Un seul administrateur SOAP sera installé et utilisé.

**Attention** : Les droits définis pour l'utilisateur du site http sont très importants. Si un serveur SOAP WINDEV doit écrire dans un fichier, il est nécessaire que l'utilisateur du site (Invité Internet) ait les droits d'écriture.

**Note pour information** : les opérations réalisées par l'installateur sont les suivantes :

- Création d'un alias entre ".soap" et wd180siis.dll. Les fichiers d'extension .soap sont redirigés vers cette DLL.

- Création d'un alias (répertoire virtuel) sur le répertoire du Webservice.





<a name="NOTE5_4"></a>


### Installation manuelle
<a name="installation_manuelle_ELTPARAGRAPHE000106"></a>Pour installer votre application sur un poste serveur SOAP :

1. Créez la version client de votre application (option "Outils .. Créer la version client"). Les fichiers devant être sélectionnés pour l'installation sont les suivants :

	- Application **WDSOAPConfig.EXE** présente dans le répertoire "Données" du répertoire d'installation de WINDEV.

	- Les DLL WINDEV nécessaires à l'exécution de votre application. Vérifiez que les DLL suivantes sont sélectionnées : wd180img.dll, wd180obj.dll, wd180pnt.dll, wd180std.dll et wd180vm.dll.

	- Les DLL WINDEV spécifiques au serveur HTTP utilisé : wd180sapa.dll pour Apache 1.3, wd180sapa2.dll pour Apache 2.0, wd180siis pour IIS, etc.




2. Installez l'application sur le poste serveur SOAP WINDEV.  

3. Configurez le serveur Internet pour votre application WINDEV :

	- [Configuration pour Apache](../WDLang3/3086004.md)

	- [Configuration pour IIS5](../WDLang3/3086005.md)

	- [Configuration pour Netscape iPlanet 4.1](../WDLang3/3086006.md)




4. Configurez l'administrateur SOAP. Pour plus de détails, consultez [Configurer l'administrateur](../WDLang3/3086007.md).

5. Pour que le client SOAP puisse contacter le serveur, l'adresse du serveur utilisée dans la fonction [SOAPExécute](../WDLang3/3069013.md) doit être de la forme : 
	&lt;Nom ou Adresse IP du serveur&gt;\\Service.soap




**Remarque** : Si plusieurs Webservices sont installés sur le même poste, il est obligatoire d'installer :

- toutes les bibliothèques (WDL) dans le même répertoire,

- toutes les DLL WINDEV utilisées dans le même répertoire.




Un seul administrateur SOAP sera installé et utilisé.

**Attention** : Les droits définis pour l'utilisateur du site http sont très importants. Si un serveur SOAP WINDEV doit écrire dans un fichier, il est nécessaire que l'utilisateur du site (Invité Internet) ait les droits d'écriture.






