


## HTTPCookieEcrit (Fonction)

***En anglais : HTTPCookieWrite***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Ajoute ou modifie un cookie dans une requête HTTP. 

Deux types d'utilisation sont disponibles : 

- Si la requête est exécutée par la fonction [HTTPRequête](../WDLang3/3043007.md), la fonction **HTTPCookieEcrit** doit être appelée avant la fonction [HTTPRequête](../WDLang3/3043007.md) afin de fixer la valeur des cookies à transmettre au serveur HTTP.

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Si la requête est exécutée avec la fonction [HTTPEnvoie](../WDLang3/1000021183.md), la fonction **HTTPCookieEcrit** doit être exécutée directement sur la variable de type httpRequête (syntaxe 2). 


**Remarque** : Les cookies lus et envoyés par la fonction [HTTPRequête](../WDLang3/3043007.md) sont uniquement conservés en mémoire dans l'application. Ils n'ont pas de rapport avec les cookies des navigateurs Web installés sur le poste.




<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Fixe la valeur d'un cookie d'identification avec une valeur mémorisée
HTTPCookieEcrit("domaine.com", "ID", ChargeParamètre("ID"))

// Effectue une requête HTTP
HTTPRequête("www.MonSite.com?Login")

// Récupère et sauve la valeur du cookie renvoyée par le serveur
sID est une chaîne = HTTPCookieLit(".monsite.fr", "ID")
SauveParamètre("ID", sID)
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

### Requête exécutée par la fonction HTTPRequête

`HTTPCookieEcrit(<Domaine> , <Nom> , <Valeur>)`
---

**`<Domaine> : (Chaîne de caractères)`**

Domaine de validité du cookie.

Le cookie sera envoyé dans toutes les requêtes HTTP dont le domaine se termine par le domaine de validité du cookie.

Par exemple, un cookie dont le domaine de validité est ".mondomaine.fr" sera envoyé lors des requêtes suivantes :

- http://mondomaine.fr

- http://www.mondomaine.fr/index.html

- http://serveur.mondomaine.fr/page.awp


Il ne sera pas envoyé dans les requêtes suivantes :

- http://www.mondomaine.com

- http://autredomaine.fr




**`<Nom> : (Chaîne de caractères)`**

Nom du cookie.

Ce nom n'est pas sensible à la casse.

**`<Valeur> : (Chaîne de caractères)`**

Valeur du cookie.

Remarques :

- La valeur d'un cookie est limité à 4Ko. Au delà de cette taille, le serveur est libre de rejeter le cookie.

- Les caractères de contrôles (TAB, RC, etc.) ainsi que le point-virgule et les zéros binaires ne sont pas autorisés.





<a name="SYNTAXE2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 
### Requête exécutée par la fonction HTTPEnvoie

`HTTPCookieEcrit(<Requête HTTP> , <Domaine> , <Nom> , <Valeur>)`
---

**`<Requête HTTP> : (Variable de type httpRequête)`**

Nom de la variable [httpRequête](../WDLang3/1000021158.md) pour laquelle le cookie doit être fixé. 

**`<Domaine> : (Chaîne de caractères)`**

Domaine de validité du cookie.

Le cookie sera envoyé dans toutes les requêtes HTTP dont le domaine se termine par le domaine de validité du cookie.

Par exemple, un cookie dont le domaine de validité est ".mondomaine.fr" sera envoyé lors des requêtes suivantes :

- http://mondomaine.fr

- http://www.mondomaine.fr/index.html

- http://serveur.mondomaine.fr/page.awp


Il ne sera pas envoyé dans les requêtes suivantes :

- http://www.mondomaine.com

- http://autredomaine.fr




**`<Nom> : (Chaîne de caractères)`**

Nom du cookie.

Ce nom n'est pas sensible à la casse.

**`<Valeur> : (Chaîne de caractères)`**

Valeur du cookie.

Remarques :

- La valeur d'un cookie est limité à 4Ko. Au delà de cette taille, le serveur est libre de rejeter le cookie.

- Les caractères de contrôles (TAB, RC, etc.) ainsi que le point-virgule et les zéros binaires ne sont pas autorisés.






<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


- Si la gestion des cookies n'a pas été activée avec la fonction [HTTPCookieGère](../WDLang3/1000019218.md), les cookies ne sont pas envoyés au serveur : 

	- lors de l'appel à la fonction [HTTPRequête](../WDLang3/3043007.md).

	- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) lors de l'appel à la fonction [HTTPEnvoie](../WDLang3/1000021183.md).




- Si le cookie n'existe pas, il est créé.




<a name="XComposante"></a>

## Composante :
wd280com.dll
