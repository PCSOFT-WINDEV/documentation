
## SocketAccepte (Fonction)

***En anglais : SocketAccept***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Exécutée sur le poste serveur, cette fonction accepte une demande de connexion sur un socket existant sur le poste serveur. Cette fonction permet de créer le canal de communication entre le socket serveur et le socket client.

Il est ainsi possible de créer un canal de communication différent par poste client. Chacun de ces canaux de communication pourra être manipulé dans un thread indépendant.

**Remarques** :

- Si le poste client utilise une application WINDEV pour se connecter à ce socket, cette application devra utiliser la fonction [SocketConnecte](../WDLang3/3070016.md).

- La fonction **SocketAccepte** peut être utilisée avec les sockets SSL.

- La fonction **SocketAccepte** ne peut pas être utilisée avec un socket de type UDP.








**Rappel** : Un socket est une ressource de communication utilisée par les applications pour communiquer d'une machine à une autre sans se soucier du type de réseau.




<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple

![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 
```wl
// Crée un socket sur le poste serveur
SI SocketCrée("Serveur", 8000) = Faux ALORS
	Erreur("Erreur de création " + ErreurInfo(errMessage))
SINON
	// Gestion des connexions des postes clients dans un thread
	ThreadExécute("Thread1", threadNormal, ProcédureAttente)
FIN
```

```wl
// ------------------------------------------------------
PROCEDURE ProcédureAttente()
BOUCLE
	SI SocketAttendConnexion("Serveur") = Vrai ALORS
		Canal est une chaîne
		// Si la connexion est acceptée, 
		// la gestion de cette connexion est réalisée dans un thread spécifique
		Canal = SocketAccepte("Serveur")
		ThreadExécute(Canal, threadNormal, ProcédureGestion, Canal)
	FIN
FIN
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`<Résultat> = SocketAccepte(<Nom du socket>)`
---

**`<Résultat> : (Chaîne de caractères)`**



- Nom du canal de communication vers le socket client qui a demandé la connexion. Ce nom sera utilisé dans toutes les autres fonctions Socket pour désigner ce canal de communication. 

- Chaîne vide ("") en cas d'erreur. Pour obtenir plus de détails sur l'erreur, utilisez la fonction [ErreurInfo](../WDLang1/3013008.md).




**`<Nom du socket> : (Chaîne de caractères)`**

Nom du socket serveur qui accepte la connexion.

![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Attention : Le nom du socket est "case-sensitive".



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques




### Canal de communication
<a name="canal_communication_ELTPARAGRAPHE000104"></a>Le canal de communication ouvert grâce à la fonction **SocketAccepte** doit être refermé par la fonction [SocketFerme](../WDLang3/3070015.md).



<a name="XComposante"></a>

## Composante :
wd280com.dll
