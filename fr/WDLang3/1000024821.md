


## Procédure WLangage appelée par la fonction SocketConnecte



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Procédure WLangage écrite en code navigateur (également nommée "callback") appelée par la fonction [SocketConnecte](../WDLang3/3070016.md). Cette procédure est appelée une fois que la connexion au serveur a été effectuée. Cette procédure permet d'envoyer un message au serveur à l'aide de la fonction [SocketEcrit](../WDLang3/3070002.md).
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
SocketConnecte("client", "ws[s]://<AdresseDuServeurDeWebSocket>", SurEvenementSocket)

PROCÉDURE INTERNE SurEvenementSocket(nEvenement, sMessage)
	
	SELON nEvenement
		
		CAS SocketOuverture
			SocketEcrit("client", "Envoi message depuis le navigateur.")
		
		CAS SocketMessage
			Info("Réception d'un message serveur : " + sMessage)
			
		CAS SocketFermeture
			Info("Fermeture du socket", sMessage)
			
		CAS SocketErreur
			Erreur("Erreur du socket")
	FIN
FIN
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`SocketConnecte_Callback(<Evénement> , <Message>)`
---

**`<Evénement> : (Constante de type Entier)`**

Correspond à une des constantes suivantes :



|   |   |
| --- | --- |
| *SocketErreur* | Une erreur s'est produite durant la communication avec le serveur. Le paramètre &lt;Message&gt; est toujours vide. |
| *SocketFermeture* | Le socket est fermé. Le paramètre &lt;Message&gt; contient un code qui indique la raison de la fermeture. |
| *SocketMessage* | Le socket a reçu un message. Le paramètre &lt;Message&gt; contient les données relatives au message. |
| *SocketOuverture* | Le socket est connecté au serveur. Il est possible d'envoyer des messages.  |





**`<Message> : (Chaîne de caractères)`**

Message reçu en réponse du serveur en fonction de l'&lt;Evénement&gt;.



<a name="XComposante"></a>

## Classification Métier / UI :
Code neutre
## Composante :
WDJS.DLL
