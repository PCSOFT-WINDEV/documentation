
## Modbus
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000090"></a>
Modbus est un protocole de communication dit "de terrain" (environnement industriel et/ou dégradé) créé en 1979. Ce protocole est très utilisé dans l'industrie pour commander des automates. Il est reconnu pour sa polyvalence, sa robustesse, sa simplicité, et le grand nombre d'appareils compatibles.

Un réseau Modbus se compose d'au moins 1 maître (ou client) qui va demander à des esclaves (ou serveurs) de réaliser une action. En Modbus, il n'existe que deux actions de base déclinées en plusieurs variantes : faire une demande de lecture de données, faire une demande d'écriture de données. 

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Modbus et WINDEV
<a name="modbus_windev_ELTTEXTE000114"></a>
WINDEV permet de communiquer avec des esclaves (ou serveurs) Modbus via deux méthodes.

- **Modbus RTU** en passant par une liaison série (port série, port USB converti en port série…). Pour des esclaves communiquant en RS-232, ils peuvent se connecter directement au port série du PC. En revanche pour du RS-422 ou du RS-485, il faut un convertisseur (les ports séries des ordinateurs ne gèrent que le RS-232 dans 99,9 % des cas). Pour se connecter dans ce mode, il suffit d'utiliser la fonction [ModbusConnecteRTU](../WDLang3/1000025929.md). 

- **Modbus TCP** en passant par une liaison Ethernet. Pour se connecter dans ce mode, il suffit d'utiliser la fonction [ModbusConnecteTCP](../WDLang3/1000025930.md). 




Le WLangage propose ensuite des fonctions de lecture : 



|   |   |
| --- | --- |
| [ModbusLitBit](../WDLang3/1000025935.md) | Lit un ou plusieurs bits à partir d'une adresse précise sur un esclave Modbus. |
| [ModbusLitFlottant](../WDLang3/1000025936.md) | Lit un ou plusieurs flottants "simple précision" à partir d'une adresse précise dans un esclave Modbus. |
| [ModbusLitRegistre](../WDLang3/1000025937.md) | Lit un ou plusieurs registres à partir d'une adresse précise dans un esclave Modbus. |





et des fonctions d'écriture : 



|   |   |
| --- | --- |
| [ModbusEcritBit](../WDLang3/1000025932.md) | Écrit un ou plusieurs bits à une adresse précise dans un esclave Modbus. |
| [ModbusEcritFlottant](../WDLang3/1000025933.md) | Ecrit une ou plusieurs flottants simple précision à partir d'une adresse précise dans un esclave Modbus. |
| [ModbusEcritRegistre](../WDLang3/1000025934.md) | Ecrit un ou plusieurs registres (valeur 16 bits) à partir d'une adresse précise dans un esclave Modbus. |





La fonction [ModbusDéconnecte](../WDLang3/1000025931.md) permet de fermer la session. 
ATTENTION : Les opérations d'écriture permettant de manipuler des automates, il est recommandé de tester les différentes commandes avant une mise en production afin de vérifier que les automates effectuent bien les opérations demandées. 


