


## GPSDétectePosition (Fonction)

***En anglais : GPSDetectPosition***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Demande à être notifié lorsque le périphérique arrive à proximité d'une position donnée.


<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Active la demande de notification
GPSDétectePosition(ProcDétection, 1.145258, 30.968745)
```

```wl
// Procédure appelée lors de la notification
PROCEDURE ProcDétection(Entrée est un booléen)
SI Entrée = Vrai ALORS
	Info("Vous êtes arrivé à destination.")
FIN
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`<Résultat> = GPSDétectePosition(<Procédure WLangage> , <Latitude> , <Longitude> [, <Rayon> [, <Délai>]])`
---

**`<Résultat> : (Entier)`**

Identifiant de détection. 

Cet identifiant est utilisé dans les cas suivants : 

- pour interrompre le mécanisme de notification. Il suffit de passer cet identifiant en paramètre à la fonction [GPSArrêteDétection](../WDLang3/1000019240.md).

- pour identifier la position traitée dans la procédure WLangage appelée (cas où une même procédure WLangage est utilisée pour traiter plusieurs positions). 




**`<Procédure WLangage> : (Nom de procédure)`**

Nom de la procédure WLangage (également nommée "callback") appelée lorsque le périphérique entre ou sort de la région délimitée par les paramètres spécifiés. 

Pour plus de détails sur cette procédure, consultez [Paramètres de la procédure utilisée par la fonction GPSDétectePosition](../WDLang3/1000024683.md). 

**`<Latitude> : (Réel)`**

Latitude de la position dont on veut détecter la proximité.

**`<Longitude> : (Réel)`**

Longitude de la position dont on veut détecter la proximité.

**`<Rayon> : (Réel optionnel)`**

Rayon (en mètres) autour de la position dont on veut détecter la proximité à partir duquel on souhaite être notifié. 

Si ce paramètre n'est pas spécifié, le rayon autour de la position sera de 50 mètres.

**`<Délai> : (Entier optionnel ou Durée optionnelle)`**

Délai d'expiration (en centièmes de seconde) de l'alerte de proximité. Ce délai démarre à partir de l'appel de la fonction. 

- Si ce paramètre vaut -1 ou n'est pas spécifié, aucun délai d'expiration ne sera fixé.

- Si ce délai est précisé, le mécanisme de notification s'arrête automatiquement lors de l'expiration du délai.


Ce paramètre peut correspondre à : 

- un entier correspondant au nombre de centièmes de seconde, 

- une variable de type Durée, 

- l'indication directe de la durée (par exemple 1 s ou 10 ms). 






<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Cas particuliers
<a name="cas_particuliers_ELTPARAGRAPHE000101"></a>

- Pour ne plus recevoir de notifications, utilisez la fonction [GPSTermine](../WDLang3/1000019210.md). 

- Pour arrêter la détection de la proximité d'une position spécifique ; 

	- renvoyez <u><u><u><u>Faux</u></u></u></u> dans la procédure WLangage associée, 

	- utilisez la fonction [GPSArrêteDétection](../WDLang3/1000019240.md). 




- Il est possible de détecter la proximité de plusieurs positions en appelant la fonction **GPSDétectePosition** pour chacune des positions. Si une même procédure est appelée pour plusieurs positions, il est possible de différencier ces positions dans la procédure WLangage grâce au paramètre &lt;Identifiant de détection&gt;. Ce paramètre correspond au résultat de la fonction **GPSDétectePosition**.

- Les mesures de position peuvent être plus ou moins approximatives en fonction des paramètres du fournisseur de localisation. Ainsi si le périphérique passe brièvement à proximité de la région surveillée, il se peut qu'aucune notification ne soit transmise. De la même manière, si le périphérique s'approche très près de la région surveillée sans y entrer, il se peut qu'une notification soit reçue.



![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png) 

### Fonctionnalité d'application requise
<a name="fonctionnalite_application_requise_ELTPARAGRAPHE000331"></a>L'utilisation de cette fonction entraîne la déclaration d'une fonctionnalité d'application dans l'assistant de génération de l'application.

Fonctionnalité requise : Géolocalisation

Cette fonctionnalité permet aux applications d'accéder aux données de géolocalisation de l'appareil ou de l'ordinateur. 

<a name="XComposante"></a>

## Classification Métier / UI :
Code métier
## Composante :
wd280java.dll
