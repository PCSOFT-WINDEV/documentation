
## OpenIDParamètres (Type de variable)

***En anglais : OpenIDParameters***
				



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Le type **OpenIDParamètres** permet de définir toutes les caractéristiques avancées d'une authentification pour OpenID. Les caractéristiques de cette authentification pour OpenID peuvent être définies et modifiées à l'aide de différentes propriétés WLangage. 

**Remarque** : Pour plus de détails sur la déclaration de ce type de variable et l'utilisation des propriétés WLangage, consultez [Déclaration d'une variable](../Motscles/1514032.md).
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
OpenIDParams est un OpenIDParamètres
OpenIDParams.URLConfiguration = "https://accounts.google.com/.well-known/OpenID-configuration"
OpenIDParams.ClientID = "1060349503186-pc7ahme???????7gk59q.apps.googleusercontent.com" 
OpenIDParams.ClientSecret = "oBTQL52?????y9-76MpiM"
OpenIDParams.URLRedirection = "http://localhost:9846"
	
MonToken est un AuthToken = AuthIdentifie(OpenIDParams)
SI ErreurDétectée ALORS
	Erreur(ErreurInfo())
	RETOUR
FIN

MonIdentité est un OpenIDIdentité = OpenIDLitIdentité(MonToken)
SI MonIdentité.Valide ALORS
	Trace(MonIdentité.Email)
	Trace(MonIdentité.Nom)
	Trace(MonIdentité.Prénom)
FIN
```





<a name="NOTE0"></a>

## Remarques
<a name="NOTE0_1"></a>


### Propriétés spécifiques à la description des variables de type OpenIDParamètres
<a name="proprietes_specifiques_description_des_variables_type_openidparametres_ELTPARAGRAPHE000028"></a>Les propriétés suivantes peuvent être utilisées pour manipuler les paramètres d'une authentification pour OpenID :

| Nom de la propriété | Type manipulé | Effet |
| --- | --- | --- |
| ClientID | Chaîne de caractères | Identifiant de l'application. |
| ClientSecret | Chaîne de caractères | Identifiant secret de l'application. |
| TypeAutorisation | Constante | Type d'autorisation disponible. Les valeurs possibles sont : <br><br>- *taApplicationCliente* : Authentification sans fenêtre de login. L'autorisation de connexion est donnée à l'application (et non à l'utilisateur). Le token fourni est un token lié à l'application, permettant d'accéder aux ressources de l'application. <br><br>- *taCodeAutorisation* (Valeur par défaut) : L'autorisation de connexion est donnée à l'utilisateur. une fenêtre de login est affichée, permettant à l'utilisateur de saisir son login et mot de passe. Le token fourni est un token lié à l'utilisateur. <br><br><br> |
| URLConfiguration | Chaîne de caractères | URL de description du service OpenID (voir Remarques). En général, les providers proposant OpenID mettent cette URL à disposition. Elle est de la forme :<br><br><pre><code>https://<Domaine>/.well-known/OpenID-configuration</code></pre><br><br><br>Quelques exemples d'URL : <br><br><pre><code>https://login.windows.net/contoso.onmicrosoft.com/<br>	.well-known/OpenID-configuration</code></pre><br><br><pre><code>https://accounts.google.com/.well-known/openid-configuration</code></pre><br><br><pre><code>https://login.salesforce.com/.well-known/openid-configuration</code></pre><br><br><pre><code>https://login.yahoo.com/.well-known/openid-configuration</code></pre><br><br><pre><code>https://login.microsoftonline.com/contoso.onmicrosoft.com/<br>	.well-known/openid-configuration</code></pre><br> |
| URLRedirection | Chaîne de caractères | URL utilisée pour la redirection du résultat. |


<a name="NOTE0_2"></a>


### Propriété .URLConfiguration
<a name="propriete_urlconfiguration_ELTPARAGRAPHE000087"></a>La propriété **URLConfiguration** correspond à une URL contenant la description du service OpenID. Cette description est de la forme (par exemple pour Google) : 

```txt
{
 "issuer": "https://accounts.google.com",
 "authorization_endpoint": "https://accounts.google.com/o/oauth2/v2/auth",
 "token_endpoint": "https://oauth2.googleapis.com/token",
 "userinfo_endpoint": "https://www.googleapis.com/oauth2/v3/userinfo",
 "revocation_endpoint": "https://oauth2.googleapis.com/revoke",
 "jwks_uri": "https://www.googleapis.com/oauth2/v3/certs",
 "response_types_supported": [
  "code",
  "token",
  "id_token",
  "code token",
  "code id_token",
  "token id_token",
  "code token id_token",
  "none"
 ],
 "subject_types_supported": [
  "public"
 ],
 "id_token_signing_alg_values_supported": [
  "RS256"
 ],
 "scopes_supported": [
  "openid",
  "email",
  "profile"
 ],
 "token_endpoint_auth_methods_supported": [
  "client_secret_post",
  "client_secret_basic"
 ],
 "claims_supported": [
  "aud",
  "email",
  "email_verified",
  "exp",
  "family_name",
  "given_name",
  "iat",
  "iss",
  "locale",
  "name",
  "picture",
  "sub"
 ],
 "code_challenge_methods_supported": [
  "plain",
  "S256"
 ]
}
```


Les parties nécessaires sont les suivantes : 

- **authorization_endpoint** : URL d'autorisation. 

- **token_endpoint** : URL de récupération du token. 

- **scopes_supported** : Liste des informations pouvant être récupérées. 









