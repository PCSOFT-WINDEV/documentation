


## HTTPCookieGère (Fonction)

***En anglais : HTTPCookieManage***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Active ou désactive la gestion des cookies dans une requête HTTP exécutée : 

- soit par la fonction [HTTPRequête](../WDLang3/3043007.md). 

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) soit par la fonction [HTTPEnvoie](../WDLang3/1000021183.md) ou [RESTEnvoie](../WDLang3/1000021476.md). 


**Remarque** : Les cookies lus et envoyés par la fonction [HTTPRequête](../WDLang3/3043007.md) sont uniquement conservés en mémoire dans l'application. Ils n'ont pas de rapport avec les cookies des navigateurs Web installés sur le poste.




<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Gère les cookies dans les requêtes sur les sites du domaine "google.fr"
HTTPCookieGère(".google.fr", Vrai)

// Ouverture de la page d'accueil de Google
HTTPRequête("www.google.fr")

// Refait la requête en tenant compte des cookies éventuellement renvoyés au 1er appel
HTTPRequête("www.google.fr/search?hl=fr&source=hp&q=windev")
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

### Activer/Désactiver la gestion des cookies (fonction HTTPRequête)

`HTTPCookieGère([<Domaine>, ] <Activation>)`
---

**`<Domaine> : (Chaîne de caractères)`**

Domaine sur lequel s'applique l'activation ou la désactivation.

**`<Activation> : (Booléen)`**



- <u><u><u><u>Vrai</u></u></u></u> pour activer la gestion des cookies, 

- <u><u><u><u>Faux</u></u></u></u> pour désactiver la gestion des cookies.
	Si la gestion des cookies est désactivée, il est tout de même possible de passer des cookies dans la requête HTTP en utilisant l'entête appropriée dans la fonction [HTTPRequête](../WDLang3/3043007.md). De même, les cookies renvoyés par le serveur pourront être récupérés par la fonction [HTTPDonneRésultat](../WDLang3/3043001.md).





<a name="SYNTAXE2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 
### Activer/Désactiver la gestion des cookies (fonction HTTPEnvoie)

`HTTPCookieGère(<Requête HTTP> [, <Domaine>] , <Activation>)`
---

**`<Requête HTTP> : (Variable de type httpRequête)`**

Nom de la variable [httpRequête](../WDLang3/1000021158.md) pour laquelle la gestion des cookies doit être activée ou désactivée.  

**`<Domaine> : (Chaîne de caractères)`**

Domaine sur lequel s'applique l'activation ou la désactivation.

**`<Activation> : (Booléen)`**



- <u><u><u><u>Vrai</u></u></u></u> pour activer la gestion des cookies, 

- <u><u><u><u>Faux</u></u></u></u> pour désactiver la gestion des cookies.
	Si la gestion des cookies est désactivée, il est tout de même possible de passer des cookies dans la requête HTTP en utilisant l'entête appropriée dans la variable [httpRequête](../WDLang3/1000021158.md).






<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


- Les cookies ne sont pas conservés entre deux lancements d'un exécutable. Ils doivent être sauvés et restaurés par programmation :

	- sauvegarde : fonctions [HTTPCookieRécupère](../WDLang3/1000019228.md), [Sérialise](../WDLang1/3013065.md) et [fSauveTexte](../WDLang1/3036046.md)

	- restauration : fonctions [HTTPCookieRemplace](../WDLang3/1000019231.md), [Désérialise](../WDLang1/3013066.md) et [fChargeTexte](../WDLang1/3036006.md).




- La fonction [HTTPDonneRésultat](../WDLang3/3043001.md) ne tient pas compte de la fonction **HTTPCookieGère**.

- Lorsque les cookies sont actifs : 

	- les cookies reçus en réponse à un appel de la fonction [HTTPRequête](../WDLang3/3043007.md) sont conservés dans l'attente d'un appel ultérieur à la fonction [HTTPRequête](../WDLang3/3043007.md) sur le même domaine. Ce fonctionnement est similaire à celui des navigateurs internet.

	- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) les cookies reçus en réponse à un appel de la fonction [HTTPEnvoie](../WDLang3/1000021183.md) sont conservés dans l'attente d'un appel ultérieur à la fonction [HTTPEnvoie](../WDLang3/1000021183.md) sur le même domaine : la variable de type [httpRequête](../WDLang3/1000021158.md) est mise à jour.  Ce fonctionnement est similaire à celui des navigateurs internet.

	- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) les cookies reçus en réponse à un appel de la fonction [RESTEnvoie](../WDLang3/1000021476.md) sont conservés dans l'attente d'un appel ultérieur à la fonction [RESTEnvoie](../WDLang3/1000021476.md) sur le même domaine : la variable de type [restRequête](../WDLang3/1000021481.md) est mise à jour.  Ce fonctionnement est similaire à celui des navigateurs internet.




- L'utilisation des cookies est nécessaire sur certains sites qui les utilisent pour fournir des identifiants. Ces identifiants sont ensuite transmis à chaque requête (par exemple un identifiant de panier lors d'une commande).

- Si une gestion est définie sur un domaine, cette information est prioritaire sur l'option globale.




<a name="XComposante"></a>

## Composante :
wd280com.dll
