
## CarteImage (Type de variable)

***En anglais : MapImage***
				



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Une variable de type **CarteImage** permet de définir les caractéristiques d'une image à dessiner sur la carte affichée dans un champ Carte. Les caractéristiques de cette image peuvent être définies et modifiées à l'aide de différentes propriétés WLangage. 

**Remarque** : Pour plus de détails sur la déclaration de ce type de variable et l'utilisation des propriétés WLangage, consultez [Déclaration d'une variable](../Motscles/1514032.md).
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Ajout d'une image dans le champ Carte
i est un CarteImage
i.Position = MaPosition
i.Image = "image.png"
i.ActionClic = ProcClic
CarteAjouteImage(CARTE_MaCarte, i)

PROCEDURE INTERNE ProcClic(i est un CarteImage)
	ToastAffiche(ChaîneConstruit("Clic sur l'image <%1>.", i.Nom))
FIN
```





<a name="NOTE0"></a>

## Remarques
<a name="NOTE0_1"></a>


### Propriétés spécifiques à la description des variables de type CarteImage
<a name="proprietes_specifiques_description_des_variables_type_carteimage_ELTPARAGRAPHE000029"></a>Les propriétés suivantes peuvent être utilisées pour manipuler une image dans un champ Carte :

| Nom de la propriété | Type manipulé | Effet |
| --- | --- | --- |
| ActionClic | Nom de procédure | Nom de la procédure WLangage appelée lorsque l'utilisateur clique sur l'image affichée dans le champ Carte. Cette procédure est de la forme : <br><br><pre><code>PROCEDURE <Nom de la procédure>(<Image>)</code></pre><br>où &lt;Image&gt; est une variable de type **CarteImage** correspondant à l'image sur laquelle l'utilisateur a cliqué. <br><br>Si cette propriété n'est pas renseignée (ou correspond à une chaîne vide ("")), aucune action ne sera effectuée lors du clic.<br><br>Remarque : il est conseillé d'utiliser des procédures globales. Si la procédure est une procédure locale, il est nécessaire de préfixer le nom de cette procédure par le nom complet de l'objet auquel appartient la procédure (exemple pour une procédure locale de fenêtre : "FEN_Fenêtre1.MaProcedure").<br><br> |
| Alignement | Constante de type Entier | Alignement de l'image par rapport à la position donnée par la propriété **Position** : <br><br>- *mqHaut* : image au dessus de la position. <br><br>- *mqBas* : image en dessous de la position. <br><br>- *mqCentre* (Valeur par défaut) : image centrée sur la position. <br><br>- *mqDroite* : image à droite de la position. <br><br>- *mqGauche* : image à gauche de la position. <br><br><br> |
| Altitude | Entier | Altitude de l'image par rapport aux autres formes présentes dans le champ Carte. Permet de gérer les superpositions. <br><br>Une forme avec une altitude élevée sera dessiné par-dessus une forme avec une altitude inférieure. <br><br>Par défaut, cette propriété vaut 0. <br><br> |
| Angle | Entier | Angle en degrés de rotation (compris entre 0 et 360) à appliquer à la l'image. La rotation est effectuée en utilisant la position donnée par la propriété **Position** comme centre de rotation.<br><br>Par défaut, cette propriété vaut 0. |
| Description | Chaîne de caractères | Description de l'image, utilisée par exemple pour stocker des informations additionnelles. |
| Hauteur | Réel | Hauteur (en mètres) que doit occuper l'image sur la carte. <br><br>Si cette propriété n'est pas renseignée ou vaut 0, la hauteur sera automatiquement calculée en fonction de la largeur spécifiée via la propriété **Largeur** en respectant le ratio de l'image. |
| Image | Chaîne de caractères <br>ou variable [Image](../WDLang1/1000019650.md) | Image à afficher. Cette propriété correspond : <br><br>- soit à une chaîne de caractères correspondant au chemin de l'image, <br><br>- soit à une variable de type [Image](../WDLang1/1000019650.md).<br><br><br>Cette image ne peut pas être une image vectorielle (SVG). |
| Largeur | Réel | Largeur (en mètres) que doit occuper l'image sur la carte. <br><br>**Cette propriété est obligatoire.** <br><br> |
| Nom | Chaîne de caractères | Nom de l'image. Un nom est automatiquement attribué lors de la création de la variable. Il peut être modifié mais il doit être unique en cas d'ajout dans le champ Carte. Ce nom peut être utilisé pour supprimer l'image avec la fonction [CarteSupprimeImage](../WDLang3/1000025534.md). |
| Opacité | Entier | Pourcentage d'opacité utilisée pour le dessin de l'image, compris entre 0 et 100. Par défaut, cette propriété vaut 100.<br><br> |
| Position | [géoPosition](../WDLang3/1000019191.md) | Position géographique à laquelle l'image doit être dessinée. L'alignement de l'image par rapport à cette position est donné par la propriété **Alignement**. |






<a name="NOTE0_2"></a>


### Fonctions WLangage
<a name="fonctions_wlangage_ELTPARAGRAPHE000159"></a>Les fonctions WLangage manipulant des variables de type **CarteImage** sont les suivantes : 



|   |   |
| --- | --- |
| [CarteAjouteImage](../WDLang3/1000025532.md) | Ajoute une nouvelle image sur la carte affichée dans un champ Carte. |
| [CarteModifieImage](../WDLang3/1000025533.md) | Modifie une image dessinée sur la carte affichée dans un champ Carte. |
| [CarteSupprimeImage](../WDLang3/1000025534.md) | Supprime une image dessinée sur la carte affichée dans un champ Carte. |








