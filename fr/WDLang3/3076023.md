
## telJoue (Fonction)

***En anglais : tapiPlay***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Joue un fichier sonore (.WAV) pour la ligne spécifiée. Il est par exemple possible de :

- jouer le message du répondeur lors de la réception d'un appel,

- jouer un message lors d'un appel sortant (après la fonction [telCompose](../WDLang3/3076013.md) par exemple).



<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
PROCEDURE DetectionAppel(nIDService, nIDAppel, nStatut)

// Décroche la ligne pour répondre
telRépondAppel(nIDAppel)

// Enclenchement du répondeur
telJoue("repondeur.wav", telJoueBoucle, nIDAppel)

// Si la touche étoile a été appuyée
// le répondeur est stoppé
SI Position(telToucheEnfoncée(nIDAppel), "*") >0 ALORS
	telArrête(nIDAppel)
FIN
```



<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`<Résultat> = telJoue(<Nom du fichier WAV> [, <Option> [, <Identifiant de l'appel>]])`
---

**`<Résultat> : (Booléen)`**



- <u><u><u><u>Vrai</u></u></u></u> si le fichier est joué, 

- <u><u><u><u>Faux</u></u></u></u> dans le cas contraire. Si le fichier n'est pas joué, vérifiez le format du fichier WAV. Pour plus de détails, consultez [les remarques](#NOTE0_1).




**`<Nom du fichier WAV> : (Chaîne de caractères)`**

Nom et chemin du fichier .WAV à jouer. L'extension du fichier doit être précisée.

**`<Option> : (Entier optionnel)`**

Option permettant de spécifier les options du fichier sonore à jouer.


|   |   |
| --- | --- |
| *telJoueBloque* | La fonction est bloquante : le code continue de s'exécuter uniquement lorsque le son a été joué. <br>Si ce paramètre n'est pas spécifié, la fonction renvoie un résultat dès que le son commence à être joué. |
| *telJoueBoucle* | Son joué en boucle.<br>Si ce paramètre n'est pas spécifié, le son est joué une seule fois. |



**`<Identifiant de l'appel> : (Entier optionnel)`**

Identifiant de l'appel à manipuler. Cet identifiant est connu dans la procédure WLangage appelée par la fonction [telDémarreDétectionAppel](../WDLang3/3076029.md). Si ce paramètre n'est pas spécifié, l'appel en cours est manipulé.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques




### Format du fichier .WAV
<a name="format_fichier_wav_ELTPARAGRAPHE000071"></a>Attention : Tous les formats de WAV ne sont pas compatibles avec la téléphonie. Il est nécessaire d'utiliser le codec de compression CCITT G.711 A-Law, u-Law fourni par Microsoft.

Remarque : Pour vérifier le codec du fichier .WAV, utilisez un programme de type GSpot.


<a name="NOTE0_2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Configuration nécessaire
<a name="configuration_necessaire_ELTPARAGRAPHE000210"></a>Les fonctions de téléphonie utilisent la technologie TAPI 2.0 et/ou la technologie TAPI 3.1. Ces technologies sont utilisables sur tous les systèmes.

<a name="XComposante"></a>

## Composante :
wd280com.dll
