
## nfcDonnée (Type de variable)

***En anglais : nfcData***
				



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Le type **nfcDonnée** permet de décrire et manipuler les données d'une variable de type [nfcTag](../WDLang3/1000020411.md). Les caractéristiques de ces données peuvent être définies et modifiées à l'aide de différentes propriétés WLangage.


**Remarque** : Pour plus de détails sur la déclaration de ce type de variable et l'utilisation des propriétés WLangage, consultez [Déclaration d'une variable](../Motscles/1514032.md).


<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple






```wl
// Lecture des données d'un tag NFC
tag est un nfcTag
tag = nfcLitTag()
SI PAS ErreurDétectée = Vrai ALORS
	POUR TOUTE donnée de tag.Donnée
		SELON donnée.Type
			CAS nfcTexte
				sLangue est une chaîne = LangueVersNom(donnée.Langue)
				sTexte est une chaîne = donnée.Contenu
			CAS nfcURI
				SI ChaîneCommencePar(donnée.Contenu, "http") ALORS
					NavigateurLanceAppli(donnée.Contenu)
				FIN
			CAS nfcMédia
				SI donnée.TypeMIME ~= "image/png" ALORS
					fSauveBuffer(ComplèteRep(SysRepCarteStockage()) + ...
						"image.png", donnée.Contenu)
				FIN
		FIN
	FIN
FIN
```

<a name="NOTE0"></a>

## Remarques
<a name="NOTE0_1"></a>


### Propriétés spécifiques à la description des variables de type nfcDonnée
<a name="proprietes_specifiques_description_des_variables_type_nfcdonnee_ELTPARAGRAPHE000047"></a>Les propriétés suivantes peuvent être utilisées pour manipuler une donnée d'un tag NFC :

| **Nom de la propriété** | **Type manipulé** | **Effet** |
| --- | --- | --- |
| Contenu | Binaire / Buffer | Contenu de la donnée. Son type dépend de la valeur de la propriété **Type**.<br><br>Si la propriété **Type** correspond à : <br><br>- la constante *nfcTexte*: <br><br><br><br><br>- la constante *nfcURI*, la propriété **Contenu** correspond à une chaîne Ansi. <br><br>- la constante *nfcMédia*, la propriété **Contenu** correspond à un buffer.<br>	L'interprétation des données du buffer dépend du type MIME associé à la variable **nfcDonnée**. <br><br>- la constante *nfcVide* : Une erreur fatale sera déclenchée en cas de tentative de modification de la propriété **Contenu**.<br><br>- la constante *nfcInconnu* : Une erreur fatale sera déclenchée en cas de tentative de modification de la propriété **Contenu**.<br><br><br><br><br> |
| Langue | Entier | Langue du texte stockée dans la propriété **Contenu**.<br><br>Cette propriété doit être utilisée uniquement lorsque la variable de type **nfcDonnée** est de type *nfcTexte*. Une erreur fatale sera déclenchée en cas de lecture ou de modification de la propriété **Langue** d'une variable **nfcDonnée** d'un type différent. <br><br>Par défaut, la propriété **Langue** est initialisée avec la langue courante de l'application.<br><br>Pour connaître : <br><br>- le nom de la langue, utilisez la fonction [LangueVersNom](../WDLang1/3054020.md).<br><br>- la nation correspondant à la langue, utilisez la fonction [LangueVersNation](../WDLang1/3054019.md).<br><br><br><br><br> |
| Type | Constante de type Entier | Type de données, correspondant à une des constantes suivantes : <br><br>- *nfcTexte* : Données de type texte.<br><br>- *nfcURI* : Données de type URI (Uniform Ressource Identifier). Peut correspondre à : <br><br>	- l'url d'une page web (http://www.pcsoft.fr), <br><br>	- une adresse FTP (ftp://ftp.pcsoft.fr/), <br><br>	- un numéro de téléphone (tel:0123456789), <br><br>	- une adresse mail (mailto:adresse@mail.com), etc.<br>			Il est possible d'utiliser la fonction [LanceAppliAssociée](../WDLang1/3035007.md) avec cette URI (par exemple pour ouvrir le navigateur lorsque l'URI correspond à l'adresse d'un site Web).<br><br><br><br><br>- *nfcMedia* : Données de type média. Peut correspondre à toute ressource identifiée par un type MIME (image, vidéo, document, etc.).<br><br>- *nfcVide* : Type vide. Ce type est utilisé en particulier lors de la création d'une variable de type **nfcDonnée** tant qu'aucun type de donnée n'a été spécifié.<br><br>- *nfcInconnu* : Type inconnu.<br><br><br>**Remarque importante** : La modification du type d'une variable de type **nfcDonnée** entraîne la réinitialisation de son contenu. Il est donc important de spécifier le type avant le contenu.<br><br> |
| TypeMIME | Chaîne de caractères | Type MIME de la ressource stockée dans la propriété **Contenu**. <br><br>Le type MIME spécifié peut soit correspondre : <br><br>- soit à un type MIME standard. Plus de 150 types sont définis dans la norme de communication MIME (disponible sur Internet). Les valeurs les plus courantes sont : <br><br>	- "application/pdf" : document au format PDF (\*.pdf) <br><br>	- "text/html" : page HTML (\*.htm, \*.html) <br><br>	- "text/plain": fichier texte (\*.txt)<br><br>	- "image/gif" : image au format GIF (\*.gif) <br><br>	- "image/jpeg" : image au format JPEG (\*.jpg, \*.jpeg)<br><br>	- "video/mpeg" : vidéo au format MPEG (\*.mpg, \*.mpeg)<br><br>	- "application/msword" : fichier Word. <br><br>	- "application/vnd.ms-excel" : fichier Excel.<br><br><br><br><br>- soit à un type personnalisé. <br><br><br>La propriété **TypeMIME** ne doit être utilisée que lorsque la variable **nfcDonnée** est de type *nfcMedia*. Une erreur fatale sera déclenchée en cas de lecture ou de modification de la propriété **TypeMIME** d'une variable **nfcDonnée** d'un type différent.<br><br> |




<a name="NOTE0_2"></a>


### Réinitialisation
<a name="reinitialisation_ELTPARAGRAPHE000177"></a>Pour réinitialiser le contenu d'une variable de type **nfcDonnée**, il est possible d'utiliser la fonction [VariableRAZ](../WDLang1/3013069.md).


