
## géoSuiviProcédure (Fonction)

***En anglais : geoTrackingProcedure***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Définit la procédure WLangage appelée lorsque la position de l'utilisateur a changé. 

**Attention** : 

- Avant d'utiliser cette fonction, le suivi de déplacement doit avoir été activé avec la fonction [géoSuiviActive](../WDLang3/1000021583.md). 

- Pour un fonctionnement en arrière-plan, cette fonction doit être appelée dans l'événement WLangage "Initialisation" associé au projet. Pour plus de détails, consultez le paragraphe [Remarques](#NOTE0_1).



<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// -- Initialisation du projet (INDISPENSABLE pour un fonctionnement en arrière-plan)
géoSuiviProcédure(ProcédureSuivi)
```

```wl
// Implémentation de la procédure ProcédureSuivi
PROCEDURE ProcédureSuivi(mPosition est une géoPosition)
// Envoi de la position au serveur
EnvoieServeur(mPosition)
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`<Résultat> = géoSuiviProcédure(<Procédure WLangage>)`
---

**`<Résultat> : (Booléen)`**



- <u><u><u><u>Vrai</u></u></u></u> si le système de suivi de position est disponible, 

- <u><u><u><u>Faux</u></u></u></u> si le système de suivi de position n'est pas disponible. Pour plus de détails sur l'erreur, utilisez la fonction [ErreurInfo](../WDLang1/3013008.md). 




**`<Procédure WLangage> : (Nom de procédure)`**

Nom de la procédure WLangage appelée lorsque la position de l'utilisateur a changé. 

Cette procédure est de la forme : 

```txt
PROCEDURE <Nom de la procédure>(<Position> est un géoPosition)
```


Dans ce code, le paramètre &lt;Position&gt; est une variable de type [géoPosition](../WDLang3/1000019191.md) correspondant à la position actuelle de l'utilisateur. 

Cette procédure doit être une procédure globale de l'application.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Particularités
<a name="particularites_ELTPARAGRAPHE000066"></a>

- La fonction **géoSuiviProcédure** doit être appelée dans le code d'initialisation du projet. En effet, la procédure WLangage peut être appelée juste après l'initialisation par exemple dans le cas d'un réveil en mode arrière-plan.

- Lors de la réception d'une position, si l'application est en veille,  elle est automatiquement relancée.



<a name="NOTE0_2"></a>


### Gestion du suivi : faible précision
<a name="gestion_suivi_faible_precision_ELTPARAGRAPHE000083"></a>Attention : Le suivi est un suivi de faible précision. Les événements sont envoyés uniquement en cas de changements significatifs de la position et à des intervalles supérieurs à plusieurs minutes. A titre indicatif, les conditions d'envoi par plateforme sont les suivantes : 


Pour un suivi plus précis du déplacement, il est nécessaire d'utiliser la fonction [GPSSuitDéplacement](../WDLang3/1000019206.md). Cependant, cette fonction : 

- nécessite que l'application soit lancée,

- consomme plus de batterie.







- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMGeolocalisation.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Geolocalisation** <br>Cet exemple présente comment gérer des recherches de proximité avec géolocalisation :<br>- recherche autour de moi<br>- recherche dans une ville, à une adresse donnée, proche d'une adresse.<br>Les résultats apparaissent dans une zone répétée et dans une carte avec des marqueurs.



<a name="XComposante"></a>

## Composante :
wd280android.aar
