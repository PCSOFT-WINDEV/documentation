


## Android : Les différents types de notifications
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000146"></a>
Android propose plusieurs types de notifications pour alerter l'utilisateur : 

- [les notifications dans la barre système](#NOTE2_1). 

- [les notifications sonores](#NOTE3_1). 

- [les notifications par vibration](#NOTE3_1). 

- [les notifications par allumage de la LED en façade du téléphone](#NOTE3_1). 

- [l'utilisation des messages "Toast"](#NOTE3_1). 

- [les notifications push](../WDLang3/1000021015.md).




WINDEV Mobile permet d'utiliser ces différents modes de notifications. 

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Les notifications dans la barre système
<a name="les_notifications_dans_barre_systeme_ELTTEXTE000170"></a>
Les notifications présentes en haut de l'écran d'accueil Android sont des notifications par icônes. 
<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Android_notif1.gif)


Il est possible de les dérouler pour en visualiser le détail. 
<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Android_notif2.gif)


Pour créer et manipuler ces notifications, WINDEV Mobile propose : 

- des fonctions WLangage : 
	


|   |   |
| --- | --- |
| [NotifAjoute](../WDLang3/1000019442.md) | Ajoute une notification dans la barre système de l'appareil (Android) ou dans le centre de notification (iOS). |
| [NotifListeCatégorie](../WDLang3/1000023979.md) | Liste les catégories de notification de l'application. |
| [NotifModifie](../WDLang3/1000019443.md) | Modifie une notification actuellement affichée dans la barre système de l'appareil. |
| [NotifSupprime](../WDLang3/1000019444.md) | Supprime une notification affichée dans la barre système de l'appareil. |
| [NotifSupprimeCatégorie](../WDLang3/1000023980.md) | Supprime une catégorie de notification de l'application. |

- des types avancés permettant de gérer les notifications : 
	


|   |   |
| --- | --- |
| [Notification](../WDLang3/1000019441.md) | Le type **Notification** permet de manipuler les notifications locales ou les notifications en push. |
| [notificationAction](../WDLang3/1000021304.md) | Le type **notificationAction** permet de décrire une action supplémentaire associée à une notification. |
| [notificationCatégorie](../WDLang3/1000023981.md) | Le type **notificationCatégorie** permet de définir toutes les caractéristiques avancées d'une catégorie de notification. |
| [notificationFormat](../WDLang3/1000021301.md) | Le type **notificationFormat** permet de décrire le format d'affichage d'une notification lorsque celle-ci est déroulée. |




Il est ainsi possible d'ajouter et de supprimer des icônes et leur détail à la barre de notification, d'effectuer des notifications sonores, des vibrations et allumages de LED. 

**Changement de comportement sur les notifications : utilisation de catégories de notification** :
A partir d'Android 8.0 (Oreo, API level 26), toutes les notifications créées par une application Android doivent être associées à une catégorie de notification connue aussi sous le nom de "channel". 
Les catégories permettent de regrouper les notifications par "thème" (ou autre critère de regroupement au choix du développeur). Chaque catégorie de notification est constituée d'un identifiant, d'un nom, d'une description, d'un niveau de priorité et d'un ensemble de paramètres visuels et auditifs (son, vibration, couleur de la led). Lorsqu'une notification est associée à une catégorie, elle "hérite" automatiquement des caractéristiques de cette catégorie.

L'utilisateur final a la possibilité de modifier localement les paramètres des catégories de notification d'une application : activer/désactiver l'affichage des notifications de la catégorie, modifier la priorité des notifications, associer un son particulier, etc. Ces modifications s'effectuent depuis l'écran de paramétrage des notifications de l'application : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Categorie_notification.gif)


<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Autres types de notifications
<a name="autres_types_notifications_ELTTEXTE000261"></a>
WINDEV Mobile propose d'autres types de notifications.

**1. Notification par vibration**

La notification par vibration consiste à faire vibrer l'appareil pour avertir l'utilisateur. 

Le WLangage propose plusieurs fonctions pour gérer ce type de notification : 



|   |   |
| --- | --- |
| [VibrationArrête](../WDLang3/1000019449.md) | Arrête les vibrations de l'appareil (même si elles ont été déclenchées par une autre application). |
| [VibrationDéclenche](../WDLang3/1000019448.md) | Déclenche les vibrations de l'appareil. |





**2. Notification par allumage de la LED**

La notification par allumage de la LED consiste à allumer ou à faire clignoter la LED de l'appareil. Il est également possible sur certains modèles de changer la couleur de la LED. 

Le WLangage propose plusieurs fonctions pour gérer ce type de notification : 



|   |   |
| --- | --- |
| [LEDAllume](../WDLang3/1000019446.md) | Allume la LED (Light-Emitting Diode) de l'appareil. |
| [LEDEteint](../WDLang3/1000019447.md) | Éteint la LED (Light-Emitting Diode) de l'appareil. |





**3. Notification par message Toast**

Un Toast est un message furtif qui apparaît au centre ou au bas de l'écran pour informer l'utilisateur. L'utilisateur n'a pas besoin de valider le message : celui-ci est affiché pendant une période de temps plus ou moins longue.  <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ToastAffiche.gif)
Les messages de type Toast sont gérés par la fonction WLangage suivante : 



|   |   |
| --- | --- |
| [ToastAffiche](../WDLang1/1000019358.md) | Affiche un message de type "Toast". |






- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMSysteme.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Système** <br>Cette application est un exemple didactique montrant quelques unes des fonctionnalités de WINDEV Mobile pour Android/iOS.<br>Les fonctions système utilisées sont : <br>- NFC<br>- Champ Multimédia<br>- Luminosité<br>- Volume<br>- WIFI<br>- Bluetooth<br>- Toast<br>- Boussole<br>- Accéléromètre<br>- Champ caméra<br>- LED<br>- Vibrations<br>- Notifications<br>- Fonctions de dessin<br>- Internet
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMPush.gif) ***Exemples multiplateforme*** : **WM Push** <br>Cet exemple montre comment recevoir des notifications Push.<br>Il appelle la fonction NotifPushActive et envoie l'identifiant obtenu à l'exemple WINDEV "WD Serveur Push" afin qu'il le stocke.<br>Cet identifiant est ensuite lu par l'exemple WINDEV "Envoi Push" afin qu'il envoie les notifications en push à cet exemple.


