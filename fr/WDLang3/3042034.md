


## grMasque (Fonction)

***En anglais : grMask***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Formate les données affichées par la fonction [grLibellé](../WDLang3/3042046.md) ou par la fonction [grBulle](../WDLang3/3042010.md).



![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png) **Attention** : L'utilisation de cette fonction sous Linux nécessite une configuration spécifique. Pour plus de détails, consultez [Les graphes](../WDChamp/3042060.md). 




<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
grMasque(GRF_MonGraphe, grMasquePourcentage, "99,99%")
grLibellé(GRF_MonGraphe, grAffichePourcentage, Vrai)
grDessine(GRF_MonGraphe)
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`grMasque(<Nom du graphe> , <Type du masque> , <Valeur du masque>)`
---

**`<Nom du graphe> : (Nom de champ ou chaîne de caractères)`**

Nom du graphe à manipuler. Ce nom correspond :

- soit au nom du graphe défini par programmation avec la fonction [grCrée](../WDLang3/3042005.md).

- soit au nom du champ Graphe présent dans l'éditeur de fenêtres, de pages ou d'états.




**`<Type du masque> : (Constante de type numérique)`**

Masque utilisé :


|   |   |
| --- | --- |
| *grMasqueAxe* | Le masque spécifié permet de mettre en forme les valeurs affichées dans les axes du graphe.<br>**Exemple** : Affiche la valeur dans la monnaie courante : la valeur du masque est " +99.999.999.999,99 $". |
| *grMasqueAxeTemporel* | Le masque spécifié permet de mettre en forme les dates ou heures affichées dans les axes du graphe.<br>**Exemple** : Affiche la date au format "JJ/MM/AAAA" : la valeur du masque est "JJ/MM/AAAA".<br><br><pre><code>grMasque("MonGraphe", grMasqueAxeTemporel, "JJ/MM/AAAA")</code></pre><br>Cette constante est supportée uniquement par les types de graphes pouvant avoir un axe temporel : Histogramme, Histogramme horizontal, Courbe et Aire.<br> |
| *grMasquePourcentage* | Le masque spécifié permet de mettre en forme les pourcentages affichés dans le graphe (fonction grLibellé(&lt;nom graphe&gt;, grAffichePourcentage, Vrai))<br>**Attention** : le signe % doit être présent dans le paramètre &lt;Valeur du masque&gt;.<br>**Exemple** : "99,99%" permet d'afficher le pourcentage avec 2 chiffres après la virgule. |
| *grMasqueValeur* | Le masque spécifié permet de mettre en forme les valeurs affichées dans le graphe (fonction grLibellé(&lt;nom graphe&gt;, grAfficheValeur, Vrai))<br>**Exemple** : Affiche la valeur dans la monnaie courante : la valeur du masque est " +99.999.999.999,99 $". |



**`<Valeur du masque> : (Chaîne de caractères)`**

Description du masque à utiliser.

- Pour la constante *grMasqueValeur* : Chaîne vide ("", valeur par défaut) pour désactiver le masque d'affichage.

- Pour la constante *grMasquePourcentage* : "99%" : valeur par défaut.

- Pour la constante *grMasqueAxeTemporel* : 
	

	- Si la valeur à afficher est une date, elle doit être au format "AAAAMMJJ". Les masques supportés sont identiques à ceux utilisés par la fonction [DateVersChaîne](../WDLang1/3027025.md).

	- Si la valeur à afficher est une heure, elle doit être au format "HHMMSSCC". Les masques supportés sont identiques à ceux utilisés par la fonction [HeureVersChaîne](../WDLang1/3027023.md).





Les masques se définissent à l'aide des caractères : "9", ".", ",", "+", "-" et espaces. Par exemple : "99.999,99". Pour les masques de valeurs monétaires, utilisez 17 chiffres significatifs pour la partie entière et 6 décimales maximum. Par exemple : "99 999 999 999 999 999,999999".

**Remarques** :

- Pour que le nombre soit complété à gauche par des zéros, utilisez le caractère "0" à gauche du masque. Par exemple : "099.999,99".

- Pour forcer les signes, utilisez le caractère "+" à gauche. Par exemple : "+9999".  






<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques
Cette fonction n'a d'effet que pour les graphes permettant l'affichage des valeurs ou du pourcentage.


- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDGraphe.gif) ***Exemples didactiques (WINDEV)*** : **WD Graphe** <br>Cet exemple didactique présente diverses utilisations du champ graphe.<br>Différents types de graphe sont présentés : <br>- Secteur (ou camembert)<br>- Secteur multiniveau (ou sunburst)<br>- Courbe<br>- Nuage de points<br>- Histogramme<br>- Aire<br>- ...<br><br>Les fonctionnalités mises en avant sont la personnalisation des graphes par programmation ainsi que le remplissage du graphe à partir d'un fichier de données HFSQL ou dans l'éditeur.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LesfonctionsGraphe.gif) ***Exemples unitaires (WEBDEV)*** : **Les fonctions Graphe** <br>Utilisation des principales fonctionnalités du grapheur de WEBDEV pour :<br>- Réaliser un graphique de type : Secteur, Histogramme ou Courbe<br>- Définir la zone d'affichage d'un graphique<br>- Définir les options du graphique (légende, pourcentage,...)
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LesfonctionsGraphe.gif) ***Exemples unitaires (WINDEV Mobile)*** : **Les fonctions Graphe** <br>Utilisation des fonctions Graphe :<br>- réaliser par programmation un graphique de type Secteur, Histogramme ou Courbe<br>- définir les options du graphique (légende, pourcentage,...)

<a name="XComposante"></a>

## Composante :
wd280grf.dll
