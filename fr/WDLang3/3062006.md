
## sEchap (Fonction)

***En anglais : sEscape***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Lance diverses fonctions agissant directement sur les bits du port série, du port parallèle ou du port infrarouge, indépendamment du protocole de communication. Ces fonctions permettent de gérer :

- le signal DTR,

- le signal RTS,

- les caractères XOFF et XON.




**Remarques** : 

- Le port doit être préalablement ouvert (fonction [sOuvre](../WDLang3/3062013.md)).

- ![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) La gestion des ports infrarouges n'est pas disponible.









<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Efface le signale DTR
sEchap(NumPort, "CLRDTR")
```



<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`<Résultat> = sEchap(<Numéro de port> , <Fonction>)`
---

**`<Résultat> : (Booléen)`**



- <u><u><u><u>Vrai</u></u></u></u> si la fonction a été exécutée, 

- <u><u><u><u>Faux</u></u></u></u> dans le cas contraire. Si le port n'a pas été préalablement ouvert (avec la fonction [sOuvre](../WDLang3/3062013.md)), la fonction **sEchap** n'a aucun effet.




**`<Numéro de port> : (Entier)`**

Identifiant du port manipulé : 

- Numéro de port : 

	- Numéro du port série : 1, 2, 3, ... 32 pour COM1, COM2, COM3, ... COM32.

	- Numéro du port parallèle : -1, -2, -3 ou -4 pour LPT1, LPT2, LPT3 ou LPT4.

	- Numéro du port infrarouge : 1, 2, 3, ... 32 pour IR1, IR2, IR3, ... IR32.




- Identifiant du port renvoyé par la fonction [sOuvre](../WDLang3/3062013.md) (si cette fonction a été appelée avec un nom de port). 
	![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png) Seul ce type de paramètre est disponible.




**`<Fonction> : (Chaîne de caractères)`**

Fonction à exécuter :


|   |   |
| --- | --- |
| CLRBREAK | Efface le signal "Break line".<br><br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Cette fonction n'est pas supportée. |
| CLRDTR | Efface le signal DTR. |
| CLRRTS | Efface le signal RTS. |
| RESETDEV | Ré-initialise le périphérique si possible.<br><br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Cette fonction n'est pas supportée. |
| SETBREAK | Active le signal "Break line".<br><br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Cette fonction n'est pas supportée. |
| SETDTR | Envoie le signal DTR. |
| SETRTS | Envoie le signal RTS. |
| SETXOFF | La transmission se comporte comme si le caractère XOFF avait été reçu.<br><br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Cette fonction n'est pas supportée. |
| SETXON | La transmission se comporte comme si le caractère XON avait été reçu.<br><br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Cette fonction n'est pas supportée. |








## Remarques
![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png) **Cas particulier sous Linux** : 

- Seuls les ports série peuvent être ouverts et initialisés. 

- Par défaut, l'utilisateur n'a pas accès aux ports série. Il est nécessaire de lui accorder des droits spécifiques pour manipuler les ports série. 





![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) 

### Utilisation d'une librairie externe : RXTX
<a name="utilisation_une_librairie_externe_rxtx_ELTPARAGRAPHE000331"></a>En Java, l'utilisation des fonctions de manipulation des ports séries et parallèles (fonctions [sOuvre](../WDLang3/3062013.md), [sEcrit](../WDLang3/3062009.md), [sLit](../WDLang3/3062012.md), ...) nécessite la présence d'une librairie externe : RXTX. 

Cette librairie est composée d'une archive Jar et d'une ou plusieurs librairies natives dépendantes du système d'exploitation sur lequel s'exécute l'application.
 
Pour utiliser ces fonctions : 

- l'archive jar (RXTXComm.jar) doit : 

	- soit se trouver dans le même répertoire que l'application Java générée par WINDEV, 

	- soit se trouver dans le classpath d'exécution de l'application, 

	- soit être directement intégrée dans l'application générée (depuis l'assistant de génération Java). 




- la ou ou les librairies natives correspondant au système d'exploitation sur lequel s'exécute l'application doivent se trouver: 

	- soit  dans le même répertoire que l'application Java générée par WINDEV, 

	- soit dans le chemin des librairies de l'application (librarypath).







Il est possible de télécharger la librairie RXTX et sa documentation grâce au lien suivant : [http://users.frii.com/jarvi/rxtx/index.html](http://users.frii.com/jarvi/rxtx/index.html) (lien valide lors de l'écriture de cette documentation). 

**Attention** : La gestion des ports infrarouges n'est pas disponible en Java. 
<a name="NOTE0_3"></a>

<a name="XComposante"></a>

## Classification Métier / UI :
Code métier
## Composante :
wd280com.dll
