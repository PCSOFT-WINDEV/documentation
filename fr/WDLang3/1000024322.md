
## Programmation des graphes (syntaxe préfixée)
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000075"></a>
WINDEV, WEBDEV et WINDEV Mobile mettent à votre disposition un champ Graphe (utilisable dans l'éditeur de fenêtres, de pages et d'états) ainsi que des fonctions qui permettent de créer et de manipuler des graphes.
![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png) **Utilisation des graphes en WEBDEV Linux et en WINDEV Linux**
Pour utiliser les graphes sous Linux, il est nécessaire d'installer la librairie QT (Core et GUI), version 5 minimale. 

**Sous Ubuntu**, cette librairie peut être installée avec les commandes suivantes : 

```txt
sudo apt-get install libqtcore5
sudo apt-get install libqtgui5
```


<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Comment programmer des graphes ?
<a name="comment_programmer_des_graphes_ELTTEXTE000147"></a>


### Créer des graphes par programmation
<a name="creer_des_graphes_par_programmation_ELTPARAGRAPHE000170"></a>Pour manipuler des graphes, WINDEV, WEBDEV et WINDEV Mobile disposent d'une cinquantaine de fonctions. Ces fonctions permettent de créer les graphes, de les modifier, de changer des options d'affichage ...

Les opérations à réaliser pour créer des graphes sont les suivantes : 

1. Créez le graphe avec la fonction [grCrée](../WDLang3/3042005.md).

2. Initialisez les données du graphe avec les fonctions :

	- [&lt;Graphe&gt;.AjouteDonnée](../WDLang3/1000023533.md).

	- [&lt;Graphe&gt;.NuageAjouteDonnéeXY](../WDLang3/1000024105.md) pour les graphes de type Nuage de points.

	- [&lt;Graphe&gt;.BourseAjouteDonnée](../WDLang3/1000023565.md) pour les graphes de type Boursier.

	- [&lt;Graphe&gt;.SurfaceAjouteDonnée](../WDLang3/1000024143.md) pour les graphes de type Surface. 

	- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) [&lt;Graphe&gt;.SMNAjouteDonnée](../WDLang3/1000024132.md) pour les graphes de type Secteur multiniveau.

	- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) [&lt;Graphe&gt;.HMAjouteDonnée](../WDLang3/1000024079.md) pour les graphes de type Heatmap.




3. Choisissez la destination d'affichage du graphe avec les fonctions :

	- [grDestinationChamp](../WDLang3/3042020.md) : pour afficher le graphe dans un champ Image

	- [grDestinationFen](../WDLang3/3042031.md) : pour afficher le graphe dans une fenêtre indépendante
			

	- [grDestinationBMP](../WDLang3/3042018.md), [grDestinationEmf](../WDLang3/3042017.md) ou [grDestinationWMF](../WDLang3/3042019.md) pour enregistrer directement le graphe dans des fichiers respectivement au format BMP, EMF ou WMF. 

	- [grDestinationImage](../WDLang3/1000020952.md) : pour enregistrer le graphe directement dans une variable de type [Image](../WDLang1/1000019650.md). 




4. Dessinez le graphe avec la fonction [&lt;Graphe&gt;.Dessine](../WDLang3/1000024062.md).




De nombreuses fonctions permettent de paramétrer et de modifier l'apparence du graphe. Il est ainsi possible d'afficher une légende, le titre des axes, ... Pour plus de détails, consultez la liste des [fonctions de gestion des graphes](../WDLang3/1000024173.md).

<a name="NOTE3_3"></a>


### Graphes et threads
<a name="graphes_threads_ELTPARAGRAPHE000272"></a>Un seul graphe peut être manipulé dans un thread.

Conséquences :

- Deux threads ne peuvent pas manipuler le même graphe.

- Un graphe créé dans un thread est automatiquement détruit à la fin de ce thread. Le graphe existe dans le thread qui contient l'appel à la fonction [grCrée](../WDLang3/3042005.md).



<a name="NOTE3_4"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png) 

### Valeurs par défaut d'un graphe (dans une fenêtre ou dans une page)
<a name="valeurs_par_defaut_graphe_dans_une_fenetre_dans_une_page_ELTPARAGRAPHE000292"></a>Les valeurs par défaut d'un graphe sont les suivantes :

- Menu contextuel activé (paramétrable avec les fonctions [&lt;Graphe&gt;.Menu](../WDLang3/1000024094.md) et [&lt;Graphe&gt;.OptionMenu](../WDLang3/1000024112.md)).

- Graduation automatique des axes (paramétrable avec la fonction [&lt;Graphe&gt;.Graduation](../WDLang3/1000024076.md)).

- Les couleurs sont sélectionnées selon un ordre prédéfini parmi un éventail de 13 couleurs (paramétrable avec la fonction [&lt;Graphe&gt;.CouleurSérie](../WDLang3/1000023599.md)).

- Les couleurs sont dégradées (paramétrable avec la fonction [&lt;Graphe&gt;.Dégradé](../WDLang3/1000024061.md)).

- Affichage automatique d'une bulle d'aide lors du survol d'un graphe (fonction [&lt;Graphe&gt;.Bulle](../WDLang3/1000024163.md)).

- Taille fichier (paramétrable avec la fonction [grFenTaille](../WDLang3/3042016.md)).

- Taille fenêtre (paramétrable avec la fonction [grFenTaille](../WDLang3/3042016.md)).

- Pas d'étiquette pour les séries (paramétrable avec la fonction [&lt;Graphe&gt;.EtiquetteSérie](../WDLang3/1000024073.md)).

- Pas de libellé pour les éléments (paramétrable avec les fonctions [&lt;Graphe&gt;.EtiquetteCatégorie](../WDLang3/1000024072.md) et [&lt;Graphe&gt;.Libellé](../WDLang3/1000024165.md)).

- Pas de légende (paramétrable avec la fonction [&lt;Graphe&gt;.Légende](../WDLang3/1000024089.md)).

- Pas de titre pour le graphe (paramétrable avec la fonction [&lt;Graphe&gt;.Titre](../WDLang3/1000024166.md)).

- Pas de titre pour les axes (paramétrable avec la fonction [&lt;Graphe&gt;.TitreAxe](../WDLang3/1000024153.md)).

- Pas de quadrillage de fond (paramétrable avec la fonction [&lt;Graphe&gt;.Quadrillage](../WDLang3/1000024121.md)).

- Pas de données (ajout d'éléments avec la fonction [&lt;Graphe&gt;.AjouteDonnée](../WDLang3/1000023533.md)).

- Pas de destination (paramétrable avec les fonctions [grDestinationChamp](../WDLang3/3042020.md), [grDestinationFen](../WDLang3/3042031.md) et [grDestinationWMF](../WDLang3/3042019.md)).

- Pas d'affichage du graphe (pour dessiner le graphe, utilisez la fonction [&lt;Graphe&gt;.Dessine](../WDLang3/1000024062.md)).

- Pas de relief (paramétrable avec la fonction [&lt;Graphe&gt;.Relief](../WDLang3/1000024123.md)).

- Pour les graphes en secteurs, l'angle de départ est égal à 0 (paramétrable avec la fonction [&lt;Graphe&gt;.SecteurAngleDépart](../WDLang3/1000024129.md)).

- Pour les histogrammes et les graphes boursiers de type Minimum/Maximum, l'espace entre deux catégories est égal à 10 pixels (paramétrable avec la fonction [&lt;Graphe&gt;.HistoEspacement](../WDLang3/1000024078.md)).

- Pour les nuages de points, les points sont reliés et de taille égale à 1 (paramétrable avec les fonctions [&lt;Graphe&gt;.NuageReliePoint](../WDLang3/1000024109.md) et [&lt;Graphe&gt;.NuageTaillePoint](../WDLang3/1000024110.md)).





- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDGraphe.gif) ***Exemples didactiques (WINDEV)*** : **WD Graphe** <br>Cet exemple didactique présente diverses utilisations du champ graphe.<br>Différents types de graphe sont présentés : <br>- Secteur (ou camembert)<br>- Secteur multiniveau (ou sunburst)<br>- Courbe<br>- Nuage de points<br>- Histogramme<br>- Aire<br>- ...<br><br>Les fonctionnalités mises en avant sont la personnalisation des graphes par programmation ainsi que le remplissage du graphe à partir d'un fichier de données HFSQL ou dans l'éditeur.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDDessinsurGraphe.gif) ***Exemples didactiques (WINDEV)*** : **WD Dessin sur Graphe** <br>Cet exemple repose sur l'utilisation d'un composant interne permettant de dessiner des éléments sur un champ graphe :<br>- Zones min/max<br>- Zone diverses<br>- Drapeaux<br>- Plots et trackers de suivi<br>...
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LechampGraphe_gestionduclic_.gif) ***Exemples unitaires (WINDEV)*** : **Le champ Graphe (gestion du clic)** <br>Personnalisation du clic sur un graphe de type Secteur.<br>Ici, la part cliquée par l'utilisateur est excentrée par l'application.<br>Pour réaliser ce comportement, il suffit d'utiliser les fonctions WLangage grInfoXY (pour connaître la part cliquée) et grSecteurPartExcentrée (pour excentrer la part).
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDEtats.gif) ***Exemples didactiques (WINDEV)*** : **WD Etats** <br>Cet exemple montre les différentes méthodes pour réaliser un état :<br> <br>- impressions basées sur différentes sources de données (requêtes, variables, ...)<br>- impressions basées sur des champs (Table, Tableur, TCD, ...)<br>- impression d'états composés<br>- impressions spécifiques (portrait / paysage, état avec filigrane, état avec code-barres, ...)
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDEmprunt.gif) ***Exemples complets (WINDEV)*** : **WD Emprunt** <br>Grâce à la puissance de WINDEV et à la simplicité du WLangage, cette application a été développée en 1 journée seulement !<br><br>Cet exemple permet de simuler des emprunts et notamment :<br>- de calculer le montant des mensualités à partir du montant emprunté donné<br>- de calculer le montant empruntable à partir d'une mensualité donnée<br>- de calculer le rapport d'un placement à partir d'un apport mensuel<br><br>Pour chaque cas, il est possible d'imprimer le tableau d'amortissement correspondant à vos paramètres.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LechampGraphe.gif) ***Exemples unitaires (WINDEV)*** : **Le champ Graphe** <br>Utilisation du champ Graphe de WINDEV. <br>Le champ graphe permet d'éditer directement les données qui seront affichées dans le graphe.<br>Ces données peuvent provenir d'une Colonne de table, d'une Liste, d'un tableau WLangage. Vous pouvez également les remplir par programmation.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LesfonctionsGraphe.gif) ***Exemples unitaires (WINDEV)*** : **Les fonctions Graphe** <br>Utilisation des principales fonctionnalités du grapheur de WINDEV :<br>- Réaliser un graphique de type Secteur, Histogramme ou Courbe<br>- Définir la zone d'affichage d'un graphique<br>- Définir les options du graphique (légende, pourcentage,...)<br>- Réaliser un tracé de courbe sur un graphe
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LesfonctionsGraphe.gif) ***Exemples unitaires (WEBDEV)*** : **Les fonctions Graphe** <br>Utilisation des principales fonctionnalités du grapheur de WEBDEV pour :<br>- Réaliser un graphique de type : Secteur, Histogramme ou Courbe<br>- Définir la zone d'affichage d'un graphique<br>- Définir les options du graphique (légende, pourcentage,...)
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMClicsurGraphe.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Clic sur Graphe** <br>L'exemple "WM Clic sur Graphe" propose une solution pour excentrer les parts d'un graphe de type secteur sur un simple clic utilisateur.<br>Cet exemple met à disposition un modèle de champs "MDLC_ExcentreGraphe". Ce modèle de champs permet d'activer l'excentration de parts sur simple clic sur un graphe.<br>Pour disposer de cette fonctionnalité dans une autre application, il suffit d'importer le modèle de champs "MDLC_ExcentreGraphe".
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LechampGraphe.gif) ***Exemples unitaires (WINDEV Mobile)*** : **Le champ Graphe** <br>Utilisation du champ Graphe pour afficher différents types de graphe :<br>- Secteur (ou camembert)<br>- Courbe<br>- Histogramme<br>- Aire
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LesfonctionsGraphe.gif) ***Exemples unitaires (WINDEV Mobile)*** : **Les fonctions Graphe** <br>Utilisation des fonctions Graphe :<br>- réaliser par programmation un graphique de type Secteur, Histogramme ou Courbe<br>- définir les options du graphique (légende, pourcentage,...)


