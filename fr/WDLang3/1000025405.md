
## AppleID (Type de variable)

***En anglais : AppleID***
				



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Le type **AppleID** correspond au justificatif d'identité résultant d'une authentification réussie de l'identifiant Apple. Les caractéristiques de ce type de variable peuvent être définies et modifiées à l'aide de différentes propriétés WLangage. 

**Remarques** : 

- Cette fonctionnalité nécessite : 

	- une version de iOS supérieur/égale à 13 ou une version de macOS supérieur/égale à 10.15.

	- l'activation de "Sign In" dans le "Provisioning profile" de votre application.




- Lors de l'authentification avec la fonction [AppleSignIn](../WDLang3/1000025404.md), une procédure WLangage permet d'obtenir le résultat de l'authentification (variable de type **AppleID**). 

- Pour plus de détails sur la déclaration de ce type de variable et l'utilisation des propriétés WLangage, consultez [Déclaration d'une variable](../Motscles/1514032.md).



<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
PROCÉDURE INTERNE auth(c est un AppleID)
	SI c.Valide = Faux ALORS
		SI ErreurInfo(errCode) = 600062 ALORS
			LIB_Auth = "Vous avez annulé l'authentification."
		SINON
			LIB_Auth = "Erreur pendant l'authentification" + RC + ErreurInfo()
		FIN
	SINON
		LIB_Auth = "Bonjour " + c.Utilisateur + RC
		LIB_Auth += c.Nom + " " + c.Prénom + RC
		LIB_Auth += c.Email + RC
		LIB_Auth += c.Source + RC
	FIN
FIN

AppleSignIn(auth)
```





<a name="NOTE0"></a>

## Remarques
<a name="NOTE0_1"></a>


### Propriétés spécifiques à la description des variables de type AppleID
<a name="proprietes_specifiques_description_des_variables_type_appleid_ELTPARAGRAPHE000039"></a>Les propriétés suivantes peuvent être utilisées pour manipuler un justificatif d'identité Apple :

| Nom de la propriété | Type manipulé | Effet |
| --- | --- | --- |
| CodeAutorisation | Buffer | Jeton éphémère utilisé par votre application comme preuve d'autorisation (par exemple https://appleid.apple.com/auth/token). |
| Email | Chaîne de caractères | Email de l'utilisateur authentifié. <br>Remarque : Cet email peut être un email de rebond fourni par Apple (qui permet un transfert à la vrai adresse email de l'utilisateur).<br><br>Cette propriété est renseignée uniquement lors de la première authentification. Cette information sera fournie si possible sur le périphérique ayant effectué la première authentification. |
| IDToken | Buffer | JWT (JSON Web Token). |
| Nom | Chaîne de caractères | Nom de l'utilisateur authentifié.<br><br>Cette propriété est renseignée uniquement lors de la première authentification. Cette information sera fournie si possible sur le périphérique ayant effectué la première authentification. |
| Prénom | Chaîne de caractères | Prénom de l'utilisateur authentifié.<br><br>Cette propriété est renseignée uniquement lors de la première authentification. Cette information sera fournie si possible sur le périphérique ayant effectué la première authentification. |
| Source | JSON | Charge utile (payload) du JWT décodée. |
| Utilisateur | Chaîne de caractères | Identifiant associé à l'utilisateur authentifié. |
| Valide | Booléen | <br><br>- <u><u><u><u>Vrai</u></u></u></u> si l'authentification a réussi, <br><br>- <u><u><u><u>Faux</u></u></u></u> dans le cas contraire. <br><br><br> |






