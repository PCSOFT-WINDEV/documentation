


## &lt;Variable websocketClient&gt;.Exécute (Fonction)

***En anglais : &lt;websocketClient variable&gt;.Execute***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Exécute une procédure globale dans le contexte d'un client connecté au serveur de WebSocket.
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Récupère la liste des clients
tabClients est un tableau de websocketClient = WebSocketListeClientConnecté()
// Force l'appel de la procédure EnvoieInformations dans chacun des clients
sInformations est une chaîne = RécupèreInformations()
POUR TOUT Client DE tabClients
	Client.Exécute(EnvoieInformations)
	// EnvoieInformations est une procédure globale qui utilise la variable sInformations
FIN
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`<Client>.Exécute(<Procédure WLangage> [, <Paramètres>])`
---

**`<Client> : (Variable de type websocketClient)`**

Nom de la variable de type [websocketClient](../WDLang3/1000025952.md) correspondant au client dans lequel la procédure sera exécutée.

**`<Procédure WLangage> : (Nom de procédure)`**

Nom de la procédure globale WLangage à exécuter dans le contexte du client.

**`<Paramètres> : (Liste de valeurs entre parenthèses et séparées par des virgules)`**

Paramètres de la procédure. Cette liste de paramètres est de la forme : 

```txt
(<Paramètre 1>, ..., <Paramètre N>)
```
où : 

- &lt;Paramètre 1&gt; : Premier paramètre de la procédure.

- ...

- &lt;Paramètre N&gt; : Nième paramètre de la procédure.




**Attention** : 

- Les paramètres sont passés par valeur. 

- Seuls les types simples sont autorisés : Booléen, entier, ... Il n'est par exemple pas possible d'avoir un paramètre correspondant à une instance de classe. 






<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Contextes d'exécution
<a name="contextes_execution_ELTPARAGRAPHE000194"></a>Le service global du serveur de WebSocket et les clients connectés s'exécutent indépendamment. Chacun s'exécute dans son propre contexte avec :

- sa propre copie des variables globales.

- son propre contexte de base de données. 

- etc.


Il n'est donc pas possible de manipuler directement le contexte global ou le contexte d'un autre client.

La fonction **&lt;Variable websocketClient&gt;.Exécute** permet d'exécuter la procédure WLangage passée en paramètre dans le contexte d'un autre client. Pendant l'exécution de la procédure, les variables globales vues seront celles du client cible.
<a name="NOTE0_2"></a>


### Fonctionnement asynchrone
<a name="fonctionnement_asynchrone_ELTPARAGRAPHE000215"></a>Le fonctionnement est asynchrone : la fonction ne fait que demander l'exécution de la procédure. L'exécution effective de la procédure peut intervenir ultérieurement (et en particulier après la sortie de la fonction **&lt;Variable websocketClient&gt;.Exécute**). La fonction **&lt;Variable websocketClient&gt;.Exécute** ne renvoie jamais d'erreur (par exemple si le client s'est/a été déconnecté entre temps).

<a name="XComposante"></a>

## Classification Métier / UI :
Code métier
## Composante :
wd280awws.dll
