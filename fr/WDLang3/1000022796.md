
## Webservices REST : Désérialisation automatique de la requête
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000111"></a>
Dans un Webservice REST, un point d'entrée peut être de divers types : GET, POST, DELETE, ...

Le point d'entrée de type POST reçoit un paramètre qui peut être lui aussi de différents types : Chaîne de texte, JSON, Buffer binaire, ...

A partir de la version 23, ce paramètre est automatiquement passé à la procédure WLangage liée au point d'entrée. 

La désérialisation est automatique en fonction du type de paramètre utilisé et ne nécessite aucun code.

L'assistant de création d'un Webservice REST propose la désérialisation automatique de la requête. Pour plus de détails, consultez [Créer et utiliser un Webservice REST](../WDLang3/1000022792.md). 

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Types de variables automatiquement désérialisés
<a name="types_variables_automatiquement_deserialises_ELTTEXTE000135"></a>
La désérialisation est automatiquement réalisée lors des opérations suivantes : 

- **Affectation dans les chaînes ANSI** (et chaîne si la configuration courante est ANSI). Le contenu reçu est affecté directement dans la chaîne.
	Attention : si le contenu reçu est en UTF-8, il est affecté directement en UTF-8 dans la chaîne.

- **Affectation dans un buffer**. Le contenu reçu est affecté directement dans le buffer.
	Le résultat est équivalent à un appel de la fonction [WebserviceParamètre](../WDLang3/1000022786.md) avec la constante *paramBuffer*.

- **Affectation dans les types complexes** (variant, tableau, tableau associatif, structure et classe), sous conditions : 

	- Si la requête est du JSON, la désérialisation JSON est utilisée. Le type doit pouvoir être désérialisé depuis du JSON.

	- Si la requête est du XML, le désérialisation XML est utilisée. Le type doit pouvoir être désérialisé depuis du XML.

	- Si la requête n'est ni au format JSON, ni au format XML, une erreur spécifique est affichée. 







<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Types de variables non désérialisés automatiquement
<a name="types_variables_non_deserialises_automatiquement_ELTTEXTE000159"></a>
Certains types de variables ne sont pas désérialisés automatiquement, car cette opération n'est pas simple ou n'a pas d'intérêt. 

Ainsi sont interdits : 

- L'affectation dans les types numériques et le type booléen.  

- L'affectation dans les chaînes UNICODE (et dans les chaînes si la configuration courante est UNICODE). Une erreur spécifique est affichée. 

- Tous les types non cités, notamment : 

	- Les paramètres non typés.

	- Les chaînes Pascal, fixe et ASCIIZ.

	- Les types DateHeure et Durée.

	- Les types avancés.

	- Les énumérations et combinaisons.

	- Les requêtes, objet automation, objet .NET, variable composée, interface.

	- Les variables de type Description de Fichier, Description de Rubrique, Description de Liaison, Description de Connexion. 

	- Les variables de type Procédure, Champ, Police, Point, Rectangle, ...








