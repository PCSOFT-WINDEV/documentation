
## DeepLinkProcédure (Fonction)

***En anglais : DeepLinkProcedure***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Définit la procédure WLangage exécutée lors du clic sur un "deep link". L'url cible aura été préalablement associée à l'application lors de sa génération. L'application sera lancée automatiquement si nécessaire.
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
DeepLinkProcédure(ProcDeepLink)
```
<a name="Exemple2"></a>



```wl
// ---------------------------------
// Procédure globale
// ---------------------------------
PROCEDURE ProcDeepLink(url est une URI)
// Extrait l'identifiant du produit contenu dans l'url
sId est une chaine = ExtraitChaine(url.Requête, 2, " = ")
SI sId <> EOT ALORS
	SI FenEtat(FEN_FicheProduit) <> Inexistant ALORS
		Ferme(FEN_FicheProduit)			
	FIN
	OuvreFenêtreMobile(FEN_FicheProduit, sId)
FIN
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`DeepLinkProcédure(<Procédure WLangage>)`
---

**`<Procédure WLangage> : (Nom de procédure)`**

Nom de la procédure WLangage (également nommée "callback") appelée en cas de clic sur un "deep link" dont l'URL cible a été associée à l'application. Cette procédure doit être une procédure globale. Pour plus de détails sur cette procédure, consultez [Paramètres de la procédure utilisée par la fonction DeepLinkProcédure](../WDLang3/1410089478.md).



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


- Il est recommandé d'appeler la fonction **DeepLinkProcédure** dans le code d'initialisation du projet afin que la procédure soit exécutée lorsque l'application est lancée automatiquement lors du clic sur un lien.

- Lors du clic sur un "deep link" : 

	- Le système vérifie si l'URL cible du lien a bien été associée à une application installée et si le propriétaire de cette application et du nom de domaine correspondant à l'URL sont les mêmes. 

	- Si ce n'est pas le cas, il effectue le comportement par défaut (ouverture du lien dans un navigateur par exemple). 

	- Si c'est le cas, les opérations effectuées sont les suivantes : 

		- Si l'application est fermée, le système lance automatiquement l'application. Les codes d'initialisation des classes, des collections de procédures et du projet sont exécutés puis la procédure passée en paramètre à la fonction **DeepLinkProcédure** si celle-ci a été appelée dans l'un des codes d'initialisation précédents. Si à la fin de l'exécution de cette procédure aucune fenêtre de l'application n'est ouverte, la première fenêtre du projet sera ouverte. 

		- Si l'application est déjà lancée, elle passera au premier plan et la procédure passée en paramètre à la fonction **DeepLinkProcédure** sera exécutée.




- Il est possible d'ouvrir des fenêtres dans le code de la procédure passée en paramètre à la fonction **DeepLinkProcédure**. Il est conseillé d'utiliser la fonction [FenEtat](../WDLang1/3038030.md) pour tester l'existence des fenêtres avant leur ouverture pour le cas où le clic sur un "deep link" se produit alors que l'application est déjà lancée.

- Pour savoir si l'application a été lancée par un clic sur un "deep link", utilisez la fonction [ExeInfo](../WDLang1/3035001.md) avec la constante *exeLancement*. La constante *exeDeepLink* sera alors renvoyée si l'application a été lancée depuis un lien.




<a name="XComposante"></a>

## Classification Métier / UI :
Code neutre
## Composante :
wd280android.aar
