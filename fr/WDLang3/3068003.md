


## La structure SMS
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000211"></a>
La structure SMS est une structure prédéfinie du WLangage (aucune déclaration n'est nécessaire). Cette structure permet de créer et de lire un SMS.

**Remarque** : Pour remettre à zéro toutes les variables de la structure SMS, utilisez la fonction [SMSRAZ](../WDLang3/3068001.md).

![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png) La structure SMS est notamment utilisée pour générer des QR Code (par exemple lors de l'impression d'un code-barres).

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Les différentes variables de la structure SMS
<a name="les_differentes_variables_structure_sms_ELTTEXTE000235"></a>
La structure est composée des membres suivants :


|   |   |
| --- | --- |
| **DateRéception** | Date et heure de réception du SMS.<br><br> |
| **Essai** | Booléen (<u><u><u><u>Vrai</u></u></u></u> par défaut)<br>Indique si le message doit être régulièrement envoyé en cas de non-réception.<br><br> |
| **Indice** | Entier correspondant à l'indice du SMS reçu.<br><br><br><br> |
| **Message** | Chaîne de caractères contenant le message à envoyer ou reçu (160 caractères maximum).<br><br> |
| **Numéro** | Chaîne de caractères contenant le numéro du correspondant ou de l'expéditeur. |
| **PièceJointe** | Chaîne de caractères correspondant au chemin de la pièce jointe à associer au message. Si cette variable est spécifiée, le message envoyé sera un MMS. <br><br>**Attention** : Pour être envoyé, le document en pièce jointe doit se trouver sur la mémoire partagée de l'appareil (par exemple sur la carte SD). <br><br>**Remarque** : Cette variable est utilisée uniquement lors de l'envoi de SMS avec la fonction [SMSLanceAppli](../WDLang3/1000020864.md). Elle est ignorée dans tous les autres cas. <br><br><br><br> |
| **PréfixeNational** | Chaîne de caractères contenant le préfixe national (33 par défaut correspondant au préfixe pour la France).<br>Si le numéro du correspondant commence par "0" et qu'un préfixe national est spécifié, le "0" sera remplacé par ce préfixe.<br>Si le préfixe national n'est pas spécifié, utilisez directement un numéro au format international. Par exemple, 33612345678.<br><br> |
| **TypeNuméro** | Indique le type de numéro utilisé :<br><br>- ***smsNuméroInternational*** (valeur par défaut) : ces numéros sont accessibles de partout et sont de la forme 06.xx.xx.xx.xx<br><br>- ***smsNuméroNational*** : numéro court, accessible uniquement depuis le territoire national.<br><br><br><br><br> |



<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Fonctionnement différent en mode GO et en utilisation réelle
<a name="fonctionnement_different_mode_utilisation_reelle_ELTTEXTE000259"></a>
En **mode GO** (simulation sur le poste de développement), une erreur WLangage est générée lors de l'utilisation d'une des variables de la structure SMS.




- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMGestionContacts.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Gestion Contacts** <br>Cet exemple illustre la gestion de contacts pour Android et iOS.<br>Il permet de :<br>- lister les contacts du téléphone<br>- appeler les contacts<br>- envoyer des sms aux contacts<br>- ...


