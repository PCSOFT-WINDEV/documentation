
## NFCEnvoieTag (Fonction)

***En anglais : NFCSendTag***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Envoie un tag NFC à un autre appareil. 

**Remarque** : Les fonctions NFC ne peuvent pas être utilisées dans le simulateur ou dans l'émulateur.
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Envoie une URL à un autre appareil 
tag est un nfcTag
url est une nfcDonnée
url.Type = nfcURI
url.Contenu = "www.pcsoft.com"
Ajoute(tag.Donnée, url)
SI NFCEnvoieTag(tag) = Faux ALORS
	Erreur("Echec de l'écriture sur le tag NFC.", ErreurInfo())
FIN
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`<Résultat> = NFCEnvoieTag(<Tag>)`
---

**`<Résultat> : (Booléen)`**



- <u><u><u><u>Vrai</u></u></u></u> si l'envoi a été effectué, 

- <u><u><u><u>Faux</u></u></u></u> dans le cas contraire. En cas d'erreur, la variable [ErreurDétectée](../WDLang1/3087001.md) est à <u><u><u><u>Vrai</u></u></u></u>. Pour plus de détails sur l'erreur, utilisez la fonction [ErreurInfo](../WDLang1/3013008.md).




**`<Tag> : (Variable de type nfcTag)`**

Nom de la variable de type [nfcTag](../WDLang3/1000020411.md) décrivant les données à envoyer.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Fonctionnement
<a name="fonctionnement_ELTPARAGRAPHE000056"></a>

- L'envoi de tags NFC utilise la fonctionnalité Android Beam de l'appareil. Cette fonctionnalité doit être activée sur l'appareil émetteur et sur l'appareil récepteur. 
	L'activation d'Android Beam se fait dans la fenêtre de paramétrage des communications sans fil de l'appareil. 

- L'appel de la fonction **NFCEnvoieTag** déclenche automatiquement l'ouverture d'une fenêtre invitant l'utilisateur à approcher son appareil d'un autre appareil compatible NFC. Cette fenêtre sera automatiquement fermée : 

	- à la fin de l'envoi,

	- si l'utilisateur annule l'envoi en appuyant sur la touche Back de l'appareil.
			Remarque : Pour personnaliser le message affiché dans cette fenêtre, utilisez la fonction [TitreSuivant](../WDLang1/3038043.md) avant l'appel à la fonction **NFCEnvoieTag**. 




- Sur l'appareil destination, le tag envoyé pourra être lu comme un tag NFC classique : 

	- par une application développée avec WINDEV Mobile en utilisant la fonction [NFCLitTag](../WDLang3/1000020416.md),

	- par une application tierce compatible.






<a name="NOTE0_2"></a>


### Lecture du NFC envoyé
<a name="lecture_nfc_envoye_ELTPARAGRAPHE000087"></a>Pour qu'un appareil puisse lire le tag NFC envoyé par la fonction **NFCEnvoieTag**, il doit supporter : 

- soit le protocole NDEF Push Protocol (com.android.npp),

- soit le protocole  SNEP (Simple NDEF Exchange Protocol). 


S'il est en version supérieure ou égale à 4.0, il doit supporter les deux protocoles.
<a name="NOTE0_3"></a>


### Permissions requises 
<a name="permissions_requises_ELTPARAGRAPHE000102"></a>L'utilisation de cette fonction entraîne la modification des permissions requises par l'application. 

Permissions requises :  

- NFC : Permet aux applications d'effectuer des opérations d'entrée/sortie par la technologie NFC.

- VIBRATE : Permet d'accéder à la fonction vibreur.



<a name="NOTE0_5"></a>



<a name="XComposante"></a>

## Composante :
wd280android.jar


