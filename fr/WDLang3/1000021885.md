


## BTLEEtat (Fonction)

***En anglais : BTLEStatus***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Renvoie l'état actuel d'activation du Bluetooth sur l'appareil ou demande à être notifié des changements d'état d'activation. 

**Remarques** : 

- Pour activer ou désactiver le Bluetooth sur l'appareil, utilisez la fonction [BTActive](../WDLang3/1000019359.md).

- Les fonctions Bluetooth ne sont pas disponibles dans l'émulateur Android.

- Sous Windows, pour connaître l'état du Bluetooth , utilisez la fonction [BTEtat](../WDLang3/1000019360.md). 



<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
EtatBTLE est un entier
EtatBTLE = BTLEEtat()
SELON EtatBTLE
	CAS btActif
		// Traitement 
	AUTRES CAS
	...
FIN
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

### Connaître l'état d'activation actuel du Bluetooth sur l'appareil

`<Résultat> = BTLEEtat()`
---

**`<Résultat> : (Constante de type Entier)`**

Etat d'activation du Bluetooth LE: 


|   |   |
| --- | --- |
| *btActif* | Le Bluetooth est activé sur l'appareil. |
| *btActivationEnCours* | Le Bluetooth est en cours d'activation sur l'appareil. |
| *btDésactivationEnCours* | Le Bluetooth est en cours de désactivation sur l'appareil. |
| *btDésactivé* | Le Bluetooth est désactivé sur l'appareil. |
| *btErreur* | L'état d'activation du Bluetooth n'a pas pu être récupéré. |
| *btNonInitialisé* | L'initialisation du Bluetooth Low Energy n'a pas été réalisée. |




<a name="SYNTAXE2"></a>

### Activer la notification des changements d'activation du Bluetooth

`BTLEEtat(<Procédure WLangage>)`
---

**`<Procédure WLangage> : (Nom de procédure)`**

Nom de la procédure WLangage (appelée "callback") appelée lorsque l'état d'activation du Bluetooth change sur l'appareil. Cette procédure est de la forme : 

```txt
PROCEDURE <Nom de la procédure> (<Nouvel état>, <Ancien état>)
```
où : 

- &lt;Nouvel état&gt; est un entier correspondant au nouvel état d'activation du Bluetooth sur l'appareil. 

- &lt;Ancien état&gt; est un entier correspondant à l'état d'activation du Bluetooth sur l'appareil avant le changement d'état.


Ces entiers correspondent aux constantes suivantes : 


|   |   |
| --- | --- |
| *btActif* | Le Bluetooth est activé sur l'appareil. |
| *btActivationEnCours* | Le Bluetooth est en cours d'activation sur l'appareil. |
| *btDésactivationEnCours* | Le Bluetooth est en cours de désactivation sur l'appareil. |
| *btDésactivé* | Le Bluetooth est désactivé sur l'appareil. |

Les paramètres de cette procédure sont optionnels. Il n'est pas nécessaire de passer de paramètres à cette procédure. En effet, ces paramètres sont renseignés automatiquement à chaque appel.

**Si ce paramètre vaut chaîne vide ("")**, les notifications de changement d'état ne seront plus envoyées. Si aucune demande de notification n'a été effectuée, la fonction est sans effet.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques
<a name="XComposante"></a>

## Composante :
wd280android.aar
