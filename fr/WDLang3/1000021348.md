
## VérifieIdentitéUtilisateur (Fonction)

***En anglais : CheckUserIdentity***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Permet de vérifier l'identité réelle de l'utilisateur en cours par vérification biométrique.

Si l'authentification est disponible, un message est affiché à l'utilisateur lui demandant de s'authentifier. La procédure WLangage d'authentification est ensuite appelée.

**Attention** : Cette fonction vérifie uniquement l'identité de l'utilisateur via les données enregistrées sur son mobile. Il n'est pas possible d'enregistrer l'empreinte digitale de l'utilisateur. 

**Remarques** : 





<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
VérifieIdentitéUtilisateur("Vérification de l'identité pour déblocage", Authentification)
```

```wl
// Procédure de vérification
PROCEDURE Authentification(nEtat est un entier, sMessageErreur est une chaîne)

SELON nEtat 
	CAS viuAuthentifié
		Info("Authentification OK")
	CAS viuEchecAuthentification
		Erreur("Echec de l'authentification : " + sMessageErreur)
	CAS viuAuthentificationIndisponible
		Erreur("Authentification indisponible")
	CAS viuAuthentificationManuelle
		mdp est une chaîne
		// Saisie de commentaires par l'utilisateur dans un champ multiligne
		SELON Saisie("Entrez le mot de passe : ", mdp)
			// OK
			CAS 1 : 
			// Annuler
			CAS 0 : 
		FIN
FIN
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`VérifieIdentitéUtilisateur(<Message> , <Procédure WLangage> [, <Libellé du bouton>])`
---

**`<Message> : (Chaîne de caractères)`**

Message qui sera affiché à l'utilisateur. 


**`<Procédure WLangage> : (Nom de procédure)`**

Nom de la procédure WLangage (également nommée "callback") appelée à la fin de l'authentification de l'utilisateur. Cette procédure est de la forme :

```txt
PROCEDURE <Nom de la procédure> (<Etat>, <Message d'erreur>)
```


où : 

-  est une constante de type entier indiquant l'état de l'authentification :
	


|   |   |
| --- | --- |
| *viuAuthentificationIndisponible* | La fonctionnalité d'authentification est indisponible ou désactivée par l'utilisateur. |
| *viuAuthentificationManuelle* | L'utilisateur a demandé à s'authentifier en utilisant un mot de passe : l'application devra gérer cette authentification manuellement |
| *viuAuthentifié* | L'utilisateur s'est authentifié correctement. |
| *viuEchecAuthentification* | L'authentification a échoué. |



-  est une chaîne de caractères contenant le message d'erreur système en cas d'échec de l'authentification (constante *viuEchecAuthentification*). Dans le cas contraire, ce paramètre correspond à une chaîne vide.




**`<Libellé du bouton> : (Chaîne de caractères optionnelle)`**

Libellé du bouton d'authentification par défaut (affiché sur le bouton de saisie du mot de passe). Ce bouton permet de se connecter sans la vérification biométrique. Ce bouton apparaît dès le premier échec.


<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques



## Composante :
wd280android.aar
