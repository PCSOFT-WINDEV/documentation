
## Gestion du protocole SNMP
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000151"></a>
SNMP (Simple Network Management Protocol) est le protocole standard de gestion du matériel réseau. Les fonctions SNMP permettent de réaliser des applications capables de monitorer les éléments d'un réseau : PC, serveurs, switchs, automates, ... Ces fonctions permettent également de :

- Suivre la charge du réseau

- Optimiser le fonctionnement du réseau

- Gérer éventuellement les problèmes réseau.




Remarque : SNMP version V1 est supporté. 

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Activation
<a name="activation_ELTTEXTE000175"></a>
Pour que les PC d'un réseau puissent fournir des informations, il est nécessaire d'activer l'agent SNMP des ordinateurs.

Pour Windows, les étapes à réaliser sont les suivantes :

1. Affichez le panneau de configuration.

2. Sélectionnez l'option "Ajout / Suppression de programmes".

3. Sélectionnez "Ajouter / Supprimer des composants Windows".

4. Ajoutez si nécessaire le module "Outil de gestion et d'analyse".

5. Lancez le gestionnaire de services Windows et sélectionnez le service "Service SNMP".

6. Dans les propriétés du service (clic droit), dans l'onglet "Sécurité", ajoutez deux communautés : une communauté "public" avec des droits en lecture et une communauté "privée" avec des droits en lecture / écriture.






<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Mise en oeuvre
<a name="mise_oeuvre_ELTTEXTE000199"></a>
La mise en oeuvre des fonctions SNMP s'effectue en 2 étapes :

1. [Connexion à l'équipement concerné](#NOTE3_2).

2. [Récupération des informations voulues](#NOTE3_3).





<a name="NOTE3_2"></a>


### Connexion à l'équipement
<a name="connexion_equipement_ELTPARAGRAPHE000054"></a>La connexion est réalisée grâce à la fonction [SNMPOuvreSession](../WDLang3/1000017067.md).


```wl
IDSession = SNMPOuvreSession("TestDoc", "public")
```


Cette fonction nécessite :

- L'adresse IP du matériel.

- Le nom de la communauté SNMP avec laquelle le dialogue va être mis en place.




L'identifiant renvoyé permet de dialoguer avec l'équipement.


<a name="NOTE3_3"></a>


### Lecture des informations
<a name="lecture_des_informations_ELTPARAGRAPHE000074"></a>La lecture des informations est effectuée dans l'arborescence SNMP grâce à la fonction [SNMPLit](../WDLang3/1000017069.md).

Cette fonction nécessite :

- l'identifiant de la session,

- l'identifiant SNMP de la valeur à récupérer (par exemple pour la RAM "1.3.6.1.2.1.1.1.0").






<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Identifiant, OID et MIB
<a name="identifiant_oid_mib_ELTTEXTE000235"></a>
L'identifiant de la valeur à récupérer se nomme l'OID. Cette valeur peut être trouvée :

- soit sur Internet pour les valeurs standard.

- soit dans la documentation du matériel. Cette documentation s'appelle la MIB et regroupe toutes les valeurs spécifiques de votre matériel.




Remarque : La fonction [SNMPChargeMIB](../WDLang3/1000017074.md) permet de charger en mémoire les informations provenant d'une MIB afin d'utiliser l'identifiant chaîne de l'OID en non son identifiant numérique.




- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LesfonctionsSNMP.gif) ***Exemples unitaires (WINDEV)*** : **Les fonctions SNMP** <br>Utilisation des fonctions SNMP




