
## WDTestSite : Exécution d'un scénario
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000148"></a>
Le scénario est un fichier texte (extension ".WCN") contenant toutes les manipulations effectuées pendant l'enregistrement du scénario.

Ce scénario est exécuté directement avec WDTestSite.



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Exécution d'un scénario
<a name="execution_scenario_ELTTEXTE000172"></a>
Exécuter un scénario permet par exemple de vérifier la non-régression d'un site WEBDEV. En effet, un scénario effectué avec une version précédente du site doit fonctionner avec une mise à jour du site.

Exécuter un même scénario plusieurs fois consécutivement permet par exemple de tester les capacités du serveur lors de connexions simultanées, ... Dans ce cas, il est conseillé d'utiliser un scénario ne fermant pas le site.

Dans tous les cas, il est conseillé d'exécuter le scénario :

- depuis un poste quelconque (poste de développement par exemple).

- sur le serveur Web de déploiement du site WEBDEV.





<a name="NOTE2_2"></a>


### Exécuter un scénario
<a name="executer_scenario_ELTPARAGRAPHE000034"></a>Pour exécuter un scénario :

1. Paramétrez l'administrateur WEBDEV du poste sur lequel le scénario va être exécuté (serveur Web). Vérifiez les paramètres du site correspondant au scénario :

	- le nombre maximum de connexions au site :
			Ce nombre doit correspondre au nombre maximum de connexions simultanées voulues (ou successives si les sites ne se terminent pas).

	- le nombre maximum de re-connexions d'un utilisateur au site :
			Dans le cas d'un scénario exécuté depuis un poste plusieurs fois, ce chiffre doit correspondre au nombre d'exécutions du scénario.

	- le temps de déconnexion des utilisateurs inactifs : 
			Dans le cas d'un test des capacités du serveur, le temps de déconnexion des utilisateurs inactifs doit être élevé (plus de 30 minutes par exemple).




2. Lancez WDTestSite sur le poste de test (poste de développement par exemple).

3. Sélectionnez le serveur Web sur lequel le scénario doit être exécuté. Ce serveur doit être accessible depuis le poste de test. L'administrateur WEBDEV (version Développement ou version Déploiement) doit être lancé sur le serveur.
	Vous pouvez saisir dans la liste "Machine Cible" :

	- un nom de machine accessible par le réseau. Exemple : "Serveur Test"

	- une adresse IP. Exemple : 123.3.456.12

	- une adresse internet. Exemple : www.flop.fr
			Le bouton "Voisinage" permet de lister les postes directement accessibles par le réseau (non disponible sous Windows 98 ou Me).




4. Sélectionnez votre scénario dans la liste des scénarios disponibles.

5. Cliquez sur le bouton "Exécuter". La fenêtre d'exécution apparaît et le test s'exécute automatiquement.

6. Pour exécuter plusieurs fois le scénario consécutivement, indiquez un nombre de tours supérieur à 1 et cliquez sur le bouton "Ré-exécuter".





<a name="NOTE2_3"></a>


### Remarques
<a name="remarques_ELTPARAGRAPHE000067"></a>

- Lors de l'exécution du scénario, toutes les actions réalisées dans le site sont affichées. En cas de problème (erreur, ...), le scénario s'arrête et la dernière ligne affiche l'erreur rencontrée.

- En cas d'erreur, un fichier HTML contenant l'erreur est enregistré dans le répertoire "C:\\TEMP" du poste en cours. Attention : l'utilisateur Internet doit avoir les droits d'écriture sur le répertoire "C:\\Temp".

- Pour tester les capacités du serveur lors de connexions simultanées, il est conseillé d'exécuter un même scénario depuis plusieurs postes. Pour plus de détails, consultez Installation de WDTestSite sur différents postes.






<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Exécution d'un scénario en ligne de commande
<a name="execution_scenario_ligne_commande_ELTTEXTE000208"></a>
Pour exécuter un scénario en ligne de commande :

1. Paramétrez l'administrateur WEBDEV du poste sur lequel le scénario va être exécuté (serveur Web). Vérifiez les paramètres du site correspondant au scénario :

	- le nombre maximum de connexions au site :
			Ce nombre doit correspondre au nombre maximum de connexions simultanées voulues (ou successives si les sites ne se terminent pas).

	- le nombre maximum de re-connexion d'un utilisateur au site :
			Dans le cas d'un scénario exécuté depuis un poste plusieurs fois, ce chiffre doit correspondre au nombre d'exécutions du scénario.

	- le temps de déconnexion des utilisateurs inactifs : 
			Dans le cas d'un test des capacités du serveur, le temps de déconnexion des utilisateurs inactifs doit être élevé (plus de 30 minutes par exemple).




2. Lancez WDTestSite sur le poste de test en utilisant la syntaxe suivante :





```txt
WDTestSite /AUTO = <Nom de scénario>
```


Par exemple : "WDTestSite /AUTO = MonScenario.wcn". Le scénario est automatiquement exécuté, et WDTestSite se termine.

Le scénario doit être présent dans le répertoire des scénarios. 
Rappel : Le scénario (fichier d'extension ".WCN") est créé dans le sous-répertoire "Scénario" du répertoire contenant le programme "WDTestSite.EXE".




