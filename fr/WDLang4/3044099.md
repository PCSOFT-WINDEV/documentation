
## HErreurBlocage (Fonction)

***En anglais : HErrorLock***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Permet de vérifier si une erreur de blocage est survenue. Cette fonction doit être utilisée lors d'une gestion personnalisée des blocages et des conflits de modification.

Remarque : Par défaut, une [gestion automatique des erreurs de blocages et des conflits de modification](../WDLang4/3044188.md) est effectuée (sauf dans le code des procédures stockées). A tout moment, il est possible de personnaliser ou de débrancher cette gestion automatique des erreurs avec la fonction [HSurErreur](../WDLang4/3044017.md).










<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Lecture du premier enregistrement
HLitPremier(Client, Nom)
// Erreur de blocage ?
SI HErreurBlocage() = Vrai ALORS
	Erreur("Une erreur de blocage a été détectée")
FIN
```



<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`<Résultat> = HErreurBlocage()`
---

**`<Résultat> : (Booléen)`**



- <u><u><u><u>Vrai</u></u></u></u> si un échec de blocage est survenu, 

- <u><u><u><u>Faux</u></u></u></u> dans le cas contraire (pas d'erreur).  






<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


- La gestion des blocages n'est pas automatique sur des rubriques de type Mémo ou Mémo Binaire.

- Suite à la lecture d'un enregistrement déjà bloqué, aucune lecture du fichier de données n'est effectuée :

	- la fonction **HErreurBlocage** renvoie <u><u><u><u>Vrai</u></u></u></u>.

	- la fonction [HEnDehors](../WDLang4/3044094.md) renvoie <u><u><u><u>Vrai</u></u></u></u>.
			Par conséquent, si cette lecture est effectuée dans une boucle de parcours d'un fichier de données HFSQL, ce parcours est interrompu.
			La variable [H.NbEssais](../WDLang4/3044075.md) indique le nombre de tentatives de blocage du fichier de données ou de l'enregistrement avant de rendre la main au programme (uniquement en mode multi-utilisateurs). 




- Cette fonction remplace la fonction **HDéjàBloqué** présente en WINDEV 5.5.




<a name="XComposante"></a>

## Classification Métier / UI :
Code métier
## Composante :
wd280hf.dll
