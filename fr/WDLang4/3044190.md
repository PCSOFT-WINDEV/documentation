
## Gestion des espaces dans les recherches ? 
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Gestion des espaces dans les recherches
<a name="gestion_des_espaces_dans_les_recherches_ELTTEXTE000408"></a>
Deux types de recherche peuvent être réalisés dans des fichiers de données HFSQL :

- **recherche à l'identique** : recherche de tous les enregistrements correspondant exactement à la valeur recherchée.

- **recherche générique** : recherche de tous les enregistrements commençant par la valeur recherchée.




**Avec WINDEV 5.5**, les espaces permettaient de compléter les rubriques texte.
Par défaut, les recherches étaient génériques.
Pour réaliser une recherche à l'identique, il était nécessaire de compléter la valeur recherchée par des espaces sur la taille de la rubrique (fonction [Complète](../WDLang1/3024010.md)). Si cette valeur n'était pas complétée par des espaces, la recherche était générique.

**A partir de WINDEV 8**, pour tous les fichiers créés sous l'éditeur d'analyses, les espaces sont par défaut des espaces significatifs.
Les espaces sont considérés comme tout autre caractère. Un espace est présent dans une rubrique uniquement si cet espace a été saisi.
Les recherches génériques ou à l'identique ne sont plus différenciées par l'utilisation des espaces.
Par défaut, les recherches sont à l'identique.
Pour réaliser une recherche générique, il suffit d'utiliser la constante *hGénérique* dans la fonction [HLitRecherchePremier](../WDLang4/3044036.md).

De nouvelles fonctionnalités de recherche sont disponibles. Des options de recherche peuvent être définies au niveau des rubriques clé texte. Ces options permettent de réaliser une recherche :


|   |   |
| --- | --- |
| <br><br>- sensible à la casse ou non.<br><br>- sensible à l'accentuation ou non.<br><br>- sensible aux espaces et à la ponctuation ou non.<br><br><br> | ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=recherche.gif)<br><br><br>Option affichée dans la fenêtre "Rubriques du fichier", <br>*onglet "Général" d'une rubrique clé texte.* |

**Pour conserver la compatibilité avec WINDEV 5.5**, l'éditeur d'analyses propose le "Mode compatible 5.5" (disponible dans l'onglet "Détail" de la description du fichier). Ce mode est automatiquement sélectionné pour :

- les fichiers au format 5.5 présent dans une analyse WINDEV 28.

- les fichiers au format 5.5 migrés vers WINDEV 28.




![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Detail_complete_composee.gif)




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Espaces et recherches dans des fichiers HFSQL Classic
<a name="espaces_recherches_dans_des_fichiers_hfsql_classic_ELTTEXTE000438"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![HFSQL Classic](https://doc.pcsoft.fr/ext/images/fr/HF.png) 



   | --- |
| --- | --- |
|   | Fichier HFSQL Classic : Options sélectionnées sous l'éditeur d'analyses |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Detail_complete_composee_mo.gif)<br><br><br>Ce tableau indique l'effet du mode sélectionné (onglet "Détail" de la description du fichier). | ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=recherche.gif)<br><br><br>Ce tableau est valable uniquement si ces 3 cases sont cochées<br>(Fenêtre "Rubriques du fichier", onglet "Général" d'une rubrique clé texte) |
| **Option "Stockage des rubriques texte et des clés composées texte"** |
| **Option Mode Classic** (par défaut pour les nouveaux fichiers)<br>Mode conseillé pour les nouvelles applications | **Option Mode Compatible 5.5** |
| Recherche à l'identique | <br><br>- Fonction [HLitRecherchePremier](../WDLang4/3044036.md)<br><br>- Fonction [HLitRecherche](../WDLang4/3044050.md) (avec la constante *hIdentique*)<br><br><br> | Fonction [HLitRecherchePremier](../WDLang4/3044036.md) |
| Recherche générique | <br><br>- Fonction [HLitRecherchePremier](../WDLang4/3044036.md) (constante *hGénérique*)<br><br>- Fonction [HLitRecherche](../WDLang4/3044050.md)<br><br><br> | Fonction [HLitRecherchePremier](../WDLang4/3044036.md) (constante *hGénérique*) |
| Gestion des espaces réalisée par défaut | Les espaces sont par défaut des espaces significatifs. Les espaces sont considérés comme tout caractère. Un espace est présent dans une rubrique uniquement si cet espace a été saisi.<br>La fonction [EspaceSignificatif](../WDLang4/3044142.md) n'a pas d'effet. | Lors de la lecture d'un enregistrement, les espaces en fin des rubriques de type "chaîne texte" ne sont pas supprimés.<br>Pour que les espaces soient supprimés, utilisez la fonction [EspaceSignificatif](../WDLang4/3044142.md) (comme en WINDEV 5.5). |
| Remarque | Lors du passage du "Mode compatible 5.5" au "Mode Classic", une modification automatique des fichiers de données est générée.<br>Pour chaque enregistrement, les espaces présents en fin des rubriques de type "chaîne texte" sont supprimés. |





<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Espaces et recherches : migration de Hyper File 5.5 vers HFSQL Classic
<a name="espaces_recherches_migration_hyper_file_55_vers_hfsql_classic_ELTTEXTE000462"></a>
Le tableau suivant présente les différentes possibilités de recherche en fonction :

- du type de fichier de données HFSQL utilisé : Fichier au format Hyper File 5.5, Fichier au format Hyper File 5.5 migré en HFSQL Classic, Fichier au format HFSQL Classic.

- du mode de stockage des rubriques texte (Mode compatible 5.5 ou Mode Classic)




Les options de recherche pour les clés texte sont cochées.


<a name="NOTE3_2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 




|   |   |   |   |   |   |   |
| --- | --- | --- | --- | --- | --- | --- |
|   | **Options sélectionnées sous l'éditeur d'analyses** |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Detail_complete_composee_mo.gif)<br><br><br>Ce tableau indique l'effet du mode de stockage des rubriques <br>texte sélectionné (onglet "Détail" de la description du fichier) | ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=recherche.gif)<br><br><br>Ce tableau est valable uniquement si ces 3 cases sont cochées<br>(Fenêtre "Rubriques du fichier", onglet "Général" d'une rubrique clé texte) |
| **Fichiers HFSQL Classic** | **Fichiers Hyper File 5.5 migrés au format HFSQL Classic** | **Fichiers Hyper File 5.5** |
| Mode Classic (par défaut)<br>**Mode conseillé pour les nouvelles applications** | Mode compatible 5.5 | Mode Classic | Mode compatible 5.5  (par défaut) | Mode compatible 5.5  (par défaut) |
| Recherche à l'identique | Conseillé pour les nouvelles applications | Fonction [HLitRecherchePremier](../WDLang4/3044036.md) | Fonction [HLitRecherchePremier](../WDLang4/3044036.md) | Fonction [HLitRecherchePremier](../WDLang4/3044036.md) | Fonction [HLitRecherchePremier](../WDLang4/3044036.md) | Il est impossible de passer en mode Classic. |
| Code compatible 5.5 | Recherche générique par défaut. | Fonction [HLitRecherche](../WDLang4/3044050.md)<br>La valeur de la rubrique à rechercher doit être complétée par des espaces (fonction [Complete](../WDLang1/3024010.md)). | Fonction [HLitRecherche](../WDLang4/3044050.md)<br>La valeur de la rubrique à rechercher doit être complétée par des espaces (fonction [Complete](../WDLang1/3024010.md)). | Recherche générique uniquement. | Il est impossible de passer en mode Classic. |
| Recherche générique | Conseillé pour les nouvelles applications | Fonction [HLitRecherchePremier](../WDLang4/3044036.md) (constante *hGénérique*). | Fonction [HLitRecherchePremier](../WDLang4/3044036.md) (constante *hGénérique*). | Fonction [HLitRecherchePremier](../WDLang4/3044036.md) (constante *hGénérique*). | Fonction [HLitRecherchePremier](../WDLang4/3044036.md) (constante *hGénérique*). | Il est impossible de passer en mode Classic. |
| Code compatible 5.5 | Fonction [HLitRecherche](../WDLang4/3044050.md) | Fonction [HLitRecherche](../WDLang4/3044050.md) | Fonction [HLitRecherche](../WDLang4/3044050.md) | Fonction [HLitRecherche](../WDLang4/3044050.md) | Il est impossible de passer en mode Classic. |
| Gestion des espaces réalisée par défaut | Les espaces sont par défaut des espaces significatifs. Les espaces sont considérés comme tout autre caractère. Un espace est présent dans une rubrique uniquement si cet espace a été saisi.<br>La fonction [EspaceSignificatif](../WDLang4/3044142.md) n'a pas d'effet. | Lors de la lecture d'un enregistrement, les espaces en fin des rubriques de type "chaîne texte" ne sont pas supprimés.<br>Pour que les espaces soient supprimés, utilisez la fonction [EspaceSignificatif](../WDLang4/3044142.md) (comme en WINDEV 5.5). | Lors de la lecture d'un enregistrement, les espaces en fin des rubriques de type "chaîne texte" ne sont pas supprimés.<br>Pour que les espaces soient supprimés, utilisez la fonction [EspaceSignificatif](../WDLang4/3044142.md) (comme en WINDEV 5.5). | Les espaces sont par défaut des espaces significatifs. Les espaces sont considérés comme tout autre caractère. Un espace est présent dans une rubrique uniquement si cet espace a été saisi.<br>La fonction [EspaceSignificatif](../WDLang4/3044142.md) n'a pas d'effet. | Il est impossible de passer en mode Classic. |
| Remarques | Lors du passage du "Mode compatible 5.5" au "Mode Classic",  une modification automatique des fichiers de données est générée. Pour chaque enregistrement, les espaces présents en fin des rubriques de type "chaîne texte" sont supprimés. | Lors du passage du "Mode compatible 5.5" au "Mode Classic", une modification automatique des fichiers de données est générée. Pour chaque enregistrement, les espaces présents en fin des rubriques de type "chaîne texte" sont supprimés. |   |






