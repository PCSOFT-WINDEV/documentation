


## HRSInit (Fonction)

***En anglais : HRSInit***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Configure un serveur HFSQL pour en faire un serveur maître ou un serveur abonné d'une réplication entre serveurs HFSQL.

<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
HRSInit(Cnx, hrsAbonné, 1, "mdp", 4996, 5)
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`<Résultat> = HRSInit(<Connexion> , <Rôle du serveur> , <Identifiant du serveur> , <Mot de passe> , <Port> , <Priorité>)`
---

**`<Résultat> : (Booléen)`**



- <u><u><u><u>Vrai</u></u></u></u> si la configuration a été effectuée,

- <u><u><u><u>Faux</u></u></u></u> dans le cas contraire. La fonction [HErreurInfo](../WDLang4/3044071.md) permet d'identifier l'erreur.




**`<Connexion> : (Chaîne de caractères ou variable de type Connexion)`**

Connexion vers le serveur HFSQL à configurer. Cette connexion correspond : 

- soit au nom de la connexion définie sous l'éditeur d'analyses ou grâce aux fonctions [HDécritConnexion](../WDLang4/3044205.md) ou [HOuvreConnexion](../WDLang4/3044107.md).

- soit au nom d'une variable de type [Connexion](../WDLang4/1514073.md).




**`<Rôle du serveur> : (Constante de type Entier)`**

Rôle du serveur dans la réplication : 


|   |   |
| --- | --- |
| *hrsAbonné* | Poste abonné dans la réplication entre serveurs HFSQL. |
| *hrsInactif* | Poste inactif dans la réplication entre serveurs HFSQL. |
| *hrsMaître* | Poste maître dans la réplication entre serveurs HFSQL. |
| *hrsMaître* + *hrsAbonné* | Poste maître et abonné dans la réplication entre serveurs HFSQL (cas d'une réplication bi-directionnelle). |



**`<Identifiant du serveur> : (Entier)`**

Numéro identifiant le serveur HFSQL en cours parmi tous les serveurs participants à une réplication. Cet identifiant doit être unique. Cet identifiant doit être compris entre 1 et 32000. 

**`<Mot de passe> : (Chaîne de caractères)`**

Mot de passe de la réplication, permettant d'authentifier les serveurs entre eux. Ce mot de passe doit être utilisé sur l'autre serveur dans l'appel à la fonction [HRSAjouteConfig](../WDLang4/1000020492.md) (c'est-à-dire dans la propriété **MotDePasse** de la variable [hrsConfig](../WDLang4/1000020484.md)).

Pour utiliser des réplication bidirectionnelle, le mot de passe doit être le même sur les deux serveurs.

**`<Port> : (Entier)`**

Numéro de port TCP/IP utilisé pour la réplication entre les serveurs HFSQL. 

**`<Priorité> : (Entier)`**

Numéro de priorité du serveur. Lors d'un conflit de modification, ce numéro est utilisé si la méthode de résolution du conflit correspond à une résolution par priorité. 



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques
La fonction **HRSInit** peut être utilisée plusieurs fois sur un même serveur, par exemple pour changer uniquement le rôle d'un serveur dans une réplication. 

<a name="XComposante"></a>

## Composante :
wd280hf.dll
