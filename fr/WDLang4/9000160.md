
## Driver ODBC pour HFSQL Classic et pour HFSQL Client/Serveur (Linux)
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000172"></a>
Le driver ODBC pour HFSQL Classic (monoposte ou réseau) permet d'accéder à une base de données HFSQL Classic depuis un logiciel de base de données externe, gérant les accès par ODBC.

Le driver ODBC pour HFSQL Client/Serveur permet d'accéder à une base de données HFSQL Client/Serveur depuis un logiciel de base de données externe, gérant les accès par ODBC.

Le driver est disponible en lecture et en écriture. Une application écrite dans un langage tiers peut lire et écrire dans des fichiers HFSQL.

Le driver ODBC pour HFSQL Classic et HFSQL Client/Serveur est un driver ODBC de niveau 3. Pour plus d'informations, consultez un manuel spécialisé sur ODBC.

**Remarques** : 

- Cette page d'aide présente l'installation du driver ODBC pour HFSQL Classic et HFSQL Client/Serveur pour Linux. L'installation du driver ODBC pour HFSQL Classic et HFSQL Client/Serveur pour Windows est détaillée dans la page d'aide [Driver ODBC pour HFSQL Classic et pour HFSQL Client/Serveur](../WDLang4/3044179.md). 

- Pour donner accès aux données HFSQL via le driver ODBC, l'installation du driver ODBC pour Linux doit être réalisée manuellement sur le poste sur lequel les données HFSQL sont installées. 




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Installation
<a name="installation_ELTTEXTE000196"></a>


### Préalable : installation du manager iODBC
<a name="prealable_installation_manager_iodbc_ELTPARAGRAPHE000030"></a>Le driver ODBC sous Linux utilise le manager iODBC ([http://www.iodbc.org/](http://www.iodbc.org/)). Il est nécessaire d'installer ce programme avant toute utilisation du driver. 

Pour installer ce driver sous Ubuntu, il suffit d'installer le package libiodbc-dev : 


```txt
apt-get install libiodbc2-dev
apt-get install iodbc
```





### Installation du driver
<a name="installation_driver_ELTPARAGRAPHE000043"></a>Le driver ODBC sous Linux est fourni en version 32 bits et 64 bits dans le répertoire "INSTALL\\ODBC" du répertoire d'installation de WINDEV, WEBDEV ou WINDEV Mobile : 

- En 32 bits : wxpackodbclinux32.zip

- En 64 bits : wxpackodbclinux64.zip




Pour l'installer : 

- Dézipper le pack voulu dans un répertoire local (par exemple "/opt/wdhfo"). 

- Exécutez le script "install.sh" de la manière suivante : 
	
	```txt
	>cd /path/to/driver/
	>sudo ./install.sh
	```





Remarque : Ce script enregistre le driver auprès de iODBC. Pour plus d'informations, utilisez : 

```txt
install.sh -help
```


<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Configuration de la base de données
<a name="configuration_base_donnees_ELTTEXTE000226"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000066"></a>Pour configurer une source de données, deux possibilités : 

- utiliser [l'outil graphique de iODBC](#NOTE4_2). 

- réaliser la configuration [manuellement](#NOTE4_3). 



<a name="NOTE4_2"></a>


### Configuration d'une source de données via l'outil graphique de iODBC
<a name="configuration_une_source_donnees_via_outil_graphique_iodbc_ELTPARAGRAPHE000082"></a>

- Lancez l'outil "iodbcadm-gtk". 

- La fenêtre suivante s'affiche : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=iodbc1.gif)


- Cliquez sur "Ajouter". 

- Sélectionnez dans la liste qui s'affiche le driver HFSQL puis cliquez sur "Finish". La fenêtre suivante s'affiche : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=iodbc2.gif)


- Saisissez manuellement les clés : 

	- Pour une connexion ISAM : 

		- RepFic : Répertoire des fichiers .FIC

		- Analyse : chemin du WDD. Ce paramètre est optionnel




- Pour une connexion Client/Serveur : 

	- Server Name : Nom du serveur

	- Server Port : Port à utiliser

	- Database : Nom de la base

	- UID : Nom de l'utilisateur

	- PWD : Mot de passe de l'utilisateur

	- Analyse : chemin du WDD. Ce paramètre est optionnel. <br>![Exemple pour une connexion ISAM](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=iodbc3.gif)

- Validez deux fois le dialogue. 




La source est configurée. Il est possible de la tester avec le programme "iodbctest".

```txt
iodbctest "DSN=MaSourceODBC"
```

<a name="NOTE4_3"></a>


### Configuration manuelle
<a name="configuration_manuelle_ELTPARAGRAPHE000115"></a>

- Créez à la racine du répertoire "home" un fichier ".odbc.ini". 

- Pour chaque source, ajoutez les lignes suivantes dans ce fichier : 

	- Source HFSQL ISAM :
			
		```txt
		[ODBC Data Sources] 
		<Nom Source> = HFSQL 
		[<Nom Source>] 
		Driver = /chemin/vers/WD220hfo64.so 
		RepFic = <chemin des fichiers>
		```


	- Source HFSQL C/S : 
			
		```txt
		[ODBC Data Sources] 
		<Nom Source> = HFSQL 
		[<Nom Source>] 
		Server Name = <Nom du serveur>
		Server Port = <Port à utiliser>
		Database = <Nom de la base>
		UID = <Nom de l'utilisateur>
		PWD = <Mot de passe de l'utilisateur>
		```









