


## HForceEcriture (Fonction)

***En anglais : HFlush***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Force le système d'exploitation du poste sur lequel les fichiers de données sont présents à écrire les données directement sur le disque. Le contexte HFSQL du fichier de données manipulé est conservé (blocage, parcours en cours, ...).

**Remarque** : Utilisée régulièrement, cette fonction permet de minimiser les pertes de données occasionnées par les arrêts inattendus du poste sur lequel les fichiers de données sont présents (coupure de courant par exemple).

![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Cette fonction est disponible uniquement pour les fichiers de données HFSQL. Elle n'est pas disponible pour les fichiers de données accédés par JDBC. 
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Ajout d'un enregistrement dans un fichier de données
// (enregistrement décrit par programmation)
Client.Nom = "Moulin"
Client.Prenom = "François"
Client.Adresse = "Impasse de la belle"
Client.Ville = "Montpellier"
Client.CodeP = "34000"
Client.Pays = "France"
HAjoute(Client)
// Force l'écriture dans le fichier Client
HForceEcriture(Client)
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`HForceEcriture(<Fichier de données>)`
---

**`<Fichier de données> : (Chaîne de caractères)`**

Nom du fichier de données manipulé. 
Si ce nom n'est pas spécifié, la fonction **HForceEcriture** va manipuler le dernier fichier de données utilisé par la dernière fonction de gestion HFSQL (fonction commençant par la lettre H).
Si ce paramètre correspond à "\*", la fonction **HForceEcriture** sera appliquée sur l'ensemble des fichiers de données ouverts.
**Attention** : Dans ce cas, l'exécution de la fonction peut être longue.
Ce paramètre peut également correspondre au nom d'un [groupe de fichiers (ou perso-dossier) défini dans l'analyse](../Editeurs/2011003.md) (non disponible en Android et Android Widget).



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png)![HFSQL Classic](https://doc.pcsoft.fr/ext/images/fr/HF.png)![HFSQL Client/Serveur](https://doc.pcsoft.fr/ext/images/fr/HFCS.png) 

### Gestion des blocages
<a name="gestion_des_blocages_ELTPARAGRAPHE000104"></a>Lors de l'appel de la fonction **HForceEcriture**, le fichier de données manipulé est fermé puis réouvert. Si des blocages étaient mis en place sur ce fichier de données avant sa fermeture, ces blocages sont rétablis automatiquement à sa réouverture. En effet, lors de la fermeture d'un fichier de données, le système d'exploitation supprime les blocages mis en place sur ce fichier de données.

**Remarque** : Il est donc déconseillé d'appeler cette fonction trop souvent sur :

- des fichiers de données sur lesquels un grand nombre de blocages est mis en place.

- des fichiers de données sur lesquels un grand nombre d'écritures est réalisé.



<a name="NOTE0_2"></a>


### Fonctions HSécurité et HForceEcriture
<a name="fonctions_hsecurite_docparampagetitleshort_ELTPARAGRAPHE000123"></a>Les fonctions [HSécurité](../WDLang4/3044135.md) et **HForceEcriture** permettent toutes les deux de forcer l'écriture physique sur le disque.

Cependant :

- La fonction [HSécurité](../WDLang4/3044135.md) permet de forcer l'écriture dans le ou les fichiers de données manipulés à chaque écriture. Cette écriture est automatiquement réalisée par le moteur HFSQL. Le ou les fichiers de données manipulés ne sont pas fermés lors de cette écriture. La vitesse d'écriture dans les fichiers de données est plus lente.

- La fonction **HForceEcriture** permet de forcer l'écriture dans le ou les fichiers de données manipulés uniquement lors de l'appel de cette fonction. Le ou les fichiers de données manipulés sont fermés puis ré-ouverts lors de cette écriture. La vitesse d'écriture dans les fichiers de données n'est pas ralentie.




<a name="XComposante"></a>

## Composante :
wd280hf.dll
