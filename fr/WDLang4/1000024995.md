


## &lt;Source&gt;.InfoBlocage (Fonction)

***En anglais : &lt;Source&gt;.InfoLock***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Renvoie des informations sur le blocage d'un fichier de données, d'un enregistrement ou de tous les enregistrements d'un fichier de données.


<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
ListeLock est une chaîne
// Liste tous les blocages du fichier de données Client
ListeLock = Client.InfoBlocage()
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

### Informations de blocage sur un fichier de données identifié par son nom

`<Résultat> = <Source>.InfoBlocage([<Numéro d'enregistrement>])`
---

**`<Résultat> : (Chaîne de caractères)`**



- Chaîne vide ("") si il n'y a pas de blocage ou si le fichier de données manipulé n'est pas un fichier de données HFSQL Client/Serveur.

- Informations sur le blocage.  Ces informations sont séparées par des TAB et sont de la forme :
	
	```txt
	<Nom physique du fichier de données relatif à la database> + TAB + 
	<Numéro d'enregistrement> + TAB + 
	<Utilisateur> + TAB + <Nom de la machine cliente> + TAB + 
	<Adresse IP de la machine cliente> + TAB + <Nom de l'application cliente> + TAB + 
	<Type de blocage> + TAB + <Date de pose du blocage> + TAB + 
	<Nombre de secondes depuis lequel le blocage a commencé> + RC
	```


	- Le paramètre &lt;Numéro d'enregistrement&gt; vaut -1 si le blocage a été effectué au niveau du fichier de données.

	- Le paramètre &lt;Type de blocage&gt; peut correspondre à :

		- W : Blocage en écriture.

		- RW : Blocage en lecture/écriture.

		- W-T : Blocage en écriture réalisé par une transaction.

		- RW-T : Blocage en lecture/écriture réalisé par une transaction.




- Le paramètre &lt;Date de pose du blocage&gt; est de la forme : AAAAMMJJHHmmSS. Cette date est au format UTC (Universal Time Coordinated).




**`<Source> : (Type correspondant à la source spécifiée)`**

Nom du fichier de données utilisé. 

**`<Numéro d'enregistrement> : (Entier optionnel)`**

Numéro de l'enregistrement pour lequel des informations de blocage sont demandées. 
Si ce paramètre n'est pas spécifié, la fonction **&lt;Source&gt;.InfoBlocage** liste tous les blocages du fichier de données.



<a name="NOTE0"></a>
<a name="XComposante"></a>

## Composante :
wd280hf.dll
