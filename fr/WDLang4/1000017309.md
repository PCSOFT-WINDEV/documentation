
## Restauration d'une base de données HFSQL Client/Serveur
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000137"></a>
A tout moment, une sauvegarde d'une base de données HFSQL Client/Serveur peut être restaurée : 

- si la sauvegarde effectuée est une sauvegarde complète, il suffit de restaurer cette sauvegarde. 

- si la sauvegarde effectuée est une sauvegarde différentielle, il suffit de restaurer la sauvegarde complète et la sauvegarde différentielle associée. 




**Rappel** : La sauvegarde différentielle contient toutes les modifications effectuées depuis la précédente sauvegarde complète. 



La restauration peut être déclenchée :

- [dans le Centre de Contrôle HFSQL](#NOTE2).

- [par programmation](#NOTE3).




**Attention** : La restauration d'une sauvegarde doit être effectuée avec précaution. 

- Pour effectuer cette opération, il est nécessaire d'avoir le droit de sauvegarde (constante *hDroitSauvegarde*) ainsi que le droit de bloquer la base de données (constante *hDroitBlocage*).

- Pour restaurer tout le serveur (ou les bases __jnl et __trs), aucune autre application ne doit être connectée au serveur. La connexion utilisée ne doit pas être attachée à une base de données.

- Pour restaurer uniquement des bases de données, aucune connexion ne doit être faite sur la base de données à restaurer.




**Remarque** : La réalisation d'une sauvegarde et sa restauration sous un autre nom permet de dupliquer simplement une base de données. 



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Restauration d'une sauvegarde dans le Centre de Contrôle HFSQL
<a name="restauration_une_sauvegarde_dans_centre_controle_hfsql_ELTTEXTE000167"></a>
Pour restaurer une sauvegarde : 

1. Sélectionnez le serveur HFSQL Client/Serveur dans l'arborescence à gauche de l'écran.

2. Sélectionnez l'onglet "Sauvegardes".

3. Dans le tableau des sauvegardes réalisées, sélectionnez la sauvegarde à restaurer. 

4. Cliquez sur le bouton "Restaurer la sauvegarde". 

5. Validez la restauration de la sauvegarde. 




**Remarques** : 

- Il est également possible de restaurer une sauvegarde présente dans un répertoire spécifique du serveur. Il suffit de cliquer sur le bouton "Restaurer une sauvegarde depuis un répertoire". 

- Si la sauvegarde est restaurée sur un disque réseau (UNC ou lettre de lecteur réseau), l'utilisateur doit posséder les droits nécessaires.
	Pour effectuer la restauration dans ce cas : 

	- fournissez un chemin UNC pour l'emplacement de la sauvegarde,

	- modifiez les propriétés du serveur HFSQL Client/Serveur via le gestionnaire de services de Windows en spécifiant un utilisateur qui disposera des droits nécessaires afin d'accéder à l'emplacement UNC contenant la sauvegarde.









<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Restaurer une sauvegarde par programmation
<a name="restaurer_une_sauvegarde_par_programmation_ELTTEXTE000191"></a>


### Pour restaurer une sauvegarde de la base de données
<a name="pour_restaurer_une_sauvegarde_base_donnees_ELTPARAGRAPHE000067"></a>Utilisez la fonction [HRestaureSauvegarde](../WDLang4/1000017230.md).


<a name="NOTE4_3"></a>


### Astuce : Utiliser une sauvegarde pour copier et renommer une base de données
<a name="astuce_utiliser_une_sauvegarde_pour_copier_renommer_une_base_donnees_ELTPARAGRAPHE000078"></a>Pour copier et renommer une base de données, il est possible d'utiliser l'astuce suivante  :

1. Effectuer la sauvegarde de la base de données.

2. Effectuer la restauration de la base de données sous un autre nom.




Cette opération peut être réalisée avec la fonction [HRestaureSauvegarde](../WDLang4/1000017230.md).






