


## ChangeAction (Fonction)

***En anglais : ChangeAction***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Permet de spécifier l'action effectuée en cas de désynchronisation entre la page HTML affichée dans le navigateur et le contexte de page sur le serveur.

Par défaut, en cas de désynchronisation, la dernière version de la page HTML correspondant au contexte en cours sur le serveur est renvoyée.

**Attention** : Cette fonction est exécutée uniquement dans le code synchronisation de la page.
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple
<a class="notetitle" target="_blank" href="$DOC$=1000021651&name=changeaction_fonction&product=WD">Voir des exemples supplémentaires</a>

```wl
// Code de synchronisation de la page PAGE_Sommaire
// (L'action n'a pas besoin d'être synchronisée)
ChangeAction(caContinuer)
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`<Résultat> = ChangeAction(<Action>)`
---

**`<Résultat> : (Constante de type entier)`**

Ancien mode de gestion de la synchronisation (avant l'appel à la fonction **ChangeAction**) :



|   |   |
| --- | --- |
| *caContinuer* | L'application continue comme s'il y avait eu synchronisation. <br><br>L'action demandée par l'internaute va être exécutée. |
| *caErreur* | La dernière version de la page HTML correspondant au contexte en cours sur le serveur est renvoyée. <br>Une boîte de dialogue informe l'utilisateur qu'il y a eu une erreur de synchronisation. <br>L'action demandée par l'internaute ne va pas être pas exécutée.<br><br>Ce mode de gestion est le mode de gestion par défaut. |
| *caRien* | Aucune action n'est réalisée. L'action demandée par l'internaute n'est pas exécutée.<br>Si le traitement de synchronisation de page utilise cette option sans utiliser la fonction [PageAffiche](../WDLang2/3058008.md) ou la fonction [PageActualise](../WDLang2/3058011.md), une erreur sera générée. Cette erreur indique que le serveur n'a pas renvoyé de page (ERR_NO_CURRENT_PAGE). |



**`<Action> : (Constante de type entier)`**

Action à effectuer en cas de désynchronisation : 



|   |   |
| --- | --- |
| *caContinuer* | L'application continue comme s'il y avait eu synchronisation. <br><br>L'action demandée par l'internaute va être exécutée.<br><br>Remarque : Avant d'utiliser cette option, il est nécessaire de s'assurer que l'enregistrement en cours est bien celui attendu afin d'éviter tout écrasement de données. |
| *caErreur* | La dernière version de la page HTML correspondant au contexte en cours sur le serveur est renvoyée. <br>Une boîte de dialogue informe l'utilisateur qu'il y a eu une erreur de synchronisation. <br>L'action demandée par l'internaute ne va pas être pas exécutée.<br><br>Ce mode de gestion est le mode de gestion par défaut. |
| *caRien* | Aucune action n'est réalisée. L'action demandée par l'internaute n'est pas exécutée.<br>Il est conseillé de renvoyer une page avec la fonction [PageAffiche](../WDLang2/3058008.md) ou la fonction [PageActualise](../WDLang2/3058011.md) avant d'utiliser la fonction **ChangeAction** avec la constante *caRien*. Dans le cas contraire, une erreur indiquant que le serveur n'a pas renvoyé de page (ERR_NO_CURRENT_PAGE) sera générée. |





<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Synchronisation
<a name="synchronisation_ELTPARAGRAPHE000106"></a>A chaque clic de l'internaute dans une page HTML, un test de synchronisation est automatiquement effectué.

Ce test de synchronisation consiste à vérifier que la page affichée sur le navigateur correspond bien au contexte de la page en cours sur le serveur.

Des problèmes de synchronisation peuvent apparaître principalement lors de l'utilisation de la touche BACK / PRECEDENT du navigateur, ou de la touche REFRESH sur le navigateur par l'internaute.
La synchronisation de la page est gérée uniquement dans un des cas suivants : 

- Dans l'onglet "UI" de la fenêtre de description de la page, l'option "Utilisation du bouton "Précédent" du navigateur" correspond à la valeur "Autorisé (exécute le code de synchronisation)". 

- Dans l'onglet "Avancé" de la fenêtre de description du projet, l'option "Option par défaut pour l'utilisation du bouton "Précédent" du navigateur" correspond à la valeur "Autorisé (exécute le code de synchronisation)".




<a name="XComposante"></a>

## Composante :
wd280page.dll
