
## SessionHeartBeatActive (Fonction)

***En anglais : SessionHeartBeatEnable***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Active ou désactive le "heartbeat" de la session courante.

Remarque : Par défaut, le "heartbeat" de la session courante est de 5 minutes.
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
SessionHeartBeatActive(Vrai, 10min)
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`SessionHeartBeatActive(<Active> [, <Intervalle>])`
---

**`<Active> : (Booléen)`**



- <u><u><u><u>Vrai</u></u></u></u> pour activer le "Heart beat", 

- <u><u><u><u>Faux</u></u></u></u> pour le désactiver. 




**`<Intervalle> : (Durée ou chaîne de caractères optionnelles)`**

Intervalle entre deux appels. Ce paramètre peut correspondre à :

- une variable de type Durée,

- l'indication directe de la durée (par exemple 5min).


Par défaut, l'intervalle est de 5 minutes (sauf si le timeout de session est plus court). 
 Remarque : le Serveur d'application WEBDEV fait dans tous les cas, une attente de 1 minute quel que soit l'intervalle configuré. L'intervalle spécifié par ce paramètre est donc toujours augmenté de cette minute d'attente.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Principe
<a name="principe_ELTPARAGRAPHE000050"></a>Le but du "heartbeat" de session est de décharger le serveur en fermant plus tôt les sessions du serveur (par exemple en détectant les sessions pour lesquelles le client a navigué hors du site). 

La fonctionnalité "heartbeat" ("battement de coeur" en anglais) est un traitement automatique sur le navigateur qui envoie régulièrement (toutes les 5 mn par exemple) une information au serveur pour indiquer que le navigateur est ouvert. Lorsque l'internaute a refermé son navigateur, le serveur ne reçoit plus de HeartBeat et peut donc fermer la session immédiatement, sans attendre le timeout défini pour le site. 

**Attention** : Le HeartBeat ne permet pas de prolonger la session au-delà du délai d'inactivité de l'utilisateur (défini dans le Serveur d'Application WEBDEV). Si vous avez défini un timeout de session à 10 minutes, la session sera fermée au bout de 10 minutes sans action de l'utilisateur même si le navigateur n'est pas fermé.

Le choix de l'intervalle est donc important : 

- Si l'intervalle est trop long, les sessions restent trop longtemps. 

- Si l'intervalle est trop court, le serveur est inutilement chargé par des appels "battements" pour maintenir en vie les sessions. 




Attention : Ces appels "battement" consomment des ressources (réseau et batterie) dans le cas des clients mobile.

Le Serveur d'application WEBDEV tente de détecter dynamiquement si le maintien de la session est disponible. La terminaison anticipée des sessions est effectuée uniquement si le serveur d'application détecte que la page affichée chez le client est une page du site. Dans le cas contraire (affichage d'une page externe de paiement par exemple), la terminaison anticipée des sessions n'est pas réalisée. 


### Notes
<a name="notes_ELTPARAGRAPHE000068"></a>

- L'appel de la fonction **SessionHeartBeatActive** est pris en compte à partir de la prochaine page renvoyée par le Serveur d'application WEBDEV. 

- Si le paramétrage doit être appliqué à toutes les pages d'un site, la fonction **SessionHeartBeatActive** doit être appelée dans le code d'initialisation du projet, ou de la première page (ou tout code appelé avant que la première page ne soit renvoyée).

- La fonction **SessionHeartBeatActive** active le heartbeat également en mode test (Go de projet ou Go de page). Il n'est généralement pas pris en compte car la fermeture du navigateur est détectée par le mode test et la session est immédiatement terminée.




<a name="XComposante"></a>

## Composante :
wd280page.dll
