
## LibèreContexteAWP (Fonction)

***En anglais : FreeAWPContext***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Libère de manière anticipée le contexte AWP (sur disque) pour permettre à d'autres appels sur le même contexte AWP d'être traités en parallèle.

**Remarque** : Cette fonction n'a aucun effet sur les contextes AWP transmis dans un cookie.
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
LibèreContexteAWP()
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`LibereContexteAWP([<Sauve le contenu actuel>])`
---

**`<Sauve le contenu actuel> : (Booléen optionnel)`**



- <u><u><u><u>Vrai</u></u></u></u> si le contenu actuel des variables doit être sauvegardé dans le contexte. 

- <u><u><u><u>Faux</u></u></u></u> (Valeur par défaut) si le contexte doit être fermé sans sauvegarde des éventuelles modifications.






<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Fonctionnement
<a name="fonctionnement_ELTPARAGRAPHE000041"></a>Le Serveur d'Application WEBDEV protège automatiquement chaque contexte AWP des accès concurrents : 

- A tout moment, un unique appel AWP est autorisé à manipuler un contexte AWP donné. 

- Les autres appels AWP qui demandent à manipuler ce contexte (c'est-à-dire d'autres appels du même client/navigateur) attendent que le premier appel soit fini :

	- Chaque appel a bien accès aux dernières valeurs.

	- Le comportement global est équivalent au comportement des sessions WEBDEV classiques.




- Le contexte AWP est automatiquement libéré (pour l'appel suivant) après l'exécution du dernier traitement WLangage.




Dans certains cas, ce comportement n'est pas optimal. 

Par exemple, une page AWP de téléchargement de fichier continuera à maintenir le blocage sur le contexte pendant toute la durée d'exécution de la fonction [FichierAffiche](../WDLang2/3012005.md). Ce blocage bloque les autres appels du client vers l'application (par exemple le téléchargement, en parallèle, d'un second fichier).

Dans ce cas, la fonction **LibèreContexteAWP** permet d'indiquer que le contexte AWP ne sera plus utilisé et permet de le libérer.
<a name="NOTE0_2"></a>


### Dans quels cas la sauvegarde du contexte n'est pas nécessaire ? 
<a name="dans_quels_cas_sauvegarde_contexte_nest_pas_necessaire_ELTPARAGRAPHE000069"></a>Fermer simplement le contexte sans sauver les éventuelles modifications est utile dans les cas suivants :

- Aucune variable n'a encore été (re)déclarée : il n'y a pas encore eu d'appels à la fonction [DéclareContexteAWP](../WDLang2/3058028.md).

- Aucune des variables présente dans le contexte n'a été modifiée.

- Les variables modifiées n'ont pas d'importance.

- Les modifications des variables ne doivent pas être reportées.




Après l'appel de la fonction **LibèreContexteAWP**, les autres fonctions de gestion des contextes AWP ne doivent plus être appelées.
<a name="NOTE0_3"></a>


### Sessions prélancées
<a name="sessions_prelancees_ELTPARAGRAPHE000091"></a>Si votre projet utilise les sessions prélancées, cette fonction ne doit pas être utilisée dans l'événement "Initialisation" du projet. Cette fonction doit être utilisée dans l'événement "Initialisation du projet après connexion au site". 

<a name="XComposante"></a>

## Composante :
wd280page.dll
