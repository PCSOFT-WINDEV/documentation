
## SessionPrologue (Fonction)

***En anglais : SessionPrologue***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Active ou désactive une procédure WLangage appelée sur chaque requête dans une session. Cette fonction permet notamment de filtrer les requêtes en cas de contraintes de sécurité. 
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
SessionPrologue(Test_Requête)

PROCEDURE INTERNE Test_Requête()
	SI xxx ALORS
		// Accepte la requête
		RENVOYER Vrai
	SINON
		// Refuse la requête
		RENVOYER Faux
	FIN
FIN
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`SessionPrologue([<Prologue>])`
---

**`<Prologue> : (Nom de procédure optionnel)`**

Nom de la procédure WLangage appelée pour chaque requête effectuée dans la session. Cette procédure permet notamment de filtrer les requêtes en cas de contraintes de sécurité. Cette procédure peut être une procédure globale, une procédure interne ou une lambda.
 
Cette procédure doit renvoyer un résultat (<u><u><u><u>Vrai</u></u></u></u> ou <u><u><u><u>Faux</u></u></u></u>). 
Si ce paramètre n'est pas précisé, la précédent procédure spécifiée est supprimée. 



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


- La procédure WLangage est appelée sur chaque requête vers la session. 

- La procédure WLangage doit retourner une valeur booléenne :

	- <u><u><u><u>Vrai</u></u></u></u> pour accepter la requête, 

	- <u><u><u><u>Faux</u></u></u></u> pour refuser la requête (une page erreur est alors retournée au client avec le code HTTP 403).




- La procédure WLangage n'est pas appelée sur la première requête effectuée au serveur.

- Il est conseillé d'utiliser la fonction **SessionPrologue** dans le code d'initialisation du projet. 

- Toutes les fonctions WLangage Serveur peuvent être utilisées dans le code de la procédure. Il est notamment possible d'utiliser les fonctions suivantes pour obtenir des informations sur la requête en cours : 
	


|   |   |
| --- | --- |
| [CookieLit](../WDLang2/3012009.md) | Récupère la valeur d'un cookie enregistré sur le poste de l'internaute. |
| [PageLitEntêteHTTP](../WDLang2/1000021635.md) | Lit et renvoie un ou plusieurs entêtes HTTP reçus par la page en cours (ces entêtes sont envoyés par le client au serveur dans la requête courante). |
| [PageParamètre](../WDLang2/3058026.md) | Renvoie la valeur d'un paramètre passé à la page en cours. |
| [SysEnvironnement](../WDLang1/3073014.md) | Renvoie les variables d'environnement du système d'exploitation du poste en cours. |




<a name="XComposante"></a>

## Composante :
wd280page.dll
