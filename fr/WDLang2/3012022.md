


## UploadNomFichier (Fonction)

***En anglais : UploadFileName***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Renvoie le nom d'un fichier "uploadé" par l'internaute. Cet upload a pu être effectué : 

- via un champ de saisie de type "Upload". 

- via un champ Upload mono ou multifichier. 





<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
FichierSource, FichierDest sont des chaînes
// SAI_Fichier est le nom du champ de saisie contenant le nom complet du fichier à uploader

// Recherche du nom du fichier uploadé sur le serveur
FichierSource = UploadNomFichier(SAI_Fichier)
// Si FichierSource existe, on le copie dans le répertoire des documents sur le serveur
SI FichierSource <> "" ALORS
	// Recherche du nom du fichier uploadé sur le client
	FichierDest = UploadNomFichier(SAI_Fichier, Faux)
	FichierDest = "c:\documents\" + fExtraitChemin(FichierDest, fFichier + fExtension)
	// Copie du fichier
	fCopieFichier(FichierSource, FichierDest)
FIN
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`<Résultat> = UploadNomFichier(<Champ Upload> [, <Localisation du fichier> [, <Indice du fichier>]])`
---

**`<Résultat> : (Chaîne de caractères)`**

Nom du fichier uploadé.

**`<Champ Upload> : (Nom de champ)`**

Nom du champ permettant l'upload. Ce champ peut être : 

- un champ de saisie de type "Upload". Ce champ contient le nom et le chemin du fichier à envoyer sur le serveur.

- un champ Upload mono ou multifichier. 




**`<Localisation du fichier> : (Booléen optionnel)`**

Localisation du fichier dont on veut connaître le nom :

- <u><u><u><u>Vrai</u></u></u></u> (valeur par défaut) : Nom du fichier uploadé présent sur le serveur.

- <u><u><u><u>Faux</u></u></u></u> : Nom du fichier à uploader présent sur le poste de l'internaute.




**`<Indice du fichier> : (Entier optionnel)`**

Indice du fichier dont le nom doit être récupéré. Ce paramètre est utilisé uniquement dans le cas d'un upload réalisé avec le champ Upload multifichier. Par défaut, cet indice correspond à 1.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Taille maximale des fichiers à uploader
<a name="taille_maximale_des_fichiers_uploader_ELTPARAGRAPHE000215"></a>**Par défaut,** la taille des fichiers à uploader est illimitée dans le moteur WEBDEV. Cette taille peut être limitée par le serveur d'application WEBDEV. 
Si le fichier à uploader dépasse la taille limite, le fichier n'est pas uploadé.
Pour modifier la taille maximale des fichiers à uploader dans le serveur d'application WEBDEV, il est nécessaire de modifier la base de registre sur le serveur :  

1. Pour modifier la taille des fichiers uploadés pour toutes les applications WEBDEV 28, sélectionnez la clé : HKEY_LOCAL_MACHINE\\SOFTWARE\\PC SOFT\\WEBDEV\\28.0 sur une machine 32 bits et HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\PC SOFT\\WEBDEV\\28.0 sur une machine 64 bits.

2. Ajoutez la chaîne MAX_UPLOAD. Cette chaîne aura pour valeur la taille maximale des fichiers à uploader (en Ko).



<a name="NOTE0_2"></a>


### Sessions prélancées
<a name="sessions_prelancees_ELTPARAGRAPHE000090"></a>Si votre projet utilise les sessions prélancées, cette fonction ne doit pas être utilisée dans l'événement "Initialisation" du projet. Cette fonction doit être utilisée dans l'événement "Initialisation du projet après connexion au site". 

- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=UploadouDownloadd'unfichier.gif) ***Exemples unitaires (WEBDEV)*** : **Upload ou Download d'un fichier** <br>Upload (copier vers le serveur) et download (télécharger depuis le serveur) d'un fichier :<br>- Copier un fichier du poste navigateur vers le poste serveur<br>- Télécharger un fichier présent sur le serveur<br>- Télécharger un fichier présent sur le serveur grâce à un lien<br>- Télécharger un fichier présent sur le serveur en demandant son ouverture


<a name="XComposante"></a>

## Composante :
wd280page.dll
