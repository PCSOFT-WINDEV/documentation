
## NavigateurAdresseIP (Fonction)

***En anglais : BrowserIPAddress***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Renvoie l'adresse IP du poste de l'internaute connecté au site WEBDEV. 

**Remarque** : Si l'internaute est derrière un routeur, l'adresse IP obtenue sera celle du routeur. 

Si vous souhaitez obtenir cette information depuis un Webservice, utilisez la fonction [WebserviceAdresseIPClient](../WDLang3/1000019641.md). 
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Renvoie l'adresse IP de l'internaute
sAdresseClient est une chaîne = NavigateurAdresseIP()
```



<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`<Résultat> = NavigateurAdresseIP([<Accepter adresse de renvoi>])`
---

**`<Résultat> : (Chaîne de caractères)`**

Adresse IP du poste de l'internaute : 

- au format IPv4: xxx.xxx.xxx.xxx. Par exemple : 195.196.100.1

- au format IPv6: xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx




**`<Accepter adresse de renvoi> : (Booléen optionnel)`**



- <u><u><u><u>Vrai</u></u></u></u> pour accepter l'adresse originale indiquée dans l'entête HTTP, 

- <u><u><u><u>Faux</u></u></u></u> (valeur par défaut) pour refuser cette adresse. Dans ce dernier cas, l'adresse IP est récupérée dans la variable d'environnement REMOTE_ADDR définie par le serveur Web. 




Par défaut, l'adresse indiquée dans l'entête HTTP est refusée pour des raisons de fiabilité.  




<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques
![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png) 

### Accepter ou non l'adresse de renvoi
<a name="accepter_non_adresse_renvoi_ELTPARAGRAPHE000058"></a>L'adresse renvoyée par la fonction **NavigateurAdresseIP** peut ne pas correspondre à l'adresse de l'internaute (par exemple si un proxy non transparent ou un Load Balancer est utilisé). Dans ce cas, **NavigateurAdresseIP** renvoie l'adresse IP du proxy ou du Load Balancer.

Si l'adresse de renvoi est acceptée, la fonction **NavigateurAdresseIP** tente de lire l'adresse originale indiquée dans les entêtes HTTP (la majorité des proxy fournissent l'adresse originale dans les entêtes HTTP). Cependant, cette adresse est à manipuler avec précaution car elle n'est pas fiable et peut être totalement erronée.

Remarques:

- Si l'adresse originale n'est pas trouvée ou invalide (adresse trop longue par exemple), l'adresse "normale" est envoyée.

- En mode test, la fonction **NavigateurAdresseIP** retourne l'adresse de la machine de développement.



<a name="NOTE0_2"></a>




### Adresse IP du serveur
<a name="adresse_serveur_ELTPARAGRAPHE000085"></a>L'adresse IP du serveur peut être obtenue grâce à la fonction [NetAdresseIP](../WDLang3/3056023.md).




### Sessions prélancées
<a name="sessions_prelancees_ELTPARAGRAPHE000096"></a>Si votre projet utilise les sessions prélancées, cette fonction ne doit pas être utilisée dans l'événement "Initialisation" du projet. Cette fonction doit être utilisée dans l'événement "Initialisation du projet après connexion au site". 

<a name="XComposante"></a>

## Classification Métier / UI :
Code neutre
## Composante :
wd280page.dll
