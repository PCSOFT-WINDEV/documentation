


## PageParamètre (Fonction)

***En anglais : PageParameter***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Renvoie la valeur d'un paramètre passé à la page en cours. Permet par exemple de récupérer :

- les paramètres d'une ligne de commande.

- une valeur qui n'est pas liée à un champ (position de la souris dans une image cliquable). 



<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple
<a class="notetitle" target="_blank" href="$DOC$=1000003058026&name=pageparametre_fonction&product=WD">Voir des exemples supplémentaires</a>

```wl
// Code d'initialisation du projet
SELON Majuscule(PageParamètre("PAGEDEMARRAGE"))
	CAS "LOGIN" : PageAffiche(PAGE_Identification)
	CAS "PRODUITS" : PageAffiche(PAGE_GestProd)
	AUTRES CAS : // Ne rien faire
FIN
```


<a name="Exemple2"></a>

```wl
// Récupération de la position de la souris dans une image cliquable
Paramètre est une chaîne = PageParamètre("POS") 
// Ex : Paramètre ="15,23"
x,y sont des entiers
x = ExtraitChaîne(Paramètre, 1, ",")
y = ExtraitChaîne(Paramètre, 2, ",")
```


<a name="Exemple3"></a>

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

### Récupérer la valeur d'un paramètre identifié par son nom

`<Résultat> = PageParamètre(<Nom du paramètre> [, <Encodage>])`
---

**`<Résultat> : (Chaîne de caractères)`**



- Valeur du paramètre spécifié, 

- Chaîne vide ("") si le paramètre n'existe pas ou n'a pas de valeur.




**`<Nom du paramètre> : (Chaîne de caractères)`**

Nom du paramètre dont la valeur doit être renvoyée. Dans le cas d'une page AWP, les paramètres sont automatiquement nommés par WEBDEV (P1, P2, ..., P256). Dans ce cas, la page ne doit pas contenir des champs ayant pour nom P1, P2, ..., P256.  

**`<Encodage> : (Constante optionnelle de type Entier)`**

Mode de gestion de l'encodage de la valeur du paramètre : 



|   |   |
| --- | --- |
| *paramAvecDécodage*<br>(Valeur par défaut) | La valeur du paramètre est automatiquement décodée par WEBDEV selon la norme d'encodage/décodage des URL. |
| *paramSansDécodage* | La valeur brute du paramètre est renvoyée. Aucun décodage n'est effectué par WEBDEV. Cette constante peut être utilisée lorsque l'encodage de l'URL ne respecte pas les normes utilisées par WEBDEV (par exemple, problème de gestion du signe +, ...) |




<a name="SYNTAXE2"></a>
<a name="SYNTAXE3"></a>

<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Obtenir une valeur qui n'est pas reliée à un champ
<a name="obtenir_une_valeur_qui_nest_pas_reliee_champ_ELTPARAGRAPHE000116"></a>Par défaut, les paramètres envoyés par le navigateur sont normalement affectés à des champs du contexte, avant d'exécuter tout traitement. La fonction **PageParamètre** permet d'obtenir une valeur qui n'est pas reliée à un champ.

**Exemple** : La fonction **PageParamètre** permet de récupérer une position dans une image cliquable.

Pour les zones de cliquage, lors du clic de la souris, vous pouvez récupérer la position horizontale et verticale de la souris dans la zone de cliquage, avec un paramètre spécifique : "POS" (voir exemple).
<a name="NOTE0_2"></a>


### Récupération des paramètres passés à une page AWP ou PHP
<a name="recuperation_des_parametres_passes_une_page_awp_php_ELTPARAGRAPHE000133"></a>La fonction **PageParamètre** permet de récupérer la valeur des paramètres passés à la page. Selon le type de page, plusieurs possibilités existent :

- Récupération selon le nom du paramètre

- Récupération selon l'indice du paramètre




**Cas 1 : Récupération selon le nom du paramètre**
Le nom du paramètre a été précisé dans l'URL de la page.
Dans le cas d'une page AWP ou PHP, les paramètres sont automatiquement renommés par WEBDEV (P1, P2, ..., P256). Dans ce cas, la page ne doit pas contenir des champs ayant pour nom P1, P2, ..., P256.

1. Code permettant d'afficher la page en lui passant des paramètres :

```wl
// Affiche dans la page "MaPage.AWP", le 350ème élément 
// de la catégorie "Instruments"
PageAffiche(PAGE_MaPage, "Instruments", 350)
```
2. Code permettant de récupérer les paramètres :

```wl
// Récupération des paramètres
CategorieRecherchée est une chaîne = PageParamètre("P1")
IDRecherché est un entier = PageParamètre("P2")
```


**Cas 2 : Récupération selon l'indice du paramètre**
L'indice du paramètre correspond à l'ordre dans lequel les paramètres ont été passés dans l'URL de la page.
1. Code permettant d'afficher la page en lui passant des paramètres :

```wl
// Affiche dans la page "MaPage.AWP", le 350ème élément 
// de la catégorie "Instruments"
PageAffiche(PAGE_MaPage, "Instruments", 350)
```
2. Code permettant de récupérer les paramètres :

```wl
// Récupération des paramètres
CategorieRecherchée est une chaîne = PageParamètre(1) 
// CategorieRecherchée = "P1=Instruments"
CategorieRecherchée = Droite(Taille(CatégorieRecherchée)-3)
IDRecherché est un entier = PageParamètre(2)
// IDRecherché = "P2=350"
IDRecherché = Droite(Taille(IDRecherché)-3)
```

<a name="NOTE0_3"></a>
<a name="NOTE0_4"></a>
<a name="NOTE0_5"></a>


### Sessions prélancées
<a name="sessions_prelancees_ELTPARAGRAPHE000215"></a>Si votre projet utilise les sessions prélancées, cette fonction ne doit pas être utilisée dans l'événement "Initialisation" du projet. Cette fonction doit être utilisée dans l'événement "Initialisation du projet après connexion au site". 
<a name="NOTE0_6"></a>


- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WW_Agenda.gif) ***Exemples didactiques (WEBDEV)*** : **WW_Agenda** <br>L'exemple WW_Agenda est un exemple d'utilisation du champ Agenda pour WEBDEV.

<a name="XComposante"></a>

## Composante :
wd280page.dll
