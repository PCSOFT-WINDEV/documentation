
## WDOptimiseur : Annulation / libération d'enregistrements en transaction
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000125"></a>
WDOptimiseur permet de :

- Annuler une transaction.

- Libérer des enregistrements d'une transaction.




**Rappel** : Une transaction permet de s'assurer que des mises à jours effectuées sur un ou plusieurs fichiers de données se sont déroulées correctement. En cas d'erreur ou de problème (panne de courant pendant les opérations en transaction par exemple), WDOptimiseur permet de rétablir automatiquement l'état des fichiers de données juste avant le début de la transaction.

**Remarque** : WDTrans permet également d'annuler une transaction et/ou libérer des enregistrements d'une transaction.



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Annuler les opérations effectuées sur un fichier de transaction
<a name="annuler_les_operations_effectuees_sur_fichier_transaction_ELTTEXTE000149"></a>
Lors de l'annulation des opérations effectuées sur un fichier de transaction :

- **Si une transaction est en cours**, WDOptimiseur annule toutes les opérations effectuées sur les fichiers en transaction depuis le début de la transaction. Dans ce cas, la transaction est annulée sans interrompre l'exécution du programme.

- **Si aucune transaction n'est en cours**, WDOptimiseur rétablit la cohérence de la base de données et annule la transaction qui a échoué (cas d'une coupure de courant par exemple).





<a name="NOTE2_2"></a>


### Annuler les opérations effectuées sur un fichier de transaction
<a name="annuler_les_operations_effectuees_sur_fichier_transaction_ELTPARAGRAPHE000035"></a>Pour annuler les opérations effectuées sur un fichier de transaction : 

1. Lancez WDOptimiseur.

2. Sélectionnez l'option "Annuler une transaction ...", puis "Annuler les opérations effectuées sur un fichier de transaction".
	
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDOptimiseur_Annuler.gif)


3. Sélectionnez le fichier de transaction. La liste des fichiers de données (avec leur chemin complet) en cours de transaction apparaît. Pour chaque fichier, l'identifiant du poste réalisant une opération en transaction est affiché.

4. Si certains fichiers de données sont protégés par un mot de passe, spécifiez ce mot de passe. En effet, ce mot de passe est nécessaire pour annuler la transaction.

5. Cliquez sur le bouton "Annuler la transaction". La transaction est annulée.






<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Libérer des enregistrements d'une transaction
<a name="liberer_des_enregistrements_une_transaction_ELTTEXTE000179"></a>
La libération des enregistrements d'une transaction permet de transformer tous les enregistrements "en transaction" en enregistrements "Normaux" (si ces enregistrements n'appartiennent pas à une transaction actuellement en cours). Si un enregistrement du fichier de données spécifié est considéré comme étant en transaction, mais n'appartient à aucune transaction en cours, il est automatiquement libéré.

**Attention** : Cette fonctionnalité est une fonctionnalité avancée. Cette fonction doit être utilisée lorsqu'il est impossible d'annuler les transactions qui ont échoué (fichiers de transaction supprimés par exemple).


<a name="NOTE3_2"></a>


### Libérer les enregistrements en transaction
<a name="liberer_les_enregistrements_transaction_ELTPARAGRAPHE000063"></a>Pour libérer les enregistrements en transaction : 

1. Lancez WDOptimiseur.

2. Sélectionnez l'option "Annuler une transaction", puis "Libérer tous les enregistrements en transaction".
	
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDOptimiseur_Liberer.gif)


3. Sélectionnez le répertoire contenant les fichiers de données en cours de transaction.
	**Attention** : Aucun fichier de transaction ne doit être présent dans ce répertoire. La liste des fichiers de données présents dans le répertoire apparaît.
	**Remarque** : Si des fichiers de données se trouvent dans des sous-répertoires, cochez l'option "Inclure les fichiers de tous les sous-répertoires".

4. Si certains fichiers de données sont protégés par un mot de passe, spécifiez ce mot de passe. En effet, ce mot de passe est nécessaire pour libérer les enregistrements en transaction.

5. Cliquez sur le bouton "Libérer tous les enregistrements en transaction". Les enregistrements sont libérés.







