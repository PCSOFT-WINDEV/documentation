


## Gestion des bases de données HFSQL Client/Serveur
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000353"></a>
Le Centre de Contrôle HFSQL propose une gestion complète des bases de données HFSQL Client/Serveur.

**Pour afficher les caractéristiques d'une base de données HFSQL Client/Serveur** :

1. Connectez-vous si nécessaire à un serveur HFSQL. Pour plus de détails, consultez [Gestion des bases de données HFSQL Client/Serveur](../CCHF/35400013.md). 

2. Dans l'arborescence du Centre de Contrôle, déroulez le serveur et ses bases.

3. Double-cliquez sur le nom de la base de données voulue.

4. Un nouvel onglet au nom de la base de données sélectionnée est affiché. Un ruban et différents onglets permettent de gérer les caractéristiques de la base de données HFSQL Client/Serveur.




**Remarque** : Depuis le volet du Centre de Contrôle, le menu contextuel de la base de données permet de :

- Se déconnecter. 

- Importer une base HFSQL Classic. 

- Lancer la synchronisation des données. 

- Dupliquer la base de données. 

- Supprimer la base de données. 

- Gérer les droits sur la base de données. 

- Réparer les tables systèmes.




<a name="NOTE2"></a>


## Détail des caractéristiques d'une base de données HFSQL Client/Serveur
<a name="detail_des_caracteristiques_une_base_donnees_hfsql_clientserveur_ELTTEXTE000383"></a>
<a name="NOTE2_1B"></a>


### Onglet "Général"
<a name="onglet_general_ELTPARAGRAPHE000041"></a>Cet onglet permet d'obtenir des informations générales sur les fichiers de la base de données : nom, taille, nombre d'enregistrements.

Par défaut, seuls les noms des fichiers de données sont affichés. 

Le menu contextuel des fichiers permet de : 

- Afficher le détail du fichier. Les informations affichées sont calculées et mises à jour pour le fichier. 

- Accéder au fichier. Le contenu du fichier est affiché dans un nouvel onglet. 

- Optimiser et réparer le fichier. 




Remarque : L'option "Masquer les répertoires de sauvegardes" permet d'afficher uniquement les répertoires contenant les fichiers de données de la base. 

Lorsque cet onglet est sélectionné, des options supplémentaires apparaissent dans le ruban. Ces options, placées dans le groupe "Fichiers", permettent de : 

- Accéder au fichier : Cette option permet d'ouvrir un nouvel onglet affichant les caractéristiques du fichier sélectionné. 

- Afficher le détail : Cette option permet d'afficher dans l'onglet de la base le détail du ou des fichiers sélectionnés. 

- Optimiser et réparer : Cette option permet d'afficher la fenêtre de configuration de l'optimisation et de la réparation des fichiers HFSQL.

- Supprimer : Cette option permet de supprimer les fichiers sélectionnés. 



<a name="NOTE2_2B"></a>


### Onglet "Connexions"
<a name="onglet_connexions_ELTPARAGRAPHE000078"></a>Cet onglet liste les différents utilisateurs connectés sur la base de données.

La liste des connexions actives contient les informations suivantes :

- le nom de l'utilisateur,

- le nom de la machine,

- le nom de l'application qui accède à la base, etc.




Lorsque cet onglet est sélectionné, des options supplémentaires apparaissent dans le ruban. Ces options, placées dans le groupe "Connexions", permettent de : 

- interdire ou autoriser les connexions, 

- déconnecter les utilisateurs, 

- envoyer un message aux utilisateurs.




L'option "Ne pas afficher les connexions du Centre de Contrôle HFSQL (lancé sur cette machine)" permet d'afficher uniquement les connexions des utilisateurs via les applications. 
<a name="NOTE2_3B"></a>


### Onglet "Eléments planifiés"
<a name="onglet_elements_planifies_ELTPARAGRAPHE000099"></a>Cet onglet permet de créer, modifier et supprimer des planifications pour la base de données : 

- sauvegardes.

- tâches (procédure stockées).

- optimisation.

- rafraîchissement de vues matérialisées. 




Lorsque cet onglet est sélectionné, des options supplémentaires apparaissent dans le ruban. Ces options, placées dans le groupe "Eléments planifiés", permettent de : 

- créer une nouvelle planification, 

- afficher le détail d'une planification,

- exécuter une planification,

- supprimer une planification. 




Pour plus de détails, consultez [Gestion des tâches planifiées](../CCHF/3540009.md).
<a name="NOTE2_4b"></a>


### Onglet "Sauvegardes"
<a name="onglet_sauvegardes_ELTPARAGRAPHE000123"></a>Cet onglet permet de réaliser et de restaurer des sauvegardes des bases de données. Cet onglet liste les sauvegardes de la base de données : 

- en cours d'exécution, 

- terminées. 




Lorsque cet onglet est sélectionné, des options supplémentaires apparaissent dans le ruban. Ces options, placées dans le groupe "Sauvegardes", permettent de : 

- créer une nouvelle sauvegarde (à chaud ou planifiée), 

- relancer une sauvegarde,

- restaurer une sauvegarde,

- supprimer une sauvegarde. 




Pour plus de détails, consultez [Sauvegardes](../CCHF/3540006.md).
<a name="NOTE2_5b"></a>


### Onglet "Liaisons"
<a name="onglet_liaisons_ELTPARAGRAPHE000145"></a>Cet onglet présente toutes les informations concernant les liaisons entre les fichiers de données présents dans la base de données HFSQL Client/Serveur.

Les informations affichées sont les suivantes :

- Nom de la liaison, 

- Nom du fichier source, 

- Cardinalités source, 

- Nom du fichier destination, 

- Cardinalités destination, 

- Règle d'intégrité de suppression, 

- Règle d'intégrité de modification. 




Remarque : La création et la modification de liaisons sont réalisées sous l'éditeur d'analyses. 
<a name="NOTE2_6B"></a>


### Onglet "Procédures stockées"
<a name="onglet_procedures_stockees_ELTPARAGRAPHE000164"></a>Cet onglet liste les différentes collections de procédures stockées et les procédures stockées de la base de données courante.

Lorsque cet onglet est sélectionné, des options supplémentaires apparaissent dans le ruban. Ces options, placées dans le groupe "Procédures stockées", permettent de : 

- Mettre à jour les collections de procédures stockées.

- Supprimer une collection de procédures stockées.




Pour plus de détails, consultez [Procédures et requêtes stockées](../WDLang4/3044360.md). 
<a name="NOTE2_7B"></a>


### Onglet "Triggers"
<a name="onglet_triggers_ELTPARAGRAPHE000181"></a>Cet onglet liste les différents triggers de la base de données courante. Il est possible de connaître :

- Le nom du trigger,

- Les fichiers de données concernés par le trigger,

- La procédure stockée appelée lors du déclenchement du trigger,

- Les fonctions HFSQL de déclenchement du trigger.

- Le type de trigger (avant / après)




Il est possible d'activer ou désactiver le trigger en cliquant dans l'interrupteur de la colonne "Actif".

Lorsque cet onglet est sélectionné, des options supplémentaires apparaissent dans le ruban. Ces options, placées dans le groupe "Triggers", permettent de : 

- créer un nouveau trigger.

- modifier un trigger.

- supprimer un trigger.




Pour plus de détails, consultez [Triggers serveur](../WDLang4/3044369.md). 
<a name="NOTE2_8B"></a>


### Onglet "Requêtes stockées"
<a name="onglet_requetes_stockees_ELTPARAGRAPHE000207"></a>Cet onglet liste les différentes requêtes stockées et les procédures stockées de la base de données courante.

Lorsque cet onglet est sélectionné, des options supplémentaires apparaissent dans le ruban. Ces options, placées dans le groupe "Requêtes stockées", permettent de supprimer une requête stockée.

Pour plus de détails, consultez [Procédures et requêtes stockées](../WDLang4/3044360.md). 
<a name="NOTE2_9B"></a>


### Onglet "Paramètres"
<a name="onglet_parametres_ELTPARAGRAPHE000221"></a>Cet onglet liste les différents paramètres de la base de données courante.

Les paramètres permettent de stocker par exemple :

- La date et heure de dernière connexion d'un utilisateur,

- Les paramètres d'environnement d'une application,

- Le compte-rendu d'une procédure stockée,

- etc.




Pour chaque paramètre, il est possible de connaître :

- Le nom du paramètre,

- La valeur du paramètre.




Lorsque cet onglet est sélectionné, des options supplémentaires apparaissent dans le ruban. Ces options, placées dans le groupe "Paramètres", permettent de : 

- créer un nouveau paramètre.

- modifier un paramètre.

- supprimer un paramètre.




Pour manipuler les paramètres de base de données par programmation, il possible d'utiliser les fonctions [HSauveParamètre](../WDLang4/1000017313.md), [HChargeParamètre](../WDLang4/1000017314.md) et [HSupprimeParamètre](../WDLang4/1000017315.md). 
<a name="NOTE2_10B"></a>


### Onglet "Blocages"
<a name="onglet_blocages_ELTPARAGRAPHE000257"></a>Cet onglet permet de gérer les blocages pour l'ensemble des fichiers de données de la base de données courante. 

Il est possible de connaître : 

- le nom du fichier sur lequel le blocage est posé, 

- le numéro de l'enregistrement bloqué, 

- le nom de l'utilisateur qui bloque, 

- le nom de la machine qui bloque, 

- l'adresse IP de la machine qui bloque, 

- le nom de l'application qui bloque, 

- le type de blocage,

- la date de début de blocage, 

- la durée du blocage.




L'ensemble de ces informations peut être récupéré par programmation avec la fonction [HInfoBlocage](../WDLang4/3044307.md). 

Pour débloquer un enregistrement depuis le Centre de Contrôle HFSQL, il est nécessaire de déconnecter l'utilisateur qui a bloqué l'enregistrement. 

Pour déconnecter des utilisateurs :

1. Affichez le volet de la base de données (double-cliquez sur son nom dans l'arborescence). 

2. Cliquez sur l'onglet "Connexions".

3. Dans le ruban, dans le groupe "Connexions", cliquez sur "Déconnecter des utilisateurs".

4. Dans la fenêtre qui s'affiche, cochez les utilisateurs à déconnecter.

5. Cliquer sur "Déconnecter les utilisateurs sélectionnés".



<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Options du ruban
<a name="options_ruban_ELTTEXTE000461"></a>
Pour la base de données HFSQL Client/Serveur sélectionnée, le ruban propose les actions suivantes : 

- Dans le groupe "Requête SQL" : 

	- Nouvelle requête : Cette option permet d'ouvrir un onglet spécifique permettant de réaliser une requête sur la base de données en cours.  

	- Ouvrir une requête : Cette option permet d'ouvrir un onglet spécifique correspondant à une requête précédemment réalisée. 




- Dans le groupe "Base de données" :

	- Importer une base HFSQL Classic

	- Copier des fichiers depuis le serveur

	- Synchronisation de la base

	- Dupliquer la base

	- Fermer la connexion à la base




- Dans le groupe "Droits", l'option "Gestion des droits" permet de gérer les droits des utilisateurs et des groupes sur la base de données.






