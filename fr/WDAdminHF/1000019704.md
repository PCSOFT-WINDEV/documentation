
## WDAdminHF : Sauvegarde des bases de données
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000166"></a>
L'administrateur HyperFileSQL distant permet de réaliser des sauvegardes des fichiers de données HyperFileSQL Client/Serveur. 

Cette sauvegarde peut être réalisée : 

- [depuis le serveur](#NOTE2_1). La sauvegarde de la base ou de toutes les bases du serveur sont conservées sur le serveur et peuvent être restaurées. 

- [depuis une base de données](#NOTE3_1). La sauvegarde des fichiers de données est effectuée dans une archive qui peut être téléchargée à la fin de l'opération. 






<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Sauvegarde depuis le serveur : Comment le faire ?
<a name="sauvegarde_depuis_serveur_comment_faire_ELTTEXTE000196"></a>


### Effectuer une sauvegarde
<a name="effectuer_une_sauvegarde_ELTPARAGRAPHE000028"></a>Pour effectuer une sauvegarde :

1. Connectez-vous au serveur HFSQL voulu. 

2. Sélectionnez l'option "Sauvegardes".

3. Cliquez sur le bouton "Nouvelle sauvegarde". L'assistant de création d'une sauvegarde se lance.

4. Indiquez le contenu de la sauvegarde :

	- Tout le contenu du serveur.

	- Une base de données spécifique.

	- Une sélection de bases de données et / ou de fichiers.




5. Indiquez si la sauvegarde doit contenir les fichiers d'index (fichiers d'index NDX et fichiers d'index full-text FTX). Si les fichiers d'index ne sont pas sauvegardés, la taille de la sauvegarde sera réduite, mais le temps de restauration sera plus long. 
	Remarque : si les fichiers d'index ne sont pas sauvegardés, il sera nécessaire de fournir les mots de passe des fichiers au moment de la restauration pour permettre leur réindexation.

6. Indiquez le répertoire de sauvegarde. Si ce nom correspond à un chemin relatif, la sauvegarde sera réalisée dans le sous-répertoire "Backup" du serveur HFSQL. L'assistant permet de définir un sous-répertoire de "backup" ("Sauvegarde" par défaut). Il est également possible d'ajouter la date et l'heure (sous la forme "Année\\Mois\\Jour\\Heure-Minute") au nom du répertoire pour identifier facilement la sauvegarde.
	Remarque : Les sauvegardes sont réalisées dans un sous-répertoire numéroté (par exemple "backup\\Sauvegarde\\1". Ainsi, si plusieurs sauvegardes sont réalisées, les fichiers correspondants ne seront pas écrasés par une nouvelle sauvegarde.

7. Donnez une description à votre sauvegarde et validez.

8. La sauvegarde est automatiquement lancée. Vous pouvez suivre la sauvegarde dans le Centre de Contrôle HFSQL.




Remarque : Il est également possible de réaliser une sauvegarde depuis l'option "Sauvegardes" d'une base de données.




### Effectuer une sauvegarde planifiée
<a name="effectuer_une_sauvegarde_planifiee_ELTPARAGRAPHE000053"></a>Pour effectuer une sauvegarde planifiée :

1. Connectez-vous au serveur HFSQL voulu. 

2. Sélectionnez l'option "Tâches planifiées".

3. Cliquez sur le bouton "Créer". L'assistant de création d'une tâche planifiée se lance.

4. Indiquez les options de la planification : 

	- mois d'exécution : tous les mois, certains mois

	- jour d'exécution : tous les jours, certains jours de la semaine ou du mois

	- heure d'exécution : à heure fixe ou régulièrement dans la journée




5. Indiquez le contenu de la tâche planifiée : 

	- une procédure stockée

	- une sauvegarde




6. Si vous choisissez de lancer une procédure stockée, indiquez :

	- le nom de la base contenant la procédure stockée à exécuter,

	- le nom de la collection de procédures contenant la procédure stockée à exécuter,

	- le nom de la procédure à exécuter.




7. Validez l'assistant. La tâche planifiée est créée. 

8. Si vous choisissez de lancer une sauvegarde, indiquez le contenu de la sauvegarde :

	- Tout le contenu du serveur.

	- Une base de données spécifique.

	- Une sélection de bases de données et / ou de fichiers.




9. Indiquez si la sauvegarde doit contenir les fichiers d'index (fichiers d'index NDX et fichiers d'index full-text FTX). Si les fichiers d'index ne sont pas sauvegardés, la taille de la sauvegarde sera réduite, mais le temps de restauration sera plus long. Remarque : si les fichiers d'index ne sont pas sauvegardés, il sera nécessaire de fournir les mots de passe des fichiers au moment de la restauration pour permettre leur réindexation.

10. Indiquez le répertoire de sauvegarde. Si ce nom correspond à un chemin relatif, la sauvegarde sera réalisée dans le sous-répertoire "Backup" du serveur HFSQL. L'assistant permet de définir un sous-répertoire de "backup" ("Sauvegarde" par défaut). Il est également possible d'ajouter la date et l'heure (sous la forme "Année\\Mois\\Jour\\Heure-Minute") au nom du répertoire pour identifier facilement la sauvegarde.
	Remarque : Les sauvegardes sont réalisées dans un sous-répertoire numéroté (par exemple "backup\\Sauvegarde\\1". Ainsi, si plusieurs sauvegardes sont réalisées, les fichiers correspondants ne seront pas écrasés par une nouvelle sauvegarde.

11. Donnez une description à votre sauvegarde et validez.

12. La sauvegarde sera automatiquement lancée selon la planification indiquée. Vous pouvez suivre la sauvegarde dans l'administrateur distant HFSQL.





### Manipulations sur les sauvegardes
<a name="manipulations_sur_les_sauvegardes_ELTPARAGRAPHE000088"></a>L'administrateur distant HFSQL permet de manipuler les différentes sauvegardes réalisées. Il est possible de :

- Effectuer une sauvegarde.

- Relancer une sauvegarde.

- Restaurer une sauvegarde.




Pour effectuer ces manipulations :

1. Connectez-vous au serveur HFSQL voulu. 

2. Sélectionnez l'option "Sauvegardes".

3. Sélectionnez la sauvegarde à manipuler et cliquez sur le bouton correspondant à l'action voulue.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Sauvegarde depuis une base de données : Comment le faire ?
<a name="sauvegarde_depuis_une_base_donnees_comment_faire_ELTTEXTE000232"></a>
Pour effectuer une sauvegarde :

1. Connectez-vous au serveur HFSQL voulu. 

2. Cliquez sur l'option "Bases de données". 

3. Sélectionnez la base de données voulue et cliquez sur le lien "Accéder à la base de données sélectionnée". 

4. Sélectionnez l'option "Sauvegardes".

5. Indiquez le nom de l'archive (fichier Zip) qui contiendra les fichiers de données sauvegardés. 

6. Indiquez si le fichier d'archive doit être téléchargé sur le poste de l'utilisateur à la fin de l'opération. 

7. Sélectionnez les fichiers de données à sauvegarder. 

8. Cliquez sur le bouton "Sauvegarder" pour lancer la sauvegarde. 











