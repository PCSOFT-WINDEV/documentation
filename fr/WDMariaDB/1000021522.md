
## Connecteur Natif MariaDB : Particularités
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000149"></a>
Le Connecteur Natif MariaDB crée des tables de type "InnoDB" pour permettre la gestion des blocages et des transactions sur une base MariaDB. 

Reportez-vous à la documentation de MariaDB pour obtenir les spécificités de ce type de table.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Utilisation
<a name="utilisation_ELTTEXTE000173"></a>


### Cas d'utilisation
<a name="cas_utilisation_ELTPARAGRAPHE000019"></a>Si votre serveur n'est pas configuré pour permettre la gestion des tables "InnoDB", par défaut, MariaDB crée automatiquement une table de type ISAM (type par défaut des tables sur MariaDB). Vous trouverez dans la documentation de MariaDB, les détails concernant la "configuration du serveur pour permettre la gestion des tables "InnoDB"".

**Connecteur Natif MariaDB** : Les fonctions [SQLBloque](../WDLang4/3072003.md) et [SQLTransaction](../WDLang4/3072029.md) permettent de gérer les blocages et les transactions uniquement sur les tables MariaDB de type "InnoDB".

Si vous souhaitez spécifier un autre type de table (autre que "InnoDB") :

- soit exécutez une requête SQL de création de table (ordre "CREATE TABLE")

- soit utilisez l'outil d'administration de MariaDB. Dans ce cas, n'utilisez pas la fonction [HCréation](../WDLang4/3044255.md) dans votre programme. En effet, la fonction [HCréation](../WDLang4/3044255.md) supprime la table (ordre "DROP TABLE") si elle existe déjà afin de pouvoir la recréer.



<a name="NOTE2_2"></a>


### Parcours de tables (fichiers de données)
<a name="parcours_tables_fichiers_donnees_ELTPARAGRAPHE000045"></a>Lors d'un parcours sur une table MariaDB, les enregistrements ne sont pas récupérés en une seule fois mais par blocs de 100 enregistrements. Cette valeur correspond à un "cache" de lecture. Cette particularité permet notamment d'optimiser les parcours avec les fonctions [HLitPremier](../WDLang4/3044051.md)/[HLitSuivant](../WDLang4/3044037.md) ainsi que les fonctions de recherche HLitRechercheXXX.

**Remarque** :  Les enregistrements identiques au dernier enregistrement lu (c'est-à-dire dont les valeurs de toutes les rubriques sont identiques) ne seront pas sélectionnés par la requête de remplissage du "cache" de lecture pour les enregistrements suivants.


*Exemple* : Dans la table MariaDB "MaTable", les enregistrements suivants sont présents :


|   |   |
| --- | --- |
| **N° d'enregistrement** | **Valeur** |
| ... | ... |
| 98 | Tata |
| 99 | Toto |
| 100 | Toto |
| 101 | Toto |
| 102 | Tutu |


Soit le code de parcours suivant :


```wl
POUR TOUT MaTable
	Trace(MaTable.Valeur)
FIN
```


La fenêtre de trace affichera les valeurs suivantes :

- Tata

- Toto

- Toto

- Tutu




Il manque un enregistrement (Enregistrement n°101 dont Valeur est égale à "Toto").




