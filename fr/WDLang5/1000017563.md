
## Utiliser  le service de cartographie Google Maps
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000157"></a>
Le service de cartographie Google Maps est un logiciel de cartographie Internet proposé par Google. Il permet d'afficher un plan en offrant de nombreuses possibilités de visualisation.

**Remarque** : Le service de cartographie proposé est Google Static Maps.

Exemples de traitements pouvant être réalisés en WLangage :

- Récupérer une carte, l'afficher dans un champ d'une fenêtre ou d'un état et l'envoyer par email.

- Définir la zone de la carte et taille de l'image à récupérer en définissant la latitude, la longitude, le taux de zoom, ...

- Dessiner un itinéraire sur la carte (point par point) : un chemin peut par exemple être récupéré lors d'un parcours avec un GPS qui enregistre le parcours effectué.

- Afficher des marqueurs sur une carte à une position donnée.




**Avertissement** : Avant d'utiliser une fonctionnalité reliée à des services Google, nous vous conseillons vivement de vous reporter à la licence d'utilisation de ce service. Certaines restrictions peuvent s'appliquer. Le contenu des licences peut varier avec le temps.

PC SOFT dégage toute responsabilité de l'usage qui peut être fait des fonctions d'accès natif. Il vous appartient de vérifier que l'usage que vous faites respecte la licence du fournisseur du service.



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Comment le faire ?
<a name="comment_faire_ELTTEXTE000181"></a>


### Récupérer une carte dans vos applications ou sites
<a name="recuperer_une_carte_dans_vos_applications_sites_ELTPARAGRAPHE000032"></a>Pour intégrer une carte utilisant le service de cartographie Google Maps dans vos applications ou sites :

1. Générez une clé Google. Cette clé est fournie par Google. Pour plus de détails sur comment générer une clé, consultez  [https://developers.google.com/maps/documentation/javascript/tutorial#api_key](https://developers.google.com/maps/documentation/javascript/tutorial#api_key). Attention : l'adresse de cette page peut être modifiée depuis la date de rédaction de cette page.

2. Dans votre projet WINDEV ou WEBDEV, créez un champ Image. Ce champ va afficher la carte voulue.

3. Dans le code permettant de récupérer la carte, affectez le résultat de la fonction [GglRécupèreCarte](../WDLang5/1000017404.md) au champ Image. Cette fonction attend les paramètres suivants :

	- la clé Google

	- la latitude et la longitude du point central de la carte

	- le zoom effectué

	- la taille de l'image à récupérer. La taille maximale est 640 x 640. Cette limite est définie par le service de cartographie Google Maps à la date de la rédaction de cette page.

	- le type de carte voulu (plan, satellite, ...).







Par défaut, cette carte n'a pas de cadre, est au format GIF et n'a pas de marqueurs. La langue affichée sur la carte correspond à la langue du pays affiché. 


<a name="NOTE2_2"></a>


### Récupérer une carte avec paramétrage avancé (marqueurs, ...)
<a name="recuperer_une_carte_avec_parametrage_avance_marqueurs_ELTPARAGRAPHE000058"></a>Pour intégrer une carte avancée utilisant le service de cartographie Google Maps dans vos applications ou sites :

1. Générez une clé Google. Cette clé est fournie par Google. Pour plus de détails sur comment générer une clé, consultez  [https://developers.google.com/maps/documentation/javascript/tutorial#api_key](https://developers.google.com/maps/documentation/javascript/tutorial#api_key).

2. Dans votre projet WINDEV ou WEBDEV, créez un champ Image. Ce champ va afficher la carte voulue.

3. Dans le code permettant de récupérer la carte :

	- Créez une variable de type [gglParamètreCarte](../WDLang5/1000017505.md). Cette variable va permettre de définir toutes les caractéristiques de la carte : présence d'un cadre, affichage d'un chemin, format de l'image reçue, marqueurs, ... Indiquez uniquement les caractéristiques voulues.

	- Affectez le résultat de la fonction [GglRécupèreCarte](../WDLang5/1000017404.md) au champ Image. Dans le paramètre &lt;Paramètres avancés&gt;, indiquez le nom de la variable gglParamètreCarte contenant les options voulues.







**Remarque** : En cas de dépassement des limites fixées par Google (nombre de point d'un chemin, nombre de marqueurs, taille de l'image, ...), aucune image n'est renvoyée. Dans ce cas, il est conseillé de modifier les paramètres de la carte en diminuant le nombre d'éléments à afficher.


<a name="NOTE2_3"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Remarque
<a name="remarque_ELTPARAGRAPHE000086"></a>Si vous utilisez un proxy pour accéder à Internet, il est nécessaire de configurer le proxy (fonction [Proxy](../WDLang3/3043002.md)) pour utiliser les fonctions Google.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Autres services
<a name="autres_services_ELTTEXTE000217"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png) Le service Google Maps permet également d'obtenir les coordonnées d'une adresse. Vous pouvez utiliser cette fonctionnalité grâce à la fonction WLangage [GglAdresseVersCoordonnées](../WDLang5/1000017568.md).

Cette fonction renvoie la latitude et la longitude de l'adresse indiquée dans une variable de type [gglCoordonnée](../WDLang5/1000017489.md).


- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LafonctiongglRecupereCarte.gif) ***Exemples unitaires (WINDEV)*** : **La fonction gglRécupèreCarte** <br>Utilisation de la fonction gglRécupèreCarte pour afficher une carte Google dans un champ Image.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LafonctiongglRecupereCarte.gif) ***Exemples unitaires (WEBDEV)*** : **La fonction gglRécupèreCarte** <br>Utilisation de la fonction gglRécupèreCarte pour afficher une carte Google dans un champ Image.


