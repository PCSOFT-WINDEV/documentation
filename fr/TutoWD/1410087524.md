
## Leçon 4.9. Identifier l'utilisateur : le groupware utilisateur
<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Ce que vous allez apprendre dans cette leçon
<a name="que_vous_allez_apprendre_dans_cette_lecon_ELTTEXTE000304"></a>


- Qu'est-ce le groupware utilisateur ?

- Intégrer le groupware utilisateur.

- Configurer le groupware utilisateur.

- Tester le groupware utilisateur.





|   |   |
| --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=dur%E9e.png)<br> | <br>Durée estimée : 20 mn |

| [Leçon précédente](../TutoWD/1410087539.md) | [Sommaire](../TutoWD/1410087560.md) | [Leçon suivante](../TutoWD/1410087525.md) |
| --- | --- | --- |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000351"></a>
Une application peut être utilisée par différents intervenants, ayant tous des profils différents. Il est souvent nécessaire de prévoir des niveaux d'accès selon les fonctions de l'utilisateur.

Prenons un exemple simple : lors de la mise en place d'une gestion commerciale, l'application propose les fonctionnalités suivantes :

- Consultation du tarif.

- Modification du tarif.

- Saisie des commandes.

- Saisie des clients.


Selon l'utilisateur, les accès possibles sont différents. Quelques exemples :

- les secrétaires peuvent consulter le tarif et créer des commandes.

- les commerciaux peuvent consulter le tarif et établir les commandes, gérer de nouveaux clients.

- les directeurs commerciaux ont accès à toutes les options.




WINDEV permet de gérer ces différents niveaux d'accès en quelques clics dans vos applications grâce au groupware utilisateur.

Nous allons intégrer le groupware utilisateur dans notre application "WD Application Complète" et le configurer.



- Ré-ouvrez si nécessaire le projet que vous avez manipulé dans la leçon précédente. 

	1. Affichez la page d'accueil de WINDEV (Ctrl + &lt;).

	2. Dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 4 - Application complète avec données", double-cliquez sur "Application complète - Exercice".

	3. WINDEV vous propose d'ouvrir le projet que vous avez manipulé dans la leçon précédente. Vous pouvez ouvrir le projet présent sur votre poste ou ouvrir le projet original. Choisissez "Ouvrir la copie locale". 





|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=exemple-WD.png)<br> | Corrigé | Un projet corrigé est disponible. Ce projet permet de suivre cette leçon. Pour ouvrir le projet corrigé, dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 4 - Application complète avec données", double-cliquez sur "Application complète - Corrigé". |







<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Intégrer le groupware utilisateur
<a name="integrer_groupware_utilisateur_ELTTEXTE000393"></a>


- Pour intégrer le groupware utilisateur dans le projet "WD Application Complète" :

	1. Sous le volet "Projet", dans le groupe "Projet", cliquez sur "Groupware Utilisateur". La fenêtre de configuration de la plateforme en cours apparaît, positionnée sur l'onglet "GPU".
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png)<br> | Note | Le groupware utilisateur peut être configuré pour une seule des configurations de projet de votre projet. Lors du test du projet, la fenêtre de connexion au groupware utilisateur ne sera affichée que lors du test de la plateforme pour laquelle le groupware a été défini. |





	2. Dans la zone "Groupware utilisateur", cliquez sur "Modifier". 

	3. La fenêtre de paramétrage du groupware utilisateur s'affiche. Activez le groupware utilisateur en cliquant sur "Actif".  
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_Int%E9grer%20le%20GPU%20-%20HC%20N%B0001.jpg&type=thumb)


	4. Par défaut, les options "Groupware utilisateur classique" et "Lancement automatique" sont sélectionnées. 

	- L'option "Groupware utilisateur classique" permet d'intégrer le groupware utilisateur dans votre application. Ce groupware utilisateur sera associé uniquement à votre configuration de projet, et la définition des droits sera également effectuée depuis l'application. 
						Remarque : Il est également possible d'utiliser un groupware utilisateur BaaS (Backend as a Service) avec une gestion des droits effectuée via un serveur. Pour plus de détails, consultez l'aide en ligne : [Groupware utilisateur](../Editeurs/1000021152.md). 

	- L'option "Lancement automatique" permet d'indiquer que le groupware utilisateur est lancé dès le démarrage de l'application. 
						Remarque : l'option "Lancement manuel par programmation" permet de définir le moment où le groupware utilisateur doit être lancé. 




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Configurer le groupware utilisateur
<a name="configurer_groupware_utilisateur_ELTTEXTE000471"></a>
La configuration du groupware utilisateur consiste à définir les différents utilisateurs de l'application et leurs droits sur les différentes fenêtres et champs de l'application.|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png)<br> | Note | La configuration des utilisateurs peut être réalisée :<br><br>- lors du développement de l'application. Les fichiers de données nécessaires (des utilisateurs et de leurs droits) pourront être installés avec l'application.<br><br>- lorsque l'application est installée, par l'administrateur de l'application.<br><br><br> |







- Nous allons tout de suite tester notre application pour configurer le groupware utilisateur :

	1. Lancez le test du projet (![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_GO_Projet_WD_GAF.jpg)
 parmi les boutons d'accès rapide). Une fenêtre de login apparaît.

	2. Connectez-vous en tant que superviseur.

	3. Définissez le mot de passe et donnez sa confirmation. Validez.

	4. Un nouveau menu apparaît, permettant soit de tester l'application, soit de configurer l'application. 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_Int%E9grer%20le%20GPU%20-%20HC%20N%B0007.jpg&type=thumb)


	5. Choisissez l'option "Configurer le groupware". 



<a name="NOTE4_2"></a>


### Création des utilisateurs et des groupes
<a name="creation_des_utilisateurs_des_groupes_ELTPARAGRAPHE000156"></a>

- Pour configurer le groupware utilisateur, nous allons tout d'abord créer un utilisateur "Test_1" et l'associer au groupe "Tests". Nous allons ensuite configurer la gestion des droits du groupe. 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_Int%E9grer%20le%20GPU%20-%20HC%20N%B0008.jpg&type=thumb)





- Pour créer un utilisateur :

	1. Cliquez sur le bouton "Nouveau" en dessous de la zone "Utilisateurs". L'écran de saisie d'un nouvel utilisateur apparaît.

	2. Saisissez les informations suivantes :

		- Login : Test_1

		- Nom : Test_1

		- Mot de passe : Test_1
						|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png)<br> | Note | Par défaut, le mot de passe apparaît masqué lors de la saisie. Pour vérifier le mot de passe saisi, cliquez sur l'icône en forme d'oeil : le mot de passe apparaît en clair tant que le bouton de la souris reste enfoncé. |




![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_Int%E9grer%20le%20GPU%20-%20HC%20N%B0009.jpg&type=thumb)







- Pour créer un nouveau groupe d'utilisateurs :

	1. Cliquez sur le bouton "Nouveau" en dessous de la zone "Groupes". L'écran de saisie d'un nouveau groupe apparaît.

	2. Saisissez le nom du groupe "Tests". 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_Int%E9grer%20le%20GPU%20-%20HC%20N%B0010.jpg&type=thumb)


	3. Cliquez sur le bouton "Enregistrer". Le groupe "Tests" apparaît dans la liste des groupes définis pour le groupware utilisateur.




- Pour associer l'utilisateur au groupe :

	1. Sélectionnez l'utilisateur "Test_1" dans la fenêtre.

	2. Réalisez un "Glisser - Déposer" (Drag and Drop) de l'utilisateur "Test_1" vers le groupe "Tests". 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_Int%E9grer%20le%20GPU%20-%20HC%20N%B0011.jpg&type=thumb)


	3. L'association est réalisée.



<a name="NOTE4_3"></a>


### Définition des droits
<a name="definition_des_droits_ELTPARAGRAPHE000194"></a>Nous allons maintenant définir les droits pour le groupe d'utilisateurs "Tests". Ces droits seront appliqués à tous les utilisateurs du groupe. Dans notre exemple, les utilisateurs du groupe "Tests" ne pourront pas :

- Afficher la fenêtre d'envoi d'emails.

- Créer ou modifier un produit.




- Pour définir les droits :

	1. Cliquez sur l'option "Gestion des droits" à gauche de la fenêtre.

	2. Sélectionnez le groupe "Tests".

	3. Cliquez sur "Suivant".

	4. La fenêtre qui s'affiche permet de sélectionner chaque fenêtre ou état de l'application.

		- Pour chaque fenêtre ou état, il est possible de spécifier si l'élément sera accessible ou non par le groupe.

		- Pour chaque fenêtre, il est possible de dire si les champs de la fenêtre auront le comportement de l'application (défaut) ou seront inactifs, invisibles ou grisés.







- Pour interdire l'accès à la fenêtre "FEN_Envoi_d_un_email" :

	1. Sélectionnez la fenêtre dans la liste.

	2. Cliquez sur le bouton "Interdire l'accès". 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_Int%E9grer%20le%20GPU%20-%20HC%20N%B0012.jpg&type=thumb)


	3. La fenêtre devient interdite.




- Définissez les droits sur la fenêtre "FEN_Menu". Cette fenêtre contient une option de menu permettant d'afficher la fenêtre de gestion des emails ainsi que les boutons "Nouveau" et "Modifier".

	1. Sélectionnez la fenêtre "FEN_Menu".

	2. Cliquez sur le bouton "Suivant".

	3. La fenêtre de configuration des droits sur les champs de la fenêtre apparaît.

	4. Passez en "Grisé" les champs "BTN_Modifier" et "BTN_Nouveau" : 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_Int%E9grer%20le%20GPU%20-%20HC%20N%B0013.jpg&type=thumb)


	5. Passez en "Invisible" l'option de menu "Envoyer un email" : 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_Int%E9grer%20le%20GPU%20-%20HC%20N%B0014.jpg&type=thumb)



<a name="NOTE4_4"></a>


### Test de l'application
<a name="test_application_ELTPARAGRAPHE000234"></a>

- Nous allons maintenant tester l'application en utilisant le login "Test_1".

	1. Lancez le test du projet (![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_GO_Projet_WD_GAF.jpg)
 parmi les boutons d'accès rapide). Une fenêtre de login apparaît.

	2. Connectez-vous en tant que "Test_1" avec le mot de passe "Test_1". Validez.

	3. L'application se lance. Sélectionnez si nécessaire l'onglet "Liste des produits". Vous pouvez observer que les boutons "Nouveau" et "Modifier" sont grisés et que l'option de menu "Envoyer un email" est invisible. 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_Int%E9grer%20le%20GPU%20-%20HC%20N%B0015.jpg&type=thumb)


	4. Quittez l'application et revenez sous l'éditeur.




<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Débrancher la gestion du groupware utilisateur
<a name="debrancher_gestion_groupware_utilisateur_ELTTEXTE000549"></a>
**Dans la suite de ce cours, nous n'utiliserons plus le groupware utilisateur**. Vous pouvez directement le débrancher.

1. Sous le volet "Projet", dans le groupe "Projet", cliquez sur "Groupware Utilisateur".

2. La fenêtre de configuration de la plateforme en cours apparaît, positionnée sur l'onglet "GPU". 

3. Dans la zone "Groupware utilisateur", cliquez sur "Modifier". 

4. Dans la fenêtre qui s'affiche, dans l'onglet "Général", dans la zone "Activer le Groupware Utilisateur", cliquez sur "Inactif".

5. Validez la fenêtre de configuration du groupware utilisateur.

6. Validez la fenêtre de description de la configuration de projet. 


|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png)<br> | Note | **Si vous effectuez des tests automatiques dans votre application**, il est nécessaire de configurer le groupware utilisateur pour ne pas utiliser la fenêtre de login. Il suffit de renseigner l'option "Login automatique pour le mode test" dans l'onglet "Options" de la fenêtre de paramétrage du groupware. |





| [Leçon précédente](../TutoWD/1410087539.md) | [Sommaire](../TutoWD/1410087560.md) | [Leçon suivante](../TutoWD/1410087525.md) |
| --- | --- | --- |




