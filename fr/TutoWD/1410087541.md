
## Leçon 5.2. Mise en place d'une base de données Client/Serveur
<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Ce que vous allez apprendre dans cette leçon
<a name="que_vous_allez_apprendre_dans_cette_lecon_ELTTEXTE000272"></a>


- Installation d'un serveur HFSQL local.

- Création d'une application utilisant une base de données HFSQL Client/Serveur.

- Adaptation d'une application pour gérer une base de données HFSQL Client/Serveur.

- Fonctionnalités disponibles en mode Client/Serveur.





|   |   |
| --- | --- |
| <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=dur%E9e.png)<br> | <br>Durée estimée : 10 mn |

| [Leçon précédente](../TutoWD/1410087540.md) | [Sommaire](../TutoWD/1410087560.md) | [Leçon suivante](../TutoWD/1410087542.md) |
| --- | --- | --- |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000319"></a>
Dans cette leçon, nous allons effectuer toutes les opérations nécessaires au développement et au déploiement d'une application utilisant une base de données HFSQL Client/Serveur.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Installation d'un serveur HFSQL local
<a name="installation_serveur_hfsql_local_ELTTEXTE000343"></a>
La première opération à faire avant de commencer à développer consiste à installer un serveur HFSQL.

Sur le poste de développement, ce serveur peut être installé en local (c'est ce que nous allons faire). En déploiement, ce serveur peut être installé sur un poste spécifique.

Le programme d'installation du serveur HFSQL est disponible sur le support d'installation de WINDEV, WEBDEV et WINDEV Mobile. Si vous ne possédez pas ce support, l'installation du serveur HFSQL est également disponible sur le site de PC SOFT ([www.pcsoft.fr](https://www.pcsoft.fr)).

Pour installer le serveur HFSQL en local :

1. Lancez le programme d'installation de WINDEV, WEBDEV et WINDEV Mobile.

2. Choisissez l'option "Installer HFSQL Client/Serveur".

3. Sélectionnez ensuite l'option "Installer ou mettre à jour un serveur HFSQL".

4. Acceptez la licence.

5. Choisissez la plateforme (option "Pour Windows sur cette machine").

6. Si des serveurs HFSQL sont déjà installés sur le poste en cours, choisissez l'option "Installer un nouveau serveur".

7. Sélectionnez le répertoire d'installation et indiquez le nom du serveur et le port. Par défaut, le port utilisé est 4900.
	|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | Pensez à ouvrir ce port sur le firewall pour se connecter au serveur HFSQL depuis une autre machine. |





8. Indiquez le nom et le mot de passe de l'utilisateur ayant les droits d'administration qui sera créé par défaut sur le serveur HFSQL. Par défaut, cet utilisateur est "Admin" sans mot de passe. 
	|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | Pour des raisons évidentes de sécurité, pensez à changer le mot de passe de l'administrateur. |





9. Installez le Centre de Contrôle HFSQL si celui-ci n'est pas présent ou accessible depuis votre poste.
	|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=avertissement.png) | Attention ! | Le Centre de Contrôle HFSQL est nécessaire à la gestion de la base HFSQL Client/Serveur. |





10. L'assistant propose de paramétrer l'envoi de notifications afin de connaître les dysfonctionnements du serveur en temps réel. Pour notre exemple, passez à l'étape suivante et indiquez que le paramétrage sera effectué "Plus tard". 

11. L'assistant propose d'activer l'authentification par Active Directory. Activez cette option si nécessaire. 

12. Validez (ou non) la participation à l'amélioration du produit installé en autorisant la collecte d'informations relatives à l'utilisation du produit. Cette collecte, facultative et anonyme, permet à PC SOFT d'améliorer les fonctionnalités du produit. 

13. L'installation est effectuée. Par défaut (si vous n'avez pas modifié les caractéristiques de l'administrateur), pour se connecter au serveur en mode administrateur, il faut utiliser l'utilisateur "Admin" sans mot de passe. 




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Création d'une application utilisant une base de données HFSQL Client/Serveur
<a name="creation_une_application_utilisant_une_base_donnees_hfsql_clientserveur_ELTTEXTE000421"></a>
La création d'une application WINDEV utilisant une base de données HFSQL Client/Serveur se fait très simplement. Il est nécessaire de :

1. Créer le projet en demandant à créer une nouvelle base de données.

2. Créer l'analyse en spécifiant que les bases de données utilisées par le projet seront de type "HFSQL Client/Serveur".

3. Indiquer les caractéristiques de la connexion au serveur HFSQL Client/Serveur à utiliser.

4. Lors de la création d'un fichier de données sous l'analyse, indiquer que ce fichier de données est en mode Client/Serveur et préciser la connexion utilisée.


|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | Vous pouvez aussi décrire la connexion au serveur HFSQL par programmation. Pour plus de détails, consultez l'aide en ligne : [HDécritConnexion](../WDLang4/3044205.md). |





<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Adaptation d'une application pour utiliser une base de données HFSQL Client/Serveur
<a name="adaptation_une_application_pour_utiliser_une_base_donnees_hfsql_clientserveur_ELTTEXTE000463"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000092"></a>Le passage d'une base de données HFSQL Classic en mode Client/Serveur est l'opération la plus courante.

WINDEV propose plusieurs solutions pour réaliser ce passage :

- réaliser cette adaptation dans l'éditeur d'analyses.

- réaliser cette adaptation depuis le Centre de Contrôle HFSQL.


Pour mieux se rendre compte des différentes étapes, nous allons passer en mode Client/Serveur l'application que nous avons réalisée dans la partie 4 de ce tutorial, en utilisant la première méthode, l'éditeur d'analyses.
<a name="NOTE5_2"></a>


### Adaptation de l'exemple
<a name="adaptation_exemple_ELTPARAGRAPHE000106"></a>Nous allons adapter notre projet "WD Application complète" (créé dans la partie 4 de ce tutoriel) pour qu'il utilise une base de données HFSQL Client/Serveur. 



- Ré-ouvrez si nécessaire le projet que vous avez manipulé dans la leçon précédente. 

	1. Affichez la page d'accueil de WINDEV (Ctrl + &lt;).

	2. Dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 5 - Administrer une base HFSQL Client/Serveur", double-cliquez sur "Application complète - Exercice".

	3. WINDEV vous propose d'ouvrir le projet que vous avez manipulé dans la leçon précédente. Vous pouvez ouvrir le projet présent sur votre poste ou ouvrir le projet original. Choisissez "Ouvrir la copie locale". 





|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=exemple-WD.png) | Corrigé | Un projet corrigé est disponible. Ce projet permet d'effectuer les manipulations réalisées dans cette leçon. Pour ouvrir le projet corrigé, dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 5 - Administrer une base HFSQL Client/Serveur", double-cliquez sur "Application complète - Corrigé". |







- Pour adapter le projet :

	1. Dans le volet "Explorateur de projet", sélectionnez si nécessaire, la configuration de projet "Exécutable Windows 32 bits". 

	2. Chargez l'analyse de votre projet sous l'éditeur d'analyses : cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Analyse_GAF.jpg) parmi les boutons d'accès rapide. L'éditeur d'analyses s'affiche.

	3. Sous le volet "Analyse" du ruban, dans le groupe "Connexion", cliquez sur "Nouvelle connexion". Un assistant s'ouvre, permettant de créer une connexion.

	4. Sélectionnez le type de connexion à créer : "HFSQL Client/Serveur". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Passage%20analyse%20en%20CS%20-%20HC%20N%B0001.jpg&type=thumb)


	5. Passez à l'étape suivante. 

6. Indiquez dans les étapes suivantes : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Passage%20analyse%20en%20CS%20-%20HC%20N%B0002.jpg&type=thumb)




<a name="NOTE6"></a>
<a name="NOTE6_1"></a>


## Fonctionnalités disponibles en mode HFSQL Client/Serveur
<a name="fonctionnalites_disponibles_mode_hfsql_clientserveur_ELTTEXTE000529"></a>
HFSQL Client/Serveur propose de nombreuses fonctionnalités :

- [Transactions](../WDLang4/3044335.md),

- [Journaux](../WDLang4/3044184.md),

- [Procédures stockées](../WDLang4/3044360.md),

- [Triggers](../WDLang4/3044272.md),

- [Modification automatique des données à chaud](../WDLang4/3044195.md),

- [Réindexation à chaud](../WDLang4/3044133.md),

- [Sauvegardes planifiées](../CCHF/3540006.md),

- [Sauvegardes incrémentielles](../CCHF/3540006.md),

- [Réplication multi-sites](../WDLang4/3044266.md).




Nous ne détaillerons pas ici ces fonctionnalités (certaines ont été abordées dans ce cours en mode HFSQL Classic). 

| [Leçon précédente](../TutoWD/1410087540.md) | [Sommaire](../TutoWD/1410087560.md) | [Leçon suivante](../TutoWD/1410087542.md) |
| --- | --- | --- |




