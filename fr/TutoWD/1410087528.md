
## Leçon 4.13. Déployer l'application


<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Ce que vous allez apprendre dans cette leçon
<a name="que_vous_allez_apprendre_dans_cette_lecon_ELTTEXTE000425"></a>


- Création de l'exécutable.

- Aide des nouveautés.

- Création de l'installation.





|   |   |
| --- | --- |
| <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=dur%E9e.png)<br> | <br>Durée estimée : 30 mn |

| [Leçon précédente](../TutoWD/1410087527.md) | [Sommaire](../TutoWD/1410087560.md) | [Leçon suivante](../TutoWD/1410087529.md) |
| --- | --- | --- |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000472"></a>
Nous avons créé une application complète en découvrant de nombreuses fonctionnalités de WINDEV. Maintenant, il faut générer l'exécutable et installer l'application chez les utilisateurs. C'est ce que nous allons faire pour conclure cette partie. Nous aurons ainsi vu la majorité des points importants lors du développement d'une application WINDEV.




- Ré-ouvrez si nécessaire le projet que vous avez manipulé dans la leçon précédente. 

	1. Affichez la page d'accueil de WINDEV (Ctrl + &lt;).

	2. Dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 4 - Application complète avec données", double-cliquez sur "Application complète - Exercice".

	3. WINDEV vous propose d'ouvrir le projet que vous avez manipulé dans la leçon précédente. Vous pouvez ouvrir le projet présent sur votre poste ou ouvrir le projet original. Choisissez "Ouvrir la copie locale". 





|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=exemple-WD.png) | Corrigé | Un projet corrigé est disponible. Ce projet permet d'effectuer les manipulations de cette leçon. Pour ouvrir le projet corrigé, dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 4 - Application complète avec données", double-cliquez sur "Application complète - Corrigé". |







<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Création de l'exécutable
<a name="creation_executable_ELTTEXTE000514"></a>
La création de l'exécutable est une opération très simple : une option de menu et quelques clics suffisent.

Nous vous proposons ici de détailler toutes les étapes de la création de l'exécutable afin de connaître toutes les possibilités de WINDEV. À tout moment, vous pouvez cliquer sur le bouton "Terminer" pour valider la totalité des étapes de l'assistant.

- Pour créer l'exécutable :

	1. Dans la zone des boutons d'accès rapide du ruban, déroulez ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Icones%20WD%20-%20HC%20N%B0002%201_GAF.jpg) et sélectionnez l'option "Générer l'exécutable Windows 64 bits (.exe)". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_D%E9ployer%20l'application%20-%20HC%20N%B0001.jpg)

			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | WINDEV permet également de créer des exécutables 64 bits, des exécutables Linux, des services, des applications Java, etc. |





	2. L'assistant de création d'un exécutable se lance. 

	3. Décrivez les options générales de l'exécutable :

		- le nom de l'exécutable : nous conservons le nom par défaut.

		- le nom de l'icône associée à l'exécutable : vous pouvez sélectionner une icône dans le catalogue d'images.

		- l'écran de lancement (également appelé "Splash screen"). Plusieurs types d'écran de lancement sont disponibles. 
						<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_D%E9ployer%20l'application%20-%20HC%20N%B0002.jpg&type=thumb)



 Conservez "Pas d'écran de lancement" et passez à l'étape suivante. 

4. Pour le fonctionnement de l'exécutable, nous garderons les options par défaut. Passez à l'étape suivante.

5. Vous pouvez personnaliser le message d'erreur de l'application. Nous garderons le message proposé par défaut. Passez à l'étape suivante.

6. L'assistant propose d'activer la télémétrie dans l'application. Nous n'utiliserons pas cette fonctionnalité. Passez à l'étape suivante.
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | La télémétrie permet d'obtenir des statistiques détaillées sur l'utilisation de votre application par les utilisateurs finaux. Grâce à la télémétrie, vous connaissez tout de vos applications déployées et vous pouvez facilement les améliorer.<br><br> |





7. Cette étape permet d'indiquer si l'exécutable prendra en compte les patchs.
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | Lors d'une modification de l'application, pour éviter de livrer la totalité de l'exécutable, il est possible de livrer des ressources complémentaires (fenêtres, états, etc.) sous forme de patchs. Ces patchs sont en fait des bibliothèques additives.<br><br>Si l'exécutable a été créé avec l'option "Oui l'exécutable prendra en compte ces mises à jour par patch", lors du lancement de l'application, les éléments présents dans le patch se substitueront aux éléments présents dans la bibliothèque de l'application.<br><br> |



Nous garderons les options par défaut. Passez à l'étape suivante.

8. Cette étape permet de gérer les langues de l'exécutable. Nous aborderons le sujet du multilingue dans une prochaine leçon. Nous garderons les options par défaut. Passez à l'étape suivante.

9. Cette étape récapitule tous les fichiers qui seront intégrés dans la bibliothèque de l'exécutable. Ce sont tous les éléments de votre projet qui peuvent être manipulés par l'utilisateur final. Nous garderons les options par défaut. Passez à l'étape suivante.

10. Cette étape concerne le répertoire des fichiers de données HFSQL Classic manipulés par l'application. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_D%E9ployer%20l'application%20-%20HC%20N%B0003.jpg&type=thumb)
Sélectionnez si nécessaire l'option "Automatique (conseillé)". Cette option permet d'installer les fichiers de données : 

	- soit dans le répertoire des données de l'application (si l'exécutable est installé dans "Program files"). 

	- soit dans le répertoire de l'exécutable. 




Voilà, la création de l'exécutable est terminée. Beaucoup d'options à renseigner, mais après une première configuration de vos choix, vous pourrez valider dès le début toutes les étapes de l'assistant.|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | Il est également possible de cliquer directement sur les étapes indiquées dans l'assistant pour parvenir directement à un écran de l'assistant. Les options par défaut des autres écrans seront automatiquement validées. |





<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Création de l'installation
<a name="creation_installation_ELTTEXTE000664"></a>
La création de l'installation est simplifiée grâce à un assistant. Cet assistant vous permet de définir les choix principaux. Si les options proposées par l'assistant ne suffisent pas, il est possible d'utiliser l'éditeur d'installation. Nous ne détaillerons pas son utilisation dans cette leçon. Pour plus de détails, consultez [L'éditeur d'installation WDInst](../Editeurs/2028042.md).

Nous vous proposons ici de détailler toutes les étapes de la création du programme d'installation afin de connaître toutes les possibilités de WINDEV. À tout moment, vous pouvez cliquer sur le bouton "Terminer" pour valider la totalité des étapes de l'assistant.



- Pour créer le programme d'installation :

	1. Sous le volet "Projet", dans le groupe "Génération", déroulez "Procédure d'installation" et sélectionnez l'option "Créer la procédure d'installation". L'assistant de création d'exécutable et d'installation se lance.

	2. Nous avons déjà créé l'exécutable : les options choisies sont mémorisées. 

	3. Cliquez dans l'assistant sur l'intitulé "Compléments" de la partie "Exécutable".

	4. L'assistant propose de réaliser une sauvegarde du projet. Sélectionnez l'option "Non : Ne pas faire de sauvegarde du projet" et passez à l'étape suivante.

	5. L'assistant propose de créer la page des nouveautés. 
			<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_D%E9ployer%20l'application%20-%20HC%20N%B0005%20b.jpg&type=thumb)
Cette option permet de créer un fichier d'aide pour présenter à l'utilisateur final les nouveautés de la version. Lors d'une première installation, ce fichier peut correspondre à l'aide du logiciel.
			Sélectionnez l'option "Créer une documentation des nouveautés" et passez à l'étape suivante.

	6. Vous pouvez définir les éléments qui seront automatiquement intégrés au fichier d'aide. Conservez les options par défaut et passez à l'étape suivante.
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | Si l'application possède déjà un système d'aide, il est possible de l'utiliser pour le compléter avec une page de nouveautés. |





	7. Validez le message d'information ainsi que la fenêtre d'enregistrement du fichier d'aide. 

	8. L'exécutable est automatiquement créé (avec les options que nous avons définies lors de la création de l'exécutable) et le système d'aide est créé. Vous pouvez saisir les informations spécifiques dans le système d'aide. Pour l'exemple, laissez les informations créées par défaut. Pour reprendre la création du programme d'installation, cliquez sur l'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_D%E9ployer%20l'application%20-%20HC%20N%B0005%201.jpg) correspondant à l'option "Poursuivre la création de la procédure d'installation". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_D%E9ployer%20l'application%20-%20HC%20N%B0005.jpg)
L'aide est automatiquement compilée.

	9. Nous passons maintenant dans la partie "Installation" de l'assistant. Dans ce premier écran, choisissez le mode d'installation :

		- Installation individuelle pour une application indépendante, installée et lancée sur chaque poste. Nous choisissons cette option.

		- Installation avec mise à jour automatique, pour une installation sur un poste serveur. Les applications seront installées à partir du serveur. En cas de mise à jour, seule une mise à jour du serveur est nécessaire. Les applications installées se mettront à jour automatiquement.

		- Installation dans un Store Privé, pour une installation dans un Store Privé précédemment défini. Les utilisateurs pourront installer l'application depuis le Store. 


 Passez à l'étape suivante.

10. Choisissez une installation standard. Passez à l'étape suivante.

11. Nous ne changeons pas le répertoire d'installation par défaut. Passez à l'étape suivante.

12. Dans la liste des fichiers installés, conservez les fichiers proposés. Par défaut, WINDEV propose le fichier Exécutable et le fichier d'aide (créé par l'aide des nouveautés). Nous allons ajouter les fichiers de données :

	- Cliquez sur le bouton "Ajouter". L'explorateur Windows affiche le contenu du répertoire de génération de l'application.

	- Sélectionnez les fichiers de données Client, Commande, LigneCommande, ModeRèglement et Produit (fichiers d'extension ".fic", ".ndx" et ".mmo").

	- Validez. Les fichiers sont automatiquement positionnés dans le répertoire des données de l'application. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_D%E9ployer%20l'application%20-%20HC%20N%B0006.jpg&type=thumb)




<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Installation d'une application
<a name="installation_une_application_ELTTEXTE000742"></a>
Dans la fenêtre de fin de création de l'installation, cliquez sur le bouton "Tester". Si vous avez fermé cette fenêtre, lancez directement le programme "Install.exe" présent dans le répertoire du programme d'installation. L'installation de l'application se lance.



- Nous allons suivre les différentes étapes du programme d'installation de l'application "WD Application Complète".

	1. Si vous utilisez un système d'exploitation correspondant à Windows Vista ou supérieur, une fenêtre s'affiche demandant l'autorisation d'exécuter le programme. Validez cette fenêtre.

	2. L'assistant d'installation se lance.
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | L'assistant propose de changer la langue de l'installation via une combo en haut à droite de la fenêtre. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_D%E9ployer%20l'application%20-%20HC%20N%B0008.jpg)<br> |




			Deux modes d'installation sont disponibles : 

		- Installation rapide : L'installation est directement réalisée avec les paramètres spécifiés par le fournisseur de l'application. 

		- Installation personnalisée : L'assistant demande à l'utilisateur les paramètres d'installation de l'application. 




3. Choisissez "Installation personnalisée". L'assistant demande le répertoire d'installation de l'application. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_D%E9ployer%20l'application%20-%20HC%20N%B0009.jpg&type=thumb)




<a name="NOTE6"></a>
<a name="NOTE6_1"></a>


## Les différents types de déploiement
<a name="les_differents_types_deploiement_ELTTEXTE000784"></a>
Nous venons de réaliser le déploiement d'une application simple. Dans l'assistant de création de l'installation, WINDEV propose également des installations avec mise à jour automatique.
<a name="NOTE6_2"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000304"></a>WINDEV propose par défaut plusieurs modes d'installation pour une application WINDEV :

- **Installation autonome** :
	Ce type d'installation permet de créer un programme d'installation unique. Ce programme d'installation sera exécuté par l'utilisateur final, directement sur son poste.
	Pour mettre à jour l'application, il suffira de recréer une installation de l'application. L'utilisateur final devra installer ce nouveau programme.
	C'est le type d'installation que nous venons de réaliser.

- **Installation avec mise à jour automatique** :
	Ce type d'installation permet de détecter automatiquement les mises à jour lors du lancement de l'application. Si une mise à jour est disponible, l'utilisateur peut immédiatement se mettre à jour.
	Ce type d'installation est disponible aussi bien via réseau ou via le Web. Il est également possible de réaliser une installation multi-site. 




Détaillons un peu plus le fonctionnement d'une installation avec mise à jour.
<a name="NOTE6_3"></a>


### Installation avec mise à jour réseau
<a name="installation_avec_mise_jour_reseau_ELTPARAGRAPHE000326"></a>La création du programme d'installation est réalisée grâce à l'assistant de création de programme d'installation (sous le volet "Projet", dans le groupe "Génération", cliquez sur "Procédure d'installation").

Le programme d'installation obtenu à la fin de l'assistant est en fait composé de deux installations :

- l'installation de l'application de référence. L'application de référence doit être installée sur le réseau (par exemple dans un répertoire partagé ou sur un serveur), accessible par tous les utilisateurs finaux de l'application.

- l'installation de l'application elle-même. Cette installation est englobée dans l'application de référence. Elle n'est accessible qu'une fois l'application de référence installée.




Le schéma suivant présente le mode d'installation d'une application utilisant une base HFSQL Classic en local, avec une mise à jour réseau. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P3-Installation%20avec%20mise%20%E0%20jour%20r%E9seau-En%20Ligne.gif&type=thumb)


A chaque lancement de l'application par l'utilisateur final, la vérification de la version de l'application de référence est automatiquement réalisée. Si cette version a été modifiée (par exemple si une mise à jour de la version de référence a été effectuée), une mise à jour de l'application finale est automatiquement proposée.
<a name="NOTE6_4"></a>


### Installation avec mise à jour Internet
<a name="installation_avec_mise_jour_internet_ELTPARAGRAPHE000355"></a>L'installation avec mise à jour par Internet utilise le même principe.

La création du programme d'installation est réalisée grâce à l'assistant de création de programme d'installation (sous le volet "Projet", dans le groupe "Génération", cliquez sur "Procédure d'installation").

Le programme d'installation obtenu à la fin de l'assistant est en fait composé de :

- l'installation de l'application de référence et la page Web permettant de télécharger l'installation cliente. Ces éléments doivent être installés sur un serveur HTTP.

- l'installation de l'application elle-même. Cette installation est englobée dans l'application de référence. Elle n'est accessible qu'une fois l'application de référence installée, par la page Web de téléchargement.




Le schéma suivant présente le mode d'installation d'une application utilisant une base HFSQL Client/Serveur, avec une mise à jour par Internet. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P3-Installation%20avec%20mise%20%E0%20jour%20internet-En%20Ligne.gif&type=thumb)


Remarque : Ce type d'installation peut également être effectué via [PCSCloud](https://pcscloud.net/FR/cloud_developpement.awp) (si vous disposez d'un compte). 
<a name="NOTE6_5"></a>


### Installation multisite
<a name="installation_multisite_ELTPARAGRAPHE000389"></a>L'installation multisite est la combinaison de :

- une installation réseau de référence déployée sur un réseau local.

- une installation HTTP utilisée pour la mise à jour de l'installation de référence sur le réseau local.




| [Leçon précédente](../TutoWD/1410087527.md) | [Sommaire](../TutoWD/1410087560.md) | [Leçon suivante](../TutoWD/1410087529.md) |
| --- | --- | --- |




