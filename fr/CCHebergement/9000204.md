
## Manipuler le Centre de contrôle d'hébergement en ligne de commande
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000491"></a>
Le Centre de contrôle d'hébergement peut être entièrement utilisé en ligne de commande. Il est possible de :

- [Gérer les comptes de déploiement](#NOTE2_1).

- [Gérer les sites WEBDEV](#NOTE3_1).

- [Gérer les webservices (SOAP et REST) et les serveurs de websocket](#NOTE4_1).

- [Migrer les comptes, les sites et les Webservices](#NOTE5_1).




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Gérer les comptes de déploiement
<a name="gerer_les_comptes_deploiement_ELTTEXTE000515"></a>


### Fichier de paramètres des comptes de déploiement
<a name="fichier_parametres_des_comptes_deploiement_ELTPARAGRAPHE000030"></a>Les manipulations des comptes de déploiement WEBDEV sont effectuées à partir d'un fichier contenant les paramètres du compte. Ce fichier est un fichier texte, d'extension quelconque. Ce fichier a la structure suivante :



```txt
[MAIN]
NOM=Durand
PRENOM=Alain
SOCIETE=PCSOFT
CONNEXION=66
LOGINOS=Durand

[DIR]
FTP=d:\temp\ftp
APPLI=d:\AppliWW\Durand
FICHIER=d:\DataWW\Durand
```


Le détail de ces paramètres est le suivant :

| Section [MAIN] |   |
| --- | --- |
| NOM | Nom de l'utilisateur du compte |
| PRENOM | Prénom de l'utilisateur du compte |
| SOCIETE | Société de l'utilisateur du compte |
| CONNEXION | Nombre de connexions totales autorisées pour ce compte |
| EMAIL | Adresse email de l'utilisateur du compte |
| ADRESSE | Adresse de l'utilisateur du compte |
| TELEPHONE | Numéro de téléphone de l'utilisateur du compte |
| DIVERS | Remarques supplémentaires |
| INTERDIT | <br><br>- 0 pour un compte activé,<br><br>- 1 pour un compte désactivé.<br><br><br> |
| ADMIN | <br><br>- 2 pour un compte de déploiement administrateur exclusif,<br><br>- 1 pour un compte de déploiement administrateur,<br><br>- 0 pour un compte de déploiement.<br><br><br> |
| LOGINOS | Nom du compte Windows utilisé pour l'installation (déploiement) et l'administration distante. Le mot de passe associé est celui du compte Windows. |
| LOGINOSIUSR | Nom du compte Windows utilisé pour l'exécution des sites et webservices. Le mot de passe associé est celui du compte Windows. |
| PWDOS | Mot de passe du compte Windows utilisé pour l'installation (déploiement) et l'administration distante. **Ce mot de passe est utilisé uniquement en mode cluster.** |
| PWDOSIUSR | Mot de passe du compte Windows pour l'exécution des sites et webservices. **Ce mot de passe est utilisé uniquement en mode cluster.** |
| LOGINOSIUSR | Nom du compte Windows utilisé pour l'exécution des sites et webservices. Le mot de passe associé est celui du compte Windows. |
| **Section [DIR]** |   |
| FTP | Répertoire utilisé pour le transfert par FTP. |
| APPLI | Répertoire des applications et sites WEBDEV associées à ce compte. |
| FICHIER | Répertoire des fichiers de données des applications et sites WEBDEV associées à ce compte. |
| WEBSERVICE | Répertoire des Webservices SOAP associés à ce compte. |
| WEBSERVICEREST | Répertoire des Webservices REST associés à ce compte. |
| SERVEURSWEBSOCKET | Répertoire des serveurs Websocket associés à ce compte. |
| **Section [HFCS1]** | Cette section est optionnelle. Elle permet de décrire le serveur HFSQL dans le cas d'une utilisation d'une base HFSQL Client/Serveur. |
| SERVEUR | Adresse IP du serveur HFSQL |
| PORT | Port du serveur HFSQL |
| LOGIN | Login de l'utilisateur de la base de données HFSQL Client/Serveur |
| PASSE | Mot de passe de l'utilisateur de la base de données HFSQL Client/Serveur |
| BASE | Base de données HFSQL Client/Serveur |




<a name="NOTE2_2"></a>


### Créer un compte de déploiement WEBDEV
<a name="creer_compte_deploiement_webdev_ELTPARAGRAPHE000177"></a>Pour créer un nouveau compte de déploiement WEBDEV à l'aide d'une ligne de commande et d'un fichier de paramètres : 

1. Créez un fichier contenant les paramètres du compte à créer. 

2. Lancez CCHebergement avec la ligne de commande suivante : 
	
	```txt
	CCHebergement.exe /CREATEUSER /PARAM="<Chemin complet du fichier de paramètres>"
	```





Remarque : Le mot de passe est celui du compte Windows.

Attention : Le fichier de paramètres n'est PAS détruit à la fin de la création du compte.
<a name="NOTE2_3"></a>


### Modifier un compte de déploiement WEBDEV
<a name="modifier_compte_deploiement_webdev_ELTPARAGRAPHE000195"></a>Pour modifier un compte de déploiement WEBDEV à l'aide d'une ligne de commande et d'un fichier de paramètres : 

1. Créez un fichier contenant les paramètres du compte à modifier.  

2. Lancez CCHebergement avec la ligne de commande suivante : 
	
	```txt
	CCHebergement.exe /MODUSER /PARAM="<Chemin complet du fichier de paramètres>"
	```





Les paramètres non renseignés dans le fichier de paramètres ne sont pas modifiés.

**Attention** : Le fichier de paramètres n'est PAS détruit à la fin de la création du compte.


<a name="NOTE2_4"></a>


### Supprimer un compte de déploiement
<a name="supprimer_compte_deploiement_ELTPARAGRAPHE000212"></a>Pour supprimer un compte à l'aide d'une ligne de commande, utilisez la syntaxe suivante : 

```txt
CCHebergement.exe /DELETEUSER /PARAM="<LOGINOS>"
```



<a name="NOTE2_5"></a>


### Lire les informations concernant un compte de déploiement
<a name="lire_les_informations_concernant_compte_deploiement_ELTPARAGRAPHE000222"></a>Pour lire les informations concernant un compte à l'aide d'une ligne de commande, utilisez la syntaxe suivante : 

```txt
CCHebergement.exe /INFOUSER /PARAM="<Chemin complet du fichier de paramètres>" /USER="<LOGINOS>"
```


Le fichier de paramètres est créé avec les informations concernant le compte utilisateur identifié par son LOGINOS.


<a name="NOTE2_6"></a>


### Obtenir la liste des comptes de déploiement
<a name="obtenir_liste_des_comptes_deploiement_ELTPARAGRAPHE000234"></a>Pour lire les informations concernant les différents comptes de déploiement à l'aide d'une ligne de commande, utilisez la syntaxe suivante :


```txt
CCHebergement.exe /LISTUSER /PARAM="<Chemin complet du fichier de paramètres>"
```


Le fichier de paramètres est créé avec les informations concernant les différents comptes utilisateur.



<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Gestion des applications
<a name="gestion_des_applications_ELTTEXTE000569"></a>


### Supprimer une application
<a name="supprimer_une_application_ELTPARAGRAPHE000248"></a>Pour supprimer une application ou un site WEBDEV à l'aide d'une ligne de commande, utilisez la syntaxe suivante :


```txt
CCHebergement.exe /DELETEAPP /APP="<Nom de l'application>"
```



<a name="NOTE3_3"></a>


### Attribution d'une application à un compte de déploiement WEBDEV
<a name="attribution_une_application_compte_deploiement_webdev_ELTPARAGRAPHE000258"></a>Pour attribuer une application ou un site WEBDEV à un compte de déploiement WEBDEV à l'aide d'une ligne de commande, utilisez la syntaxe suivante :


```txt
CCHebergement.exe /ATTRIBAPP /APPLI="<Nom de l'application>" /USER="<Login>"
```

<a name="NOTE3_4"></a>


### Liste des applications d'un compte de déploiement
<a name="liste_des_applications_compte_deploiement_ELTPARAGRAPHE000267"></a>Pour lister les applications d'un compte de déploiement à l'aide d'une ligne de commande, utilisez la syntaxe suivante :


```txt
CCHebergement.exe /LISTAPPUSER /PARAM="<Fichier Liste>" /USER="<Login>"
```


Les applications sont listées dans le fichier &lt;Fichier Liste&gt;.


<a name="NOTE3_5"></a>


### Liste des applications WEBDEV non attribuées
<a name="liste_des_applications_webdev_non_attribuees_ELTPARAGRAPHE000279"></a>Pour obtenir la liste des applications non attribuées à l'aide d'une ligne de commande, utilisez la syntaxe suivante :


```txt
CCHebergement.exe /LISTAPPFREE /PARAM="<Fichier Liste>"
```


Les applications sont listées dans le fichier &lt;Fichier Liste&gt;.



<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Gestion des Webservices (SOAP et REST) et des serveurs de Websockets
<a name="gestion_des_webservices_soap_rest_des_serveurs_websockets_ELTTEXTE000611"></a>


### Supprimer un Webservice (SOAP ou REST) ou un serveur de Websocket
<a name="supprimer_webservice_soap_rest_serveur_websocket_ELTPARAGRAPHE000293"></a>

- Pour supprimer un Webservice SOAP à l'aide d'une ligne de commande, utilisez la syntaxe suivante : 
	
	```txt
	CCHebergement.exe /DELETEWEBSERVICE /WEBSERVICE="<Nom du Webservice>"
	```


- Pour supprimer un Webservice REST à l'aide d'une ligne de commande, utilisez la syntaxe suivante : 
	
	```txt
	CCHebergement.exe /DELETEWEBSERVICEREST /WEBSERVICEREST="<Nom du Webservice REST>"
	```


- Pour supprimer un serveur de Websocket à l'aide d'une ligne de commande, utilisez la syntaxe suivante : 
	
	```txt
	CCHebergement.exe /DELETESERVEURWEBSOCKET /SERVEURWEBSOCKET="<Nom du serveur de Websocket>"
	```




<a name="NOTE4_2"></a>


### Attribution d'un Webservice (SOAP ou REST) ou un serveur de Websocket à un compte de déploiement WEBDEV
<a name="attribution_webservice_soap_rest_serveur_websocket_compte_deploiement_webdev_ELTPARAGRAPHE000308"></a>

- Pour attribuer un Webservice SOAP à un compte de déploiement WEBDEV à l'aide d'une ligne de commande, utilisez la syntaxe suivante : 
	
	```txt
	CCHebergement.exe /ATTRIBWEBSERVICE /WEBSERVICE="<Nom du Webservice>" /USER="<Login>"
	```


- Pour attribuer un Webservice REST à un compte de déploiement WEBDEV à l'aide d'une ligne de commande, utilisez la syntaxe suivante : 
	
	```txt
	CCHebergement.exe /ATTRIBWEBSERVICEREST 
			/WEBSERVICEREST="<Nom du Webservice REST>" /USER="<Login>"
	```


- Pour attribuer un serveur de Websocket à un compte de déploiement WEBDEV à l'aide d'une ligne de commande, utilisez la syntaxe suivante : 
	
	```txt
	CCHebergement.exe /ATTRIBSERVEURWEBSOCKET 
				/SERVEURWEBSOCKET="<Nom du serveur de Websocket>" 
				/USER="<Login>"
	```




<a name="NOTE4_3"></a>


### Liste des Webservices (SOAP ou REST) ou les serveurs de Websocket d'un compte
<a name="liste_des_webservices_soap_rest_les_serveurs_websocket_compte_ELTPARAGRAPHE000323"></a>

- Pour lister les Webservices SOAP d'un compte de déploiement à l'aide d'une ligne de commande, utilisez la syntaxe suivante : 
	
	```txt
	CCHebergement.exe /LISTWEBSERVICEUSER /PARAM="<Fichier Liste>" /USER="<Login>"
	```


- Pour lister les Webservices REST d'un compte de déploiement à l'aide d'une ligne de commande, utilisez la syntaxe suivante : 
	
	```txt
	CCHebergement.exe /LISTWEBSERVICEUSERREST /PARAM="<Fichier Liste>" /USER="<Login>"
	```


- Pour lister les serveurs de Websocket d'un compte de déploiement à l'aide d'une ligne de commande, utilisez la syntaxe suivante : 
	
	```txt
	CCHebergement.exe /LISTSERVEURSWEBSOCKETUSER /PARAM="<Fichier Liste>" /USER="<Login>"
	```





Les webservices et serveurs de websocket sont listés dans le fichier &lt;Fichier Liste&gt;.


<a name="NOTE4_4"></a>


### Liste des Webservices (SOAP ou REST) ou les serveurs de Websocket non attribués
<a name="liste_des_webservices_soap_rest_les_serveurs_websocket_non_attribues_ELTPARAGRAPHE000341"></a>

- Pour obtenir la liste des Webservices SOAP non attribués à l'aide d'une ligne de commande, utilisez la syntaxe suivante :
	
	```txt
	CCHebergement.exe /LISTWEBSERVICEFREE /PARAM="<Fichier Liste>"
	```


- Pour obtenir la liste des Webservices REST non attribués à l'aide d'une ligne de commande, utilisez la syntaxe suivante :
	
	```txt
	CCHebergement.exe /LISTWEBSERVICERESTFREE /PARAM="<Fichier Liste>"
	```


- Pour obtenir la liste des serveurs de Websocket non attribués à l'aide d'une ligne de commande, utilisez la syntaxe suivante :
	
	```txt
	CCHebergement.exe /LISTSERVEURSWEBSOCKET /PARAM="<Fichier Liste>"
	```





Les webservices et serveurs de websocket sont listés dans le fichier &lt;Fichier Liste&gt;.







<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Migrer les comptes, les sites et les Webservices
<a name="migrer_les_comptes_les_sites_les_webservices_ELTTEXTE000653"></a>


### Migrer un compte utilisateur
<a name="migrer_compte_utilisateur_ELTPARAGRAPHE000362"></a>Pour migrer un compte utilisateur à l'aide d'une ligne de commande, utilisez la syntaxe suivante :


```txt
CCHebergement.exe /MIGREUSER [/VERSIONMIGRATION=<Numéro de version à migrer>] [/MIGRERESETUSER]
```


Le paramètre &lt;Numéro de version à migrer&gt; correspond au numéro de version du compte à migrer. 
Si ce paramètre correspond à \*, toutes les versions précédentes seront migrées, de la version la plus récente vers la version la plus ancienne. Si le compte existe déjà, il n'est pas remplacé. 
Si ce paramètre n'est pas précisé, seule la version précédente la plus récente est migrée.

Le mot-clé MIGRERESETUSER permet de supprimer les utilisateurs de la version actuelle avant la migration. Ce mot-clé permet notamment de supprimer le compte "admin" créé automatiquement à l'installation.


<a name="NOTE5_2"></a>


### Migrer un site WEBDEV
<a name="migrer_site_webdev_ELTPARAGRAPHE000380"></a>Pour migrer un site WEBDEV à l'aide d'une ligne de commande, utilisez la syntaxe suivante :


```txt
CCHebergement.exe /MIGREAPP [/VERSIONMIGRATION=<Numéro de version à migrer>]
```


Le paramètre &lt;Numéro de version à migrer&gt; correspond au numéro de version du site à migrer. 
Si ce paramètre correspond à \*, toutes les versions précédentes seront migrées, de la version la plus récente vers la version la plus ancienne. Si le site existe déjà, il n'est pas remplacé.
Si ce paramètre n'est pas précisé, seule la version précédente la plus récente est migrée.
<a name="NOTE5_3"></a>


### Migrer un Webservice SOAP et REST
<a name="migrer_webservice_soap_rest_ELTPARAGRAPHE000395"></a>Pour migrer un Webservice à l'aide d'une ligne de commande, utilisez la syntaxe suivante :


```txt
CCHebergement.exe /MIGREWEBSERVICE [/VERSIONMIGRATION=<Numéro de version à migrer>]
```



```txt
CCHebergement.exe /MIGREWEBSERVICEREST [/VERSIONMIGRATION=<Numéro de version à migrer>]
```


Le paramètre &lt;Numéro de version à migrer&gt; correspond au numéro de version du Webservice à migrer. 
Si ce paramètre correspond à \*, toutes les versions précédentes seront migrées, de la version la plus récente vers la version la plus ancienne. Si le webservice existe déjà, il n'est pas remplacé.
Si ce paramètre n'est pas précisé, seule la version précédente la plus récente est migrée.


<a name="NOTE5_3B"></a>


### Migrer un serveur de Websocket
<a name="migrer_serveur_websocket_ELTPARAGRAPHE000413"></a>Pour migrer un serveur de Websocket à l'aide d'une ligne de commande, utilisez la syntaxe suivante :


```txt
CCHebergement.exe /MIGRESERVEURSWEBSOCKET [/VERSIONMIGRATION=<Numéro de version à migrer>]
```


Le paramètre &lt;Numéro de version à migrer&gt; correspond au numéro de version du serveur de websocket à migrer. 
Si ce paramètre correspond à \*, toutes les versions précédentes seront migrées, de la version la plus récente vers la version la plus ancienne. Si le serveur de websocket existe déjà, il n'est pas remplacé.
Si ce paramètre n'est pas précisé, seule la version précédente la plus récente est migrée.


<a name="NOTE5_4"></a>


### Migrer tout
<a name="migrer_tout_ELTPARAGRAPHE000429"></a>Pour migrer les utilisateurs, les sites et les Webservices à l'aide d'une ligne de commande, utilisez la syntaxe suivante :


```txt
CCHebergement.exe /MIGREALL 
	[/VERSIONMIGRATION=<Numéro de version à migrer>] [/MIGRERESETUSER]
```


Le paramètre &lt;Numéro de version à migrer&gt; correspond au numéro de version du compte à migrer. 
Si ce paramètre correspond à \*, toutes les versions précédentes seront migrées, de la version la plus récente vers la version la plus ancienne. Si le compte, le site ou le Webservice existe déjà, il n'est pas remplacé. 
Si ce paramètre n'est pas précisé, seule la version précédente la plus récente est migrée.

Le mot-clé MIGRERESETUSER permet de supprimer les utilisateurs de la version actuelle avant la migration. Ce mot-clé permet notamment de supprimer le compte "admin" créé automatiquement à l'installation.








