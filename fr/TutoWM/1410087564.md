
## Leçon 2.3. Interface (UI)


<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Ce que vous allez apprendre dans cette leçon
<a name="que_vous_allez_apprendre_dans_cette_lecon_ELTTEXTE000277"></a>


- Choix de la résolution en fonction du matériel.

- Orientation de la fenêtre.

- Gestion du tactile.





|   |   |
| --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=dur%E9e.png)<br> | <br>Durée estimée : 30 mn |



| [Leçon précédente](../TutoWM/1410087596.md) | [Sommaire](../TutoWM/1410087586.md) | [Leçon suivante](../TutoWM/1410087565.md) |
| --- | --- | --- |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000324"></a>
WINDEV Mobile permet de créer simplement des interfaces s'adaptant au matériel utilisé :  

- Pour le système Android, les applications peuvent être utilisées aussi bien sur des téléphones que sur des tablettes. 

- Pour le système iOS, les applications peuvent être utilisées sur des téléphones (iPhone), sur des tablettes (iPad) et sur des iPod.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Choix de la résolution en fonction du matériel
<a name="choix_resolution_fonction_materiel_ELTTEXTE000348"></a>
Lors de la création d'un projet, il est nécessaire de choisir la résolution qui sera utilisée pour les fenêtres du projet. Plusieurs cas se présentent :

- **Vous avez un seul matériel cible** : dans ce cas, il suffit de créer un projet spécifique iOS ou Android pour le matériel cible. L'assistant de création de projet vous permet alors de sélectionner le matériel cible voulu. L'assistant de création de fenêtres proposera uniquement la création de fenêtres pour ce matériel cible.

- **Vous ne connaissez pas le matériel cible** : dans ce cas, dans l'assistant de création de projet, vous sélectionnez "Générer une application pour téléphones et tablettes". Lors de la création des fenêtres, vous pouvez :

	- développer vos fenêtres pour le téléphone. L'ancrage des champs dans la fenêtre permettra d'adapter le contenu aux tablettes (solution conseillée).

	- utiliser les agencements pour créer des interfaces différentes selon la plateforme d'exécution et sa résolution.

	- développer 2 jeux de fenêtres, un pour le téléphone, un pour la tablette.







<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Orientation de la fenêtre
<a name="orientation_fenetre_ELTTEXTE000372"></a>
Sous Android ou iOS, une fenêtre peut avoir une des orientations suivantes :

- Libre : la fenêtre suit l'orientation du matériel, 

- Bloquée en mode portrait,

- Bloquée en mode paysage.




Pour définir l'orientation de la fenêtre : 

1. Cliquez sur le fond de la fenêtre. 

2. Dans le menu contextuel (clic droit), sélectionnez l'option "Description". 

3. Affichez l'onglet "UI". 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P2_WM%20-%20Mon%20Premier%20Projet2%20-%20HC%20N%B0005.jpg&type=thumb)





Dans le cas d'une fenêtre bloquée en mode portrait ou paysage, aucune manipulation spécifique n'est nécessaire.

Dans le cas d'une fenêtre libre, la disposition des champs et leur taille doivent s'adapter à l'orientation. Il faut utiliser le mécanisme de l'ancrage pour obtenir un résultat satisfaisant.


### Exemple pratique
<a name="exemple_pratique_ELTPARAGRAPHE000068"></a>

- Ré-ouvrez si nécessaire le projet "Mon_Projet_iOS_Android" que nous avons créé dans la leçon 2.1 : 

	1. Affichez la page d'accueil de WINDEV (Ctrl + &lt;). 
			

	2. Dans la page d'accueil, cliquez sur "Ouvrir un projet" puis dans la zone "Projets récents", double-cliquez sur "Mon_Projet_iOS_Android".
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=exemple-WM.png)<br> | Corrigé | Un projet corrigé est disponible. Ce projet permet de suivre cette leçon. Pour ouvrir le projet corrigé, dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 2 - Leçon 2.1 - Ma première application Android/iOS", double-cliquez sur "Mon projet Android/iOS - Corrigé". |











Dans notre exemple, le projet a été créé pour un téléphone et nous l'avons testé en mode portrait sous le simulateur.

Nous allons maintenant le tester en mode paysage sous le simulateur.

- Lancez le test du projet en mode simulateur : 

	1. Sélectionnez la configuration Android ou iOS (dans cette leçon, les images ont été réalisées en configuration Android). 

	2. Dans la zone des boutons d'accès rapide, déroulez si nécessaire "GO" et sélectionnez l'option "![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_ICO_PRJ_Simu_WM_GAF.jpg)
 Déboguer sur simulateur XXX". ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Go%20test%20Android%20-%20HC%20N%B0001.jpg)

			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png)<br> | Note | Par défaut, le test du projet sur votre appareil mobile est proposé dans les boutons d'accès rapide. Dès que l'option "![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_ICO_PRJ_Simu_WM_GAF.jpg)<br> Déboguer sur simulateur" sera sélectionnée, l'icône correspondante (![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_ICO_PRJ_Simu_WM_GAF.jpg)<br>) sera automatiquement proposée dans les boutons d'accès rapide. |





	3. Validez si nécessaire la fenêtre qui s'affiche. 

	4. La fenêtre apparaît en mode portrait.

	5. Le simulateur propose un menu sous forme d'icônes : ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P2_WM%20-%20Mon%20Premier%20Projet2%20-%20HC%20N%B0006%202.jpg)
.

	6. Modifiez l'orientation de la fenêtre grâce à l'option "Rotation" (![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P2_WM%20-%20Mon%20Premier%20Projet2%20-%20HC%20N%B0007.jpg)
).

	7. La fenêtre change d'orientation à l'écran. Dans notre exemple, le bouton ne change pas de place : il ne s'adapte pas à l'orientation de l'écran.
			


|   |   |
| --- | --- |
| <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P2_WM%20-%20Mon%20Premier%20Projet2%20-%20HC%20N%B0006.jpg&type=thumb)<br> | <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P2_WM%20-%20Mon%20Premier%20Projet2%20-%20HC%20N%B0008.jpg&type=thumb)<br> |




- Nous allons maintenant modifier notre fenêtre pour que le champ Bouton "Afficher" soit centré dans la fenêtre et reste centré quelle que soit l'orientation du mobile.




- Arrêtez le test et revenez sous l'éditeur.




- Pour centrer le champ Bouton dans la fenêtre :

	1. Sélectionnez le champ (clic sur le champ Bouton).

	2. Sous le volet "Alignement", dans le groupe "Centrage et répartition", cliquez sur "Centrer dans le parent (Horz.)".







- Pour que le champ Bouton reste centré dans la fenêtre, nous allons utiliser l'ancrage du champ :

	1. Sélectionnez le champ si nécessaire.

	2. Affichez le menu contextuel (clic droit).

	3. Sélectionnez l'option "Ancrage" : la fenêtre de définition des ancrages apparaît : 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P2_WM%20-%20Mon%20Premier%20Projet2%20-%20HC%20N%B0009.jpg&type=thumb)


	4. Sélectionnez "Centré horizontal" et validez (bouton "OK").
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png)<br> | Note | Dans la fenêtre affichée sous l'éditeur, vous pouvez remarquer les petites flèches rouges dans le champ. Ces flèches indiquent que le champ est ancré. |








- Lancez le test du projet sur simulateur (![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_ICO_PRJ_Simu_WM_GAF.jpg)
 parmi les boutons d'accès rapide) :

	- Le bouton est centré en mode portrait.

	- Changez l'orientation du simulateur.

	- Le bouton reste centré en mode paysage.







<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Gestion du tactile
<a name="gestion_tactile_ELTTEXTE000456"></a>
Un des aspects importants de l'interface d'une application mobile est la gestion de l'écran tactile.

Un dispositif "multi-touch" est une technique permettant à une personne d'interagir avec un matériel informatique à l'aide de plusieurs points de contact.

L'une des applications la plus courante du multi-touch est la manipulation d'images. La taille de l'affichage sur un téléphone étant souvent réduite, il est souvent nécessaire de zoomer et/ou de se déplacer dans une image.

Il est ainsi possible de réaliser un zoom sur une image avec le contact de 2 doigts qui s'écartent.

Pour gérer le "multi-touch", WINDEV Mobile propose :

- Différentes options spécifiques disponibles dans le champ Image.

- Des fonctions WLangage spécifiques.

- Des événements WLangage optionnels spécifiques.


Pour plus de détails, consultez [Gestion du multi-touch](../WDChamp/9500119.md).


### Exemple pratique
<a name="exemple_pratique_ELTPARAGRAPHE000181"></a><a name="Bloc_Gestion_Ancrage"></a>


- Ré-ouvrez si nécessaire le projet "Mon_Projet_iOS_Android" que nous avons créé dans la leçon 2.1 : 

	1. Affichez la page d'accueil de WINDEV (Ctrl + &lt;).

	2. Dans la page d'accueil, cliquez sur "Ouvrir un projet" puis dans la zone "Projets récents", double-cliquez sur "Mon_Projet_iOS_Android".
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=exemple-WM.png)<br> | Corrigé | Un projet corrigé est disponible. Ce projet permet de suivre cette leçon. Pour ouvrir le projet corrigé, dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 2 - Leçon 2.1 - Ma première application Android/iOS", double-cliquez sur "Mon projet Android/iOS - Corrigé". |











- Dans la fenêtre "FEN_Bienvenue", créez un champ Image :

	1. Sous le volet "Création", dans le groupe "Champs usuels", cliquez sur "Image".

	2. Le champ Image apparaît en création sous la souris.

	3. Déplacez la souris dans la fenêtre vers la position où le champ doit être créé. Pour poser le champ dans la fenêtre, il suffit de faire un nouveau clic gauche de souris.

	4. Double-cliquez sur le champ Image : la fenêtre de description du champ apparaît.

	5. Dans l'onglet "Général", sélectionnez une image présente sur votre disque dans le champ de saisie "Image" (via le bouton ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Menu_Image_Editeur%20-%20HC%20N%B0001.gif)
, option "Parcourir").

	6. Si l'image est présente dans un répertoire différent de celui du projet, WINDEV Mobile propose de copier le fichier image dans le répertoire du projet. Acceptez en cliquant sur le bouton "Copier le fichier dans le répertoire proposé".

	7. Affichez l'onglet "Détail" : les options de gestion du multi-touch sont affichées : 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P2_WM%20-%20Mon%20Premier%20Projet2%20-%20HC%20N%B0010.jpg&type=thumb)


	8. Sélectionnez l'option "Scroll et zoom automatiques".

9. Validez la fenêtre de description du champ.

10. Enregistrez la fenêtre (clic sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Sauver_WM_GAF.jpg)
 parmi les boutons d'accès rapide).
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png)<br> | Note | La gestion du multi-touch ne peut pas être testée sous le simulateur. Pour tester cette fonctionnalité, il est nécessaire de tester (ou de déployer) l'application sur l'appareil mobile. |





11. Fermez le projet.




<a name="NOTE6"></a>
<a name="NOTE6_1"></a>


## Les différents types de champs disponibles
<a name="les_differents_types_champs_disponibles_ELTTEXTE000522"></a>
WINDEV Mobile propose de nombreux champs. Ces champs permettent d'afficher ou de saisir des données. Certains champs sont plus spécifiques à une interface mobile.

Pour réaliser vos applications, vous disposez des champs classiques (champs de saisie, images, sélecteurs et interrupteurs), mais aussi de champs plus spécifiques tels que :

- le champ Zone multiligne pour réaliser des interfaces (UI) ressemblant aux fenêtres natives Android ou iOS,

- le champ Carte pour visualiser une position sur une carte ou un itinéraire,

- le champ Publicité (uniquement en Android) pour afficher un bandeau de publicité,

- le menu sous forme de "Action bar".


Nous verrons certains de ces champs dans la leçon "[Développement d'une application Android et iOS](../TutoWM/1410087571.md)".

| [Leçon précédente](../TutoWM/1410087596.md) | [Sommaire](../TutoWM/1410087586.md) | [Leçon suivante](../TutoWM/1410087565.md) |
| --- | --- | --- |




