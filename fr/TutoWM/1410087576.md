
## Leçon 4.8. Déploiement de l’application


<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Ce que vous allez apprendre dans cette leçon
<a name="que_vous_allez_apprendre_dans_cette_lecon_ELTTEXTE000285"></a>


- Génération de l'application Android.

- Génération de l'application iOS.





|   |   |
| --- | --- |
| <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=dur%E9e.png)<br> | <br>Durée estimée : 20 mn |



| [Leçon précédente](../TutoWM/1410087582.md) | [Sommaire](../TutoWM/1410087586.md) | [Leçon suivante](../TutoWM/1410087585.md) |
| --- | --- | --- |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000332"></a>
Voilà, notre application est terminée, il faut maintenant la compiler et l'installer sur le matériel afin de tester.

Nous allons voir comment déployer l'application sur un matériel Android puis sur un matériel iOS. |   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | Si vous ne possédez pas les deux types de matériel, suivez les instructions correspondant au matériel que vous possédez. |







<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Génération de l'application Android
<a name="generation_application_android_ELTTEXTE000374"></a>


- Pour générer l'application Android :

	1. Sélectionnez si nécessaire la plateforme Android dans le volet "Explorateur de projet".

	2. Sous le volet "Projet", dans le groupe "Génération", cliquez sur "Générer" (vous pouvez également cliquer sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Generation_Android.gif) parmi les boutons d'accès rapide).

	3. L'assistant de génération d'une application Android se lance.

	4. Si nécessaire, choisissez la première fenêtre de l'application (FEN_Menu par exemple) et validez. 

	5. La première étape de l'assistant consiste à demander le mode de génération de l'application. En effet, selon le mode choisi, le format de génération n'est pas le même. 
			Pour ce cours, choisissez l'option "Générer pour un déploiement libre (store privé, flotte d'entreprise, etc.)". Passez à l'étape suivante. 

	6. L'étape suivante de l'assistant consiste à vérifier les outils nécessaires à la génération de l'application Android.<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P2_WM%20-%20Mon%20Premier%20Projet%20-%20HC%20N%B0007.jpg&type=thumb)
L'assistant propose de :

		- **Télécharger et installer automatiquement le SDK Android et Gradle** : dans ce cas, vous devez uniquement valider la licence. WINDEV Mobile s'occupe de tout. Si une mise à jour est disponible, l'assistant de génération vous proposera automatiquement de réaliser les mises à jour nécessaires. Seule une connexion Internet est nécessaire.

		- **Utiliser les outils installés automatiquement**. Cette option est disponible uniquement si vous avez téléchargé et installé les outils lors d'une précédente génération.

		- **Spécifier l'emplacement des outils déjà installés sur votre poste**. Dans ce cas, il suffit de préciser les chemins d'installation de Gradle et du SDK Android.




7. Sélectionnez l'option correspondant à votre configuration et passez à l'étape suivante. 
			Remarque : Si vous avez choisi de télécharger et installer les outils, le passage à l'étape suivant peut être relativement long et demander la validation de la licence. 

8. Passez à l'étape suivante en cliquant sur les touches fléchées au bas de l'assistant. L'étape suivante de l'assistant permet de :

	- définir le nom de l'application (affiché sous l'icône permettant de lancer l'application) et le package correspondant.

	- sélectionner l'icône de l'application dans le catalogue d'images de WINDEV Mobile (par exemple, "stock" dans le thème "Flat Soft"). 

	- définir l'adresse email utilisée par défaut si un rapport d'erreur doit être envoyé. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_D%E9ploiement%20Android%20-%20HC%20N%B0001.jpg&type=thumb)


|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | Si l'appareil n'est pas connecté au poste de développement, il suffit de : <br><br>1. Connecter l'appareil au poste de développement. <br><br>2. Ouvrir sous l'explorateur le répertoire de génération du fichier apk correspondant à l'application Android : sous le volet "Accueil", dans le groupe "Général", déroulez l'option ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Rep_Projet.gif) et sélectionnez "Ouvrir le répertoire de génération". <br><br>3. Copier le fichier apk dans le dossier "Download" du matériel. <br><br>4. Débrancher le matériel. <br><br>5. Lancer l'application de gestion de fichiers sur le matériel. <br><br>6. Aller dans le répertoire "Download" et exécuter le fichier apk. L'application s'installe automatiquement.<br><br><br> |





<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Génération de l'application iOS
<a name="generation_application_ios_ELTTEXTE000452"></a>


- Pour générer l'application iOS :

	1. Sélectionnez si nécessaire la plateforme iOS via le volet "Explorateur de projet". 

	2. Sous le volet "Projet", dans le groupe "Génération", cliquez sur "Générer" (vous pouvez également cliquer sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Generation_iOS_WM_GAF.jpg) parmi les boutons d'accès rapide).

	3. Si nécessaire, choisissez la première fenêtre de l'application (FEN_Menu par exemple) et validez. 

	4. L'assistant de génération d'une application iOS se lance.

	5. L'assistant permet de :

		- définir le nom de l'application, la société et le copyright.

		- saisir l'identifiant du bundle.
						|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | Cet identifiant est l'identifiant unique de votre application auprès de Apple. Il se définit et s'enregistre sur le compte développeur Apple.<br><br>Cet identifiant permettra d'enregistrer votre application pour pouvoir la tester et la déployer. Par défaut, WINDEV Mobile propose automatiquement un identifiant respectant les normes de développement Apple actuelles. Vous pouvez modifier cet identifiant. |





		- définir l'adresse email utilisée par défaut si un rapport d'erreur doit être envoyé. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_D%E9ploiement%20ios%20-%20HC%20N%B0001.jpg&type=thumb)








### Transférer le projet WINDEV Mobile sur le Mac
<a name="transferer_projet_windev_mobile_sur_mac_ELTPARAGRAPHE000230"></a>

- Pour transférer le projet WINDEV Mobile sur le Mac :

	1. Copiez le dossier complet généré dans le répertoire EXE sur un support externe (clé USB, disque dur externe, répertoire partagé avec le Mac sur le réseau). Ce répertoire a pour nom &lt;Nom du projet&gt;.xcode.gen. 

	2. Collez ce dossier sur le Mac qui va compiler l'application.

	3. Ouvrez le dossier sur le Mac et ouvrez le fichier nommé "Nom_du_projet.xcodeproj".

	4. Le projet s'ouvre dans Xcode. 








### Compiler le projet sous Xcode
<a name="compiler_projet_sous_xcode_ELTPARAGRAPHE000240"></a>WINDEV Mobile génère automatiquement un projet Xcode pour vos compilations iOS. Pour vous faciliter la mise au point des applications, WINDEV Mobile génère un “Scheme” pour Xcode. 



- Pour compiler le projet sous Xcode :

	1. Dans la liste déroulante en haut à gauche, sélectionnez les options de compilation. Sélectionnez le scheme correspondant à votre application puis la cible de compilation (appareil actuellement connecté ou un simulateur). 

	2. Pour lancer la compilation, cliquez sur l'option de menu "Product .. Clean" puis sur l'option de menu "Product .. Build". 

	3. Un compte-rendu de compilation apparaît en haut ("Succeeded" ou sinon le nombre de warnings et d'erreurs). Vous pouvez cliquer sur ces symboles pour voir la liste des erreurs/warnings.

	4. Une fois le programme compilé sans erreurs, vous pouvez lancer la simulation (Option "Product .. Run"). La fenêtre de simulation apparaît avec l'application.





Vous pouvez ensuite tester votre application directement sur votre iPhone ou iPad.



| [Leçon précédente](../TutoWM/1410087582.md) | [Sommaire](../TutoWM/1410087586.md) | [Leçon suivante](../TutoWM/1410087585.md) |
| --- | --- | --- |




