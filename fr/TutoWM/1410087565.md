
## Leçon 2.4. Diffusion de l’application


<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Ce que vous allez apprendre dans cette leçon
<a name="que_vous_allez_apprendre_dans_cette_lecon_ELTTEXTE000189"></a>


- Diffusion de l'application Android : 

	- Génération de l'APK.

	- Modes de distribution disponibles.




- Diffusion de l'application iOS.





|   |   |
| --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=dur%E9e.png)<br> | <br>Durée estimée : 20 mn |



| [Leçon précédente](../TutoWM/1410087564.md) | [Sommaire](../TutoWM/1410087586.md) | [Leçon suivante](../TutoWM/1410087570.md) |
| --- | --- | --- |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Diffusion de l'application Android
<a name="diffusion_application_android_ELTTEXTE000236"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000028"></a>WINDEV Mobile permet le développement d'applications pour le système d'exploitation Android.

Lorsque les applications sont créées, développées, testées, il ne reste plus qu'à les déployer. Plusieurs modes de déploiement sont à votre disposition :

- Déploiement via Google Play (ou un autre market).

- Déploiement sur un serveur Web.

- Déploiement depuis le PC via ADB.

- Déploiement par copie du fichier apk.

- Déploiement via le Store Privé fourni avec WINDEV Mobile. 





### Déploiement via Google Play 
<a name="deploiement_via_google_play_ELTPARAGRAPHE000041"></a>Google Play est un service en ligne permettant de télécharger des applications gratuites ou payantes sur des périphériques mobiles compatibles Android.

Une fois publiée, l'application peut être téléchargée par les utilisateurs du monde entier grâce à l'application Google Play installée sur leur téléphone.

La publication d'applications sur Google Play est soumise à quelques contraintes :

- Lors de la première publication, il est nécessaire de s'enregistrer auprès du service Google Play à l'aide d'un compte Google. Une fois enregistré, il est possible de publier ou de mettre à jour autant d'applications que l'on souhaite autant de fois que nécessaire.

- L'application publiée doit être signée avec une clé cryptographique privée. Il est possible de signer soi-même sa propre application : le recours à un organisme tiers n'est pas obligatoire. La période de validité du certificat doit se terminer après le 23 octobre 2033.
	Les applications générées par WINDEV Mobile sont automatiquement signées en utilisant les informations fournies dans l'assistant de génération (étape "Signature de l'application") avec une durée de validité suffisante.
	**Attention** : L'application publiée ne doit pas avoir été signée en utilisant une clé générique (dont l'utilisation doit se limiter aux tests en mode GO).

- Une icône doit avoir été associée à l'application. L'assistant de génération de WINDEV Mobile permet de définir l'icône à utiliser.
	**Remarque** : Google Play est l'application la plus connue mais il en existe également d'autres.





### Déploiement via un serveur Web
<a name="deploiement_via_serveur_web_ELTPARAGRAPHE000060"></a>Il est possible de proposer le téléchargement d'applications Android depuis un lien sur une page Web.

Pour cela, il faut :

1. Copier le fichier "apk" de l'application sur le serveur Web hébergeant la page proposant le téléchargement de l'application.
	Rappel : le fichier "apk" est créé par WINDEV Mobile lors de la génération de l'application Android.

2. Ajouter un lien dans la page Web de téléchargement. Ce lien est de la forme :
	
	```txt
	<a href='Chemin du fichier apk sur le serveur'>Lien</a>
	```


3. Sur le serveur, ajouter le type MIME suivant : application/vnd.android.package-archive




L'utilisateur n'aura qu'à afficher la page avec le navigateur du téléphone. En cliquant sur le lien, l'application sera téléchargée. Il suffira ensuite de cliquer sur le fichier téléchargé (dans le download manager) pour installer l'application.

**Attention** : L'option "Sources inconnues" doit être activée sur le téléphone pour permettre ce mode d'installation. Pour activer cette option, consultez la documentation de votre téléphone.


### Déploiement depuis le PC
<a name="deploiement_depuis_ELTPARAGRAPHE000079"></a>Le déploiement depuis le PC peut être effectué directement depuis le Centre de Contrôle Android. |   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png)<br> | Note | **Attention** : L'activation du débogage USB est nécessaire pour utiliser le Centre de Contrôle Android. Si cette opération n'est pas effectuée, le téléphone ne sera pas détecté par le Centre de Contrôle Android.<br><br>Pour activer le débogage USB :<br><br>1. Sur le téléphone, sélectionnez le menu "Paramètres".<br><br>2. Sélectionnez le choix "A propos de l'appareil".<br><br>3. Cliquez plusieurs fois sur l'option "Numéro de build" pour activer le mode développeur.<br><br>4. Remontez d'un niveau.<br><br>5. Le choix "Option de développement" apparaît. Sélectionnez cette option.<br><br>6. Cochez l'option "Débogage USB".<br><br><br>Remarque : Selon la version du téléphone et sa marque, les manipulations à effectuer peuvent varier. Par exemple, pour un matériel de type Samsung Galaxy Notes 3, il est nécessaire de "tapoter" plusieurs fois le champ "Numéro de version" de l'option "A propos de l'appareil" afin d'activer le choix "Option de développement". Dans tous les cas, une recherche Google avec "débogage usb &lt;nom périphérique&gt;" permet d'avoir le mode opératoire adapté au matériel utilisé. |







Pour déployer une application Android via le Centre de Contrôle Android : 

1. Connectez le téléphone au PC.  

2. Lancez le Centre de Contrôle Android : sous le volet "Outils", dans le groupe "Outils Mobile", cliquez sur "CCAndroid". 

3. Affichez l'onglet "Application". Cet onglet permet de lister les applications présentes sur le périphérique mais aussi d'installer une application (fichier APK présent sur le PC). 





### Copier l'application sur l'appareil Mobile
<a name="copier_application_sur_appareil_mobile_ELTPARAGRAPHE000105"></a>Le moyen le plus simple pour installer une application Android sur un appareil mobile est de copier directement le fichier apk sur le périphérique et de l'exécuter. Les manipulations sont les suivantes :

1. Connecter l'appareil au PC par USB.

2. Copier le fichier apk de l'application sur l'appareil (mémoire externe par exemple).
	Rappel : le fichier "apk" est créé par WINDEV Mobile lors de la génération de l'application Android.

3. Sur l'appareil, utiliser un explorateur de fichiers pour se rendre dans le répertoire où le fichier apk a été copié et cliquer sur le fichier pour lancer son installation.


**Remarque** : Tous les appareils ne proposent pas d'explorateurs de fichiers, mais il en existe de très nombreux disponibles gratuitement.

**Attention** : L'option "Sources inconnues" doit être activée sur le téléphone pour permettre ce mode d'installation. Pour activer cette option, consultez la documentation de votre téléphone.


### Déploiement via le Store Privé fourni avec WINDEV Mobile
<a name="deploiement_via_store_prive_fourni_avec_windev_mobile_ELTPARAGRAPHE000120"></a>Cette méthode permet de déployer l'application en interne sur une flotte d'appareils. Il est possible de gérer les mises à jour et les versions sur cette flotte d'appareils. 







<a name="NOTE2b"></a>
<a name="NOTE2b_1"></a>


## Diffusion de l'application iOS
<a name="diffusion_application_ios_ELTTEXTE000308"></a>
WINDEV Mobile permet le développement d'applications pour le système d'exploitation iOS.

Lorsque les applications sont créées, développées, testées, il ne reste plus qu'à les déployer.
Il existe plusieurs méthodes pour déployer l'application sur un matériel (Device) de type iPhone ou iPad.

- Via App Store : Ce type de distribution vous permet de distribuer sans limites votre application via le réseau de vente de l'App Store. Votre application inclura la signature liée à votre certificat mais ne sera pas liée à un appareil unique.

- Via un réseau privé (In-House) : Ce type de distribution vous permet de distribuer votre application via un serveur Web à un réseau d'utilisateurs faisant partie d'une entreprise. Ce type de distribution nécessite de s'inscrire au programme Apple en tant que "Organization". Votre application inclura la signature liée à votre certificat mais ne sera pas liée à un appareil unique.

- Via un réseau Ad Hoc : Ce type de distribution vous permet d'installer l'application sur une flotte contenant jusqu'à 100 appareils (de type iPhone ou iPad). L'application devra être recompilée pour le matériel cible en incluant le certificat pour la signature ainsi que l'identifiant unique de l'appareil.

- Via le Store Privé fourni avec WINDEV Mobile : Cette méthode permet de déployer l'application en interne sur une flotte d'appareils. Il est possible de gérer les mises à jour et les versions sur cette flotte d'appareils. Ce type de distribution nécessite de s'inscrire au programme Apple en tant que "Organization". 




**Attention** : Pour pouvoir tester et/ou déployer l'application sur un matériel (iPhone ou iPad), vous devez vous enregistrer auprès de l'Apple Developer Program. Cette inscription est payante. Pour plus de renseignements, consultez les adresses suivantes : 

- [https://developer.apple.com/programs/enroll/](https://developer.apple.com/programs/enroll/)

- [https://developer.apple.com/programs/whats-included/](https://developer.apple.com/programs/whats-included/)

- [https://developer.apple.com/programs/how-it-works/](https://developer.apple.com/programs/how-it-works/)




Il existe actuellement 2 types d'inscription :

- Apple Developer Program - Individuals

- Apple Developer Program - Organizations




Cette inscription permet d'obtenir un certificat développeur qui permet de signer vos applications pour les compiler et les rendre distribuables. Ce certificat est actuellement payant. Ce certificat développeur est nécessaire même pour une simple installation pour test (debug) sur un matériel (device).



| [Leçon précédente](../TutoWM/1410087564.md) | [Sommaire](../TutoWM/1410087586.md) | [Leçon suivante](../TutoWM/1410087570.md) |
| --- | --- | --- |




