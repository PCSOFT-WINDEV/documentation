
## Leçon 4.4. Fenêtre avec recherche


<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Ce que vous allez apprendre dans cette leçon
<a name="que_vous_allez_apprendre_dans_cette_lecon_ELTTEXTE000517"></a>


- Création d'une requête paramétrée.

- Création d'une fenêtre via l'assistant. 

- Mise en place de la recherche.

- Gestion du "Pull to refresh".

- Ajout d'un menu coulissant.





|   |   |
| --- | --- |
| <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=dur%E9e.png)<br> | <br>Durée estimée : 30 mn |



| [Leçon précédente](../TutoWM/1410087573.md) | [Sommaire](../TutoWM/1410087586.md) | [Leçon suivante](../TutoWM/1410087575.md) |
| --- | --- | --- |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000564"></a>
Nous avons vu dans la leçon 4.2 comment créer une fenêtre listant les produits dans un champ Zone répétée. 

Nous allons faire une fenêtre sur le même principe mais proposant une recherche sur le libellé du produit : 

- la fenêtre affiche la liste des produits dans un champ Zone répétée. 

- lorsque l'utilisateur saisit le libellé d'un produit dans la zone de recherche, le champ Zone répétée affiche uniquement les produits correspondants. 




Dans notre exemple, cette recherche se fera sur le fichier de données "Produit".

L'interface de la fenêtre "FEN_Avancé_LISTE_Produits" sera la suivante : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20FEn_RAD_Recherche_Fin%20-%20HC%20N%B0002.jpg&type=thumb)


Pour réaliser cette fenêtre, nous allons : 

- Créer la requête de sélection des enregistrements du fichier de données Produit.

- Créer et paramétrer la fenêtre de recherche.


|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | **Qu'est-ce qu'une requête de sélection ?**<br><br>Une requête de sélection est une requête qui va "choisir" uniquement les enregistrements correspondant aux critères spécifiés.<br><br>Ce type de requête s'appelle une requête de sélection car en langage SQL l'ordre SELECT est utilisé. |







- Pour suivre cette leçon, ouvrez si nécessaire le projet "WM Gestion Produits" que vous avez manipulé dans la leçon précédente.

	1. Affichez la page d'accueil de WINDEV Mobile (Ctrl + &lt;).  

	2. Dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 4 - Développement d'une application Android/iOS", double-cliquez sur "Gestion de produits Android/iOS - Exercice".

	3. WINDEV Mobile vous propose d'ouvrir le projet que vous avez manipulé dans la leçon précédente. Vous pouvez ouvrir le projet présent sur votre poste ou ouvrir le projet original. Choisissez "Ouvrir la copie locale". 
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=exemple-WM.png) | Corrigé | Un projet corrigé est disponible. Ce projet contient les différentes fenêtres créées dans cette leçon. Pour ouvrir le projet corrigé, dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 4 - Développement d'une application Android/iOS", double-cliquez sur "Gestion de produits Android/iOS - Corrigé". |











<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Création de la requête pour rechercher les produits
<a name="creation_requete_pour_rechercher_les_produits_ELTTEXTE000624"></a>


### Création de la requête
<a name="creation_requete_ELTPARAGRAPHE000068"></a>

- Pour créer une requête, nous allons utiliser l'éditeur de requêtes.

	1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Nv_WM_GAF.jpg) parmi les boutons d'accès rapide. La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Requête­". L'assistant de création de requêtes se lance.

	2. Sélectionnez l'option "Sélection (SELECT)". 
			En effet, la requête que nous allons créer va nous permettre de sélectionner des enregistrements. Passez à l'étape suivante.

	3. La fenêtre de description de la requête apparaît. 

	4. Donnez un nom et un libellé à votre requête : saisissez "REQ_Produits" à la place de "REQ_SansNom1" dans la zone "Nom de la requête" et "Recherche de produits sur le libellé" dans la zone "Libellé" : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20FEn_RAD_Recherche%20-%20HC%20N%B0003%201.jpg)








- Nous allons construire la requête en sélectionnant les éléments que nous voulons dans le résultat.

	1. La requête doit permettre d'afficher les caractéristiques du produit sélectionné :

		- Sélectionnez le fichier de données "Produit" dans la zone "Analyse" de la fenêtre. 

		- Cliquez sur la flèche pour sélectionner toutes les rubriques du fichier de données dans la requête. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20FEn_RAD_Recherche%20-%20HC%20N%B0002%201.jpg)








### Test de la requête
<a name="test_requete_ELTPARAGRAPHE000096"></a>Comme tous les éléments d'un projet WINDEV Mobile, il est possible de tester immédiatement la requête que nous venons de créer :

1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Go_Fenetre_WM.gif).

2. Le résultat s'affiche dans une fenêtre : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20FEn_RAD_Recherche%20-%20HC%20N%B0004.jpg)
Le résultat affiché liste TOUS les produits.
	Dans notre cas, nous souhaitons afficher uniquement les produits correspondant au critère de recherche, le libellé du produit. Pour cela, il est nécessaire d'utiliser une requête paramétrée.

3. Fermez la fenêtre.





### Ajout d'une condition de sélection
<a name="ajout_une_condition_selection_ELTPARAGRAPHE000111"></a>Dans notre exemple, l'utilisateur va pouvoir sélectionner une valeur pour le libellé du produit. Nous devons modifier la requête afin que ce critère de recherche corresponde à un paramètre de la requête.



- Pour définir un paramètre de la requête, affichez la fenêtre de description de la requête :
	 double-cliquez sur le fond de la représentation graphique de la requête (ou utilisez dans le menu contextuel, l'option "Description de la requête").




- Pour gérer le paramètre "Libellé du produit" :

	1. Sélectionnez au centre de la fenêtre la rubrique Produit.Libellé.

	2. Affichez le menu contextuel et sélectionnez l'option "Condition de sélection .. Nouvelle condition". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20FEn_RAD_Recherche%20-%20HC%20N%B0005.jpg)


	3. Dans la fenêtre qui s'affiche, nous allons indiquer que la condition de sélection correspond à un paramètre : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20FEn_RAD_Recherche%20-%20HC%20N%B0006.jpg)





### Test de la requête paramétrée
<a name="test_requete_parametree_ELTPARAGRAPHE000143"></a>

- Pour tester la requête paramétrée :

	1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Go_Fenetre_WM.gif).

	2. Une fenêtre s'affiche permettant de saisir les différents paramètres de la requête. 

	3. Sélectionnez le paramètre ParamLibellé. Dans la partie basse de la fenêtre, saisissez "Polo". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20FEn_RAD_Recherche%20-%20HC%20N%B0009.jpg)


	4. Validez la fenêtre. Le résultat de la requête correspondant aux paramètres spécifiés s'affiche.

5. Fermez la fenêtre.


Nous allons maintenant créer l'interface de notre fenêtre basée sur cette requête.

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Création de l'interface
<a name="creation_interface_ELTTEXTE000666"></a>
Nous allons créer la fenêtre de recherche grâce à l'assistant de création de fenêtres. |   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | L'assistant de création de fenêtres propose de nombreuses fenêtres prédéfinies. Ces fenêtres proposent des interfaces modernes pour vos applications.<br><br>La plupart de ces fenêtres peuvent être générées à partir de vos données. |






### Création de la fenêtre
<a name="creation_fenetre_ELTPARAGRAPHE000171"></a>

- Pour créer la fenêtre de recherche :

	1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Nv_WM_GAF.jpg) parmi les boutons d'accès rapide. La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Fenêtre" puis sur "Fenêtre".

	2. Dans l'assistant, choisissez "Zone répétée" et validez.

	3. L'assistant de création d'une fenêtre se lance.

	4. Choisissez la plateforme à utiliser : "Téléphone Android générique". Passez à l'étape suivante de l'assistant.

	5. L'assistant propose de choisir la source des données associée à la fenêtre. Dans notre cas, il s'agit d'une requête :

		- Cliquez sur "Requêtes". 

		- Sélectionnez la requête que nous venons de créer : "REQ_Produits". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20FEn_RAD_Recherche%20-%20HC%20N%B0014.jpg&type=thumb)







- Nous allons maintenant modifier la fenêtre "FEN_Avancé_LISTE_Produits" pour afficher la fiche Produit que nous avons créée dans une leçon précédente.

	1. Faites un clic droit sur le champ Zone répétée puis sélectionnez l'option "Code". 
			**Attention** : sélectionnez bien le champ Zone répétée et non un des champs qui le composent.

	2. Sous l'éditeur de code, dans l'événement "Initialisation de ...", saisissez le code WLangage suivant :
			
		```wl
		REQ_Produits.ParamLibellé = Null
		```


	3. Cette ligne de code permet d'initialiser la valeur du paramètre de la requête "REQ_Produits" utilisée par le champ Zone répétée. Par défaut, la valeur de ce paramètre vaut "Null" ce qui permet de ne pas prendre en compte le paramètre. Par défaut, tous les produits seront donc affichés dans la fenêtre. 

	4. Sous l'éditeur de code, dans l'événement "Sélection d'une ligne ...", saisissez le code WLangage suivant :
			
		```wl
		Produit.LitRecherche(IDProduit, REQ_Produits.IDProduit)
		FEN_Fiche_du_produit.OuvreFenêtreMobile()
		```
Examinons ce code :

		- Le champ Zone répétée est basé sur la requête REQ_Produits. Lors de la sélection du produit dans le champ Zone répétée, l'enregistrement sélectionné est celui de la requête. 

		- Nous souhaitons lors du clic sur la ligne du champ ouvrir la fenêtre fiche que nous avons créée précédemment. Cette fenêtre est basée sur le fichier de données Produit. 

		- Il est nécessaire de rechercher dans le fichier de données "Produit" l'enregistrement sélectionné par la requête afin de charger en mémoire le buffer des données sélectionnées. Cette opération est réalisée avec la fonction [&lt;Fichier de données&gt;.LitRecherche](../WDLang4/1000025023.md).

		- La fenêtre fiche "FEN_Fiche_du_produit" est ensuite ouverte grâce à la fonction [&lt;Fenêtre&gt;.OuvreFenêtreMobile](../WDLang1/1000023887.md). 




5. Enregistrez les modifications en cliquant sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Sauver_WM_GAF.jpg) parmi les boutons d'accès rapide.

6. Fermez la fenêtre de code (cliquez sur la croix en haut à droite de l'éditeur de code).

7. Testez la fenêtre que nous venons de créer sous le simulateur (![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_GO_Fen_WM_GAF.jpg) parmi les boutons d'accès rapide).<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Fen_RAD_Recherche_Go%20-%20HC%20N%B0001.jpg&type=thumb)





### Gestion de la recherche
<a name="gestion_recherche_ELTPARAGRAPHE000234"></a>Nous allons maintenant gérer la recherche. Pour cela, nous allons : 

- Autoriser la recherche dans l'Action Bar. 

- Créer un bouton de recherche dans l'Action Bar. 




- Pour autoriser la recherche dans l'Action Bar : 

	1. Affichez si nécessaire la fenêtre "FEN_Avancé_LISTE_Produits" sous l'éditeur. 

	2. Affichez la fenêtre de description de l'Action Bar (double-cliquez sur l'Action Bar). 

	3. Dans l'onglet "Détail", cochez l'option "Autoriser la recherche dans l'Action Bar". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20FEn_RAD_Recherche_Fin%20-%20HC%20N%B0001.jpg)








- Pour créer un bouton de recherche dans l'Action Bar :

	1. Dans l'onglet "Général" de la fenêtre de description de l'Action Bar :

	2. Cliquez sur le numéro 2. L'UI de saisie d'une option de la barre d'outils apparaît. 

	3. Cliquez sur le bouton "+" pour ajouter une option. Une nouvelle option par défaut est créée en haut à droite. Modifiez les caractéristiques de cette option : 

		- Dans la zone "Libellé", saisissez "Rechercher". 

		- Dans la zone "Image prédéfinie", déroulez la liste et sélectionnez "Rechercher". 

		- Validez la fenêtre de description. 




4. Le code de cette option va permettre de rendre visible la zone de recherche. Pour saisir ce code :

	- Sélectionnez si nécessaire l'Action Bar de la fenêtre. 

	- Cliquez sur le bouton de recherche. 

	- Un menu déroulant avec l'option "Rechercher" apparaît. 

	- Faites un clic droit sur l'option.

	- Dans le menu contextuel qui s'affiche, sélectionnez l'option "Code".

	- Dans l'événement "Sélection du menu", saisissez le code WLangage suivant :
						
			```wl
			ActionBarRechercheVisible(Vrai)
			```





<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Améliorations de la fenêtre
<a name="ameliorations_fenetre_ELTTEXTE000720"></a>


### Gestion du "Pull to refresh"
<a name="gestion_pull_refresh_ELTPARAGRAPHE000310"></a>Nous allons ajouter une nouvelle fonctionnalité à notre fenêtre : la gestion du "Pull to refresh". 

Cette fonctionnalité permet à l'utilisateur de "tirer" un champ Table ou Zone répétée pour rafraîchir son contenu. Cette fonctionnalité peut être utilisée par exemple dans une application en HFSQL Client/Serveur où d'autres utilisateurs mettraient à jour ou ajouteraient des produits. Ces modifications pourraient être affichées grâce au "Pull to refresh".

Lorsque l'utilisateur 'tire" le champ pour rafraîchir son contenu, un bandeau de rafraîchissement apparaît automatiquement dans la zone découverte :

- Le bandeau indique tout d'abord qu'il faut tirer pour rafraîchir.

- Le bandeau indique ensuite qu'il faut relâcher pour rafraîchir.

- Le bandeau indique que le rafraîchissement est en cours. Une jauge est affichée pendant la durée du rafraîchissement.

- Le champ est mis à jour.




- Pour utiliser la fonctionnalité "Pull to Refresh" :

	1. Affichez si nécessaire la fenêtre "FEN_Avancé_LISTE_Produits" sous l'éditeur. 

	2. Sélectionnez le champ Zone répétée et affichez la fenêtre de description du champ.

	3. Dans l'onglet "Détail" de la fenêtre de description du champ, dans la zone "Déplacements et gestures", cochez l'option "Rafraîchissement par tirer/relâcher (Pull to refresh)". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Pull%20to%20Refresh%20-%20HC%20N%B0001.jpg)

			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | Il est possible d'utiliser une fenêtre interne spécifique pour gérer le "Pull to refresh". Dans cet exemple, nous utilisons la fenêtre par défaut. <br> |





	4. Validez la fenêtre de description du champ.







- Le paramétrage du "Pull to refresh" a ajouté :

	- le bandeau de rafraîchissement qui sera affiché à l'utilisateur pendant l'opération.

	- l'événement "Rafraîchissement par tirer/relâcher" parmi les événements du champ Zone répétée. Cet événement est automatiquement appelé lors de la gesture de rafraîchissement. Nous allons maintenant modifier le code WLangage de cet événement pour gérer la mise à jour du champ. 







- Pour modifier le code WLangage de l'événement "Rafraîchissement par tirer/relâcher" : 

	1. Sélectionnez le champ Zone répétée et affichez les événements associés (touche F2 par exemple). 

	2. Sous l'éditeur de code, dans l'événement "Rafraîchissement par tirer/relâcher ...", saisissez le code WLangage suivant :
			
		```wl
		ZR_REQ_Produits.Affiche(taRéExecuteRequete)
		```


	3. Comme nous l'avons vu précédemment pour la gestion de la recherche, la fonction [&lt;Zone répétée&gt;.Affiche](../WDLang2/1000023451.md) permet de réafficher le champ Zone répétée. La constante **taRéExecuteRequete** permet de réexécuter la requête de base du champ Zone répétée et donc de prendre en compte les nouveaux enregistrements saisis dans la base de données. 

	4. Enregistrez les modifications en cliquant sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Sauver_WM_GAF.jpg) parmi les boutons d'accès rapide.

	5. Fermez la fenêtre de code (cliquez sur la croix en haut à droite de l'éditeur de code).







- Testez la fenêtre que nous venons de modifier sous le simulateur (![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_GO_Fen_WM_GAF.jpg) parmi les boutons d'accès rapide).

	1. Cliquez en haut de la zone répétée avec la souris et déplacez la souris vers le bas.

	2. Relâchez la souris. La zone répétée se met à jour. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Pull%20to%20refresh%20Go%20-%20HC%20N%B0001.jpg&type=thumb)


	3. Fermez le simulateur.


Cet exemple permet de comprendre la mise en place du "Pull to refresh". 


### Utilisation d'un menu coulissant
<a name="utilisation_menu_coulissant_ELTPARAGRAPHE000381"></a>Dans de nombreuses applications mobiles, le menu ne correspond pas à une fenêtre "statique". Il correspond plutôt à une fenêtre coulissante affichée via une option de l'Action Bar et/ou via un balayage de la fenêtre.

Nous allons modifier la fenêtre "FEN_Avancé_LISTE_Produits" pour lui ajouter un "sliding menu". Ce menu reprendra le champ Zone multiligne de la fenêtre "FEN_Menu" créée précédemment. 



- Pour gérer un menu coulissant, nous allons :

	- Créer une fenêtre interne. Cette fenêtre interne va contenir les options de menu.

	- Modifier la fenêtre "FEN_Avancé_LISTE_Produits" pour afficher le menu.
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png) | Note | Une fenêtre interne est une fenêtre simple sans Action Bar ou autres barres d'outils. Une fenêtre interne permet d'intégrer facilement un ensemble de champs dans une autre fenêtre. |











- Pour créer la fenêtre interne contenant le menu :

	1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Nv_WM_GAF.jpg) parmi les boutons d'accès rapide. La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Fenêtre" puis sur "Fenêtre interne".

	2. La fenêtre interne est automatiquement ouverte sous l'éditeur. 

	3. La fenêtre de sauvegarde de l'élément créé apparaît. Saisissez le nom de la fenêtre interne : "FI_ZML_Options". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Fen%EAtre%20coulissante%201%20-%20HC%20N%B0003.jpg)


	4. Validez.

5. Affichez la fenêtre de description de la fenêtre interne (option "Description" du menu contextuel).

6. Dans l'onglet "UI", spécifiez les dimensions de cette fenêtre interne :

	- Largeur : celle que vous souhaitez. Elle doit être suffisante pour voir entièrement les champs du menu déroulant. En principe, le sliding menu doit être moins large que la fenêtre par-dessus laquelle il s'affiche (par exemple 260). 

	- Hauteur : Cette hauteur doit correspondre à la hauteur de la fenêtre par-dessus laquelle le sliding menu s'affiche. Dans notre cas, cette hauteur est de 248. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Fen%EAtre%20coulissante%201%20-%20HC%20N%B0002.jpg)




- Pour ajouter les options de menu dans la fenêtre interne :

	1. Ouvrez la fenêtre "FEN_Menu" précédemment créée (double-cliquez sur son nom dans le volet "Explorateur de projet" par exemple).

	2. Copiez les champs de la fenêtre "FEN_Menu" vers la fenêtre interne "FI_ZML_Options" :

		- Sélectionnez tous les éléments de la fenêtre "FEN_Menu" (Ctrl + A). 

		- Copiez les éléments (Ctrl + C). 

		- Affichez la fenêtre "FI_ZML_Options" (cliquez sur son nom dans la barre des documents ouverts). 

		- Collez les éléments (Ctrl + V). 




3. A l'aide des poignées de sélection, redimensionnez la largeur du champ Zone multiligne pour qu'il entre entièrement dans la fenêtre interne. Grâce aux ancrages, tous les champs présents dans le champ Zone multiligne sont également modifiés. Vous obtenez la fenêtre suivante : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Fen%EAtre%20coulissante%201%20-%20HC%20N%B0001.jpg)




- Maintenant, il ne reste plus qu'à modifier le code WLangage permettant d'ouvrir la liste des produits. Ce code doit être modifié car :  

	- nous travaillons avec la fenêtre "FEN_Avancé_LISTE_Produits" et non plus "FEN_Liste_des_produits". 

	- la fenêtre "FEN_Avancé_LISTE_Produits" contient le menu coulissant. L'option de menu "Liste des produits" du menu coulissant ne doit donc pas ré-ouvrir cette fenêtre. 







- Nous allons changer le code WLangage utilisé pour la sélection du champ Zone multiligne. 

	1. Sélectionnez le champ Zone multiligne. 

	2. Affichez les événements WLangage associés (touche F2). 

	3. Remplacez la ligne :
			
		```wl
		CAS 1 // Liste des produits
				FEN_Liste_des_produits.OuvreFenêtreMobile()
		```
par :
			
		```wl
		CAS 1 // Liste des produits
				FenCoulissanteVisible(fcGauche,Faux)
		```
Dans ce code WLangage, la fonction [FenCoulissanteVisible](../WDLang1/1000020978.md) permet de rendre invisible la fenêtre coulissante s'affichant par la gauche. La liste des produits est donc affichée. 

	4. Enregistrez les modifications en cliquant sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Sauver_WM_GAF.jpg) parmi les boutons d'accès rapide.

	5. Fermez la fenêtre de code (cliquez sur la croix en haut à droite de l'éditeur de code).







- Pour associer la fenêtre interne à la fenêtre "FEN_Avancé_LISTE_Produits" :

	1. Affichez la fenêtre "FEN_Avancé_LISTE_Produits" (cliquez sur son nom dans la barre des documents ouverts). 

	2. Affichez la fenêtre de description. 

	3. Dans l'onglet "Détail", dans la zone "Fenêtre coulissante gauche", sélectionnez la fenêtre "FI_ZML_Options". <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Fen%EAtre%20coulissante%201%20-%20HC%20N%B0004.jpg&type=thumb)
L'option "Balayage" permet de gérer automatiquement l'affichage de la fenêtre coulissante lors du balayage. 

	4. Validez. 

	5. La fenêtre étant associée à une Action Bar, l'éditeur propose d'activer l'option permettant d'ouvrir la fenêtre coulissante. <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P4_MP%20-%20Fen%EAtre%20coulissante%202%20-%20HC%20N%B0001.jpg&type=thumb)


	6. Acceptez. 




- Nous allons maintenant tester le fonctionnement du sliding menu sous le simulateur : 

	1. Dans le volet "Explorateur de projet", définissez la fenêtre "FEN_Avancé_LISTE_Produits" comme première fenêtre du projet (en effet, la fenêtre "FEN_Menu" est désormais inutile). 

		- Sélectionnez la fenêtre "FEN_Avancé_LISTE_Produits" dans le volet "Explorateur de projet".

		- Affichez le menu contextuel.

		- Sélectionnez l'option "Première fenêtre du projet". Une icône spécifique (avec un petit 1) apparaît alors devant le nom de la fenêtre, dans le volet "Explorateur de projet".




2. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_GO_simu_PRJ_WM_GAF.jpg) parmi les boutons d'accès rapide.

3. En cliquant sur le menu de l'Action Bar, la fenêtre coulissante du menu apparaît. 






| [Leçon précédente](../TutoWM/1410087573.md) | [Sommaire](../TutoWM/1410087586.md) | [Leçon suivante](../TutoWM/1410087575.md) |
| --- | --- | --- |




