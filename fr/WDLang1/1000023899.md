
## DemandeMiseAJourUI

***En anglais : RequestRefreshUI***

<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Demande l'exécution de l'événement "Demande de mise à jour de l'affichage" (et rend la main **sans attendre l'exécution de l'événement**).

Cette fonction est notamment utilisée : 

- dans le cadre d'une mise à jour de l'UI via des threads. 

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) dans le cadre d'une programmation de type MVP (Modèle - Vue - Présentation). Pour plus de détails, consultez [Présentation MVP : Modèle - Vue - Présentation](../Editeurs/1000021496.md). 




**Remarque** : Cette fonction est équivalente à la fonction [DemandeMiseAJourIHM](../WDLang1/1000021378.md).
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Traitement d'enregistrement
// L'interface graphique devra être mise à jour
DemandeMiseAJourUI()
```

```wl
// -----------------------------------------------------------------
// -- Evénement Demande de mise à jour de l'affichage de FEN_Fiche_Contact
// Mise à jour du titre de la fenêtre
MoiMême.Titre = gpclFicheContact.p_sNomComplet

// Mise à jour des champs liés de la fenêtre
SourceVersEcran()
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`DemandeMiseAJourUI([<Paramètre 1> [... [, <Paramètre N>]]])`
---

**`<Paramètre 1> : (Paramètre optionnel correspondant au type attendu par l'événement "Demande de mise à jour de l'affichage")`**

Premier paramètre à passer à l'événement "Demande de mise à jour de l'affichage" de la fenêtre. 



**`<Paramètre N> : (Type de la valeur attendue par l'événement "Demande de mise à jour de l'affichage")`**

Nième paramètre à passer à l'événement "Demande de mise à jour de l'affichage" de la fenêtre. 



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Evénement "Demande de mise à jour de l'affichage"
<a name="evenement_demande_mise_jour_affichage_ELTPARAGRAPHE000049"></a>Un des événements associés à la fenêtre est l'événement "Demande de mise à jour de l'affichage". Cet événement permet de regrouper le code de mise à jour des champs de la fenêtre : contenu des champs, état (visible, grisé, ...), libellé à mettre à jour, ... Cet événement est disponible sur les fenêtres, fenêtres internes, pages, pages internes, modèles de champs et superchamps.

Cet événement peut attendre des paramètres. Il suffit de déclarer une procédure dans l'événement. Par exemple : 

```wl
// Demande de mise à jour de l'affichage
PROCEDURE DemandeMiseAjour(TypeMiseAJour est un booléen)
```


Cet événement est lancé sur demande grâce aux fonctions : 

- **DemandeMiseAJourUI** : Exécute l'événement "Demande de mise à jour de l'affichage" de l'élément en cours à la fin du traitement en cours (lancement asynchrone). 

- [ExécuteMiseAJourUI](../WDLang1/1000023901.md) : Exécute immédiatement l'événement "Demande de mise à jour de l'affichage" de l'élément en cours. 

- [DemandeMiseAJourUIÉlément](../WDLang1/1410088703.md) : Exécute l'événement "Demande de mise à jour de l'affichage" de l'élément spécifié à la fin du traitement en cours (lancement asynchrone).

- [ExécuteMiseAJourUIÉlément](../WDLang1/1410088704.md) : Exécute immédiatement l'événement "Demande de mise à jour de l'affichage" de l'élément spécifié. 

- [DemandeMiseAJourUIParent](../WDLang1/1000023900.md) : Exécute l'événement "Demande de mise à jour de l'affichage" du niveau supérieur à la fin du traitement en cours (lancement asynchrone).

- [ExécuteMiseAJourUIParent](../WDLang1/1000023902.md) : Exécute immédiatement l'événement "Demande de mise à jour de l'affichage" du niveau supérieur.


Lors de l'appel de ces fonctions, il est possible de préciser la valeur des paramètres attendus par l'événement "Demande de mise à jour de l'affichage". 

Remarques : 

- L'élément dont l'événement "Demande de mise à jour de l'affichage" est exécuté dépend du code depuis lequel la fonction **DemandeMiseAJourUI** a été appelé. S'il s'agit d'une classe ayant l'attribut **présentation**, l'élément considéré sera la fenêtre associée à la classe, sinon ce sera l'élément depuis lequel le code a été lancé.

- Si la fonction **DemandeMiseAJourUI** est appelée plusieurs fois, les nouveaux appels utilisant les mêmes paramètres que des appels encore non exécutés sont ignorés.

- Si la fonction **DemandeMiseAJourUI** est appelée dans le thread principal, la ou les exécutions de l'événement "Demande de mise à jour de l'affichage" se feront à la fin du traitement en cours.

- Si la fonction **DemandeMiseAJourUI** est appelée dans un thread secondaire, la ou les exécutions de l'événement "Demande de mise à jour de l'affichage" se feront lors du rafraichissement de la fenêtre.





<a name="NOTE0_2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png) 

### Attribut "présentation"
<a name="attribut_presentation_ELTPARAGRAPHE000109"></a>L'attribut **présentation** permet d'associer une classe de la couche présentation à une vue (fenêtre, page ou état). 

Cet attribut est utilisé notamment lors de la déclaration globale des fenêtres générées par le RAD MVP sous WINDEV. 

Par exemple : 

```wl
PROCEDURE FEN_Table_MonFichierExemple(...
	gclPresentation est un PTableMonFichierExemple dynamique<présentation>=Null)
```


Grâce à cet attribut, l'appel de l'événement "Demande de mise à jour de l'affichage" de la fenêtre sera déclenché par :

- tout appel à la fonction **DemandeMiseAJourUI** depuis une classe déclarée comme &lt;présentation&gt;,

- tout appel depuis toute classe associée à la classe &lt;présentation&gt;. 




Pour plus de détails, consultez [RAD MVP : Attribut "présentation"](../Editeurs/1000021508.md). 


- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMDecouverteMVP.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Découverte MVP** <br>Cet exemple montre la mise en oeuvre d'une architecture MVP (Modèle Vue Présentation) dans un projet. Cet exemple est ici simplifié afin de pouvoir comprendre les concepts de cette architecture.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDDecouverteMVP-Partie1.gif) ***Exemples didactiques (WINDEV)*** : **WD Découverte MVP - Partie 1** <br>Cet exemple didactique présente la mise en oeuvre d'une architecture MVP (Modèle Vue Présentation) dans un projet. Cet exemple est ici simplifié afin de pouvoir comprendre les concepts de cette architecture.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDDecouverteMVP-Partie2.gif) ***Exemples didactiques (WINDEV)*** : **WD Découverte MVP - Partie 2** <br>Cet exemple didactique présente la mise en oeuvre d'une architecture MVP (Modèle Vue Présentation) dans un projet pour une analyse simple (Client - Commande - Ligne de commande - Produit).<br><br>Plusieurs types de vues (et leur présentation) sont proposés :<br>- table (avec ajout, modification, suppression et impression),<br>- fiche,<br>- recherche (avec filtre).



<a name="XComposante"></a>

## Composante :
wd280wm.dll


