
## dbgAssertion (Fonction)

***En anglais : dbgAssert***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Permet de trouver et de signaler les erreurs potentielles grâce à un mode de programmation défensif. Vous utilisez la fonction **dbgAssertion** dans un code où une erreur potentielle peut survenir. Si l'erreur survient, une fenêtre signale le problème.

Ce mode est utilisé par défaut en mode test et peut être branché en exécution grâce à la fonction [dbgActiveAssertion](../WDLang1/3014021.md).




<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// La procédure ChercheClient(Numéro) permet de chercher le client spécifié
PROCEDURE ChercheClient(Numéro)
HLitRecherchePremier(Client, Numéro, Numéro)
dbgAssertion(HTrouve, "Client non trouvé")
```


<a name="Exemple2"></a>



```wl
// ValeurCherchée a été passée en paramètre, elle existe normalement dans le fichier de données. 
// On se positionne sur l'enregistrement
HLitRecherchePremier(NomFichier, NomRub, ValeurCherchée)
// On vérifie qu'un enregistrement est bien trouvé 
// (dans tous les cas, mode "normal" ou mode "debug")
SI HTrouve(NomFichier) = Faux ALORS
	// En mode "debug", affichage d'un message pour indiquer qu'il y a un problème
	dbgAssertion(Faux, ChaîneConstruit("L'enregistrement %1 du fichier" + ...
				"NomFichier n'a pas été trouvé", ValeurCherchée))
	// On gère ce cas dans le code en créant un enregistrement s'il n'a pas été trouvé
	HRAZ(NomFichier)
	NomFichier.NomRub = ValeurCherchée
	HAjoute(NomFichier)
FIN
```



<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`dbgAssertion(<Condition à tester> [, <Commentaire>])`
---

**`<Condition à tester> : (Chaîne de caractères)`**

Condition dont le test doit être effectué. Cette condition peut être une fonction WLangage, une procédure locale ou globale, une expression, ...

**`<Commentaire> : (Chaîne de caractères optionnelle)`**

Texte à afficher (dans une fenêtre) en cas de condition non vérifiée.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


- En mode test, la gestion des assertions est activée par défaut.

- En exécution, la gestion des assertions est inactive par défaut. La fonction **dbgAssertion** n'est pas exécutée. La fonction WLangage spécifiée en paramètre ne sera pas exécutée.

- La gestion des assertions permet de remplacer l'utilisation de la fonction [EnModeTest](../WDLang1/3013011.md). En effet, souvent cette fonction était utilisée pour tracer un fonctionnement spécifique qui peut maintenant être réalisé avec la fonction **dbgAssertion**.




<a name="XComposante"></a>

## Composante :
wd280vm.dll
