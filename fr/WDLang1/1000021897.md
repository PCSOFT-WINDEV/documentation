


## FenEdDo (Fonction)

***En anglais : WinEdDo***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Exécute une action (définie par programmation) avec support du Undo/Redo. Cette fonction est liée à la fonctionnalité "Modification de l'UI par l'utilisateur final".

Cette fonction est notamment utilisée dans le cas de la création d'un éditeur par programmation (voir "Remarques"). 
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
FenEdDo(FEN_MonEditeur, ProcCréeLib, "Nouveau")
PROCEDURE INTERNE ProcCréeLib(sLib)
	pNouveau est un Champ
	pNouveau <- ChampCrée("LIB_" + DonneIdentifiant(), typTexte, 150, 150, 80, 20)
	pNouveau.Libellé = sLib 
	FenEdDéclareUndo(ProcAnnuler)
	PROCEDURE INTERNE ProcAnnuler()
		ChampSupprime(pNouveau)
	FIN
FIN
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`FenEdDo(<Fenêtre> , <Procédure WLangage> [, <Paramètre 1> [... [, <Paramètre N>]]])`
---

**`<Fenêtre> : (Nom de fenêtre)`**

Nom de la fenêtre ou de la fenêtre interne à manipuler. Cette fenêtre doit être en mode modification (fonction [FenEdActive](../WDLang1/1000021843.md)). 

**`<Procédure WLangage> : (Nom de procédure)`**

Nom d'une procédure WLangage à exécuter. Le code de cette procédure doit appeler la fonction [FenEdDéclareUndo](../WDLang1/1000021898.md). Les actions de cette procédure seront prises en compte dans le Undo/Redo.

Remarque : L'utilisation d'une procédure interne permet un accès direct aux variables locales. 

**`<Paramètre 1> : (Type quelconque optionnel)`**

Premier paramètre optionnel à passer à la procédure.



**`<Paramètre N> : (Type quelconque optionnel)`**

Nème paramètre optionnel à passer à la procédure.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Exemple d'utilisation
<a name="exemple_utilisation_ELTPARAGRAPHE000049"></a>La fonction **FenEdDo** permet de créer des actions personnalisées (par exemple la création d'un champ) qui supportent le undo/redo.

Prenons un exemple simple : la création d'un éditeur d'objets graphiques. 

Un bouton permet de créer une forme. L'utilisateur doit pouvoir annuler la création de la forme. Les opérations effectuées sont les suivantes : 

- Passage de la fenêtre en mode modification de l'interface (fonction [FenEdActive](../WDLang1/1000021843.md)). 

- Appel de la fonction **FenEdDo**. La procédure appelée par cette fonction permet de créer la forme. Cette procédure contient également l'appel à la fonction [FenEdDéclareUndo](../WDLang1/1000021898.md). Cette fonction [FenEdDéclareUndo](../WDLang1/1000021898.md) permet de définir le comportement en cas d'annulation par l'utilisateur. 

- Passage de la fenêtre en mode normal (fonction [FenEdActive](../WDLang1/1000021843.md)). 




L'utilisateur final peut alors annuler cette action (Ctrl + Z ou utilisation de la fonction [FenEdUndo](../WDLang1/1000021904.md)) puis éventuellement la refaire (Ctrl + Y ou appel de la fonction [FenEdRedo](../WDLang1/1000021905.md)). 


- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDObjetsGraphiques.gif) ***Exemples didactiques (WINDEV)*** : **WD Objets Graphiques** <br>Cet exemple didactique illustre la puissance du WLangage en matière de programmation orientée objet.<br>Cet exemple est un éditeur d'objets graphiques.<br><br>Il est possible de :<br>- déplacer, redimensionner les objets<br>- effectuer des sélections au lasso ou à la souris<br>- couper/copier/coller des objets<br>- supprimer/dupliquer des objets<br>- enregistrer les documents créés et de les imprimer.<br><br>Les principales fonctionnalités techniques présentées et documentées sont les suivantes :<br>- gestion d'un presse-papiers d'objets<br>- gestion du UNDO/REDO<br>- sérialisation et désérialisation d'objets<br>- algorithmes de gestion d'objets graphiques (redimensionnements proportionnels, gestion de règles de déplacement, etc...)

<a name="XComposante"></a>

## Composante :
wd280obj.dll
