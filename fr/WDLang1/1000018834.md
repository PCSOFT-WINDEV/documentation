


## dbgSauveDumpDébogage (Fonction)

***En anglais : dbgSaveDebugDump***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Sauve un dump de débogage de l'application. Un dump de débogage permet de repositionner "a posteriori" le débogueur sur les informations d'exécution de l'application au moment de l'appel de la fonction. Il est ainsi possible de voir la pile et le contenu des variables lors de l'ouverture du fichier de dump généré dans WINDEV, WEBDEV ou WINDEV Mobile.

**Pour lire le dump de débogage**, il suffit : 

- soit de faire un "Drag and Drop" du fichier ".wdump" vers l'éditeur de fenêtres ou de pages (par exemple sur la barre des documents ouverts).

- soit directement d'ouvrir le fichier ".wdump" (sous le volet "Accueil", dans l'onglet "Général", déroulez "Ouvrir" et sélectionnez "Ouvrir").


Attention : Le dump peut être ouvert uniquement avec la version de l'éditeur utilisée pour générer l'exécutable qui a créé le dump. 

**Remarques** :

- Pour lire le dump de débogage, le projet en cours sous l'éditeur doit être le projet de l'application ou le projet d'un des composants utilisé par l'application. Seules les informations concernant le projet en cours seront affichées. 

- Contrairement au dump mémoire, le dump de débogage permet de visualiser le contenu de la mémoire et des variables au moment de l'appel de la fonction.





<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Sauve le dump de débogage dans l'audit d'exécution en cours
dbgSauveDumpDébogage()
```


<a name="Exemple2"></a>

```wl
// Sauve le dump de débogage dans un fichier
dbgSauveDumpDébogage(fRepExe() + ["\"] + "MonDump.wdump")
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

### Sauver le dump de débogage dans l'audit dynamique en cours

`dbgSauveDumpDébogage()`
---

**Remarque** : Cette syntaxe sauve le dump de débogage dans le fichier d'audit dynamique si l'audit est actif (fonction [dbgActiveAudit](../WDLang1/1000018835.md)). Si l'audit dynamique n'est pas actif, la fonction ne fait rien. L'audit peut être activé grâce à la fonction [dbgActiveAudit](../WDLang1/1000018835.md).
<a name="SYNTAXE2"></a>

### Sauver le dump de débogage dans un fichier

`dbgSauveDumpDébogage(<Nom du fichier de dump>)`
---

**`<Nom du fichier de dump> : (Chaîne de caractères)`**

Nom du fichier dans lequel est sauvé le dump. Le nom du fichier peut être construit avec les éléments suivants :


|   |   |
| --- | --- |
| [%RepExe%] | Répertoire de l'exécutable, toujours complété par le caractère "\\". Ce répertoire est équivalent au résultat de la fonction [fRepExe](../WDLang1/3036049.md). |
| [%NomExe%] | Nom de l'exécutable. |
| [%Date%] | Date de lancement du dump de débogage (format AAAAMMJJ). |
| [%Heure%] | Heure de lancement du dump débogage (format HHMMSS). |
| [%NomUtilisateur%] | Nom de l'utilisateur courant. |
| [%NomMachine%] | Nom de la machine. |
| [%RepDonnees%] | Répertoire des fichiers de données HFSQL spécifié par l'utilisateur lors de l'installation de l'application. Ce répertoire est équivalent au résultat de la fonction [fRepDonnées](../WDLang1/3036001.md). |
| [%RepDonneesUtilisateur%] | Répertoire pour les données de l'utilisateur courant de l'application courante.  Ce répertoire est équivalent au résultat de la fonction [fRepDonnéesUtilisateur](../WDLang1/3036071.md). |


Par défaut, si ce paramètre correspond à une chaîne vide ("") : 

- L'extension du fichier sera ".wdump". 

- le nom du fichier créé correspond à : "[%RepDonneesUtilisateur%][%NomExe%]_[%Date%]_[%Heure%]". 
	Par exemple : "C:\\Users\\Doc\\AppData\\Roaming\\Applications WinDev\\MonAppli\\MonAppli_20091023_130812.wdump".




Attention : Si vous utilisez la construction dynamique des chaînes (option "Autoriser "[% %]" dans les chaînes" dans l'onglet "Compilation" de la description du projet), une erreur de compilation apparaît (identificateur inconnu). Dans ce cas, il est nécessaire de faire précéder chaque chaîne par '-%'. Exemple : 

```wl
dbgSauveDumpDébogage("[%RepDonneesUtilisateur%][%NomExe%]_[%Date%]_[%Heure%]")
```
 devient
```wl
dbgSauveDumpDébogage(-%"[%RepDonneesUtilisateur%][%NomExe%]_[%Date%]_[%Heure%]")
```




<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Fenêtres des exceptions et des erreurs
<a name="fenetres_des_exceptions_des_erreurs_ELTPARAGRAPHE000215"></a>Les fenêtres des exceptions et des erreurs proposent une option qui permet de sauver un dump de débogage au moment de l'exception ou de l'erreur. Il s'agit du lien :
"Enregistrer les informations pour le fournisseur de l'application (dump de débogage)"


### Traitement des exceptions par programmation
<a name="traitement_des_exceptions_par_programmation_ELTPARAGRAPHE000222"></a>Appelée depuis le code de traitement d'une exception, la fonction **dbgSauveDumpDébogage** sauve le dump de débogage au moment de l'exception et non pas le dump de débogage courant dans le traitement d'exception.

Pour sauver l'état au moment de l'exception, il est nécessaire d'appeler directement la fonction **dbgSauveDumpDébogage** depuis le traitement d'exception.

Si vous utilisez la fonction **dbgSauveDumpDébogage** depuis une procédure (ou méthode) appelée **dans** le traitement d'exception, l'état sauvé sera celui du traitement en cours : la pile ne correspondra plus à l'exception. 

<a name="XComposante"></a>

## Composante :
wd280vm.dll
