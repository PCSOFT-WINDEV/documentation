
## Saisie assistée dans un champ de saisie
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000266"></a>
Le principe de la saisie assistée dans un champ de saisie est très simple : quand l'utilisateur commence à saisir dans un champ de saisie, une liste se déroule automatiquement sous le champ pour proposer les valeurs commençant par le texte de la saisie en cours. 

La saisie assistée peut être mise en place automatiquement depuis l'éditeur ou personnalisée par programmation. 



<a name="NOTE2_Fenêtre"></a>
<a name="NOTE2_Fenêtre_1"></a>


## Principe
<a name="principe_ELTTEXTE000290"></a>
WINDEV, WINDEV Mobile et WEBDEV proposent plusieurs types de saisie assistée : 

- Saisie assistée "en mémoire" : Le champ de saisie n'est pas lié à une rubrique d'un fichier de données. La saisie automatique se fait à partir d'une liste de données fournie par programmation (fonction [SaisieAssistéeAjoute](../WDLang1/1000020043.md)). L'affichage des données dans la liste est effectué selon la saisie.  

- Saisie assistée "fichier" : Le champ de saisie est lié à une rubrique d'un fichier de données ou d'une requête. L'affichage des données dans la liste est effectué selon la saisie.

- Saisie assistée programmée : La saisie assistée est effectuée à partir d'une liste de données personnalisée. L'affichage des données dans la liste selon la saisie est personnalisée.






<a name="NOTE3_Fenêtre"></a>
<a name="NOTE3_Fenêtre_1"></a>


## Saisie assistée "en mémoire"
<a name="saisie_assistee_memoire_ELTTEXTE000314"></a>


### Comment le faire ?
<a name="comment_faire_ELTPARAGRAPHE000058"></a>Pour mettre en place la saisie assistée "en mémoire" : 

1. Utilisez la fonction [SaisieAssistéeAjoute](../WDLang1/1000020043.md) pour ajouter les éléments pris en compte par la saisie assistée. 
	Il est possible d'ajouter : 

	- une valeur simple, affichée dans la liste des propositions de la saisie assistée, 

	- une valeur affichée et une valeur mémorisée.

	- une variable de type [SaisieAssistée](../WDLang1/1410088983.md).




2. Si nécessaire, utilisez la fonction [SaisieAssistéeParamètre](../WDLang1/1000021074.md) pour paramétrer les caractéristiques de la saisie assistée : filtre, ouverture de la liste, nombre de caractères à saisir avant d'ouvrir la liste, ...




**Remarque** : La valeur mémorisée permet d'associer une valeur spécifique à une ligne de la saisie assistée. Cette valeur peut être utilisée par exemple pour réaliser un traitement spécifique selon le type de valeur sélectionnée.


### Exemples
<a name="exemples_ELTPARAGRAPHE000091"></a>

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) **Exemple pour une fenêtre** : 
	
	```wl
	// Code de fin d'initialisation de la fenêtre
	SaisieAssistéeParamètre(SAI_Rechercher, saTailleMin, 3)
	SaisieAssistéeParamètre(SAI_Rechercher, saFiltre, filtreContient)
	
	POUR TOUTE CHAÎNE sTitre DE gsTitresPhotos SEPAREE PAR RC
		SaisieAssistéeAjoute(SAI_Rechercher, sTitre)
	FIN
	```






### Remarques
<a name="remarques_ELTPARAGRAPHE000119"></a>

- L'événement optionnel "Sélection d'une valeur dans la liste de saisie assistée" est exécuté lors de la sélection d'un élément. Cet événement prend en paramètre une variable de type [SaisieAssistée](../WDLang1/1410088983.md). Cette variable permet de connaître la valeur sélectionnée et la valeur mémorisée associée si elle existe.

- Par défaut, la valeur affichée dans le champ de saisie lors de la sélection dans la saisie assistée, correspond à la valeur sélectionnée. Pour modifier la valeur du champ de saisie, utilisez l'événement "Sélection d'une valeur dans la liste de saisie assistée". Il est par exemple possible d'afficher la valeur mémorisée dans le champ de saisie. 


Pour plus de détails, consultez [Evénements associés aux champs de saisie](../WDChamp/1013229.md).







<a name="NOTE4_Fenêtre"></a>
<a name="NOTE4_Fenêtre_1"></a>


## Saisie assistée "Fichier"
<a name="saisie_assistee_fichier_ELTTEXTE000350"></a>


### Comment le faire ?
<a name="comment_faire_ELTPARAGRAPHE000141"></a>Pour mettre en place la saisie assistée "Fichier" : 

1. Dans la fenêtre de description du champ de saisie : 

	- Vérifiez que le champ de saisie est lié à une rubrique d'un fichier de données ou d'une requête (onglet "Liaison"). 
			Attention : La rubrique doit être une clé. 

	- Dans l'onglet "Détail", cochez l'option "Saisie assistée sur liaison fichier". 




2. Validez la fenêtre de description du champ de saisie. 




En exécution, dès la première lettre saisie dans le champ : 

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) la première donnée correspondant à la lettre saisie s'affiche. Au fur et à mesure de la saisie, la donnée correspondant aux lettres saisies s'affiche. 




Remarques : 

- Si le champ de saisie est lié à une rubrique d'une requête, la requête est automatiquement exécutée. Cependant, si cette requête attend des paramètres, il est nécessaire de les renseigner puis d'exécuter la requête avec la fonction [HExécuteRequête](../WDLang4/3044080.md) (par exemple dans l'événement "Déclarations globales" ou l'événement "Fin d'initialisation" de la fenêtre).  

- Le filtre d'affichage de la saisie assistée est de type "Commence par". Pour utiliser un autre filtre, il est nécessaire d'utiliser la saisie assistée programmée. 




<a name="NOTE5_Fenêtre"></a>
<a name="NOTE5_Fenêtre_1"></a>


## Saisie assistée "programmée"
<a name="saisie_assistee_programmee_ELTTEXTE000374"></a>


### Comment le faire ? 
<a name="comment_faire_ELTPARAGRAPHE000182"></a>La saisie assistée programmée permet de manipuler une source de données personnalisée. 

Pour utiliser la saisie assistée programmée : 

1. Désactivez le filtre par défaut grâce à la fonction [SaisieAssistéeParamètre](../WDLang1/1000021074.md) (en utilisant la constante *filtreAucun*). La liste de la saisie assistée pourra ainsi pourra ainsi s'ouvrir et afficher tous les éléments spécifiés.  

2. Dans l'événement "A chaque modification" du champ de saisie : 

	- Videz la liste des propositions (fonction [SaisieAssistéeSupprimeTout](../WDLang1/1000020044.md)). 

	- Reconstruisez la liste des éléments proposés en fonction des caractères saisis (fonction [SaisieAssistéeAjoute](../WDLang1/1000020043.md)).

	- Utilisez la fonction [SaisieAssistéeOuvre](../WDLang1/1000020048.md) pour ouvrir la liste des éléments proposés par la saisie assistée.








### Exemple
<a name="exemple_ELTPARAGRAPHE000210"></a>
```wl
// Recherche de type "contient" dans le nom 
// et le code d'un tableau d'actions boursières

POUR TOUT sNom, sCode de gTabAction
	SI Contient(sCode, SAI_Mode_programmé) _OU_ ...
			Contient(sNom, SAI_Mode_programmé) ALORS
		SaisieAssistéeAjoute(FEN_EnMémoire.SAI_Mode_programmé, sNom)
	FIN
FIN
```


- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Galerie_Photos.gif) ***Exemples complets (WEBDEV)*** : **Galerie_Photos** <br>Cet exemple est un site de galerie photos et se compose de 2 parties principales : <br>- la partie "visiteur", réalisée en mode AWP et référençable.<br>- la partie administration réalisée en mode WEBDEV classique et sécurisée.   <br>  <br>Parmi les fonctionnalités proposées, vous y trouverez : <br>- une organisation par albums de vos photos<br>- un lien vers les réseaux sociaux<br>- la possibilité pour les visiteurs de commenter vos publications<br>- la connexion des utilisateurs est gérée via le GPU de WEBDEV<br>- un formulaire de contact<br>- au niveau de l’administration du site, vous pourrez bien évidemment uploader vos photos, les classer par album et aussi les décrire
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LesfonctionsSaisieAssistee.gif) ***Exemples unitaires (WINDEV)*** : **Les fonctions SaisieAssistée** <br>Utilisation des fonctions WLangage SaisieAssistée.<br>Ces fonctions permettent de mettre en place facilement une saisie assistée sur les champs.



