


## TraceConstruit (Fonction)

***En anglais : TraceBuild***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Affiche un message paramétrable dans la fenêtre de trace ouverte en parallèle de la fenêtre en cours.

**Remarque** : Comme la fonction [Trace](../WDLang1/3013050.md), la fonction **TraceConstruit** est utile en phase de développement pour vérifier le bon déroulement du programme. Sous l'éditeur, le [volet "Trace du débogueur"](../Editeurs/2027028.md) affiche les informations contenues dans la fenêtre de trace ainsi que le texte complet des erreurs rencontrées.

<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Affichage du message d'erreur dans la fenêtre de trace
TraceConstruit("Le code client %1 n'existe pas.", nCodeClient)
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`TraceConstruit(<Chaîne initiale> [, <Paramètre 1> [... [, <Paramètre N>]]])`
---

**`<Chaîne initiale> : (Chaîne de caractères)`**

Chaîne de caractères à afficher. Cette chaîne contient des paramètres optionnels (caractères %1 à %n). Pour afficher le caractère %, il est nécessaire de doubler ce caractère (%%).

**`<Paramètre 1> : (Chaîne de caractères optionnelle)`**

Premier paramètre à insérer dans la chaîne de caractères formatée.
Le &lt;Paramètre 1&gt; remplacera le caractère %1, le &lt;Paramètre 2&gt; remplacera le caractère %2, etc.
Le nombre de paramètres spécifiés doit être identique ou supérieur au nombre de paramètres utilisés dans la chaîne de caractères &lt;Chaîne initiale&gt;.
Si la chaîne de caractères &lt;Chaîne initiale&gt; contient plus de paramètres, les paramètres supplémentaires seront remplacés par des chaînes vides.



**`<Paramètre N> : (Chaîne de caractères optionnelle)`**

Nième paramètres à insérer dans la chaîne de caractères formatée.
Le &lt;Paramètre 1&gt; remplacera le caractère %1, le &lt;Paramètre 2&gt; remplacera le caractère %2, etc.
Le nombre de paramètres spécifiés doit être identique ou supérieur au nombre de paramètres utilisés dans la chaîne de caractères &lt;Chaîne initiale&gt;.
Si la chaîne de caractères &lt;Chaîne initiale&gt; contient plus de paramètres, les paramètres supplémentaires seront remplacés par des chaînes vides.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Utilisation de la fonction TraceConstruit dans les applications multilingues
<a name="utilisation_fonction_traceconstruit_dans_les_applications_multilingues_ELTPARAGRAPHE000074"></a>Dans une application multilingue, l'utilisation de la fonction **TraceConstruit** permet de simplifier la traduction : 

- le traducteur traduit le message en positionnant les caractères "%1", "%2", ... à l'endroit voulu par la langue. 

- les caractères optionnels peuvent être remplacés dans toutes les langues gérées.



<a name="NOTE0_2"></a>


### Conditions d'utilisation selon les plateformes
<a name="conditions_utilisation_selon_les_plateformes_ELTPARAGRAPHE000087"></a>![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png) La fonction **TraceConstruit** permet d'afficher les informations demandées uniquement dans un fichier. Par défaut, ce fichier est créé dans le répertoire temporaire d'UNIX, sous le nom "Trace_&lt;Projet&gt;.txt".
<a name="NOTE0_3"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Fenêtre de trace
<a name="fenetre_trace_ELTPARAGRAPHE000130"></a>

- La fenêtre de trace est ouverte automatiquement dès le premier appel à la fonction **TraceConstruit** (la fonction [TraceDébut](../WDLang1/3013052.md) est exécutée automatiquement). Par défaut, cette fenêtre est ouverte en haut, à gauche de l'écran.

- Le fonctionnement de la fonction **TraceConstruit** est similaire à celui de la fonction [InfoConstruit](../WDLang1/1000018879.md) mais l'affichage s'effectue dans une fenêtre parallèle, sans attendre une validation par l'utilisateur.



<a name="NOTE0_4"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Menu contextuel de la fenêtre de trace
<a name="menu_contextuel_fenetre_trace_ELTPARAGRAPHE000155"></a>Le menu contextuel de la fenêtre de **Trace** permet de :

- copier/couper/coller le contenu de la fenêtre de trace.

- enregistrer le contenu de la fenêtre de trace dans un fichier texte. 
	Attention : Cette option est disponible uniquement si la librairie wdxxxstd.dll est présente sur le poste de l'utilisateur final.

- vider le contenu de la fenêtre de trace.

- ouvrir la fenêtre de trace au-dessus de toutes les autres fenêtres (y compris les fenêtres des autres applications).

- mémoriser la taille et la position de la fenêtre de trace lors de sa fermeture. Lors du ré-affichage de cette fenêtre, la fenêtre s'affichera selon la taille et la position mémorisées.

- afficher un ascenseur horizontal.

- afficher les caractères spéciaux en gris et en littéral : EOT, TAB, etc. Ainsi, les caractères "Retour Chariot" (RC) présents correspondent à "&lt;\\r&gt;&lt;\\n&gt;".
	Remarque : Cette option sera prise en compte uniquement à partir de la prochaine ligne d'informations affichée.



<a name="NOTE0_5"></a>

<a name="XComposante"></a>

## Composante :
wd280vm.dll
