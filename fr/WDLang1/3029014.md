


## dPixelCouleur (Fonction)

***En anglais : dPixelColor***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Identifie la couleur d'un pixel contenu : 

- dans un champ Image, 

- dans une variable de type [Image](../WDLang1/1000019650.md).
	

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) dans une variable de type [WDPic](../WDLang1/1000023503.md) (sur le calque d'arrière-plan),

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) dans une variable de type [picCalque](../WDLang1/1000024604.md).




![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png) **Attention** : L'utilisation de cette fonction sous Linux nécessite une configuration spécifique. Pour plus de détails, consultez [Les dessins](../WDLang1/3029035.md). 
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple
<a class="notetitle" target="_blank" href="$DOC$=1000003029014&name=dpixelcouleur_fonction&product=WD">Voir des exemples supplémentaires</a>

```wl
// Identification de la couleur du pixel (15, 25)
// sur le champ Image "IMG_Dessin"
ResCouleur = dPixelCouleur(IMG_Dessin, 15, 25)
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`<Résultat> = dPixelCouleur([<Image>, ] <Abscisse> , <Ordonnée>)`
---

**`<Résultat> : (Entier)`**

Couleur du pixel spécifié sous la forme [RVB](../WDLang1/3029012.md). 
Attention : la valeur retournée peut être différente suivant la configuration de l'affichage (résolution, ...).

**`<Image> : (Nom de champ optionnel ou variable de type Image, WDPic ou picCalque optionnelle)`**

![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) Image à manipuler. Cette image peut correspondre : 

- au nom d'un champ Image. 

- au nom d'une variable de type [Image](../WDLang1/1000019650.md).

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) au nom d'une variable de type [WDPic](../WDLang1/1000023503.md). Seul le calque d'arrière-plan sera manipulé. 

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) au nom d'une variable de type [picCalque](../WDLang1/1000024604.md).




Si ce paramètre n'est pas précisé, l'image utilisée est celle manipulée par la fonction [dDébutDessin](../WDLang1/3029009.md).

Dans un état, ce paramètre n'est pas disponible. Pour spécifier l'image à utiliser, il est nécessaire d'utiliser la fonction [dDébutDessin](../WDLang1/3029009.md) avant d'utiliser la fonction **dPixelCouleur**. 

**`<Abscisse> : (Entier)`**

Position horizontale du pixel à manipuler.

**`<Ordonnée> : (Entier)`**

Position verticale du pixel à manipuler.  



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Coordonnées
<a name="coordonnees_ELTPARAGRAPHE000239"></a><br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=dpixel.gif)
Les coordonnées sont indiquées en pixels par rapport au coin haut gauche de l'image (coordonnées (0,0)).

Pour récupérer la position d'un clic de souris dans un champ Image, utilisez les fonctions [SourisPosX](../WDLang1/3071007.md) et [SourisPosY](../WDLang1/3071008.md).
<a name="NOTE0_2"></a>


### Comment récupérer les composantes de la couleur ?
<a name="comment_recuperer_les_composantes_couleur_ELTPARAGRAPHE000270"></a>Pour récupérer les composantes de la couleur renvoyée par la fonction **dPixelCouleur** :

- Pour obtenir la composante rouge, utilisez la fonction [RVBRouge](../WDLang1/3029050.md) (ou effectuez une division modulo 256 de &lt;Résultat&gt;),

- Pour obtenir la composante verte, utilisez la fonction [RVBVert](../WDLang1/3029051.md) (ou effectuez une division modulo 256 de &lt;Résultat&gt;/256),

- Pour récupérer la composante bleue, utilisez la fonction [RVBBleu](../WDLang1/3029049.md) (ou effectuez une division modulo 256 de &lt;Résultat&gt;/256/256).



<a name="NOTE0_3"></a>


### Utilisation des fonctions de dessin
<a name="utilisation_des_fonctions_dessin_ELTPARAGRAPHE000494"></a>Les fonctions de dessin peuvent être utilisées selon 2 méthodes :

- **Méthode 1 : Utilisation de la fonction dDébutDessin**

	- La fonction [dDébutDessin](../WDLang1/3029009.md) doit être appelée avant toute autre fonction de dessin. La fonction [dDébutDessin](../WDLang1/3029009.md) permet de définir l'élément (champ Image ou variable) sur lequel les fonctions de dessin vont intervenir.

	- Dans le cas du dessin sur un champ Image : 

		- Les fonctions de dessin travaillent sur une copie ("bitmap") de l'image. Vous pouvez utiliser les fonctions de dessin de Windows (grâce à la fonction [API](../WDLang1/3014005.md) ou [AppelDLL32](../WDLang1/3014003.md)) mais ces fonctions doivent utiliser le DC (Device Context) renvoyé par la fonction [dDébutDessin](../WDLang1/3029009.md).

		- La fonction [dFinDessin](../WDLang1/3029019.md) ne doit pas être appelée dans le même traitement que la fonction [dDébutDessin](../WDLang1/3029009.md).
						Si la fonction [dFinDessin](../WDLang1/3029019.md) est appelée dans le même traitement que la fonction [dDébutDessin](../WDLang1/3029009.md), le dessin n'apparaîtra pas : il sera automatiquement effacé.




- ![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) **Méthode 2 : indication de la destination du dessin directement dans la syntaxe (via un paramètre)**
	Le paramètre &lt;Image&gt; permet de spécifier directement la destination du dessin. La fonction [dDébutDessin](../WDLang1/3029009.md) devient inutile. Cette fonction doit être supprimée.
	



<a name="NOTE0_4"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Fonction dPixelCouleur, Zoom et ascenseurs automatiques
<a name="fonction_docparampagetitleshort_zoom_ascenseurs_automatiques_ELTPARAGRAPHE000306"></a>L'option "Ascenseurs et zoom automatiques" disponible sur un champ Image est incompatible avec la fonction **dPixelCouleur**. Si cette option est utilisée sur le champ Image, la fonction **dPixelCouleur** entraîne un affichage figé dans le champ. Le zoom et les ascenseurs sont également figés.
<a name="NOTE0_5"></a>
<a name="NOTE0_6"></a>

<a name="XComposante"></a>

## Composante :
wd280obj.dll
