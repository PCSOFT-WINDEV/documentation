


## Drag and Drop automatique 
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000304"></a>
Pour certains types de champs, WINDEV et WEBDEV proposent une gestion automatique du Drag and Drop. 

**Aucune programmation spécifique n'est nécessaire**. Il suffit de préciser dans la description du champ que le "Drag and Drop" doit être géré. 

Vous ne devez en aucun cas : 

- faire appel aux fonctions de gestion du Drag and Drop par programmation, 

- procéder à l'activation des codes de gestion du Drag and drop dans les traitements des champs. 




Dans le cas contraire, la gestion automatique sera désactivée : il faudra donc gérer le Drag and Drop par programmation.

Cette page présente : 

- [les champs concernés par le Drag and Drop automatique en WINDEV](#NOTE2_1). 

- [les champs concernés par le Drag and Drop automatique en WEBDEV](#NOTE3_1). 

- [comment mettre en place le Drag and Drop automatique](#NOTE4_1). 




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## WINDEV : Les champs concernés par le Drag and Drop automatique
<a name="windev_les_champs_concernes_par_drag_and_drop_automatique_ELTTEXTE000328"></a>
En WINDEV, le Drag and Drop automatique est disponible sur les champs suivants : 

- Champ de saisie, 

- Champ Liste, 

- Champ Liste image, 

- Champ Table, 

- Champ Arbre. 




**Cas particuliers** : Drag and Drop entre deux champs Table : 
Pour réaliser un "Drag and Drop" automatique entre deux champs Table :

- Le nombre de colonnes doit être identique. Le contenu de la colonne 1 du champ Table source sera copié dans la colonne 1 du champ Table cible, idem pour la colonne 2, ...

- Les colonnes peuvent avoir des noms différents.

- Le type des colonnes peut être différent. ATTENTION : Dans ce cas, les données peuvent être altérées ou perdues lors du transfert (conversions automatiques). Dans ce cas, il est conseillé d'utiliser le [Drag and Drop programmé](../WDLang1/3030013.md). 





### Déplacements possibles entre champs : 
<a name="deplacements_possibles_entre_champs_ELTPARAGRAPHE000061"></a>

| Elément Source | Elément Cible | Action réalisée |
| --- | --- | --- |
| Champ Table fichier | Champ Table par programmation | La ou les lignes sélectionnées dans le champ Table source sont copiées dans le champ Table cible. |
|   | Champ Liste par programmation | La ou les lignes sélectionnées dans le champ Table sont copiées dans le champ Liste cible : les données des colonnes sont séparées par des tabulations. |
|   | Champ de saisie | <br><br>- sur un champ de saisie simple, seul le premier élément est copié. Les éléments des différentes colonnes sont séparés par des tabulations.<br><br>- sur un champ de saisie multiligne, tous les éléments sont copiés (séparés par un RC). Les éléments des différentes colonnes sont séparés par des tabulations.<br><br><br> |
| Champ Table par programmation | Champ Table par programmation | La ou les lignes sélectionnées dans le champ Table sont copiées dans le champ Table cible. |
|   | Champ Liste par programmation | La ou les lignes sélectionnées dans le champ Table sont copiées dans le champ Liste cible : les données des colonnes sont séparées par des tabulations. |
|   | Champ de saisie | <br><br>- Sur un champ de saisie simple, seul le premier élément est copié. Les éléments des différentes colonnes sont séparés par des tabulations.<br><br>- Sur un champ de saisie multiligne, tous les éléments sont copiées (séparés par un RC). Les éléments des différentes colonnes sont séparés par des tabulations.<br><br><br> |
| Champ Arbre par programmation | Champ Arbre par programmation | La branche sélectionnée (et ses fils) sont copiés vers la position sélectionnée dans le champ Arbre cible. |
|   | Champ Liste par programmation | Seule la première branche sélectionnée est copiée vers le champ Liste cible. Les éléments fils ne sont pas copiés. |
|   | Champ de saisie | Seule la première branche sélectionnée est copiée. Les éléments fils ne sont pas copiés. |
| Champ Arbre fichier | Champ Arbre par programmation | La branche sélectionnée et ses fils sont copiés vers la position sélectionnée dans le champ Arbre cible. |
|   | Champ Liste par programmation | Seule la première branche sélectionnée est copiée vers le champ Liste cible. Les éléments fils ne sont pas copiés. |
|   | Champ de saisie | Seule la première branche sélectionnée est copiée. Les fils sont ignorés. |
| Champ Liste par programmation | Champ Liste par programmation | La ou les lignes sélectionnées sont copiées dans le champ Liste cible. |
|   | Champ Arbre par programmation | Le ou les éléments sélectionnés sont copiés dans le champ Arbre cible sous forme de branche. |
|   | Champ de saisie | <br><br>- Sur un champ de saisie simple, seul le premier élément est copié.<br><br>- Sur un champ de saisie multiligne, tous les éléments sont copiées (séparés par un RC).<br><br><br> |
| Champ Liste fichier | Champ Liste par programmation | La ou les lignes sélectionnées sont copiées dans le champ Liste cible. |
|   | Champ Arbre par programmation | Le ou les éléments sélectionnés sont copiés dans le champ Arbre cible sous forme de branche. |
|   | Champ de saisie | <br><br>- Sur un champ de saisie simple, seul le premier élément est copié.<br><br>- Sur un champ de saisie multiligne, tous les éléments sont copiées (séparés par un RC). <br><br><br> |
| Champ de saisie | Champ de saisie | Le contenu du champ est copié vers le champ cible. Dans le cas d'un champ de saisie multiligne vers un champ de saisie simple, seule la première ligne est copiée. |



**Remarque** : Ces champs peuvent être :

- dans la même fenêtre,

- dans une autre fenêtre de l'application (Multifenêtrage ou MDI),

- dans une fenêtre d'une autre application WINDEV.




Pour les autres types de champs qui acceptent le Drag and Drop, le "Drag and Drop" doit être programmé (consultez [Drag and Drop programmé](../WDLang1/3030013.md)).

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## WEBDEV : Les champs concernés par le Drag and Drop automatique
<a name="webdev_les_champs_concernes_par_drag_and_drop_automatique_ELTTEXTE000358"></a>
En WEBDEV, le Drag and Drop automatique est disponible sur les champs suivants : 

- Champ Upload,

- Champ Libellé,

- Champ Bouton,

- Champ Lien,

- Champ Image, 

- Champ Libellé formaté,

- Champ de saisie,

- Champ Liste,

- Champ Combo. 




**Déplacements possibles entre champs** : 

| Elément Source | Action réalisée |
| --- | --- |
| Bouton | Le libellé du bouton est copié. |
| Libellé ou libellé formaté | Le contenu du libellé est copié. |
| Lien | Le libellé du lien est copié. |
| Liste ou combo | La ligne sélectionnée est copiée. |
| Image | Si la destination est une image, le contenu de l'image est copié.<br><br>Si la destination est un autre type de champ, le chemin de l'image est copié. |
| Champ de saisie | Le contenu du champ est copié vers le champ cible. |





**Remarque** : Actuellement, seuls FireFox et Chrome gèrent pleinement le Drag and Drop par HTML 5. Si les nouvelles versions des différents navigateurs intègrent la gestion du Drag and Drop par HTML 5, cette fonctionnalité sera automatiquement gérée par WEBDEV. 

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Configurer le Drag and Drop par défaut
<a name="configurer_drag_and_drop_par_defaut_ELTTEXTE000382"></a>
Pour les champs proposant le Drag and Drop automatique, la configuration de cette fonctionnalité est réalisée dans l'écran "Détail" de la description du champ.
<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Dnd_pardefaut.gif)


L'option "Est source" permet de définir le champ comme "Source" du "Glisser/Déplacer". L'utilisateur pourra sélectionner le contenu du champ pour le déplacer vers un autre champ par exemple.

L'option "Est cible" permet de définir le champ comme "Cible" du "Glisser/Déplacer". Ce champ pourra recevoir tout objet "lâché" par l'utilisateur.

Les deux options peuvent être sélectionnées simultanément.

**Remarques** : 

- Si seule l'option "Est source" est cochée pour le champ, par défaut, l'action réalisée sera un copier. Le couper n'est pas autorisé. 

- Si les options "Est source" et "Est cible" sont cochées pour le champ, par défaut l'action réalisée sera un couper. Il faut appuyer simultanément sur la touche Ctrl pour faire un copier. 

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png) Dans les champs Arbre, il est possible : 

	- de copier ou de déplacer un élément racine avant ou après un élément du champ Arbre.

	- de copier ou de déplacer un élément dans un sous-niveau du champ Arbre.

	- de copier ou de déplacer un élément simple ou un élément et tous ses fils.








