


## EnModeDeviceOwner (Fonction)

***En anglais : InDeviceOwnerMode***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Indique si l'application Android est en mode "Device owner". 

Une application Android en mode "device owner" possède des privilèges plus élevés qu'une application classique. Cette application peut effectuer des opérations normalement réservées aux applications système (à la condition de les déclarer) : 

- créer des utilisateurs, 

- modifier des paramètres globaux (accès au Wi-Fi, au Bluetooth), 

- définir des politiques de sécurité, 

- masquer des applications, 

- passer en mode kiosque sans que l'utilisateur puisse en sortir.
	Pour plus de détails, consultez [Application en mode kiosque](../WDLang3/1000024431.md). 



<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Si l'application est "device owner", on la passe en mode kiosque
SI EnModeDeviceOwner() ALORS
	KiosqueActive()
FIN
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`<Résultat> = EnModeDeviceOwner()`
---

**`<Résultat> : (Booléen)`**



- <u><u><u><u>Vrai</u></u></u></u> si l'application est "device owner", 

- <u><u><u><u>Faux</u></u></u></u> dans le cas contraire. 






<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Application en mode "device owner"
<a name="application_mode_device_owner_ELTPARAGRAPHE000051"></a>Pour qu'une application WINDEV Mobile devienne "device owner" : 

- Dans la description de la configuration de projet Android, cochez l'option "Application d'administration de l'appareil (peut devenir "device owner" pour le mode kiosque)". 

- Après installation de l'application sur le poste voulu, exécutez la commande ADB suivante en ciblant l'appareil sur lequel l'application est installée :
	
	```txt
	adb shell dpm set-device-owner 
	<package>/fr.pcsoft.wdjava.core.application.WDDeviceAdminReceiver
	```
où :  
	&lt;Package&gt; correspond au nom du package de votre application Android.
	Cette commande crée une entrée dans le fichier "/data/system/ device_owner.xml" qui référence l'application comme étant "device owner".




**Remarques** : 

- Il ne peut y avoir qu'une seule application en mode "device owner" par appareil et cette opération n'est possible que si aucun utilisateur n'a été configuré sur l'appareil. Dans le cas contraire, il est nécessaire de supprimer tous les utilisateurs avant d'exécuter la commande.

- Une fois qu'une application a été définie comme "device owner", il n'est plus possible de désactiver ce mode ni même de supprimer l'application. Seule une réinitialisation d'usine (factory reset) de l'appareil permet supprimer l'application.  

- Pour mettre à jour une application en mode "device owner", il est nécessaire de la signer avec la même clé que celle utilisée lorsque le mode a été activée.



<a name="NOTE0_2"></a>


### Disponibilité de la fonction
<a name="disponibilite_fonction_ELTPARAGRAPHE000210"></a>La fonction **EnModeDeviceOwner** est disponible dans tous les produits pour permettre l'écriture d'un code multi-produits. Des fonctions ou procédures utilisant la fonction **EnModeDeviceOwner** peuvent être partagées entre plusieurs produits, sans que des erreurs de compilation soient générées.
<a name="NOTE0_3"></a>


### Exécution des traitements contenant des erreurs de compilation
<a name="execution_des_traitements_contenant_des_erreurs_compilation_ELTPARAGRAPHE000226"></a>Par défaut, le mécanisme de sécurité du WLangage se déclenche uniquement si la ligne contenant l'erreur de compilation est exécutée.

Par exemple, si une fonction interdite dans le produit en cours est présente dans une boucle SI, le mécanisme de sécurité du WLangage se déclenchera uniquement si la ligne contenant cette fonction s'exécute.

<a name="XComposante"></a>

## Composante :
wd280wm.dll
