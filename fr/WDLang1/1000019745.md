


## GestePosY (Fonction)

***En anglais : GesturePosY***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Retourne la position verticale du pointeur (doigt ou stylet). La valeur renvoyée varie selon le mode d'utilisation de la fonction :

- Utilisée dans un événement lié au mouvement du pointeur (clic, déplacement, enfoncé, relâché, ...), retourne la position verticale (Y) du pointeur (doigt ou stylet) par rapport au champ ou à la fenêtre considérée. 

- Utilisée dans un autre événement, retourne la dernière position connue du pointeur dans le champ.

- Si l'appareil supporte les mouvements multi-points (multi-touch), permet de récupérer la position d'un point de contact en particulier.




Quelques exemples d'utilisation : Il est ainsi par exemple possible de connaître : 

- la position du pointeur (doigt ou stylet) lors d'un clic dans une image (fonction utilisée dans le code de clic de l'image).

- la position du pointeur (doigt ou stylet) lors de son déplacement sur la surface d'un champ (fonction utilisée dans l'événement optionnel "Survol" d'un champ).

- la position du nième pointeur lors d'un mouvement multi-points (multi-touch) sur la surface d'un champ (uniquement si l'appareil le supporte).





<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Position du pointeur (doigt ou stylet) lors d'un clic dans un champ Image 
nY est un entier = GestePosY()
```


<a name="Exemple2"></a>

```wl
// Position du second pointeur enfoncé sur la surface d'un champ 
nY est un entier = GestePosY(2)
```


<a name="Exemple3"></a>

```wl
// Position du pointeur par rapport au coin haut gauche de l'image affichée par le champ
// lorsque cette image n'est pas affichée dans sa totalité 
nY est un entier = GestePosY(1, gpImage)
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`<Résultat> = GestePosY([<Indice du pointeur> [, <Repère>]])`
---

**`<Résultat> : (Entier)`**



- Position verticale (ou ordonnée) en pixels du pointeur par rapport au repère considéré,

- -1 en cas d'erreur.




**`<Indice du pointeur> : (Entier optionnel)`**

Indice du pointeur (doigt) dont la position verticale doit être récupérée. Le premier pointeur en contact avec l'écran a pour indice 1.
Si ce paramètre n'est pas spécifié, la fonction retournera la position du  premier pointeur en contact avec l'écran. 
Si l'indice ne correspond pas un pointeur en contact avec l'écran ou si l'indice spécifié est supérieur à 1 et si l'appareil ne gère pas le multi-touch, la fonction retournera -1.

**`<Repère> : (Constante optionnelle de type Entier)`**

Repère utilisé pour le calcul de la position : 


|   |   |
| --- | --- |
| *gpChamp* <br>(valeur par défaut) | Position du pointeur par rapport au point haut gauche : <br><br>- du champ, <br><br>- de la fenêtre si l'événement est sur la fenêtre.<br><br>- de la page si l'événement est sur la page. <br><br><br> |
| *gpEcran* | Position du pointeur dans l'écran (par rapport au coin haut gauche de l'écran). |
| *gpFenêtre* | Position du pointeur par rapport au coin haut gauche de la fenêtre à laquelle appartient le champ sur lequel s'est produit l'événement.<br><br> |
| *gpImage* | Position du pointeur par rapport au point haut gauche de l'image affichée par un champ Image. <br><br>Cette constante peut être utilisée lorsqu'une image n'est pas affichée dans sa totalité dans un champ Image afin de connaître la position du pointeur dans l'image d'origine (en tenant compte du zoom éventuel). <br><br>Cette constante doit être utilisée uniquement lorsque la fonction **GestePosY** est appelée dans un événement associé à un champ Image. Dans le cas contraire, la fonction **GestePosY** retournera -1. |
| *gpPage* | Position du pointeur par rapport au coin haut gauche de la page à laquelle appartient le champ sur lequel s'est produit l'événement.<br><br> |





<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques
<a name="NOTE0_2"></a>


### Limitations
<a name="limitations_ELTPARAGRAPHE000129"></a>



<a name="NOTE0_3"></a>


### Divers
<a name="divers_ELTPARAGRAPHE000144"></a>

- Pour connaître la position horizontale (X) d'un pointeur, utilisez la fonction [GestePosX](../WDLang1/1000019741.md).

- Pour connaître le nombre de pointeurs en contact avec l'écran, utilisez la fonction [GesteNbPointeur](../WDLang1/1000019750.md).

- Pour connaître l'indice du pointeur ayant déclenché l'exécution d'un traitement lié à un mouvement sur l'écran, utilisez la fonction [GestePointeurEncours](../WDLang1/1000019751.md).




<a name="XComposante"></a>

## Composante :
WDJS.DLL
