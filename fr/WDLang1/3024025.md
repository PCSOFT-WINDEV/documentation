
## UnicodeVersAnsi (Fonction)

***En anglais : UnicodeToAnsi***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Convertit :

- une chaîne de caractères au format UNICODE en une chaîne de caractères au format ANSI (Windows). 

- un buffer contenant une chaîne de caractères au format UNICODE en un buffer contenant une chaîne de caractères au format ANSI (Windows).




**Rappel** :

- ANSI est la norme des caractères au standard Windows.

- UNICODE est un système d'encodage des caractères. L'UNICODE permet de gérer les différentes langues et les différents alphabets.





<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
MonBufferAnsi est un Buffer
// Conversion du buffer MonBufferUnicode
// contenant une chaîne de caractères au format UNICODE
// en un buffer contenant une chaîne de caractères au format ANSI
MonBufferAnsi = UnicodeVersAnsi(MonBufferUnicode)
```




<a name="Exemple2"></a>


![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 
```wl
MaChaîneUnicode est une chaîne UNICODE
MaChaîneAnsi est une chaîne
NumFic est un entier = fOuvre("c:\Temp\MonTexte.txt", foLecture + foUnicode)
SI NumFic <> -1 ALORS MaChaîneUnicode = fLitLigne(NumFic)
MaChaîneAnsi = UnicodeVersAnsi(MaChaîneUnicode, alphabetGrec)
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

### Convertir une chaîne de caractères Unicode

`<Résultat> = UnicodeVersAnsi(<Chaîne de caractères à convertir> [, <Alphabet> [, <Caractère inconnu>]])`
---

**`<Résultat> : (Chaîne de caractères ou buffer)`**

Chaîne de caractères au format ANSI.

**`<Chaîne de caractères à convertir> : (Chaîne de caractères Unicode)`**

Chaîne de caractères au format UNICODE à convertir. Ce paramètre peut également être une chaîne de caractères au format ANSI qui contient des caractères UNICODE.

**`<Alphabet> : (Constante optionnelle de type Entier)`**

Alphabet à utiliser pour la conversion.


|   |   |
| --- | --- |
| *alphabetAnsi* | Caractères romains à la norme ANSI. |
| *alphabetArabe* | Caractères arabes. |
| *alphabetBalte* | Caractères baltes. |
| *alphabetChinois* | Caractères chinois (République Populaire de Chine). |
| *alphabetChinoisTraditionnel* | Caractères chinois traditionnel (République de Taiwain). |
| *alphabetCoréen* | Caractères coréens. |
| *alphabetCourant*<br>Valeur par défaut | Utilise l'alphabet courant spécifié avec la fonction [ChangeAlphabet](../WDLang1/3054001.md) (par défaut *alphabetOccidental*). |
| *alphabetDéfaut* | Utilise l'alphabet par défaut du poste. Aucun alphabet n'est forcé. |
| *alphabetEuropeEst* | Caractères d'Europe de l'est (polonais, ...). |
| *alphabetGrec* | Caractères grecs. |
| *alphabetHébreu* | Caractères hébreux. |
| *alphabetJaponais* | Caractères japonais. |
| *alphabetMac* | Caractères à la norme Mac Roman (utilisés sur les vieilles versions de Macintosh). |
| *alphabetOccidental* | Caractères romains à la norme ANSI. |
| *alphabetRusse* | Caractères russes. |
| *alphabetThaï* | Caractères thaï. |
| *alphabetTurc* | Caractères turques. |
| *alphabetUTF8* | Permet de gérer le format UTF8 (utilisé par exemple en XML). |
| *alphabetVietnamien* | Caractères vietnamiens. |



**`<Caractère inconnu> : (Caractère ou constante optionnelle)`**

Caractère à utiliser si la conversion rencontre un caractère inconnu. La constante NULL permet d'utiliser le caractère par défaut du système.  


<a name="SYNTAXE2"></a>

### Convertir un buffer contenant une chaîne de caractères au format Unicode

`<Résultat> = UnicodeVersAnsi(<Buffer> [, <Alphabet> [, <Caractère inconnu>]])`
---

**`<Résultat> : (Buffer)`**

Buffer contenant une chaîne de caractères au format ANSI.

**`<Buffer> : (Buffer)`**

Buffer contenant une chaîne de caractères UNICODE à convertir. Si &lt;Buffer&gt; contient une chaîne de caractères au format ANSI, le résultat sera indéterminé.

**`<Alphabet> : (Constante optionnelle de type Entier)`**

Alphabet à utiliser pour la conversion. 



|   |   |
| --- | --- |
| *alphabetAnsi* | Caractères romains à la norme ANSI. |
| *alphabetArabe* | Caractères arabes. |
| *alphabetBalte* | Caractères baltes. |
| *alphabetChinois* | Caractères chinois (République Populaire de Chine). |
| *alphabetChinoisTraditionnel* | Caractères chinois traditionnel (République de Taiwain). |
| *alphabetCoréen* | Caractères coréens. |
| *alphabetCourant*<br>Valeur par défaut | Alphabet courant spécifié avec la fonction [ChangeAlphabet](../WDLang1/3054001.md) (par défaut *alphabetOccidental*). |
| *alphabetDéfaut* | Utilise l'alphabet par défaut du poste. Aucun alphabet n'est forcé. |
| *alphabetEuropeEst* | Caractères d'Europe de l'est (polonais, ...). |
| *alphabetGrec* | Caractères grecs. |
| *alphabetHébreu* | Caractères hébreux. |
| *alphabetJaponais* | Caractères japonais. |
| *alphabetMac* | Caractères à la norme Mac Roman (utilisés sur les vieilles versions de Macintosh). |
| *alphabetOccidental* | Caractères romains à la norme ANSI. |
| *alphabetRusse* | Caractères russes. |
| *alphabetThaï* | Caractères thaï. |
| *alphabetTurc* | Caractères turques. |
| *alphabetUTF8* | Permet de gérer le format UTF8 (utilisé par exemple en XML). |
| *alphabetVietnamien* | Caractères vietnamiens. |



**`<Caractère inconnu> : (Caractère ou constante optionnel)`**

Caractère à utiliser si la conversion rencontre un caractère inconnu. La constante NULL permet d'utiliser le caractère par défaut du système.  



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Conversion UTF8 - ANSI
<a name="conversion_utf8_ansi_ELTPARAGRAPHE000270"></a>Pour convertir une chaîne ANSI au format UTF8, utilisez la fonction [ChaîneVersUTF8](../WDLang1/3024042.md). 

Pour convertir une chaîne UFT8 au format ANSI, utilisez : 

- la fonction [UTF8VersChaîne](../WDLang1/3024043.md). 

- la fonction [UTF8VersAnsi](../WDLang1/1000020525.md).



<a name="NOTE0_2"></a>

<a name="XComposante"></a>

## Composante :
wd280vm.dll
