
## DécrypteStandard (Fonction)

***En anglais : DecryptStandard***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Décrypte un message préalablement crypté avec un algorithme de chiffrement standard. 

Contrairement aux fonctions [Crypte](../WDLang1/3024014.md) et [Décrypte](../WDLang1/3024035.md), les fonctions [CrypteStandard](../WDLang1/1000021293.md) et **DécrypteStandard** utilisent des algorithmes de cryptage standard qui permettent d'échanger des messages cryptés entre des plateformes d'exécution différentes (Windows, Linux, Android, Java, iOS, PHP, etc.) et/ou avec des outils tiers.
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple
<a class="notetitle" target="_blank" href="$DOC$=1000021295&name=decryptestandard_fonction&product=WD">Voir des exemples supplémentaires</a>

```wl
// Cryptage d'une chaîne de caractères en utilisant l'algorithme AES
sMessage est un Buffer = "Message à crypter"
sMotPasse est une chaine ANSI = "mot de passe"
bufClé est un Buffer = HashChaîne(HA_MD5_128, sMotPasse)
bufCrypte est un Buffer = CrypteStandard(sMessage, bufClé, crypteAES128)
// Décryptage 
bufRésultat est un Buffer = DécrypteStandard(bufCrypte, bufClé, crypteAES128)
Info(bufRésultat)
```





<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`<Résultat> = DécrypteStandard(<Message crypté> , <Clé> [, <Algorithme> [, <Mode d'opération> [, <Remplissage>]]])`
---

**`<Résultat> : (Buffer binaire)`**



- Résultat du décryptage du message spécifié, 

- Chaîne vide ("") en cas d'erreur. Pour plus de détails sur l'erreur, utilisez la fonction [ErreurInfo](../WDLang1/3013008.md).




**`<Message crypté> : (Buffer binaire)`**

Message à décrypter. Ce message peut être le résultat du cryptage obtenu lors de l'appel de la fonction [CrypteStandard](../WDLang1/1000021293.md).

Ce buffer doit être composé de deux parties : 

- Le vecteur d'initialisation (Initialisation Vector ou IV) utilisé pour crypter les données.

- Les données cryptées.




Si le message a été crypté : 

- avec la fonction [CrypteStandard](../WDLang1/1000021293.md), ce paramètre doit correspondre à la valeur retournée par la fonction. 

- par un outil tiers, il est nécessaire de construire le buffer en concaténant les données cryptées au vecteur d'initialisation utilisé.




Remarque : si le mode d'opération spécifié est *crypteECB*, aucun vecteur d'initialisation n'a été utilisé pour crypter le message et dans ce cas le paramètre doit correspondre directement aux données cryptées.

**`<Clé> : (Buffer)`**

Clé avec laquelle les données ont été cryptées. Cette clé doit être identique à celle fournie lors du cryptage du message.

**`<Algorithme> : (Constante optionnelle de type Entier)`**

Algorithme de cryptage utilisé. Ce paramètre doit correspondre à l'algorithme utilisé pour le cryptage du message. 


|   |   |
| --- | --- |
| *crypte3DES* | Triple Data Encryption Standard. <br><br>- Taille de la clé : 192 bits. <br><br>- Taille des blocs : 64 bits.<br><br>- Taille du vecteur d'initialisation (IV) : 64 bits.<br><br><br> |
| *crypteAES128*<br>(Valeur par défaut) | Advanced Encryption Standard. <br><br>- Taille de la clé : 128 bits. <br><br>- Taille des blocs : 128 bits. <br><br>- Taille du vecteur d'initialisation (IV) : 128 bits.<br><br><br> |
| *crypteAES256* | Advanced Encryption Standard. <br><br>- Taille de la clé : 256 bits. <br><br>- Taille des blocs : 128 bits. <br><br>- Taille du vecteur d'initialisation (IV) : 128 bits.<br><br><br> |
| *crypteDES* | Data Encryption Standard. <br><br>- Taille de la clé : 64 bits. <br><br>- Taille des blocs : 64  bits. <br><br>- Taille du vecteur d'initialisation (IV) : 64 bits.<br><br><br>Attention : cet algorithme est actuellement déprécié. |



**`<Mode d'opération> : (Constante optionnelle de type Entier)`**

Mode de traitement des blocs par l'algorithme de cryptage utilisé. Ce paramètre doit correspondre au mode d'opération utilisé pour le cryptage du message.


|   |   |
| --- | --- |
| *crypteCBC* <br>(Valeur par défaut) | Cipher Block Chaining - Enchaînement des blocs. |
| *crypteCFB* | Cipher Feedback - Chiffrement à rétroaction. Ce mode de traitement est disponible uniquement si l'algorithme utilisé correspond à la constante *crypteAES256*. <br><br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Cette constante n'est pas disponible. |
| *crypteCTR* | Cipher Counter - Chiffrement basé sur un compteur. Ce mode de traitement est disponible uniquement si l'algorithme utilisé correspond à la constante *crypteAES256*. <br><br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Cette constante n'est pas disponible. |
| *crypteECB* | Electronic Code Book - Dictionnaire de codes. Ce mode d'opération est déconseillé et ne devrait être utilisé que pour des raisons de compatibilité. |





**`<Remplissage> : (Constante optionnelle de type Entier)`**

Mode de remplissage des données cryptées pour être compatibles avec la taille requise par les algorithmes de cryptage par blocs. Ce paramètre doit correspondre au mode de remplissage utilisé pour le cryptage du message.


|   |   |
| --- | --- |
| *cryptePaddingPKCS* <br>(Valeur par défaut) | Les données sont complétées par des octets dont la valeur correspond au nombre total d'octets ajoutés pour atteindre la taille requise. |
| *cryptePaddingZéro* | Les données sont complétées par des zéros binaires jusqu'à obtenir la taille requise. |








- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Lesfonctionsdechiffrement_CrypteXXX,DecrypteXXX_.gif) ***Exemples unitaires (WINDEV)*** : **Les fonctions de chiffrement (CrypteXXX, DécrypteXXX)** <br>Utilisation des fonctions de chiffrement de WINDEV.<br>Cet exemple permet de :<br>- Chiffrer une chaîne de caractères<br>- Déchiffrer une chaîne de caractères





<a name="XComposante"></a>

## Classification Métier / UI :
Code métier
## Composante :
wd280com.dll
