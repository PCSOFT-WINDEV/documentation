
## fDécrypte (Fonction)

***En anglais : fDecrypt***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Décrypte un fichier préalablement crypté par [fCrypte](../WDLang1/3036013.md).


<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple
<a class="notetitle" target="_blank" href="$DOC$=1000003036018&name=fdecrypte_fonction&product=WD">Voir des exemples supplémentaires</a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 
```wl
// Décryptage d'un fichier
ResDécrypte = fDécrypte("C:\MonRep\FichierCrypté.txt", ...
	"C:\MonRep\FichierDécrypté.txt", "MotDePasse")
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`<Résultat> = fDécrypte(<Chemin du fichier à décrypter> , <Chemin du fichier décrypté> , <Mot de passe> [, <Type de cryptage effectué> [, <Format du fichier crypté>]])`
---

**`<Résultat> : (Booléen)`**



- <u><u><u><u>Vrai</u></u></u></u> si le décryptage a été effectué, 

- <u><u><u><u>Faux</u></u></u></u> dans le cas contraire. Pour connaître le libellé de l'erreur, utilisez la fonction [ErreurInfo](../WDLang1/3013008.md) avec la constante *errMessage*.




**`<Chemin du fichier à décrypter> : (Chaîne de caractères)`**

Nom et chemin complet (ou relatif) du fichier à décrypter (260 caractères maximum). Un chemin de type UNC peut être utilisé. Ce fichier doit avoir été préalablement crypté par [fCrypte](../WDLang1/3036013.md).

![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png) Ce paramètre peut être au format Ansi ou Unicode.





**`<Chemin du fichier décrypté> : (Chaîne de caractères)`**

Nom et chemin complet (ou relatif) du fichier décrypté (260 caractères maximum). Un chemin de type UNC peut être utilisé.

![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png) Ce paramètre peut être au format Ansi ou Unicode.





**`<Mot de passe> : (Chaîne de caractères)`**

Mot de passe utilisé pour décrypter le fichier. Ce mot de passe doit être identique au mot de passe utilisé pour crypter le fichier. Un mot de passe long permet une meilleure sécurité de cryptage.

**`<Type de cryptage effectué> : (Constante optionnelle)`**

Indique le type de cryptage effectué. Ce paramètre doit être identique à celui choisi lors du cryptage.


|   |   |
| --- | --- |
| *crypteAucun* | Aucun cryptage n'a été effectué. |
| *crypteRapide*<br>(Valeur par défaut) | La priorité a été donnée à la rapidité du cryptage (algorithme sur 128 bits).<br><br><br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) L'algorithme utilisé sera de type Blowfish.<br><br><br><br> |
| *crypteRC516* | La priorité est donnée à la sécurité du cryptage (algorithme RC5 sur 16 rondes).<br><br><br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Cette constante n'a aucun effet. |
| *crypteSécurisé* | La priorité a été donnée à la sécurité du cryptage (algorithme RC5 sur 128 bits).<br><br><br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) L'algorithme utilisé sera de type PBE (Password Based Encryption).<br><br><br><br> |



**`<Format du fichier crypté> : (Constante optionnelle de type Entier)`**

Indique le format du fichier crypté. Ce paramètre doit être identique à celui choisi lors du cryptage.


|   |   |
| --- | --- |
| *encodeAucun* ou <u><u><u><u>Faux</u></u></u></u><br>(Valeur par défaut) | Format binaire. Le fichier crypté peut comporter des caractères non-imprimables. |
| *encodeBASE64* | Format BASE 64. Le fichier crypté ne comporte que des caractères imprimables. |
| *encodePCS* ou <u><u><u><u>Vrai</u></u></u></u> | Format ASCII. Le fichier crypté ne comporte que des caractères imprimables. |
| *encodeUUEncode* | Format UUEncode. Le fichier crypté ne comporte que des caractères imprimables. |





![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Ce paramètre est ignoré.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques




### Gestion des erreurs
<a name="gestion_des_erreurs_ELTPARAGRAPHE000236"></a>La fonction **fDécrypte** génère une erreur dans les cas suivants :

- le fichier à décrypter n'existe pas ou est bloqué,

- le chemin du fichier à décrypter est invalide,

- le &lt;Mot de passe&gt; est une chaîne vide ou n'est pas identique au &lt;Mot de passe&gt; utilisé pour crypter le fichier,

- le &lt;Type de cryptage effectué&gt; n'est pas identique au &lt;Type de cryptage&gt; choisi lors du cryptage,

- le &lt;Format du fichier crypté&gt; n'est pas identique à celui choisi lors du cryptage,

- l'utilisateur n'a pas les droits en lecture sur le fichier à décrypter,

- l'utilisateur n'a pas les droits en écriture sur le fichier décrypté.

- une chaîne Unicode a été utilisée pour le paramètre &lt;Chemin du fichier à décrypter&gt; ou pour le paramètre &lt;Chemin du fichier décrypté&gt; sous un système d'exploitation de type Windows 98 ou Windows Me.





<a name="NOTE0_2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Fonctionnement sous Windows Vista (et supérieur)
<a name="fonctionnement_sous_windows_vista_superieur_ELTPARAGRAPHE000432"></a>Si cette fonction ne fonctionne pas correctement sous Windows Vista (et supérieur), il est nécessaire de vérifier si le fichier ou le répertoire manipulé ne se trouve pas dans un des répertoires système (répertoire de Windows ou répertoire "Program Files").

**En effet, sous Windows Vista (et supérieur), avec le [mécanisme de l'UAC](../Editeurs/2025014.md) (contrôle des comptes utilisateurs) activé**, il est nécessaire d'avoir les privilèges administrateur pour manipuler / modifier des fichiers ou des répertoires présents dans les répertoires système (répertoire de Windows ou répertoire "Program Files").

**Conseil de programmation** : Si vous devez manipuler / modifier des fichiers ou des répertoires, sans avoir besoin de privilèges administrateur, il est conseillé :

- de ne pas écrire dans le répertoire de Windows ou dans le répertoire "Program Files",

- d'utiliser le répertoire système correspondant à l'application (connu par la fonction [SysRep](../WDLang1/3073026.md) par exemple avec la constante *srAppDataCommun*).




**Remarque** : Sous Windows Vista (et supérieur), le mécanisme de la virtualisation permet de rendre les applications "compatible Vista". Si le fichier est créé dans un répertoire système sans avoir les droits nécessaires, ce fichier sera réellement créé dans un autre répertoire (C:\\Users\\&lt;LOGIN&gt;AppData\\Local\\VirtualStore\\Windows\\). Dans ce cas, le fichier ne pourra pas être partagé entre plusieurs applications.
<a name="NOTE0_3"></a>




### Cryptage/décryptage d'une chaîne de caractères
<a name="cryptagedecryptage_une_chaine_caracteres_ELTPARAGRAPHE000268"></a>Pour crypter/décrypter une chaîne de caractères, utilisez les fonctions [Crypte](../WDLang1/3024014.md) et [Décrypte](../WDLang1/3024035.md).


<a name="NOTE0_4"></a>
<a name="NOTE0_5"></a>
![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) 

### Cryptage en Android / Java et décryptage par une application WINDEV (ou inversement)
<a name="cryptage_android_java_decryptage_par_une_application_windev_inversement_ELTPARAGRAPHE000299"></a>Attention : les algorithmes de cryptage / décryptage utilisés en Java et Android ne sont pas les mêmes que ceux utilisés par WINDEV. Il n'est donc pas possible de crypter un fichier en Java ou Android et de le décrypter avec WINDEV (et inversement).  


- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Lesfonctionsdechiffrement.gif) ***Exemples unitaires (WEBDEV)*** : **Les fonctions de chiffrement** <br>Utilisation des fonctions de chiffrement de WEBDEV.<br>Cet exemple permet de :<br>- chiffrer une chaîne de caractères<br>- Déchiffrer une chaîne de caractères
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Lesfonctionsdechiffrement_CrypteXXX,DecrypteXXX_.gif) ***Exemples unitaires (WINDEV)*** : **Les fonctions de chiffrement (CrypteXXX, DécrypteXXX)** <br>Utilisation des fonctions de chiffrement de WINDEV.<br>Cet exemple permet de :<br>- Chiffrer une chaîne de caractères<br>- Déchiffrer une chaîne de caractères
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Lesfonctionsdechiffrement.gif) ***Exemples unitaires (WINDEV Mobile)*** : **Les fonctions de chiffrement** <br>Utilisation des fonctions WLangage de chiffrement.<br>Cet exemple permet de :<br>- Chiffrer une chaîne de caractères<br>- Déchiffrer une chaîne de caractères







<a name="XComposante"></a>

## Composante :
wd280std.dll
