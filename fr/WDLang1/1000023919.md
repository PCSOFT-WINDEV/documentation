


## dPolyligne (Fonction)

***En anglais : dPolyline***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Dessine une ligne composée de plusieurs segments : 

- dans un champ Image, 

- dans une variable de type [Image](../WDLang1/1000019650.md).
	

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) dans une variable de type [WDPic](../WDLang1/1000023503.md) (sur le calque d'arrière-plan),

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) dans une variable de type [picCalque](../WDLang1/1000024604.md).






La première coordonnée désigne le point de départ du premier segment, ensuite chaque coordonnée désigne la fin du segment précédent et le début du segment suivant.
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
dDébutDessin(IMG_Dessin)
// Dessine un trait vert en pointillés d'une épaisseur de 4 pixels
dStylo(VertFoncé, 2, 4)
// Ligne composée de 4 segments
dPolyligne(4, 10, 100, 50, 60, 80, 90, 150, 13)
```

```wl
dDébutDessin(IMG_Dessin)
dStylo(VertFoncé, 2, 4) 
// Dessin d'une ligne à partir d'un tableau de coordonnées de points (syntaxe 2)
tabCoordonnéesXY est un tableau de 0 par 2 entier = [[2, 3], [14, 100], [10,70], [50, 80]]
dPolyligne(tabCoordonnéesXY)
```

```wl
dStylo(IMG_Dessin, VertFoncé, 2, 4) 
tabCoordonnéesXY2 est un tableau de 0 entier = [2, 2, 140, 2, 150, 70, 0, 100, 200, 100]
dPolyligne(IMG_Dessin, tabCoordonnéesXY2)
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

### Construction d'une ligne point par point 

`dPolyligne([<Image>, ] <NbPoint> , <X1> , <Y1> , <X2> , <Y2> [, <Xn> [, <Yn> [, <Couleur du trait>]]])`
---

**`<Image> : (Nom de champ optionnel ou variable de type Image, WDPic ou picCalque optionnelle)`**

![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) Image à manipuler. Cette image peut correspondre : 

- au nom d'un champ Image. 

- au nom d'une variable de type [Image](../WDLang1/1000019650.md).

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) au nom d'une variable de type [WDPic](../WDLang1/1000023503.md). Seul le calque d'arrière-plan sera manipulé. 

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) au nom d'une variable de type [picCalque](../WDLang1/1000024604.md).




Si ce paramètre n'est pas précisé, il est nécessaire de définir la destination du dessin avec la fonction [dDébutDessin](../WDLang1/3029009.md).

**`<NbPoint> : (Entier)`**

Nombre de segments de la ligne. Ce paramètre détermine le nombre de couples &lt;X&gt;, &lt;Y&gt; à spécifier dans la fonction.

**`<X1> : (Entier)`**

Abscisse du premier segment de la ligne. Ces coordonnées sont exprimées en pixels.

**`<Y1> : (Entier)`**

Ordonnée du premier segment de la ligne. Ces coordonnées sont exprimées en pixels.

**`<X2> : (Entier)`**

Abscisse du second segment de la ligne. Ces coordonnées sont exprimées en pixels.

**`<Y2> : (Entier)`**

Ordonnée du second segment de la ligne. Ces coordonnées sont exprimées en pixels.

**`<Xn> : (Entier optionnel)`**

Abscisse du Nième segment de la ligne. Ces coordonnées sont exprimées en pixels.

**`<Yn> : (Entier optionnel)`**

Ordonnée du Nième segment de la ligne. Ces coordonnées sont exprimées en pixels.

**`<Couleur du trait> : (Entier ou constante (optionnel))`**

Couleur de la ligne. Cette couleur peut correspondre à :

- une couleur RVB (obtenue avec la fonction [RVB](../WDLang1/3029012.md)),

- une couleur TSL (obtenue avec la fonction [TSL](../WDLang1/3029057.md)),

- [une couleur prédéfinie du WLangage](../WDLang5/3010002.md).


Si ce paramètre n'est pas précisé, la couleur du trait :

- correspond à la couleur précisée dans le dernier appel à la fonction [dStylo](../WDLang1/3029029.md),

- est identique à la couleur utilisée pour le fond si la fonction [dStylo](../WDLang1/3029029.md) n'a pas été utilisée.





<a name="SYNTAXE2"></a>

### Construction d'une ligne par tableau de coordonnées X et Y

`dPolyligne([<Image>, ] <Tableau de coordonnées> [, <Couleur du trait>])`
---

**`<Image> : (Nom de champ optionnel ou variable de type Image, WDPic ou picCalque optionnelle)`**

![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) Image à manipuler. Cette image peut correspondre : 

- au nom d'un champ Image. 

- au nom d'une variable de type [Image](../WDLang1/1000019650.md).

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) au nom d'une variable de type [WDPic](../WDLang1/1000023503.md). Seul le calque d'arrière-plan sera manipulé. 

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) au nom d'une variable de type [picCalque](../WDLang1/1000024604.md).




Si ce paramètre n'est pas précisé, il est nécessaire de définir la destination du dessin avec la fonction [dDébutDessin](../WDLang1/3029009.md).

**`<Tableau de coordonnées> : (Tableau d'entiers ou de points)`**

Tableau WLangage d'entiers contenant les coordonnées des segments composant la ligne. Les indices pairs représentent les abscisses (X) et les indices impairs représentent les ordonnées (Y) des points. Ces coordonnées sont exprimées en pixels.

**`<Couleur du trait> : (Entier ou constante (optionnel))`**

Couleur de la ligne. Cette couleur peut correspondre à :

- une couleur RVB (obtenue avec la fonction [RVB](../WDLang1/3029012.md)),

- une couleur TSL (obtenue avec la fonction [TSL](../WDLang1/3029057.md)),

- [une couleur prédéfinie du WLangage](../WDLang5/3010002.md),

- une variable de type [Couleur](../WDLang1/1000019661.md). 


Si ce paramètre n'est pas précisé, la couleur du trait :

- correspond à la couleur précisée dans le dernier appel à la fonction [dStylo](../WDLang1/3029029.md),

- est identique à la couleur utilisée pour le fond si la fonction [dStylo](../WDLang1/3029029.md) n'a pas été utilisée.





<a name="SYNTAXE3"></a>
![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 
### Construction d'une ligne via une variable de type Polygone

`dPolyligne([<Image>, ] <Polygone> [, <Couleur du trait>])`
---

**`<Image> : (Nom de champ optionnel ou variable de type Image, WDPic ou picCalque optionnelle)`**

![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) Image à manipuler. Cette image peut correspondre : 

- au nom d'un champ Image. 

- au nom d'une variable de type [Image](../WDLang1/1000019650.md).

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) au nom d'une variable de type [WDPic](../WDLang1/1000023503.md). Seul le calque d'arrière-plan sera manipulé. 

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) au nom d'une variable de type [picCalque](../WDLang1/1000024604.md).




Si ce paramètre n'est pas précisé, il est nécessaire de définir la destination du dessin avec la fonction [dDébutDessin](../WDLang1/3029009.md).

**`<Polygone> : (Variable de type Polygone)`**

Nom de la variable de type [Polygone](../WDLang1/1000025624.md) décrivant les différents points du polygone. 

**`<Couleur du trait> : (Entier ou constante (optionnel))`**

Couleur de la ligne. Cette couleur peut correspondre à :

- une couleur RVB (obtenue avec la fonction [RVB](../WDLang1/3029012.md)),

- une couleur TSL (obtenue avec la fonction [TSL](../WDLang1/3029057.md)),

- [une couleur prédéfinie du WLangage](../WDLang5/3010002.md),

- une variable de type [Couleur](../WDLang1/1000019661.md). 


Si ce paramètre n'est pas précisé, la couleur du trait :

- correspond à la couleur précisée dans le dernier appel à la fonction [dStylo](../WDLang1/3029029.md),

- est identique à la couleur utilisée pour le fond si la fonction [dStylo](../WDLang1/3029029.md) n'a pas été utilisée.






<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Coordonnées
<a name="coordonnees_ELTPARAGRAPHE000451"></a>Les coordonnées sont indiquées par rapport au coin haut gauche de l'image (coordonnées (0,0)).
<a name="NOTE0_3"></a>


### Utilisation des fonctions de dessin
<a name="utilisation_des_fonctions_dessin_ELTPARAGRAPHE000619"></a>Les fonctions de dessin peuvent être utilisées selon 2 méthodes :

- **Méthode 1 : Utilisation de la fonction dDébutDessin**

	- La fonction [dDébutDessin](../WDLang1/3029009.md) doit être appelée avant toute autre fonction de dessin. La fonction [dDébutDessin](../WDLang1/3029009.md) permet de définir l'élément (champ Image ou variable) sur lequel les fonctions de dessin vont intervenir.

	- Dans le cas du dessin sur un champ Image : 

		- Les fonctions de dessin travaillent sur une copie ("bitmap") de l'image. Vous pouvez utiliser les fonctions de dessin de Windows (grâce à la fonction [API](../WDLang1/3014005.md) ou [AppelDLL32](../WDLang1/3014003.md)) mais ces fonctions doivent utiliser le DC (Device Context) renvoyé par la fonction [dDébutDessin](../WDLang1/3029009.md).

		- La fonction [dFinDessin](../WDLang1/3029019.md) ne doit pas être appelée dans le même traitement que la fonction [dDébutDessin](../WDLang1/3029009.md).
						Si la fonction [dFinDessin](../WDLang1/3029019.md) est appelée dans le même traitement que la fonction [dDébutDessin](../WDLang1/3029009.md), le dessin n'apparaîtra pas : il sera automatiquement effacé.




- ![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) **Méthode 2 : indication de la destination du dessin directement dans la syntaxe (via un paramètre)**
	Le paramètre &lt;Image&gt; permet de spécifier directement la destination du dessin. La fonction [dDébutDessin](../WDLang1/3029009.md) devient inutile. Cette fonction doit être supprimée.
	



<a name="NOTE0_4"></a>
<a name="NOTE0_5"></a>


- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Lesfonctionsdedessin.gif) ***Exemples unitaires (WINDEV)*** : **Les fonctions de dessin** <br>Utilisation des principales fonctions de dessin de WINDEV pour :<br>- Initialiser un champ Image pour dessiner<br>- Dessiner des figures simples<br>- Ecrire un texte dans un dessin<br>- Changer la couleur dans un dessin

<a name="XComposante"></a>

## Classification Métier / UI :
Code neutre
## Composante :
wd280pnt.dll


