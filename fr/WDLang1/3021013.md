
## Erreur (Fonction)

***En anglais : Error***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Affiche un message d'erreur personnalisé dans une fenêtre d'erreur système.
<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=fonctions_dialogue%20-%20HC%20N%B0003.gif)


Remarques : 

- **Cette fenêtre d'avertissement est bloquante**. Pour continuer l'exécution de l'application, l'utilisateur doit cliquer sur le bouton "OK". 
	![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Pour ne pas bloquer l'application, utilisez la fonction [ErreurAsynchrone](../WDLang1/1000025306.md).

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) WINDEV permet d'appliquer le gabarit de votre projet à cette boîte de dialogue. Pour plus de détails, consultez [Personnaliser les boîtes de dialogue](../WDLang1/3021003.md).

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Dans un Webservice, la fonction **Erreur** permet de définir l'erreur renvoyée par le Webservice. Si plusieurs appels à la fonction **Erreur** sont effectués, les messages d'erreur sont concaténés. 







<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple

![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 
```wl
TitreSuivant("Erreur : Client inconnu")
Erreur("Ce code client n'existe pas. Vous devez d'abord le créer")
```


<a name="Exemple2"></a>



<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

### Afficher un message d'erreur personnalisé

`Erreur(<Texte> [, <Ligne 2> [... [, <Ligne n>]]])`
---

**`<Texte> : (Chaîne de caractères)`**

Texte à afficher.

**`<Ligne 2> : (Chaîne de caractères optionnelle)`**

Texte affiché sur la seconde ligne.



**`<Ligne n> : (Chaîne de caractères optionnelle)`**

Texte affiché sur la Nième ligne.


<a name="SYNTAXE2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 
### Afficher le message d'erreur de la dernière fonction WLangage utilisée

`Erreur()`
---



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques




### Caractéristiques de la boîte de dialogue
<a name="caracteristiques_boite_dialogue_ELTPARAGRAPHE000123"></a>

- Le titre de la boîte de dialogue correspond au titre de la fenêtre (ou page) en cours.
	

- Pour modifier ou définir le titre de la boîte de dialogue, utilisez la fonction [TitreSuivant](../WDLang1/3038043.md).




- Le message est cadré à gauche.

- Le libellé du bouton dépend de la langue d'exécution de Windows.

- Le nombre maximum de caractères affichés est limité à 4096. Si une chaîne plus grande est passée en paramètre, elle sera tronquée.

- L'icône affichée (croix blanche) ne peut pas être modifiée.




![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) **Pour personnaliser cette boîte de dialogue** (ainsi que toutes les boîtes de dialogue système de votre application), cochez l'option "Personnaliser les fenêtres système (Info, OuiNon, Confirmer, Dialogue)" dans l'onglet "Style" de la description du projet. Pour plus de détails, consultez [Personnaliser les boîtes de dialogue](../WDLang1/3021003.md).
<a name="NOTE0_2"></a>




### Saut de ligne dans la boîte de dialogue
<a name="saut_ligne_dans_boite_dialogue_ELTPARAGRAPHE000138"></a>La chaîne prédéfinie RC (Retour Chariot) peut être utilisée pour forcer le passage à la ligne suivante. Par exemple :

```wl
Erreur("Une erreur a été détectée lors de la saisie de l'adresse. " + RC + ...
	"Merci de modifier les données concernant le client.")
```

est équivalent à : 

```wl
Erreur("Une erreur a été détectée lors de la saisie de l'adresse. ", ...
	"Merci de modifier les données concernant le client.")
```


Il est également possible d'utiliser la syntaxe des chaînes multilignes. Par exemple : 

```wl
Erreur(
[
Une erreur a été détectée lors de la saisie de l'adresse. 

Merci de modifier les données concernant le client.
])
```

<a name="NOTE0_3"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Afficher le dernier message d'erreur rencontré
<a name="afficher_dernier_message_erreur_rencontre_ELTPARAGRAPHE000157"></a>L'utilisation de la fonction **Erreur** sans aucun paramètre (syntaxe 2) permet d'afficher directement le message d'erreur correspondant à la dernière fonction WLangage ayant déclenché une erreur.

Dans ce cas, le code suivant :

```wl
Erreur()
```


est équivalent à :

```wl
Erreur(ErreurInfo())
```


**Attention** : La fonction **Erreur** doit être utilisée immédiatement après l'appel à la fonction qui a échoué. En effet, l'appel à une fonction du WLangage peut ré-initialiser et modifier le compte-rendu de **Erreur**.




<a name="NOTE0_4"></a>




### Divers
<a name="divers_ELTPARAGRAPHE000183"></a>

- Les timers (fonction [TimerSys](../WDLang1/3015006.md)) ne sont pas stoppés lors de l'appel de cette fonction.

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Les événements Windows ne sont pas stoppés lors de l'appel à cette fonction.

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Lors de la saisie de la fonction sous l'éditeur de code, vous pouvez utiliser l'assistant de code. Selon les caractéristiques saisies dans l'assistant, la fonction utilisée peut être différente dans le code automatiquement généré.

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) La fonction [DélaiAvantFermeture](../WDLang1/3038040.md) limite le temps d'affichage de toutes les boîtes de dialogue. La boîte de dialogue est automatiquement fermée. Pour les boîtes de question ou de confirmation, la réponse attendue correspond au bouton par défaut. 
	![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Pour limiter uniquement le temps d'affichage d'une boîte de dialogue de type Erreur, utilisez la fonction [ErreurAvecDélai](../WDLang1/1000020529.md).

- Le libellé du bouton s'affiche dans la langue utilisée par Windows sur le poste en cours.



<a name="NOTE0_5"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Pilotage
<a name="pilotage_ELTPARAGRAPHE000227"></a>Il est possible de piloter un message d'erreur à l'aide de la fonction [PiloteErreur](../WDLang1/1000009005.md).
<a name="NOTE0_6"></a>



<a name="XComposante"></a>

## Classification Métier / UI :
Code UI
## Composante :
wd280obj.dll
