


## SignalCrée (Fonction)

***En anglais : EventCreate***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Crée un signal. Un signal permet de synchroniser plusieurs threads en même temps. Si le signal est ouvert, tous les threads en attente du signal sont débloqués.










<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Création d'un signal
SignalCrée("Allez-y", signalManuel, signalFermé)
// Exécution d'un premier thread
ThreadExécute("Thread1", threadNormal, "Thread_Premier")
// Bloque le thread en cours jusqu'à l'obtention du signal
ThreadAttendSignal()

// Exécution d'un second thread
ThreadExécute("Thread2", threadNormal, "Thread_Second")
// Bloque le thread en cours jusqu'à l'obtention du signal
ThreadAttendSignal()

// Modifie le signal pour exécuter les threads
SignalModifie("Allez-y", signalOuvert)
```

```wl
//----------------------------------------------
PROCEDURE Thread_Premier()
Trace(dbgInfo(dbgTraitement) + " - ThreadEnvoieSignal(threadPrincipal)")
ThreadEnvoieSignal(threadPrincipal)
SignalAttend("Allez-y")
Trace(dbgInfo(dbgTraitement) + " - Signal reçu")
```

```wl
//--------------------------------------------
PROCEDURE Thread_Second()
Trace(dbgInfo(dbgTraitement) + " - ThreadEnvoieSignal(threadPrincipal)")
ThreadEnvoieSignal(threadPrincipal)
SignalAttend("Allez-y")
Trace(dbgInfo(dbgTraitement) + " - Signal reçu")
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`SignalCrée(<Signal> [, <Mode> [, <Etat Initial> [, <Options>]]])`
---

**`<Signal> : (Chaîne de caractères)`**

Nom du signal à créer. Ce nom sera utilisé dans toutes les fonctions de gestion de signal.

**`<Mode> : (Constante optionnelle)`**

Mode de gestion du signal :


|   |   |
| --- | --- |
| *signalAutomatique*<br>(Valeur par défaut) | Après son ouverture, le signal est automatiquement refermé dès qu'un unique thread est débloqué. |
| *signalManuel* | Le signal est modifié uniquement par la fonction [SignalModifie](../WDLang1/3077017.md). |



**`<Etat Initial> : (Constante optionnelle)`**

Etat du signal à sa création :


|   |   |
| --- | --- |
| *signalFermé*<br>(Valeur par défaut) | Le signal est fermé lors de sa création. |
| *signalOuvert* | Le signal est ouvert lors de sa création. |



**`<Options> : (Constante optionnelle de type Entier)`**



- Mode de partage du signal :
	


|   |   |
| --- | --- |
| *partageAucun* | Le signal est propre à l'application. Si la fonction [SignalDétruit](../WDLang1/3077025.md) n'est pas appelée, le signal est détruit à la fin de l'application.<br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Les signaux sont uniques pour l'application qui les a créés. Ils ne peuvent pas être partagés entre plusieurs applications. |
| *partageGlobal* | Le signal est partagé avec toutes les applications de la machine.<br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Cette constante n'est pas disponible. |
| *partageUtilisateur*<br>(Valeur par défaut) | Le signal est partagé avec toutes les applications de la session de l'utilisateur qui exécute l'application.<br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Cette constante n'est pas disponible. |






- Mode de destruction du signal : 
	


|   |   |
| --- | --- |
| *DestructionSansModification* | Par défaut, un signal est automatiquement modifié lors de sa destruction. Si le signal est créé avec la constante *DestructionSansModification*, il ne sera pas modifié au moment de l'appel de fonction [SignalDétruit](../WDLang1/3077025.md) ou de la destruction automatique du signal à la fermeture de l'application.<br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Cette constante n'est pas disponible. |




Les informations concernant le mode de partage et le mode de destruction du signal peuvent être combinées. 



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Mode de partage des signaux
<a name="mode_partage_des_signaux_ELTPARAGRAPHE000164"></a>En mode *partageUtilisateur*, le signal est partagé avec toutes les applications de la session de l'utilisateur qui exécute l'application. 

- Le signal est créé par la première application de la session de l'utilisateur qui appelle la fonction **SignalCrée**.   

- Les applications suivantes qui appellent la fonction **SignalCrée** se connectent au signal existant.

- La dernière application qui se ferme détruit le signal.

- Un signal de même nom n'est pas utilisable par une session d'un autre utilisateur sur la même machine : le système renvoie une erreur de droits d'accès.




En mode *partageGlobal*, le signal est partagé avec toutes les applications de la machine.

- Le signal est créé par la première application qui appelle la fonction **SignalCrée**.   

- Les applications suivantes qui appellent la fonction **SignalCrée** se connectent au signal existant.

- La dernière application qui se ferme détruit le signal.




<a name="XComposante"></a>

## Composante :
wd280vm.dll
