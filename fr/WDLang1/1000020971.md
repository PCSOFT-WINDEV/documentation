
## DnDDonneElémentTDB (Fonction)

***En anglais : DnDCacheDashElement***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Ajoute un Widget dans un champ Tableau de bord lors d'un "Drag and Drop". Ce "Drag and Drop" peut être effectué par exemple depuis un champ Image, un champ Liste, un champ Zone répétée, ...

**Attention** : Le Widget est ajouté pour la session en cours. Pour mémoriser le Widget ajouté, il faut utiliser la fonction [TDBAjouteWidget](../WDLang1/1000020953.md). 
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// -- Initialisation de IMG_Widget_Calendrier

// L'image est source de Drag and Drop
MoiMême.DndSource = dndProgrammé

// Définit une procédure pour le "début de glisser"
// Cette procédure utilise la fonction DnDDonneElémentTDB pour définir le widget à dropper
DnDEvénement(onDndDebut, MoiMême, dndDébutGlisser)
```

```wl
PROCEDURE onDndDebut()

// Selon le champ source, il faut définir le widget à dropper
SELON _DND.ChampSource
	// Indique que le drop sur le champ Tableau de bord doit ajouter le widget "Horloge" 
	// en utilisant la fenêtre interne "FI_Widget_Horloge"
	CAS IMG_Widget_Calendrier.Nom
		DnDDonneElémentTDB("FI_Widget_Calendrier", "Horloge")
		
	AUTRES CAS
		Erreur("Seule l'image IMG_Widget_Calendrier est autorisée pour le Drag and Drop")
		
FIN
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`DnDDonneElémentTDB(<Nom du Widget> , <Libellé> [, <Paramètre 1> [... [, <Paramètre N>]]])`
---

**`<Nom du Widget> : (Chaîne de caractères)`**

Nom de la fenêtre interne (ou Widget) cible du Drag and Drop.

**`<Libellé> : (Chaîne de caractères)`**

Libellé du Widget ajouté. 

**`<Paramètre 1> : (Type de la valeur envoyée à la fenêtre (optionnel))`**

Premier paramètre à passer à l'événement "Déclarations globales" de la fenêtre interne à ouvrir. Ce paramètre est passé par référence et il est considéré comme une variable globale à la fenêtre interne.
Attention : Seuls les types simples sont disponibles. 



**`<Paramètre N> : (Type de la valeur envoyée à la fenêtre (optionnel))`**

Nième paramètre à passer à l'événement "Déclarations globales" de la fenêtre interne à ouvrir. Ce paramètre est passé par référence et il est considéré comme une variable globale à la fenêtre interne.
Attention : Seuls les types simples sont disponibles. 



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


- Cette fonction doit être utilisée dans la procédure associée à l'événement "Début de glisser". 

- Cette fonction initialise les informations de Drag and Drop nécessaires à l'ajout de l'élément dans le champ Tableau de bord. 

- Le champ Tableau de bord doit être défini comme cible du Drag and Drop (propriété [DndCible](../Proprietes/2510016.md)). 











- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDTableaudebord.gif) ***Exemples didactiques (WINDEV)*** : **WD Tableau de bord** <br>L'exemple "WD Tableau de bord" est un exemple didactique sur l'utilisation du champ Tableau de bord.<br>Cet exemple présente comment :<br>- manipuler le champ en mode "édition",<br>- sauver/charger une configuration,<br>- configurer le champ (configuration initiale, ajout / suppression de widgets, ...),<br>- rafraîchir un widget,<br>- etc.



<a name="XComposante"></a>

## Composante :
wd280obj.dll
