
## CléGénèreCléInitiale (Fonction)

***En anglais : KeyGenerateInitialKey***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Génère la clé initiale (numéro de licence unique) pour le système d'activation de l'application. Cette clé initiale doit être transmise au fournisseur de l'application afin d'obtenir la clé d'activation. 


<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Votre secret ici à personnaliser
Secret est une chaîne = "]$x+9*EBM%u]yK|R@=y"

// Dans l'application, côté client
CléInitiale est une chaîne 
CléInitiale = CléGénèreCléInitiale(IDClient)
Info("Votre clé de licence est : " + CléInitiale)

// -> CléInitiale est transmis au fournisseur de l'application

// --------------------------------------------
// Côté fournisseur : calcul de la clé d'activation
CléActivation est une chaîne 
Identifiant est une chaîne 

CléActivation = CléCalculeCléActivation(CléInitiale, Secret)
Identifiant = CléRécupèreIdentifiant(CléInitiale)
Info("Clé d'activation générée pour le client " + Identifiant + " : " + CléActivation)
// -> CléActivation est transmis au client pour activation de sa licence

//--------------------------------------------
// Côté client : Saisie de la clé d'activation
gbActivationOK = CléCompareClé(CléInitiale, CléActivation, Secret)
SI gbActivationOK = Faux ALORS
	Erreur("Mauvaise clé d'activation")
	FinProgramme()
FIN
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`<Résultat> = CléGénèreCléInitiale([<Identifiant>])`
---

**`<Résultat> : (Chaîne de caractères)`**

Clé initiale générée par l'application. La taille de cette clé varie en fonction de la présence du paramètre &lt;Identifiant&gt; : 

- si le paramètre &lt;Identifiant&gt; n'est pas spécifié, la clé initiale comportera 20 caractères. 

- si le paramètre &lt;Identifiant&gt; est spécifié, la clé initiale comportera 20 caractères plus 2 caractères par lettre contenue dans le paramètre &lt;Identifiant&gt;. 
	**Exemple** : L'identifiant comporte 5 caractères. La clé générée correspondra à 20 + (2 \* 5) = 30 caractères.




**`<Identifiant> : (Chaîne de caractères optionnelle)`**

Identifiant permettant de générer une clé initiale spécifique contenant par exemple des données utilisateur. Ces données peuvent être récupérées grâce à la fonction [CléRécupèreIdentifiant](../WDLang1/1000018851.md). 



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


- Il n'est pas possible de récupérer avec WINDEV, un identifiant ayant servi à générer une clé initiale avec WINDEV Mobile.

- Pour générer une clé, le générateur de nombres aléatoires interne est utilisé. Vous pouvez ré-initialiser ce générateur en utilisant la fonction [InitHasard](../WDLang1/3013030.md).





- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LesfonctionsCle.gif) ***Exemples unitaires (WINDEV)*** : **Les fonctions Clé** <br>Utilisation des fonctions de calcul de clés d'activation du WLangage.



<a name="XComposante"></a>

## Composante :
wd280std.dll
