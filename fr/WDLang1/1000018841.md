
## dbgFinDiffMémoire (Fonction)

***En anglais : dbgEndMemoryDiff***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Sauve un dump mémoire contenant uniquement les ressources mémoire qui ont été allouées et qui n'ont pas encore été libérées depuis l'appel précédent de la fonction [dbgDébutDiffMémoire](../WDLang1/1000018840.md). 

Cette technique de débogage permet d'isoler les ressources mémoire d'une opération qui devrait être neutre pour la mémoire. Il est ainsi possible de corriger le code et de rajouter les éventuelles libérations manquantes (requêtes plus utilisées, objet global plus utile pour la suite de l'exécution, ...).


<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Début du diff mémoire
// avant l'opération qui devrait être neutre pour la mémoire
dbgDébutDiffMémoire()

...

// Opération qui devrait être neutre pour la mémoire
...

// Enregistrement du dump mémoire
// après l'opération qui devrait être neutre pour la mémoire
dbgFinDiffMémoire()
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

### Sauver le dump mémoire de différence dans l'audit dynamique en cours

`dbgFinDiffMémoire()`
---

**Remarque** : Cette syntaxe sauve le dump mémoire dans le fichier d'audit dynamique si l'audit est actif. Si l'audit dynamique n'est pas actif, la fonction ne fait rien.
<a name="SYNTAXE2"></a>

### Sauver le dump mémoire de différence dans un fichier

`dbgFinDiffMémoire(<Fichier de dump>)`
---

**`<Fichier de dump> : (Chaîne de caractères)`**

Nom du fichier dans lequel est sauvé le dump. Le nom du fichier peut être construit avec les éléments suivants :


|   |   |
| --- | --- |
| [%RepExe%] | Répertoire de l'exécutable, toujours complété par le caractère "\\". Ce répertoire est équivalent au résultat de la fonction [fRepExe](../WDLang1/3036049.md). |
| [%NomExe%] | Nom de l'exécutable. |
| [%Date%] | Date de lancement du dump mémoire (format AAAAMMJJ). |
| [%Heure%] | Heure de lancement du dump mémoire (format HHMMSS). |
| [%NomUtilisateur%] | Nom de l'utilisateur courant. |
| [%NomMachine%] | Nom de la machine. |
| [%RepDonnees%] | Répertoire des fichiers de données HFSQL spécifié par l'utilisateur lors de l'installation de l'application. Ce répertoire est équivalent au résultat de la fonction [fRepDonnées](../WDLang1/3036001.md). |
| [%RepDonneesUtilisateur%] | Répertoire pour les données de l'utilisateur courant de l'application courante.  Ce répertoire est équivalent au résultat de la fonction [fRepDonnéesUtilisateur](../WDLang1/3036071.md). |

Par défaut, si ce paramètre correspond à une chaîne vide ("") : 

- L'extension du fichier sera ".wmem". 

- Le nom du fichier créé correspond à : "[%RepDonneesUtilisateur%][%NomExe%]_[%Date%]_[%Heure%]". 
	Par exemple : "C:\\Users\\Doc\\AppData\\Roaming\\Applications WinDev\\MonAppli\\MonAppli_20091023_130812.wmem".




Attention : Si vous utilisez la construction dynamique des chaînes (option "Autoriser "[% %]" dans les chaînes" dans l'onglet "Compilation" de la description du projet, une erreur de compilation apparaît (identificateur inconnu). Dans ce cas, il est nécessaire de faire précéder chaque chaîne par '-%'. Exemple : 

```wl
dbgFinDiffMémoire("[%RepDonneesUtilisateur%][%NomExe%]_[%Date%]_[%Heure%]")
```
 devient
```wl
dbgFinDiffMémoire(-%"[%RepDonneesUtilisateur%][%NomExe%]_[%Date%]_[%Heure%]")
```














<a name="XComposante"></a>

## Composante :
wd280vm.dll
