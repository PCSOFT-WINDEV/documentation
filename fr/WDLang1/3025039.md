


## EcranPremier (Fonction)

***En anglais : ScreenFirst***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Définit le prochain champ qui sera en saisie dans la fenêtre en cours. Ce champ aura le "focus" : les actions effectuées au clavier par l'utilisateur seront dirigées vers ce champ.




<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Met la saisie sur le champ "SAI_Saisie2"
EcranPremier(SAI_Saisie2)
```


<a name="Exemple2"></a>

```wl
// Change le prochain champ en saisie
SI ChampEnCours() <> SAI_Nom ALORS EcranPremier(SAI_Nom)
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`EcranPremier([<Champ manipulé> [, <Indice>]])`
---

**`<Champ manipulé> : (Nom de champ optionnel)`**

Nom du champ (y compris colonne d'un champ Table) ou de la fenêtre qui doit être en saisie. 
Si ce paramètre correspond à un nom de fenêtre, la fenêtre sera activée et un champ pouvant prendre le focus sera en saisie.
Si ce paramètre correspond à un champ ne pouvant pas prendre le focus (champ invisible, libellé, ...), la saisie commencera au champ suivant selon l'ordre de saisie.

**`<Indice> : (Entier optionnel)`**

Indice pour un champ indicé.

![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Ce paramètre n'est pas disponible.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Prise de focus
<a name="prise_focus_ELTPARAGRAPHE000066"></a>La prise de focus d'un champ est matérialisée différemment selon le type du champ :

- Curseur clignotant (ou "Caret") pour les champs de saisie.

- Rectangle pointillé pour les autres types de champs (champs Bouton, Liste, Sélecteur, etc.).




**Attention** : Tous les types de champs ne peuvent pas prendre le focus (champs de type "Libellé" par exemple).
<a name="NOTE0_2"></a>


### Fonction EcranPremier utilisée avec une fenêtre
<a name="fonction_docparampagetitleshort_utilisee_avec_une_fenetre_ELTPARAGRAPHE000078"></a>Si le paramètre &lt;Nom du champ&gt; correspond à un nom de fenêtre, la fenêtre est activée. Le champ prenant le focus dans cette fenêtre correspondra :

- soit au dernier champ précédemment en saisie dans cette fenêtre,

- soit au premier champ pouvant prendre le focus dans cette fenêtre (si aucune saisie n'a été effectuée précédemment dans cette fenêtre).



<a name="NOTE0_3"></a>


### Evénements exécutés lors de l'utilisation de la fonction EcranPremier
<a name="evenements_executes_lors_utilisation_fonction_docparampagetitleshort_ELTPARAGRAPHE000091"></a>En règle générale, l'appel de la fonction **EcranPremier** entraine l'exécution des événements de sortie (du champ ou de la fenêtre en cours) et d'entrée (dans le champ ou la fenêtre spécifié).

Exception à cette règle : Le code de sortie du champ en cours n'est pas exécuté si la fonction **EcranPremier** est utilisée dans un des événements associés à ce champ.
<a name="NOTE0_4"></a>


### Fonctions EcranPremier, DonneFocus et DonneFocusEtRetourUtilisateur
<a name="fonctions_docparampagetitleshort_donnefocus_donnefocusetretourutilisateur_ELTPARAGRAPHE000108"></a>Ces fonctions ont un comportement très différent :

- La fonction [DonneFocusEtRetourUtilisateur](../WDLang1/1410088107.md) arrête le traitement en cours pour forcer la reprise de la saisie dans le champ indiqué. 

- La fonction **EcranPremier** décrit quel sera le prochain champ ayant la saisie (lorsque le code en cours s'arrêtera et que la saisie reprendra).

- La fonction [DonneFocus](../WDLang1/3025001.md) arrête le traitement en cours, décrit quel sera le prochain champ ayant la saisie et reprend le traitement en cours.



<a name="NOTE0_5"></a>


### Erreur
<a name="erreur_ELTPARAGRAPHE000131"></a>Une erreur du WLangage apparaît si le &lt;Nom du champ&gt; ne correspond pas à un champ existant dans la fenêtre en cours.
<a name="NOTE0_6"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Champ indicé
<a name="champ_indice_ELTPARAGRAPHE000140"></a>Le paramètre &lt;Indice&gt; permet de spécifier l'indice d'un champ indicé. Il est aussi possible d'utiliser directement le nom du champ indicé. Par exemple :

```wl
EcranPremier(SAI_Saisie1, 1) = EcranPremier(SAI_Saisie1[1])
```


<a name="XComposante"></a>

## Composante :
wd280obj.dll
