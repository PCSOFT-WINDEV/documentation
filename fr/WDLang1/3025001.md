


## DonneFocus (Fonction)

***En anglais : SetFocus***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Donne le focus :

- à un champ (d'une fenêtre, d'une page ou d'un frameset).

- à une fenêtre.



<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Donne le focus au champ SAI_Saisie1
DonneFocus(SAI_Saisie1)
```


<a name="Exemple2"></a>

```wl
// Donne le focus au champ SAI_Saisie1 de 
// la page/fenêtre "Inscription"
DonneFocus(Inscription.SAI_Saisie1)
```


<a name="Exemple3"></a>

```wl
// Donne le focus au champ MonChamp 
// présent dans le champ Zone répétée ZR_Client.
// Sélection de la seconde répétition
ZR_Client = 2
DonneFocus(ZR_Client.MonChamp)
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

### Donner le focus à un champ de la fenêtre ou de la page en cours

`DonneFocus([<Nom du champ>])`
---

**`<Nom du champ> : (Nom de champ optionnel)`**

Nom du champ (ou de la colonne) auquel le focus doit être donné (voir "Remarques"). Si ce paramètre n'est pas spécifié, le focus est donné au champ en cours. 

Si &lt;Nom du champ&gt; ne correspond pas à un champ existant dans la fenêtre ou la page en cours, une erreur du WLangage est affichée.
![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Il n'est pas possible de donner le focus à un champ Image.  



<a name="SYNTAXE2"></a>
<a name="SYNTAXE3"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 
### Donner le focus à une fenêtre

`DonneFocus([<Fenêtre>])`
---

**`<Fenêtre> : (Nom de fenêtre optionnel)`**

Nom de la fenêtre auquel le focus doit être donné. Cette fenêtre sera activée et le champ prenant le focus dans cette fenêtre correspondra :

- soit au dernier champ précédemment en saisie dans cette fenêtre.

- soit au premier champ pouvant prendre le focus dans cette fenêtre (si aucune saisie n'a été effectuée précédemment dans cette fenêtre).




Si ce paramètre n'est pas spécifié, le focus est donné au champ en cours.  



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Prise de focus
<a name="prise_focus_ELTPARAGRAPHE000097"></a>La possession du "focus" est matérialisée de différentes manières :

- Curseur clignotant (ou "Caret") pour les champs de saisie.

- Rectangle pointillé pour les autres types de champs (boutons, listes, sélecteurs, ...).




**Attention** : Tous les types de champs ne peuvent pas prendre le focus (champs de type "libellé" par exemple).
<a name="NOTE0_2"></a>


### Fonctions EcranPremier, DonneFocus et DonneFocusEtRetourUtilisateur
<a name="fonctions_ecranpremier_docparampagetitleshort_donnefocusetretourutilisateur_ELTPARAGRAPHE000109"></a>Ces fonctions ont un comportement très différent :

- La fonction [DonneFocusEtRetourUtilisateur](../WDLang1/1410088107.md) arrête le traitement en cours pour forcer la reprise de la saisie dans le champ indiqué. 

- La fonction [EcranPremier](../WDLang1/3025039.md) décrit quel sera le prochain champ ayant la saisie (lorsque le code en cours s'arrêtera et que la saisie reprendra).

- La fonction **DonneFocus** arrête le traitement en cours, décrit quel sera le prochain champ ayant la saisie et reprend le traitement en cours.



<a name="NOTE0_4"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Fonction DonneFocus sur une colonne (champ Table)
<a name="fonction_docparampagetitleshort_sur_une_colonne_champ_table_ELTPARAGRAPHE000134"></a>La fonction **DonneFocus** donne le focus à la colonne spécifiée. Si le champ Table n'est pas en cours de saisie, le champ Table passe en saisie.
<a name="NOTE0_5"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Fonction DonneFocus sur le champ en cours
<a name="fonction_docparampagetitleshort_sur_champ_cours_ELTPARAGRAPHE000149"></a>La fonction **DonneFocus** utilisée sans paramètre permet de donner le focus au champ en cours. Cette fonction, utilisée par exemple dans le code de sortie d'un champ de saisie, permet de forcer la saisie dans le champ en cours si les informations saisies ne correspondent pas aux informations attendues.
<a name="NOTE0_6"></a>
![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png) 

### Fonction DonneFocus sur le dernier champ en cours
<a name="fonction_docparampagetitleshort_sur_dernier_champ_cours_ELTPARAGRAPHE000164"></a>La fonction **DonneFocus** utilisée sans paramètre permet de donner le focus au dernier champ en cours. Cette fonction, utilisée par exemple dans le code de sortie d'un champ de saisie, permet de forcer la saisie dans le champ en cours si les informations saisies ne correspondent pas aux informations attendues.

Le champ doit être de type :

- champ de saisie.

- champ Interrupteur.

- champ Sélecteur.

- champ Liste.

- champ Combo.

- champ Zone de cliquage.



<a name="NOTE0_7"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Traitements exécutés lors de l'utilisation de la fonction DonneFocus
<a name="traitements_executes_lors_utilisation_fonction_docparampagetitleshort_ELTPARAGRAPHE000188"></a>En règle générale, les traitements de sortie (du champ ou de la fenêtre en cours) et d'entrée (dans le champ ou la fenêtre spécifié) sont exécutés lors de l'appel de la fonction **DonneFocus**.

Exceptions :

- Aucun code n'est exécuté si &lt;Nom du champ&gt; est le champ en cours.

- Le code de sortie du champ en cours n'est pas exécuté si la fonction **DonneFocus** est utilisée dans un des événements WLangage associés à ce champ.




<a name="XComposante"></a>

## Classification Métier / UI :
Code UI
## Composante :
wd280obj.dll
