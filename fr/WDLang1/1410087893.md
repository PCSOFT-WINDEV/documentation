
## sysNotification (Type de variable)

***En anglais : sysNotification***
				



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Le type **sysNotification** permet de définir toutes les caractéristiques avancées d'une notification système interactive. Les caractéristiques de cette notification peuvent être définies et modifiées à l'aide de différentes propriétés WLangage. 

**Remarque** : Pour plus de détails sur la déclaration de ce type de variable et l'utilisation des propriétés WLangage, consultez [Déclaration d'une variable](../Motscles/1514032.md).
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Exemple de création et d'envoi d'une notification de mise à jour
notifMAJ est une sysNotification
notifMAJ.Titre = "Une mise à jour est disponible !"
notifMAJ.Texte1 = "Téléchargez-la pour profiter des nouveautés."
notifMAJ.Note = "MAJ_notif"
notifMAJ.Boutons[1].Libellé = "Télécharger"
notifMAJ.Boutons[1].Note = "MAJ_bouton_télécharger"
notifMAJ.Boutons[2].Libellé = "Plus tard ..."
notifMAJ.Boutons[2].Type = sysNotifBoutonRappel
SysNotificationEnvoie(notifMAJ)
```

<a name="NOTE0"></a>

## Remarques
<a name="NOTE0_1"></a>


### Exemple de notification
<a name="exemple_notification_ELTPARAGRAPHE000028"></a>Voici un exemple de notification : ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=NOTIF_FR.gif)


- 1 : Icône et nom de l'application : Ces informations ne sont pas modifiables. 

- 2 : Image d'entête de la notification (propriété **CheminImageEntête** de la variable de type **sysNotification**). 

- 3 : Image du logo : Logo de l'application par défaut. Ce logo peut être remplacé par une image (propriété **CheminImageLogo** de la variable de type **sysNotification**). Il est également possible de positionner l'image dans un cercle (propriété **ContourImageLogo** de la variable de type **sysNotification**). 

- 4 : Titre : Titre ou nom de la notification (2 lignes maximum, propriété **Titre** de la variable de type **sysNotification**).

- 5 : Textes supplémentaires : 2 zones de textes optionnelles supplémentaires ne pouvant pas dépasser 4 lignes à elles deux (propriétés **Texte1** et **Texte2** de la variable de type **sysNotification**). 

- 6 : Date et heure de l'envoi de la notification (propriété **Date** de la variable de type **sysNotification**).

- 7 : Attribution, indiquant la provenance de l'information : SMS, ...  (propriété **Attribution** de la variable de type **sysNotification**). 

- 8 : Image contenue dans la notification. Cette image optionnelle est visible lorsque la notification est dépliée (propriété **CheminImageContenu** de la variable de type **sysNotification**).

- 9 : Champ de saisie où l'utilisateur peut saisir du texte (défini par la variable [sysNotificationEntrée](../WDLang1/1410088024.md)). 

- 10 : Combo où l'utilisateur peut sélectionner une option (défini par la variable [sysNotificationEntrée](../WDLang1/1410088024.md)).

- 11 : Bouton simple, pouvant effectuer une action système ou renvoyer une information à l'application émettrice (défini par la variable [sysNotificationBouton](../WDLang1/1410087947.md)). Il est également possible de définir un bouton contextuel, qui se rajoute dans le menu contextuel de la notification (clic droit).




Remarque : les boutons simples sont forcément en bas de la notification. Par contre les champs de saisie et les champs Combo apparaissent dans l'ordre de leur définition.
<a name="NOTE0_2"></a>


### Propriétés spécifiques à la description des variables de type sysNotification
<a name="proprietes_specifiques_description_des_variables_type_sysnotification_ELTPARAGRAPHE000059"></a>Les propriétés suivantes peuvent être utilisées pour manipuler une notification système :

| Nom de la propriété | Type manipulé | Effet |
| --- | --- | --- |
| Action | Procédure globale uniquement | Nom de la procédure globale à exécuter quand l'utilisateur clique sur la notification elle-même (et non pas sur un champ à l'intérieur de la notification).<br><br>Si la procédure n'est pas spécifiée ou introuvable, l'événement optionnel du projet "Réception d'une notification" est exécuté. |
| Attribution | Chaîne de caractères | Texte à afficher dans la petite zone de texte en bas de la notification (par exemple, cette zone peut être utilisée pour indiquer la provenance de l'information affichée). <br><br>Cette propriété peut être vide. |
| Boutons | Tableau de [sysNotificationBouton](../WDLang1/1410087947.md) | Champs "bouton" de la notification. Les boutons sont toujours affichés en bas de la notification, de gauche à droite suivant leur ordre dans le tableau (sauf les boutons contextuels qui sont ajoutés au menu contextuel de la notification, de haut en bas).<br><br>Attention : Il ne peut pas y avoir plus de 5 boutons dans une notification. |
| CheminImageContenu | Chaîne de caractères | Chemin absolu d'une image sur le disque pouvant être ajoutée au contenu de la notification. <br><br>Cette propriété peut être vide. |
| CheminImageEntête | Chaîne de caractères | Chemin absolu d'une image sur le disque pouvant servir d'entête à la notification. <br><br>Les dimensions de l'image affichée sont 364 x 180 pixels (l'image est automatiquement réduite si nécessaire). |
| CheminImageLogo | Chaîne de caractères | Chemin absolu d'une image sur le disque pouvant servir de logo à la notification. <br><br>Les dimensions de l'image affichée sont 48 x 48 pixels dans la notification (l'image est automatiquement réduite si nécessaire). Il est possible d'activer un contour particulier du logo avec la propriété **ContourImageLogo**.<br><br>Cette propriété peut être vide. |
| ContourImageLogo | Constante de type Entier | Contour à appliquer sur le logo : <br><br>- *sysNotifAucunContour* (valeur par défaut) : Aucun contour, image carrée. <br><br>- *sysNotifContourCercle* : Image avec un contour circulaire.<br><br><br> |
| Date | DateHeure | Date à afficher dans la notification. <br><br>Cette propriété peut être vide. |
| Entrées | Tableau de [sysNotificationEntrée](../WDLang1/1410088024.md) | Champs "entrée utilisateur" de la notification. Ces champs peuvent être soit des zones "saisie de texte", soit des zones "combo". <br><br>Les champs sont affichés de haut en bas dans l'ordre de leur ajout dans le tableau.<br><br>Attention : Il ne peut pas y avoir plus de 4 entrées dans une notification. Les champs supplémentaires prendront la place des anciens. |
| ID | Chaîne de caractères | Identifiant unique associé à la notification. Deux notifications d'une même application ne peuvent pas avoir le même identifiant. Si deux notifications ont le même identifiant, la nouvelle notification remplacera la précédente. <br><br>Cette propriété peut être vide. |
| Note | Chaîne de caractères | Chaîne de caractères qui sera renvoyée à l'application quand l'utilisateur clique sur la notification (et non sur un bouton). Peut être utilisée par exemple pour identifier la notification cliquée. <br><br>Cette propriété peut être vide. |
| Scénario | Constante de type Entier | Comportement spécifique de la notification : <br><br>- *sysNotifAlarme* : La notification reste à l'écran jusqu'à intervention de l'utilisateur. Un son système "Alarme" est joué en boucle.<br><br>- *sysNotifAppel* : La notification reste à l'écran jusqu'à intervention de l'utilisateur. Un son système d'appel entrant est joué en boucle et un style différent est utilisé pour les boutons.<br><br>- *sysNotifNormal* (valeur par défaut) : La notification est affichée quelques secondes à l'écran avant de se mettre dans le centre d'actions de Windows.<br><br>- *sysNotifRappel* : La notification reste à l'écran jusqu'à intervention de l'utilisateur. Un son système de "rappel" est joué à l'apparition de la notification.<br><br><br> |
| Texte1 | Chaîne de caractères | Texte optionnel affiché sous le titre. La combinaison des propriétés **Texte1** et **Texte2** ne peut pas faire plus de 4 lignes. |
| Texte2 | Chaîne de caractères | Texte optionnel affiché sous le texte 1. <br><br>Si la propriété **Texte1** est vide alors la propriété **Texte2** sera affichée à la position de la propriété **Texte1**. <br><br>La combinaison des propriétés **Texte1** et **Texte2** ne peut pas faire plus de 4 lignes. |
| Titre | Chaîne de caractères | Titre de la notification affichée sur 2 lignes maximum. |
| XML | Chaîne de caractères | Code XML correspondant à la configuration courante de la notification.<br><br>En écriture : Cette propriété permet de spécifier une description XML de la notification. Si cette propriété est renseignée, toutes les autres propriétés du type **sysNotification** seront ignorées. <br><br>En lecture : Cette propriété permet de connaître le code XML généré par WINDEV correspondant à la notification. <br><br>Pour plus d'informations sur le format XML des notifications Windows consultez : [https://docs.microsoft.com/en-us/windows/uwp/design/shell/tiles-and-notifications/adaptive-interactive-toasts?tabs=xml](https://docs.microsoft.com/en-us/windows/uwp/design/shell/tiles-and-notifications/adaptive-interactive-toasts?tabs=xml) |



- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WDGestionNotificationsWindows.gif) ***Exemples didactiques (WINDEV)*** : **WD Gestion Notifications Windows** <br>A partir de Windows 10, les « toast » notifications (celles qui apparaissent à droite dans le bureau) sont devenues interactives, avec possibilité d’y mettre des boutons, des zones de saisie et des combos. <br>Cet exemple présente la gestion de ces notifications.



