


## &lt;Caméra&gt;.Capture (Fonction)

***En anglais : &lt;Camera&gt;.Capture***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Capture la séquence vidéo actuellement retransmise par une "caméra" : 

- sous forme d'une image : prend une photo. 

- sous forme de vidéo : enregistre une vidéo.   






Selon la plateforme, les formats des photos et des vidéos sont les suivants :  

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png) une image au format BMP ou une séquence vidéo au format AVI. 
	 Si l'extension du fichier demandé est .jpg ou .jpeg, l'image est sauvée au format JPEG 









<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple

![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 
```wl
// Enregistre la vidéo retransmise dans le champ Caméra "CAM_Cuisine"
// sous forme d'une AVI ("C:\Temp\MaVideo.AVI") de 1 minute
ResSauvegarde = CAM_Cuisine.Capture("C:\Temp\MaVideo.AVI", viCaptureVidéo, 60)
SI ResSauvegarde = Vrai ALORS
	Info("Vidéo correctement sauvegardée")
SINON
	Erreur(ErreurInfo())
FIN
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`<Résultat> = <Champ Caméra>.Capture(<Fichier à créer> [, <Type de capture> [, <Durée de la capture> [, <Nombre d'images par seconde> [, <Affichage pendant la capture>]]]])`
---

**`<Résultat> : (Booléen)`**



- <u><u><u><u>Vrai</u></u></u></u> si la vidéo a été correctement enregistrée, 

- <u><u><u><u>Faux</u></u></u></u> dans le cas contraire. Pour plus de détails sur l'erreur, utilisez la fonction [ErreurInfo](../WDLang1/3013008.md).




**`<Champ Caméra> : (Nom de champ)`**

Nom du champ Caméra à manipuler.

**`<Fichier à créer> : (Chaîne de caractères)`**

Nom et chemin complet (ou relatif) du fichier à créer.
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png) Si la séquence vidéo est capturée sous forme d'une photo, un fichier BMP est créé. Si la séquence vidéo est capturée sous forme d'une vidéo, un fichier AVI est créé**Attention** : Il n'est pas possible d'utiliser un chemin de type UNC.

**`<Type de capture> : (Constante optionnelle de type entier)`**

Type de capture :


|   |   |
| --- | --- |
| *viCaptureImage* | ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png) Capture d'une image sous forme d'un fichier BMP.<br> |
| *viCaptureVidéo*<br>(Valeur par défaut) | ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png) Capture d'une séquence vidéo sous forme d'un fichier AVI.<br> |



**`<Durée de la capture> : (Entier optionnel)`**

Durée (en secondes) de la capture. Si ce paramètre correspond à 0 ou n'est pas spécifié, la capture s'arrêtera :

- soit lors de l'appel de la fonction [&lt;Caméra&gt;.Arrête](../WDLang1/1000022381.md).

- soit lorsque le disque spécifié n'aura plus d'espace disponible.


Ce paramètre peut correspondre à : 

- un entier correspondant au nombre de secondes, 

- une variable de type Durée, 

- l'indication directe de la durée (par exemple 1 s ou 10 ms). 




**`<Nombre d'images par seconde> : (Entier optionnel)`**

Nombre d'images sauvegardées par seconde (15 par défaut). Ce paramètre est pris en compte uniquement si &lt;Type de capture&gt; est égal à *viCaptureVidéo*.

**`<Affichage pendant la capture> : (Booléen optionnel)`**



- <u><u><u><u>Vrai</u></u></u></u> (par défaut) si la vidéo actuellement retransmise doit être visualisée dans le champ Caméra spécifié, 

- <u><u><u><u>Faux</u></u></u></u> dans le cas contraire.  






<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Enregistrement d'une photo
<a name="enregistrement_une_photo_ELTPARAGRAPHE000326"></a>Seule l'image affichée au moment de l'exécution de la fonction **&lt;Caméra&gt;.Capture** est enregistrée sous forme de photo au format BMP. Pour sauvegarder cette image, il est également possible d'utiliser :

- la fonction [&lt;Image&gt;.SauveBMP](../WDLang1/1000024341.md) : la photo sera enregistrée au format BMP.

- la fonction [&lt;Image&gt;.SauveGIF](../WDLang1/1000024342.md) : la photo sera enregistrée au format Gif.

- la fonction [&lt;Image&gt;.SauveJPEG](../WDLang1/1000024344.md) : la photo sera enregistrée au format Jpeg.





### Conditions d'utilisation : 
<a name="conditions_utilisation_ELTPARAGRAPHE000358"></a>

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png) Pour utiliser cette fonction, une "web caméra" doit être connectée au poste en cours.



<a name="NOTE0_2"></a>


- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LesfonctionsCamera.gif) ***Exemples unitaires (WINDEV Mobile)*** : **Les fonctions Caméra** <br>Utilisation des fonctions WLangage "Caméra" pour, notamment, lancer l'application caméra native de l'appareil afin d'enregistrer une vidéo ou de prendre une photo.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMSysteme.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Système** <br>Cette application est un exemple didactique montrant quelques unes des fonctionnalités de WINDEV Mobile pour Android/iOS.<br>Les fonctions système utilisées sont : <br>- NFC<br>- Champ Multimédia<br>- Luminosité<br>- Volume<br>- WIFI<br>- Bluetooth<br>- Toast<br>- Boussole<br>- Accéléromètre<br>- Champ caméra<br>- LED<br>- Vibrations<br>- Notifications<br>- Fonctions de dessin<br>- Internet

<a name="XComposante"></a>

## Composante :
wd280obj.dll


