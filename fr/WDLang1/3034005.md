
## ExceptionDéclenche (Fonction)

***En anglais : ExceptionThrow***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Déclenche artificiellement le mécanisme de sécurité de WLangage en provoquant une exception. Cette exception peut alors être traitée par un code d'exception prévu à cet effet. Les exceptions sont uniquement déclenchées dans le code WLangage (et non pas dans le framework).

Utilisée dans un Webservice, cette fonction permet : 

- d'arrêter le traitement en cours, 

- de renvoyer une erreur à l'application tierce utilisant le Webservice via le protocole standard SOAP.
	Dans le code XML renvoyé par le Webservice, le message d'erreur est renvoyé dans la balise "faultstring". Le numéro d'erreur n'est pas renvoyé dans une balise spécifique, il est contenu dans le texte du détail complet de l'erreur contenu dans la balise "detail". 
	Attention : Lors de la consommation de ce Webservice dans une application WINDEV, WEBDEV ou WINDEV Mobile, la récupération de l'erreur doit se faire avec la fonction [ErreurInfo](../WDLang1/3013008.md) et non pas avec la fonction [ExceptionInfo](../WDLang1/3034006.md).









<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple

![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 
```wl
// -- Déclarations globales de Fenêtre
QUAND EXCEPTION
	// Selon le code de l'exception
	SELON ExceptionInfo(errCode)
		// Traitement de l'exception 1
		CAS 1 : ...
		// Traitement de l'exception 2
		CAS 2 : ...
	FIN
FIN
```


<a name="Exemple2"></a>


![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 
```wl
// -- Clic de Bouton1
// Déclenche une exception 1
ExceptionDéclenche(1)
```


<a name="Exemple3"></a>


![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) 
```wl
// -- Clic de Bouton2
// Déclenche une exception 2
ExceptionDéclenche(2)
```


<a name="Exemple4"></a>



<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`ExceptionDéclenche(<Numéro de l'erreur> [, <Message>])`
---

**`<Numéro de l'erreur> : (Entier ou Constante)`**

Numéro de l'erreur à déclencher. Ce numéro (compris entre 1 et 1000) est défini par le développeur.



**`<Message> : (Chaîne de caractères optionnelle)`**

Message associé à l'erreur.  



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques




### Récupération des informations sur l'exception
<a name="recuperation_des_informations_sur_exception_ELTPARAGRAPHE000130"></a>La récupération des informations sur l'exception est réalisée grâce à la fonction [ExceptionInfo](../WDLang1/3034006.md) : 

- ExceptionInfo(*errCode*) permet de récupérer le numéro de l'exception déclenchée.

- ExceptionInfo(*errMessage*) permet de récupérer le message.






<a name="XComposante"></a>

## Composante :
wd280vm.dll
