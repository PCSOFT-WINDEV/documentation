
## AnimationJoue (Fonction)

***En anglais : AnimationPlay***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Joue une animation sur une modification d'un champ, d'un groupe de champs ou d'une fenêtre.

Le principe est le suivant :

1. Utilisation de la fonction [AnimationPrépare](../WDLang1/1000017386.md).

2. Modification des champs par programmation (remplissage, déplacement, changement de plan, ...). Ces modifications ne sont pas affichées. Ces modifications seront affichées lors de l'utilisation de la fonction **AnimationJoue**.

3. Utilisation de la fonction **AnimationJoue**. Cette fonction permet de passer de l'état "avant modification" à l'état "après modification" en jouant une animation.





<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Préparation de l'animation
// L'animation va être effectuée dans la fenêtre
AnimationPrépare(FEN_Client, FEN_Client.X, FEN_Client.Y, ...
		FEN_Client.Largeur, FEN_Client.Hauteur)
// Modification des champs 
BTN_BAS.Visible = Faux
IMG_Détail.Hauteur += 50
FEN_Client.Plan--
// Exécute les modifications et joue l'animation
AnimationJoue(animFondu)
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`AnimationJoue(<Type d'animation> [, <Durée de l'animation>])`
---

**`<Type d'animation> : (Constante de type Entier)`**

Type d'animation à jouer :


|   |   |
| --- | --- |
| *animDéfilementBas* | Scrolling vers le bas. |
| *animDéfilementDroite* | Scrolling vers la droite. |
| *animDéfilementGauche* | Scrolling vers la gauche. |
| *animDéfilementHaut* | Scrolling vers le haut. |
| *animFlipAxeX* | Retournement autour de l'axe horizontal.<br><br> |
| *animFlipAxeY* | Retournement autour de l'axe vertical.<br><br> |
| *animFlipDiagonaleDescendante* | Retournement autour de la diagonale partant du point haut gauche au point bas droite.<br><br> |
| *animFlipDiagonaleMontante* | Retournement autour de la diagonale partant du point haut droite au point bas gauche.<br><br> |
| *animFondu* | Animation de type fondu enchaîné. |
| *animRecouvrement4Coin* | Affichage de l'image depuis les 4 coins avec recouvrement de l'état précédent.<br><br> |
| *animRecouvrementBas* | Scrolling vers le bas avec recouvrement de l'état précédent. |
| *animRecouvrementDroite* | Scrolling vers la droite avec recouvrement de l'état précédent. |
| *animRecouvrementGauche* | Scrolling vers la gauche avec recouvrement de l'état précédent. |
| *animRecouvrementHaut* | Scrolling vers le haut avec recouvrement de l'état précédent. |
| *animRecouvrementZoom* | Nouvel état apparaissant depuis le centre avec un effet de zoom et un recouvrement de l'état précédent.<br><br> |
| *animRétrécitPuis4Coin* | Rétrécissement de l'état précédent, puis apparition du nouvel état par les 4 coins.<br><br> |



**`<Durée de l'animation> : (Entier optionnel ou Durée optionnelle)`**

Durée de l'animation en centièmes de seconde. Ce paramètre peut correspondre à : 

- un entier correspondant au nombre de centièmes de seconde, 

- une variable de type Durée, 

- la durée en clair (par exemple '1cs' ou '10 ms'). 


Il est conseillé d'utiliser une durée relativement courte (1 seconde maximum).
L'application reste bloquée tant que l'animation n'est pas terminée. Si l'utilisateur clique ou frappe une touche, l'animation est stoppée et les champs sont affichés dans leur état final.
**Remarque** : Le nombre d'images jouées est ajusté en fonction de la vitesse de la machine. En dessous d'un certain nombre d'images par seconde, l'image est trop saccadée et l'animation est annulée. Le nombre d'images par seconde est paramétré par la fonction [AnimationMinFPS](../WDLang1/1000017400.md). 



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


- Si la fonction [AnimationPrépare](../WDLang1/1000017386.md) est appelée deux fois sans un appel à la fonction **AnimationJoue**, une erreur est affichée.

- Pour ne pas ralentir l'ouverture des fenêtres, les fonctions [AnimationPrépare](../WDLang1/1000017386.md) et **AnimationJoue** utilisées dans l'événement "Initialisation" de la fenêtre n'ont aucun effet.

- Les fonctions [AnimationPrépare](../WDLang1/1000017386.md) et **AnimationJoue** n'ont aucun effet : 

	- si l'option "Activer l'animation des champs sur le projet" n'est pas cochée. Cette option est disponible dans la fenêtre de description du projet, onglet "Avancé", bouton "Animation des champs". 

	- ou si la fonction [AnimationActive](../WDLang1/1000017399.md) n'a pas été appelée pour activer les animations. 







<a name="XComposante"></a>

## Composante :
wd280obj.dll
