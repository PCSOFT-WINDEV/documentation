


## dTexte (Fonction)

***En anglais : dText***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Dessine un texte :

- dans un champ Image, 

- dans une variable de type [Image](../WDLang1/1000019650.md).
	

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) dans une variable de type [WDPic](../WDLang1/1000023503.md) (sur le calque d'arrière-plan),

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) dans une variable de type [picCalque](../WDLang1/1000024604.md).




![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png) **Attention** : L'utilisation de cette fonction sous Linux nécessite une configuration spécifique. Pour plus de détails, consultez [Les dessins](../WDLang1/3029035.md). 
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple
<a class="notetitle" target="_blank" href="$DOC$=1000003029032&name=dtexte_fonction&product=WD">Voir des exemples supplémentaires</a>

```wl
// Initialise le dessin dans un champ Image
dDébutDessin(IMG_Dessin)

// Dessin d'un texte en jaune clair
dTexte(10, 20, "Le développement facile", JauneClair)
```

```wl
// Calculer la taille d'un texte
nLargeurTexte est un entier
dDébutDessin(IMG_Image1)
dTexte(X, Y, MonTexte)

nLargeurTexte = TexteLargeur(SAI_Saisie1, MonTexte)
dTexte(X + nLargeurTexte, Y, MonTexteSuivant)
```


![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 
```wl
// Dessin d'un texte en jaune clair
dTexte(IMG_Dessin, 10, 20, "Le développement facile", JauneClair)
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`dTexte([<Image>, ] <Abscisse> , <Ordonnée> , <Texte> [, <Couleur du texte> [, <Gestion du &>]])`
---

**`<Image> : (Nom de champ optionnel ou variable de type Image, WDPic ou picCalque optionnelle)`**

![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) Image à manipuler. Cette image peut correspondre : 

- au nom d'un champ Image. 

- au nom d'une variable de type [Image](../WDLang1/1000019650.md).

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) au nom d'une variable de type [WDPic](../WDLang1/1000023503.md). Seul le calque d'arrière-plan sera manipulé. 

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) au nom d'une variable de type [picCalque](../WDLang1/1000024604.md).




Si ce paramètre n'est pas précisé, il est nécessaire de définir la destination du dessin avec la fonction [dDébutDessin](../WDLang1/3029009.md).

**`<Abscisse> : (Entier)`**

Coordonnées (abscisse) du texte à dessiner (en pixels).

**`<Ordonnée> : (Entier)`**

Coordonnées (ordonnée) du texte à dessiner (en pixels).

**`<Texte> : (Type correspondant au texte à dessiner)`**

Texte à dessiner. Ce texte peut être :

- une chaîne de caractères (sans caractères de contrôle tels que TAB, RC, etc.),

- un numérique.




**`<Couleur du texte> : (Entier ou constante (optionnel))`**

Couleur du texte à utiliser. Cette couleur peut correspondre à :

- une couleur RVB (obtenue avec la fonction [RVB](../WDLang1/3029012.md)),

- une couleur TSL (obtenue avec la fonction [TSL](../WDLang1/3029057.md)),

- [une couleur prédéfinie du WLangage](../WDLang5/3010002.md).




Si ce paramètre n'est pas précisé, la couleur du texte :

- est Noire si la fonction [dStylo](../WDLang1/3029029.md) n'a pas été utilisée auparavant,

- correspond à la couleur précisée dans le dernier appel à la fonction [dStylo](../WDLang1/3029029.md).




**`<Gestion du &> : (Booléen optionnel)`**



- <u><u><u><u>Vrai</u></u></u></u> (valeur par défaut) si le "&" ne doit pas être interprété comme opérateur de soulignement. 

- <u><u><u><u>Faux</u></u></u></u> si le "&" doit être interprété comme opérateur de soulignement : le caractère qui suit le caractère "&" sera souligné.  






<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Police
<a name="police_ELTPARAGRAPHE000299"></a>Par défaut :

- La police utilisée est la police "MS Sans Serif" (taille 13).

- Le sens d'écriture est horizontal (de gauche à droite).

- L'angle haut gauche de l'image a les coordonnées (0,0).

- Le caractère "&" n'est pas interprété.




Pour modifier ces paramètres, utilisez la fonction [dPolice](../WDLang1/3029020.md).
![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) La police par défaut peut être différente selon le système sur lequel est exécutée l'application.
<a name="NOTE0_2"></a>


### Couleur de fond
<a name="couleur_fond_ELTPARAGRAPHE000323"></a>Par défaut, la couleur de fond d'un champ Image est transparente. Pour modifier la couleur de fond d'un champ Image, utilisez la propriété [CouleurFond](../Proprietes/2510022.md).
<a name="NOTE0_3"></a>


### Coordonnées
<a name="coordonnees_ELTPARAGRAPHE000343"></a>Les coordonnées sont indiquées par rapport au coin haut gauche du champ Image ou de l'image (coordonnées (0,0)).
Les coordonnées correspondent au point haut gauche du rectangle dans lequel le texte sera dessiné. L'emplacement précis du texte dans ce rectangle dépend de la taille, de la forme et des attributs de la police.
<a name="NOTE0_3_bis"></a>


### Gestion du '&'
<a name="gestion_ELTPARAGRAPHE000370"></a>Le paramètre &lt;Gestion du & &gt; permet de gérer la présence du caractère '&'. 
Exemple : 

- le "&" ne doit pas être interprété comme opérateur de soulignement. Par exemple : 
	
	```wl
	dTexte(10, 10, "Lui&Moi", RougeClair, Vrai)
	```

	affichera "Lui&Moi".

- le "&" doit être interprété comme opérateur de soulignement : le caractère qui suit le caractère "&" sera souligné. Par exemple : 
	
	```wl
	dTexte(10, 10, "&Saisie", RougeClair, Faux)
	```

	affichera "<u><u><u><u>S</u></u></u></u>aisie".



<a name="NOTE0_4"></a>


### Utilisation des fonctions de dessin
<a name="utilisation_des_fonctions_dessin_ELTPARAGRAPHE000660"></a>Les fonctions de dessin peuvent être utilisées selon 2 méthodes :

- **Méthode 1 : Utilisation de la fonction dDébutDessin**

	- La fonction [dDébutDessin](../WDLang1/3029009.md) doit être appelée avant toute autre fonction de dessin. La fonction [dDébutDessin](../WDLang1/3029009.md) permet de définir l'élément (champ Image ou variable) sur lequel les fonctions de dessin vont intervenir.

	- Dans le cas du dessin sur un champ Image : 

		- Les fonctions de dessin travaillent sur une copie ("bitmap") de l'image. Vous pouvez utiliser les fonctions de dessin de Windows (grâce à la fonction [API](../WDLang1/3014005.md) ou [AppelDLL32](../WDLang1/3014003.md)) mais ces fonctions doivent utiliser le DC (Device Context) renvoyé par la fonction [dDébutDessin](../WDLang1/3029009.md).

		- La fonction [dFinDessin](../WDLang1/3029019.md) ne doit pas être appelée dans le même traitement que la fonction [dDébutDessin](../WDLang1/3029009.md).
						Si la fonction [dFinDessin](../WDLang1/3029019.md) est appelée dans le même traitement que la fonction [dDébutDessin](../WDLang1/3029009.md), le dessin n'apparaîtra pas : il sera automatiquement effacé.




- ![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) **Méthode 2 : indication de la destination du dessin directement dans la syntaxe (via un paramètre)**
	Le paramètre &lt;Image&gt; permet de spécifier directement la destination du dessin. La fonction [dDébutDessin](../WDLang1/3029009.md) devient inutile. Cette fonction doit être supprimée.
	



<a name="NOTE0_5"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Limitations
<a name="limitations_ELTPARAGRAPHE000480"></a>En mode anti-aliasing (fonction [dChangeMode](../WDLang1/3029010.md)) ou en mode opacité (fonction [dDébutDessin](../WDLang1/3029009.md)), la fonction **dTexte** est disponible uniquement pour les polices TrueType.

<a name="NOTE0_6"></a>
<a name="NOTE0_7"></a>


- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Lesfonctionsdedessin.gif) ***Exemples unitaires (WINDEV)*** : **Les fonctions de dessin** <br>Utilisation des principales fonctions de dessin de WINDEV pour :<br>- Initialiser un champ Image pour dessiner<br>- Dessiner des figures simples<br>- Ecrire un texte dans un dessin<br>- Changer la couleur dans un dessin

<a name="XComposante"></a>

## Classification Métier / UI :
Code neutre
## Composante :
wd280pnt.dll
