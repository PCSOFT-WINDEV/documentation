


## Animer les fenêtres d'une application WINDEV
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000248"></a>
Pour doter vos applications d'un côté ludique ou étonner favorablement un utilisateur au lancement, les fenêtres peuvent être animées à leur ouverture et/ou à leur fermeture : une fenêtre peut s'ouvrir en tournant, en venant du fond de l'écran, ... (un peu comme des effets de montage vidéo).

L'effet peut être fixé ou aléatoire.

Cette fonctionnalité peut être définie dans les options du projet, dans la description de la fenêtre ou par programmation.

Si une fenêtre charge de nombreux éléments, une "animation" (qui s'effectue indépendamment des traitements en cours) permet à l'utilisateur de patienter sans s'en rendre compte !

Cette fonctionnalité est à utiliser avec parcimonie, pour ne pas agacer l'utilisateur. Vous pouvez par exemple la réserver à la première fenêtre de l'application ou demander de n'afficher qu'une fenêtre sur 20 avec un effet visuel.

**Remarque** : Le menu contextuel des fenêtres (FAA) permet à l'utilisateur de supprimer à tout moment les animations de fenêtres (option "Désactiver les animations de fenêtres"). Pour plus de détails, consultez [Fonctionnalité automatique : Désactiver l'animation](#NOTE2_4).

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Comment le faire ?
<a name="comment_faire_ELTTEXTE000272"></a>


### Paramétrer l'animation des fenêtres au niveau du projet
<a name="parametrer_animation_des_fenetres_niveau_projet_ELTPARAGRAPHE000031"></a>Pour paramétrer l'animation des fenêtres au niveau du projet :

1. Affichez la fenêtre de description du projet : sous le volet "Projet", dans le groupe "Projet", cliquez sur "Description".

2. Dans l'onglet "Avancé", cliquez sur le bouton "Animations des fenêtres".

3. La fenêtre qui s'affiche permet de paramétrer l'animation :

	- de la première fenêtre du projet.

	- de toutes les fenêtres du projet.







Pour paramétrer **l'animation de la première fenêtre du projet** : 

1. Choisissez l'animation à effectuer (ouverture ou fermeture) et cliquez sur le lien "Aucune".

2. Dans la fenêtre qui s'ouvre, cochez l'option "Activer l'animation" et sélectionnez les paramètres de l'animation : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Anim_Fenetre2.gif)


	- Durée de l'animation (en centièmes de seconde).

- Type d'animation (si le mode choisi est aléatoire, le choix de l'animation sera automatiquement effectué par l'application, à chaque lancement de la fenêtre).

3. Il est possible de visualiser immédiatement les paramètres choisis grâce au bouton "Prévisualisation".

4. Il est également possible d'appliquer l'animation choisie à la fenêtre en cours (cochez l'option "Animer cette fenêtre de description").

5. Validez.


Remarque : Il est bien entendu nécessaire qu'une fenêtre soit définie comme "Première fenêtre du projet".

Pour paramétrer **l'animation de toutes les fenêtres du projet** : 

1. Choisissez l'animation à effectuer (ouverture ou fermeture) et cliquez sur le lien "Aucune".

2. Dans la fenêtre qui s'ouvre, cochez l'option "Activer l'animation" et sélectionnez les paramètres de l'animation :

	- Durée de l'animation (en centièmes de seconde).

	- Type d'animation (si le mode choisi est aléatoire, le choix de l'animation sera automatiquement effectué par l'application, à chaque lancement de la fenêtre).




3. Il est possible de visualiser immédiatement les paramètres choisis grâce au bouton "Prévisualisation".

4. Il est également possible d'appliquer l'animation choisie à la fenêtre en cours (cochez l'option "Animer cette fenêtre de description").

5. Validez.

6. Indiquez la fréquence des animations :

	- **Toujours** : l'animation sera toujours effectuée sur chaque fenêtre de l'application.

	- **Souvent** : l'animation sera effectuée environ à chaque ouverture/fermeture d'une fenêtre sur dix.

	- **Rarement** : l'animation sera effectuée environ à chaque ouverture/fermeture d'une fenêtre sur trente.

	- Fréquence personnalisée.





Remarque : Ce paramétrage est pris en compte uniquement pour les fenêtres qui ne sont pas paramétrées individuellement. Par exemple :

- si l'animation d'ouverture de toutes les fenêtres du projet correspond à "Aucune" mais qu'une animation d'ouverture a été paramétrée au niveau de la fenêtre "FEN_Client", cette animation sera quand même effectuée lors de l'ouverture de la fenêtre "FEN_Client".

- si l'animation d'ouverture de toutes les fenêtres du projet correspond à "Personnalisée" et qu'une animation d'ouverture a également été paramétrée au niveau de la fenêtre "FEN_Client", c'est l'animation définie au niveau de la fenêtre "FEN_Client" qui sera effectuée lors de son ouverture.



<a name="NOTE2_2"></a>


### Paramétrer l'animation des fenêtres au niveau des fenêtres
<a name="parametrer_animation_des_fenetres_niveau_des_fenetres_ELTPARAGRAPHE000121"></a>Pour paramétrer l'animation des fenêtres au niveau des fenêtres : 

1. Ouvrez la fenêtre à animer sous l'éditeur de fenêtres.  

2. Affichez la description de la fenêtre (option "Description" du menu contextuel).

3. Dans l'onglet "Détail", choisissez l'animation à effectuer (ouverture ou fermeture) et cliquez sur le lien "Aucune".

4. Dans la fenêtre qui s'ouvre, cochez l'option "Activer l'animation" et sélectionnez les paramètres de l'animation : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Anim_Fenetre2.gif)


	- Durée de l'animation (en centièmes de seconde).

- Type d'animation (si le mode choisi est aléatoire, le choix de l'animation sera automatiquement effectué par l'application, à chaque lancement de la fenêtre).

5. Il est possible de visualiser immédiatement les paramètres choisis grâce au bouton "Prévisualisation".

6. Il est également possible d'appliquer l'animation choisie à la fenêtre en cours (cochez l'option "Animer cette fenêtre de description").

7. Validez.




**Remarque** : Ce paramétrage est pris en compte pour la fenêtre en cours même si un paramétrage différent est spécifié au niveau du projet.
<a name="NOTE2_3"></a>


### Paramétrer l'animation des fenêtres par programmation
<a name="parametrer_animation_des_fenetres_par_programmation_ELTPARAGRAPHE000154"></a>Le WLangage met à votre disposition plusieurs fonctions permettant de paramétrer l'animation des fenêtres :



|   |   |
| --- | --- |
| [FenAnimationFermeture](../WDLang1/3038050.md) | Modifie le type et la durée des animations utilisées lors de la fermeture des fenêtres de l'application. |
| [FenAnimationOuverture](../WDLang1/3038051.md) | Modifie le type et la durée des animations utilisées lors de l'ouverture des fenêtres de l'application. |
| [FenAnimationSuivante](../WDLang1/3038052.md) | Modifie le type et la durée des animations utilisées lors de l'ouverture et de la fermeture de la prochaine fenêtre. |





Ces fonctions peuvent être utilisées sur des fenêtres dont l'animation n'a pas été paramétrée autrement (depuis l'éditeur de projet ou l'éditeur de fenêtres par exemple).

La fonction [FenDésactiveEffet](../WDLang1/1000017172.md) permet de désactiver l'animation des fenêtres (par exemple sur un poste en TSE, utilisant une bande passante faible).
<a name="NOTE2_4"></a>


### Fonctionnalité automatique : Désactiver l'animation
<a name="fonctionnalite_automatique_desactiver_animation_ELTPARAGRAPHE000169"></a>Par défaut, l'utilisateur peut à tout moment désactiver l'animation des fenêtres grâce à l'option "Désactiver les animations de fenêtres" du menu contextuel de la fenêtre. Cette option permet de ne pas utiliser l'animation de fenêtres sur toutes les fenêtres du projet. 

**Pour ne pas proposer cette option dans le menu contextuel des fenêtres**, il est possible : 

- soit de désactiver l'option pour toutes les fenêtres du projet : 

	1. Sous le volet "Projet", dans le groupe "Projet", cliquez sur "Description". La fenêtre de description du projet apparaît. 

	2. Dans l'onglet "Avancé", cliquez sur "Menu des FAA". 

	3. Sélectionnez l'élément "Fenêtre" et décochez l'option "Désactiver les animations de fenêtres". 




- soit de désactiver l'option ponctuellement, par programmation grâce à la fonction [FAADésactive](../WDLang1/1000022018.md) utilisée avec la constante *faaDésactiveAnimationFenêtre*.





- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Animationlorsdel'ouvertureoudelafermeturedesfenetres.gif) ***Exemples unitaires (WINDEV)*** : **Animation lors de l'ouverture ou de la fermeture des fenêtres** <br>Utilisation des animations de fenêtre (ouverture ou fermeture).<br>Vous pouvez également visualiser les différentes animations disponibles. <br>Vous pouvez modifier les différents paramètres comme par exemple la durée de l'animation.


