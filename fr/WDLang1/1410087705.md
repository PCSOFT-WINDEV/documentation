
## AppliDétecteMAJDisponible (Fonction)

***En anglais : AppDetectUPDAvailable***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Désactive ou personnalise la détection des mises à jour disponibles. 
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
AppliDétecteMAJDisponible(MiseAJourDisponible)
	PROCEDURE INTERNE MiseAJourDisponible(MiseAJour, Version)
		SI MiseAJour = appMAJDispoObligatoire ALORS
			ToastAffiche("Une mise à jour obligatoire est disponible (" + Version + ").")
		FIN
	FIN
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`AppliDétecteMAJDisponible(<Procédure WLangage>)`
---

**`<Procédure WLangage> : (Nom de procédure)`**

Nom de la procédure WLangage ("callback")  appelée lorsqu'une mise à jour de l'application en cours d'exécution est détectée. Pour plus de détails sur cette procédure, consultez [Paramètres de la procédure utilisée par la fonction AppliDétecteMAJDisponible](../WDLang1/1410087706.md).



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Détection automatique des mises à jour disponibles
<a name="detection_automatique_des_mises_jour_disponibles_ELTPARAGRAPHE000038"></a>L'application vérifie régulièrement si une mise à jour réseau est disponible. 
Rappel : le délai de vérification est paramétrable depuis l'application WDAdminExe ou par la fonction [AppliChangeParamètre](../WDLang1/1000017260.md). 

Si une mise à jour est disponible, une notification Windows sera affichée uniquement si l'utilisateur est en train d'utiliser l'application.

- **En cas de mise à jour facultative**, le message de la notification est le suivant : 
	Une mise à jour facultative de l'application '&lt;nom de l'application&gt;' est disponible. Pour installer cette mise à jour, fermez puis relancez l'application.

- **En cas de mise à jour obligatoire**, le message de la notification est le suivant : 
	Une mise à jour obligatoire de l'application '&lt;nom de l'application&gt;' est disponible. Pour installer cette mise à jour, fermez puis relancez l'application.


Ces messages ne sont pas modifiables ni paramétrables. 

Le mécanisme de détection des mises à jour disponibles est systématiquement actif. 
**Remarques** : 

- Si l'utilisateur a refusé l'installation d'une mise à jour facultative au lancement de l'application, cette version ne sera pas proposée par le mécanisme de notification. 

- Les notifications de mise à jour obligatoire sont affichées toutes les 5 minutes si la mise à jour n'est pas effectuée. 

- Les notifications d'une mise à jour facultative ne sont réaffichées si la mise à jour n'est pas effectuée. Elle sera proposée uniquement au prochain lancement de l'application.






Gestion des notifications : 

- Si l'application utilise une icône dans le "SysTray", cette dernière sera utilisée pour faire remonter la notification. 

- Si l'application n'utilise pas d'icône dans le "SysTray", une icône sera créée pour faire remonter la notification. L'icône créée sera différente entre les mises à jour facultatives et les mises à jour obligatoires. 





### Personnalisation de la détection automatique avec la fonction AppliDétecteMAJDisponible
<a name="personnalisation_detection_automatique_avec_fonction_docparampagetitleshort_ELTPARAGRAPHE000080"></a>Le paramètre &lt;Procédure WLangage&gt; permet de personnaliser l'action effectuée lors de la détection de la mise à jour. Son action remplace l'affichage de la notification Windows. Cette procédure peut par exemple : 

- ne rien faire : dans ce cas, l'utilisateur ne sera pas informé qu'une mise à jour est disponible. 

- faire une action spécifique (afficher un toast explicatif par exemple). Cette action remplacera la notification Windows. 








<a name="XComposante"></a>

## Composante :
wd280std.dll
