
## CaméraLanceAppli (Fonction)

***En anglais : CameraRunApp***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Lance l'application caméra native de l'appareil afin d'enregistrer une vidéo ou de prendre une photo.

**Remarques** : 

- ![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png) La fonction **CaméraLanceAppli** doit être exécutée dans un thread. 

- Dans une application WINDEV, la fonction [CaméraCapture](../WDLang1/1000022450.md) peut être utilisée pour obtenir une vidéo ou prendre une photo en utilisant la caméra du périphérique. 

- Cette fonction est équivalente à la fonction [VidéoLanceAppli](../WDLang1/1000019368.md). 





<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
sPhoto est une chaîne
sPhoto = CaméraLanceAppli(viCaptureImage)
SI sPhoto <> "" ALORS
	Info("Photo sauvegardée dans le fichier " + sPhoto)
FIN
```


<a name="Exemple2"></a>

```wl
nTypeEnregistrement est un entier

// Laisse l'utilisateur décider du type de capture
SI Dialogue("Souhaitez-vous enregistrer une image ou une vidéo ?", ["Une image", ...
	"Une vidéo"], 1, 2, dlgIcôneQuestion) = 1 ALORS
	nTypeEnregistrement = viCaptureImage
SINON
	nTypeEnregistrement = viCaptureVidéo
FIN

// Lance l'application
CaméraLanceAppli(nTypeEnregistrement, CaméraLanceAppli_Callback)

PROCEDURE INTERNE CaméraLanceAppli_Callback(sChemin est une chaîne)

	// Si le retour vaut chaîne vide (""), une erreur a eu lieu
	SI sChemin ~= "" ALORS
		Erreur(ErreurInfo())
		RETOUR
	FIN

	// Message de fin d'enregistrement
	Info("Le fichier a été enregistré ici : " + sChemin)
FIN
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

### Lancer l'application caméra native (appel bloquant)

`<Résultat> = CaméraLanceAppli([<Type de capture>])`
---

**`<Résultat> : (Chaîne de caractères)`**



- Chemin complet du fichier dans lequel la photo ou la vidéo a été enregistrée, 

- Chaîne vide ("") en cas d'erreur. Pour plus de détails sur l'erreur, utilisez la fonction [ErreurInfo](../WDLang1/3013008.md).




**`<Type de capture> : (Constante optionnelle de type entier)`**

Type de capture :


|   |   |
| --- | --- |
| *viCaptureImage* | Enregistrement d'une photo. |
| *viCaptureVidéo*<br>(Valeur par défaut) | Capture d'une séquence vidéo. |




<a name="SYNTAXE2"></a>

### Lancer l'application caméra native (appel non bloquant)

`<Résultat> = CaméraLanceAppli([<Type de capture> [, <Procédure WLangage>]])`
---

**`<Résultat> : (Booléen)`**



- <u><u><u><u>Vrai</u></u></u></u> si la photo ou la vidéo a été enregistrée, 

- <u><u><u><u>Faux</u></u></u></u> dans le cas contraire. Pour plus de détails, utilisez la fonction [ErreurInfo](../WDLang1/3013008.md).




**`<Type de capture> : (Constante optionnelle de type entier)`**

Type de capture :


|   |   |
| --- | --- |
| *viCaptureImage* | Enregistrement d'une photo. |
| *viCaptureVidéo*<br>(Valeur par défaut) | Capture d'une séquence vidéo. |



**`<Procédure WLangage> : (Nom de procédure)`**

Nom de la procédure WLangage (également nommée "callback") appelée lors de l'enregistrement de la photo ou de la vidéo.
Pour plus de détails sur cette procédure, consultez [Paramètres de la procédure utilisée par la fonction CaméraLanceAppli](../WDLang1/1000024790.md). 



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Photos et vidéos enregistrées
<a name="photos_videos_enregistrees_ELTPARAGRAPHE000114"></a>Les paramètres des photos et des vidéos enregistrées (format, résolution, taille) sont ceux définis dans le paramétrage de l'application native de prise de photos.

Si vous souhaitez afficher la photo dans un champ image il vous faudra cocher dans la description de ce champ image, volet "Détail", l'option "Orienter selon les données EXIF de l'image".


<a name="NOTE0_2"></a>


### Répertoires de sauvegarde
<a name="repertoires_sauvegarde_ELTPARAGRAPHE000124"></a>

![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png) **Dans les applications en mode Windows Store apps**, par défaut les photos et les vidéos sont enregistrées dans le répertoire "TempState" de l'application. 
<a name="NOTE0_3"></a>
![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png) 

### Fonctionnalité d'application requise
<a name="fonctionnalite_application_requise_ELTPARAGRAPHE000163"></a>L'utilisation de cette fonction entraîne la déclaration de plusieurs fonctionnalités d'application dans l'assistant de génération de l'application.

Fonctionnalités requises : 

- Microphone : Cette fonctionnalité permet aux applications d'effectuer des enregistrements audio. 

- WebCam : Cette fonctionnalité permet aux applications d'effectuer des captures de vidéos ou de photos. 










<a name="XComposante"></a>

## Classification Métier / UI :
Code UI
## Composante :
wd280android.aar


