
## Gérer des alphabets spécifiques dans des fichiers de données HFSQL
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000172"></a>
Lorsqu'une application permet d'afficher ou d'enregistrer des données dans des fichiers HFSQL, ces données sont saisies dans la langue en cours.

Si l'application est utilisée dans un pays utilisant des alphabets latins, aucune gestion spécifique n'est nécessaire.

Si l'application est utilisée dans un pays utilisant un alphabet spécifique, il est nécessaire de gérer cet alphabet également au niveau des fichiers de données. Ainsi, la plupart des manipulations (recherches, tris, ...) seront effectuées en fonction de l'alphabet choisi.



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Définir l'alphabet d'un fichier de données
<a name="definir_alphabet_fichier_donnees_ELTTEXTE000202"></a>


### Définir l'alphabet utilisé par un fichier de données
<a name="definir_alphabet_utilise_par_fichier_donnees_ELTPARAGRAPHE000024"></a>Pour définir l'alphabet utilisé par un fichier de données : 

1. Définissez l'alphabet utilisé avec la fonction [ChangeAlphabet](../WDLang1/3054001.md).

2. Créez le fichier de données avec la fonction [HCréation](../WDLang4/3044255.md) (ou [HCréationSiInexistant](../WDLang4/3044254.md)). Utilisez dans ces fonctions la constante *hChangeAlphabet* pour prendre en compte l'alphabet spécifié avec la fonction [ChangeAlphabet](../WDLang1/3054001.md).




Toutes les fonctions de recherche, de tris, et autres utiliseront les spécificités de l'alphabet sélectionné.


<a name="NOTE2_2"></a>


### Remarques et limitations
<a name="remarques_limitations_ELTPARAGRAPHE000049"></a>

- La taille des rubriques de type chaîne spécifiée dans l'analyse est une taille en octets et non en caractères. Selon l'alphabet utilisé, il peut être nécessaire d'augmenter la taille de la rubrique (par exemple si les caractères utilisés sont codés sur 2 octets).

- L'alphabet du fichier de données doit toujours être identique à l'alphabet spécifié par la fonction [ChangeAlphabet](../WDLang1/3054001.md). Si ce n'est pas le cas, lors de l'accès à un index de type chaîne (chaîne, caractère, date, heure) :

	- Lecture et recherche d'un enregistrement : aucune erreur ne sera affichée. Cependant, les données lues ne correspondront pas aux données attendues.

	- Modification d'un enregistrement (ajout, modification suppression d'un enregistrement ou enregistrement rayé) : une erreur WLangage sera affichée.




- Il est impossible de faire une requête avec des jointures sur des rubriques texte utilisant des alphabets différents.

- L'ordre de tri dans les index HFSQL ne prendra pas en compte les "doubles-lettres" (CH en espagnol ou LJ en croate par exemple).

- ![HFSQL Client/Serveur](https://doc.pcsoft.fr/ext/images/fr/HFCS.png) En HFSQL Client/Serveur, seul l'ordre de tri des langues suivantes est géré : français, arabe, chinois, coréen, estonien, grec, hébreu, japonais, polonais, russe, thaïlandais, turc et vietnamien.





<a name="NOTE2_3"></a>


### Exemple : Création d'un fichier de données en Hébreu
<a name="exemple_creation_fichier_donnees_hebreu_ELTPARAGRAPHE000069"></a>


```wl
// Langue utilisée dans l'application : l'Hébreu
Nation(nationHébreux)
// Changement d'alphabet
ChangeAlphabet(alphabetHébreu)
// Création du fichier de données 
// avec prise en compte du changement d'alphabet
HCréation(Azaa, "", "", "", hChangeAlphabet)
// Saisie d'un enregistrement
Azaa.toto = "ñéâëðéçìòëðâëêðéò"
HAjoute(Azaa)
```




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Changer l'alphabet d'un fichier de données
<a name="changer_alphabet_fichier_donnees_ELTTEXTE000238"></a>
Dans certains cas, il peut être nécessaire de changer l'alphabet d'un fichier de données sans pour autant le re-créer complètement. Par exemple :

- un fichier de données a été traduit.

- un fichier de données est rempli lors de l'installation d'une application avec les données correspondant à la langue d'installation.

- ...





<a name="NOTE3_2"></a>


### Modifier l'alphabet utilisé pour les recherches et les tris
<a name="modifier_alphabet_utilise_pour_les_recherches_les_tris_ELTPARAGRAPHE000089"></a>Pour modifier l'alphabet utilisé pour les recherches et les tris : 

1. Spécifiez l'alphabet à utiliser avec la fonction [ChangeAlphabet](../WDLang1/3054001.md).

2. Ré-indexez le fichier de données avec la fonction [HRéindexe](../WDLang4/3044133.md). Utilisez la constante *hChangeAlphabet* pour prendre en compte l'alphabet spécifié avec la fonction [ChangeAlphabet](../WDLang1/3054001.md).






<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Connaître l'alphabet d'un fichier de données
<a name="connaitre_alphabet_fichier_donnees_ELTTEXTE000268"></a>


### Comment le faire ? 
<a name="comment_faire_ELTPARAGRAPHE000111"></a>Pour connaître l'alphabet utilisé par un fichier de données, utilisez la propriété [Alphabet](../Proprietes/2512008.md) sur le fichier de données HFSQL voulu.


<a name="NOTE4_2"></a>


### Exemple : Changement des polices utilisées selon l'alphabet du fichier de données lu
<a name="exemple_changement_des_polices_utilisees_selon_alphabet_fichier_donnees_ELTPARAGRAPHE000122"></a>


```wl
HOuvre(Client)
LangueFichier est un entier = Client.Alphabet
// Change l'alphabet affiché en fonction du format du fichier de données
SELON LangueFichier
	CAS alphabetArabe : ChangeAlphabet(alphabetArabe)
	CAS alphabetDéfaut : ChangeAlphabet(alphabetDéfaut)
	CAS alphabetGrec : ChangeAlphabet(alphabetGrec)
	CAS alphabetHébreu : ChangeAlphabet(alphabetHébreu)
	CAS alphabetOccidental : ChangeAlphabet(alphabetOccidental)
	CAS alphabetRusse : ChangeAlphabet(alphabetRusse)
	CAS alphabetTurc : ChangeAlphabet(alphabetTurc)
	AUTRES CAS
		// On passe en caractère occidental
	  	ChangeAlphabet(alphabetOccidental)
FIN
```





