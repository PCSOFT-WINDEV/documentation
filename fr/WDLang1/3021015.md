


## Dialogue (Fonction)

***En anglais : Dialog***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Affiche une boîte de message et renvoie la valeur du bouton cliqué par l'utilisateur.
<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=fonctions_dialogue%20-%20HC%20N%B0009.gif)


Remarques : 

- **Cette fenêtre d'avertissement est bloquante**. Pour continuer l'exécution de l'application, l'utilisateur doit valider un des boutons. 
	![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Pour ne pas bloquer l'application, utilisez la fonction [DialogueAsynchrone](../WDLang1/1000025310.md).

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) WINDEV permet d'appliquer le gabarit de votre projet à cette boîte de dialogue. Pour plus de détails, consultez [Personnaliser les boîtes de dialogue](../WDLang1/3021003.md).





<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Attention : Cet exemple ne doit pas être copié directement.
// Le code suivant est généré par l'assistant.
SELON Dialogue("Voulez-vous enregistrer les modifications dans le fichier %1?", MaSource)
	// Oui
	CAS 1 : 
		Procédure_Sauve()
FIN
```
<a name="Exemple2"></a>

```wl
// Attention : Cet exemple ne doit pas être copié directement.
// Le code suivant est généré par l'assistant.
SI Dialogue(ChaîneConstruit("Voulez-vous enregistrer les modifications dans le fichier %1 ?", ...
		MaSource), ["Oui - Enregistrer","Non"], 1, 2, dlgIcôneQuestion) = 1 ALORS
	Procédure_Sauve()
FIN
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

### Syntaxe avec utilisation de l'assistant

`<Résultat> = Dialogue(<Identifiant du message> [, <Paramètre 1> [, <Paramètre N>]])`
---

**`<Résultat> : (Entier)`**

Identifie la réponse sélectionnée par l'utilisateur. Cette réponse dépend du message choisi. Les différentes valeurs correspondant aux différentes réponses sont automatiquement intégrées en commentaires dans l'éditeur de code lors de la sélection du message.

**`<Identifiant du message> : (Entier)`**

Identifie la question posée à l'utilisateur ainsi que les différentes réponses possibles.

**`<Paramètre 1> : (Chaîne de caractères optionnelle)`**

Si le message choisi contient des éléments paramétrables (identifiés par %1, %2, ...), ce paramètre permet de donner la valeur voulue à l'élément paramétrable 1. Ainsi la valeur de &lt;Paramètre 1&gt; remplacera %1.
$~ ... |

**`<Paramètre N> : (Chaîne de caractères optionnelle)`**

Si le message choisi contient des éléments paramétrables (identifiés par %1, %2, ...), ce paramètre permet de donner la Nième valeur voulue à l'élément paramétrable N. Ainsi la valeur de &lt;Paramètre N&gt; remplacera %N.


<a name="SYNTAXE2"></a>

### Syntaxe directe

`<Résultat> = Dialogue(<Question> , <Libellés des boutons> [, <Bouton par défaut> [, <Bouton d'annulation> [, <Icône>]]])`
---

**`<Résultat> : (Entier)`**

Identifie la réponse sélectionnée par l'utilisateur. Cette réponse dépend du message choisi.

**`<Question> : (Chaîne de caractères)`**

Question posée à l'utilisateur.

**`<Libellés des boutons> : (Tableau)`**

Nom de la variable de type Tableau contenant les libellés des boutons.

**`<Bouton par défaut> : (Entier)`**

Indice du bouton sélectionné par défaut. Par défaut, ce paramètre vaut 1.

**`<Bouton d'annulation> : (Entier)`**

Indice du bouton d'annulation. Par défaut, ce paramètre correspond à l'indice du dernier bouton.

**`<Icône> : (Chaîne de caractères ou constante de type Entier)`**

Icône affichée. Ce paramètre peut correspondre : 

- au chemin du fichier correspondant à l'icône affichée. 

- à une des constantes suivantes : 
	


|   |   |
| --- | --- |
| *dlgIcôneErreur* | Icône représentant une erreur. |
| *dlgIcôneInfo*<br>(Valeur par défaut) | Icône représentant une information. |
| *dlgIcôneQuestion* | Icône représentant une question. |








<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Utilisation de la syntaxe avec assistant
<a name="utilisation_syntaxe_avec_assistant_ELTPARAGRAPHE000155"></a>Pour utiliser cette syntaxe, il est nécessaire d'utiliser [l'assistant](../WDLang1/3021020.md) proposé lors de l'écriture du nom de la fonction sous l'éditeur de code (option "&lt;Assistant&gt;" proposée par la [saisie assistée](../Editeurs/2013001.md)). Cet assistant permet de saisir les différents paramètres de la boîte de dialogue qui sera utilisée. Cette fonction ne peut pas être utilisée si la fenêtre de dialogue n'est pas construite avec l'assistant.

Pour lancer l'assistant :

1. Sous l'éditeur de code, saisissez "Dialogue(".

2. Cliquez sur l'option "Assistant". L'assistant se lance. Passez à l'étape suivante.

3. Choisissez une question existante ou créez une nouvelle question (option &lt;Cliquez ici pour créer une nouvelle question&gt;). Passez à l'étape suivante.

4. Si vous avez choisi de créer une question, un écran apparaît. Cet écran permet de saisir les différents paramètres de la boîte de dialogue utilisée pour poser la question. Vous pouvez indiquer :

	- Le texte de la question,

	- L'image de la boîte de dialogue,

	- Les différents boutons permettant à l'utilisateur de répondre.




5. Validez l'écran de définition de la question. Le code correspondant est automatiquement inséré dans l'éditeur de code. Appuyez à nouveau sur la touche ENTREE du clavier. Le code complet est ajouté sous l'éditeur de code. Il est possible de modifier les caractéristiques de la boîte de dialogue grâce à l'icône située à côté du texte de la question.



<a name="NOTE0_2"></a>


### Caractéristiques de la boîte de dialogue
<a name="caracteristiques_boite_dialogue_ELTPARAGRAPHE000182"></a>

- Le titre de la boîte de dialogue correspond au titre de la fenêtre (ou page) en cours.
	

- Pour modifier ou définir le titre de la boîte de dialogue, utilisez la fonction [TitreSuivant](../WDLang1/3038043.md).




- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Le gabarit du projet en cours est automatiquement appliqué à la boîte de dialogue.
	![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Pour que le gabarit du projet soit appliqué à la boîte de dialogue, il faut :

	- appliquer le gabarit aux boîtes de dialogue (option "Personnaliser les fenêtres système (Info, OuiNon, Confirmer, Dialogue)" dans l'onglet "Style" de la fenêtre de description du projet).

	- que la fenêtre "WinDevMessageBox" soit présente dans le projet.


![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png) La boîte de dialogue affichée utilise le look système (le gabarit du projet n'est pas appliqué). 




![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) **Pour personnaliser cette boîte de dialogue** (ainsi que toutes les boîtes de dialogue système de votre application), cochez l'option "Personnaliser les fenêtres système (Info, OuiNon, Confirmer, Dialogue)" dans l'onglet "Style" de la description du projet. Pour plus de détails, consultez [Personnaliser les boîtes de dialogue](../WDLang1/3021003.md).
<a name="NOTE0_3"></a>


### Divers
<a name="divers_ELTPARAGRAPHE000225"></a>

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) La fonction [DélaiAvantFermeture](../WDLang1/3038040.md) limite le temps d'affichage du message. La boîte de dialogue est automatiquement fermée. Pour les boîtes de question ou de confirmation, la réponse attendue correspond au bouton par défaut.

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Pour permettre à l'utilisateur de saisir une valeur dans une boîte de dialogue, utilisez la fonction [Saisie](../WDLang1/3021016.md).



<a name="NOTE0_4"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Pilotage
<a name="pilotage_ELTPARAGRAPHE000266"></a>Il est possible de piloter une boîte de dialogue à l'aide de la fonction [PiloteDialogue](../WDLang1/1000009004.md).
<a name="NOTE0_5"></a>



<a name="XComposante"></a>

## Classification Métier / UI :
Code UI
## Composante :
wd280obj.dll
