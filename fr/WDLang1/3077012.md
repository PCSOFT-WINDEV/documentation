
## SémaphoreCrée (Fonction)

***En anglais : SemaphoreCreate***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Crée un sémaphore.

**Rappel** : Les sémaphores permettent de définir une zone de code protégée qui ne peut être exécutée que par un nombre spécifique de threads.




<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Création d'un sémaphore
SémaphoreCrée("MonSémaphore", 3)
```



<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`SémaphoreCrée(<Nom du sémaphore> [, <Autorisation> [, <Utilisation> [, <Options>]]])`
---

**`<Nom du sémaphore> : (Chaîne de caractères)`**

Nom du sémaphore à créer. Ce nom sera utilisé dans toutes les fonctions de gestion des sémaphores.

**`<Autorisation> : (Entier optionnel)`**

Nombre de threads autorisés simultanément dans la zone protégée. Par défaut, ce paramètre est égal à 1.

**`<Utilisation> : (Entier optionnel)`**

Nombre de threads déjà dans la zone au moment de la création du sémaphore (0 par défaut).

**`<Options> : (Constante optionnelle de type Entier)`**

Mode de partage du sémaphore :


|   |   |
| --- | --- |
| *partageAucun* | Le sémaphore est propre à l'application. Si la fonction [SémaphoreDétruit](../WDLang1/3077011.md) n'est pas appelée, le sémaphore est détruit à la fin de l'application.<br><br><br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Les sémaphores sont uniques pour l'application qui les a créés. Ils ne peuvent pas être partagés entre plusieurs applications. |
| *partageGlobal* | Le sémaphore est partagé avec toutes les applications de la machine.<br><br><br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Cette constante n'est pas disponible. |
| *partageUtilisateur*<br>(valeur par défaut) | Le sémaphore est partagé avec toutes les applications de la session de l'utilisateur qui exécute l'application.<br><br><br>![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Cette constante n'est pas disponible. |







<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Mode de partage des sémaphores
<a name="mode_partage_des_semaphores_ELTPARAGRAPHE000118"></a>En mode *partageUtilisateur*, le sémaphore est partagé avec toutes les applications de la session de l'utilisateur qui exécute l'application. 

- Le sémaphore est créé par la première application de la session de l'utilisateur qui appelle la fonction **SémaphoreCrée**.

- Les applications suivantes qui appellent la fonction **SémaphoreCrée** se connectent au sémaphore existant.

- La dernière application qui se ferme détruit le sémaphore.

- Un sémaphore de même nom n'est pas utilisable par une session d'un autre utilisateur sur la même machine : le système renvoie une erreur de droits d'accès.




En mode *partageGlobal*, le sémaphore est partagé avec toutes les applications de la machine.

- Le sémaphore est créé par la première application qui appelle la fonction **SémaphoreCrée**.

- Les applications suivantes qui appellent la fonction **SémaphoreCrée** se connectent au sémaphore existant.

- La dernière application qui se ferme détruit le sémaphore.




<a name="XComposante"></a>

## Composante :
wd280vm.dll
