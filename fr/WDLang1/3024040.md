
## URLEncode (Fonction)

***En anglais : URLEncode***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Encode une URL avec uniquement un sous-ensemble de caractères ASCII. Cette fonction permet de remplacer les caractères interdits dans une URL (accents, espaces, ...). Une URL encodée peut être décodée grâce à la fonction [URLDécode](../WDLang1/3024041.md).

**Remarque** : La validité syntaxique de l'URL n'est pas vérifiée.




<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Encode une URL
URLEncodée = URLEncode("http://mon site/ma page")

// URLEncodée contient maintenant http://mon%20site/ma%20page 
// Les deux espaces ont été transformés en %20
```


<a name="Exemple2"></a>

```wl
MonURL est une chaîne UNICODE = "http://mon site/ma page"
MonURLEncodée est une chaîne

// Encode une URL
MonURLEncodée = URLEncode(MonURL, encodeURLDepuisUnicode)
```


<a name="Exemple3"></a>

```wl
// Encodage d'une URL avec un paramètre de type URL
Info(URLEncode("https://www.google.fr/?", encodeURLDepuisAnsi) + ...
	URLEncode(URLEncode("https://www.google.fr/?é", encodeURLDepuisAnsi), encodeURLParamètre))
```



<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`<Résultat> = URLEncode(<URL> [, <Format d'encodage>])`
---

**`<Résultat> : (Chaîne de caractères)`**

Chaîne de caractères contenant l'URL encodée. Les caractères non acceptables sont transformés en %xx où xx est la valeur hexadécimale de ce caractère.

Cette fonction ne retourne pas de code d'erreur car toutes les chaînes de caractères peuvent être encodées.

**`<URL> : (Chaîne de caractères)`**

URL à encoder (au format ANSI). 

**`<Format d'encodage> : (Constante optionnelle de type Entier)`**

Format d'encodage de l'URL : 


|   |   |
| --- | --- |
| *encodeURLDepuisAnsi* | Format URL. Le texte encodé comporte uniquement des caractères autorisés dans une URL. Le texte à encoder est une chaîne ANSI. |
| *encodeURLDepuisUTF8*<br>(Valeur par défaut) | Format URL. Le texte encodé comporte uniquement des caractères autorisés dans une URL. Le texte à encoder est une chaîne UTF-8. |
| *encodeURLParamètre* | Format URL. Les caractères réservés d'une URL sont encodés pour pouvoir passer une URL en paramètre d'une URL. <br><br>Attention : Il faut auparavant avoir encodé l'URL passée en paramètre avec une des constantes *encodeURLDepuisAnsi* ou *encodeURLDepuisUTF8*. |


![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Ce paramètre n'est pas disponible.



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Caractères admissibles dans une URL encodée
<a name="caracteres_admissibles_dans_une_url_encodee_ELTPARAGRAPHE000113"></a>La liste des caractères admissibles dans une URL encodée est la suivante :




|   |   |   |   |   |
| --- | --- | --- | --- | --- |
| ; | / | ? | : | @ |
| & | = | + | $ | , |
| - | _ | . | ! | ~ |
| \* | ' | ( | \ | ) |
| % | # | les chiffres | les lettres (majuscules et minuscules) |   |


Selon les options, certains de ces caractères pourront être encodés par la fonction. 
<a name="NOTE0_2"></a>




### Cas particuliers
<a name="cas_particuliers_ELTPARAGRAPHE000181"></a>

- L'encodage d'une URL vide (chaîne vide) est une URL vide.

- Cas particulier : le signe % et le signe +

	- Le signe % étant utilisé pour l'encodage décimal, ce caractère est lui-même encodé en décimal.

	- Le signe "+" qui est une alternative à %20 pour encoder un espace est lui-même encodé (pour éviter un mauvais décodage).







<a name="XComposante"></a>

## Composante :
wd280std.dll
