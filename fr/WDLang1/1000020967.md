
## Champ (Type de variable)

***En anglais : Control***
				



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Le type **Champ** permet de définir toutes les caractéristiques d'un champ. Ce champ peut être un champ créé dynamiquement avec la fonction [ChampCrée](../WDLang1/1000020876.md) ou un champ existant dans une fenêtre ou un état. 

![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) La fonction [ChampCrée](../WDLang1/1000020876.md) n'est pas disponible.

**Remarque** : Pour plus de détails sur la déclaration de ce type de variable et l'utilisation des propriétés WLangage, consultez [Déclaration d'une variable](../Motscles/1514032.md).


<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple

![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 
```wl
// Création dynamique d'un champ dans une fenêtre
c est un Champ
c <- ChampCréé("BOUTON_1", typBouton, 30, 40, 140, 20) // Attention, pas '='

c.Libellé = "Cliquez moi"

c.Traitement[trtClic] = maProcédure
```

<a name="NOTE0"></a>

## Remarques
<a name="NOTE0_1"></a>


### Déclaration d'une variable de type Champ
<a name="declaration_une_variable_type_champ_ELTPARAGRAPHE000053"></a>Pour déclarer une variable de type Champ, il suffit d'utiliser la syntaxe suivante : 


```txt
<Nom de la variable> est un Champ
```

<a name="NOTE0_2"></a>


### Affectation d'une variable de type Champ
<a name="affectation_une_variable_type_champ_ELTPARAGRAPHE000062"></a>Une variable de type **Champ** peut être utilisée pour manipuler : 

- un champ existant dans une fenêtre ou un état. 

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) un champ créé avec la fonction [ChampCrée](../WDLang1/1000020876.md). 




L'affectation d'une variable de type Champ doit être réalisée avec l'opérateur '<-'. 

Exemples : 


```wl
// Affectation avec un champ existant
c est un Champ
c <- SAI_Saisie1
```



```wl
// Affectation en utilisant l'indirection
// La variable référence le champ SAI_SAISIE2
c <- {"SAI_SAISIE2"}
```


![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 
```wl
// Affectation avec un champ créé avec la fonction ChampCrée
c est un Champ
c <- ChampCréé("BOUTON_1", typBouton, 30, 40, 140, 20)
```


**Attention** : L'opérateur '=' ne doit pas être utilisé pour l'affectation d'une variable de type **Champ**. Cet opérateur permet de transférer la valeur d'un champ dans un autre champ de même type. Par exemple : 


```wl
// Affectation avec un champ existant
c est un Champ
c <- SAI_Saisie1


// Modification de la valeur 
c = SAI_Saisie3 // Code équivalent : SAI_Saisie1.Valeur = SAI_Saisie3.Valeur

c = "Texte" // Code équivalent : SAI_Saisie1.Valeur = "Texte"
```


**Remarque** : Pour savoir si la variable de type Champ a été affectée, utilisez la propriété [Type](../Proprietes/2510131.md) sur la variable. 
<a name="NOTE0_3"></a>


### Utilisation d'une variable de type Champ dans une procédure
<a name="utilisation_une_variable_type_champ_dans_une_procedure_ELTPARAGRAPHE000101"></a>Le type **Champ** peut être un paramètre d'une procédure. Il est possible par exemple d'écrire : 

- le code de la procédure : 
	
	```wl
	PROCEDURE MaProcédure(C est un Champ)
	C = "Il est " + HeureSys()
	```


- l'appel de la procédure : 
	
	```wl
	MaProcédure(SAI_Saisie1)
	```






<a name="NOTE0_4"></a>


### Optimisation des traitements avec indirection
<a name="optimisation_des_traitements_avec_indirection_ELTPARAGRAPHE000116"></a>Le type **Champ** peut être utilisé pour optimiser les traitements utilisant les indirections. Il est possible par exemple d'écrire : 


```wl
C est un Champ <-{s, indChamp}
C.Largeur = 10
C.Hauteur = 20
```


plutôt que le code suivant : 


```wl
{s, indChamp}..Largeur = 10
{s, indChamp}..Hauteur = 20
```







<a name="NOTE0_5"></a>


### Propriétés associées à une variable de type Champ
<a name="proprietes_associees_une_variable_type_champ_ELTPARAGRAPHE000131"></a>Le type **Champ** permet de manipuler tous les types de champs d'une fenêtre ou d'un état. Les propriétés disponibles dépendent du type de champ manipulé. 

Ainsi, si une variable de type Champ est utilisée pour manipuler un champ de saisie, toutes les propriétés WLangage disponibles sur le champ de saisie sont utilisables sur la variable de type **Champ**. 

Pour connaître les propriétés d'un champ, consultez la page d'aide du champ : le lien "Voir aussi" permet d'accéder à toutes les propriétés du champ. Pour plus de détails, consultez [Champs d'une fenêtre](../WDChamp/1013081.md). 
<a name="NOTE0_6"></a>


### Fonctions manipulant une variable de type Champ
<a name="fonctions_manipulant_une_variable_type_champ_ELTPARAGRAPHE000145"></a>Toutes les fonctions WLangage manipulant des champs peuvent être utilisées sur une variable de type **Champ**. Bien entendu, seules les fonctions WLangage correspondant au type de champ manipulé sont disponibles. 

Ainsi, il est possible d'utiliser les fonctions TableXXX sur une variable de type Champ manipulant un champ Table. 




