


## OuvreFille (Fonction)

***En anglais : OpenChild***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Ouvre une fenêtre fille non modale. La fonction **OuvreFille** permet également de :

- définir la position d'affichage de la fenêtre fille,

- passer des paramètres à la fenêtre fille.




Lors de l'appel de la fonction **OuvreFille**, les événements suivants sont exécutés :

- code "Déclarations globales" de la fenêtre fille,

- codes d'initialisation des champs (l'ordre est indéterminé),

- traitements/événements suivant l'appel de la fonction **OuvreFille** de la fenêtre mère,

- affichage de la fenêtre fille.




**Remarque** : Par défaut, la fenêtre fille conserve le focus une fois ouverte.

![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png) Cette fonction est disponible uniquement pour simplifier la Webisation de projets WINDEV. Dans un site WEBDEV, cette fonction se comporte comme la fonction [PageAffiche](../WDLang2/3058008.md).
<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple
<a class="notetitle" target="_blank" href="$DOC$=1000020349&name=ouvrefille_fonction&product=WD">Voir des exemples supplémentaires</a>

```wl
// Ouverture de la fenêtre fille "FEN_SaisieFenêtre"
// sans positionnement et sans passage de paramètres
OuvreFille(FEN_SaisieFenêtre)
```
<a name="Exemple2"></a>

```wl
// Ouverture de la fenêtre fille "FEN_SaisieFenêtre".
// La valeur du champ "SAI_SaisieClient" est passée en paramètre à l'événement 
// "Déclarations globales" de la fenêtre "FEN_SaisieFenêtre".
OuvreFille(FEN_SaisieFenêtre, SAI_SaisieClient)
```

```wl
// -- Evénement "Déclarations globales" de la fenêtre "FEN_SaisieFenêtre"
// Récupération des paramètres
PROCEDURE FEN_SaisieFenêtre(Client)
HLitRecherche(Client, NomClient, Client)
SI HTrouve() = Vrai ALORS
	FichierVersEcran()
SINON
	Erreur("Aucun client ne correspond")
FIN
```

<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

### Ouvrir une fenêtre fille

`OuvreFille(<Fenêtre> [, <Paramètre 1> [... [, <Paramètre N>]]])`
---

**`<Fenêtre> : (Chaîne de caractères ou nom de fenêtre)`**



- Nom de la fenêtre fille à ouvrir.

- Nom et chemin complet de la fenêtre fille (fichier ".WDW") à ouvrir.
	![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Il n'est pas possible d'indiquer le nom complet du fichier à ouvrir (fichier ".WDW").


![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Pour ne pas donner le focus à la fenêtre ouverte, utilisez la notation &lt;Nom de la fenêtre&gt; + *SansFocus*. Le traitement de prise de focus de la fenêtre fille ne sera pas exécuté. **Attention, dans ce cas, le nom de la fenêtre doit être entre guillemets.**

**`<Paramètre 1> : (Type de la valeur envoyée à la fenêtre (optionnel))`**

Premier paramètre à passer à l'événement "Déclarations globales" de la fenêtre à ouvrir. Ce paramètre est passé par valeur et il est considéré comme une variable globale à la fenêtre.
Ce paramètre ne peut pas correspondre à une variable de type tableau (les tableaux peuvent uniquement être passés par référence).



**`<Paramètre N> : (Type de la valeur envoyée à la fenêtre (optionnel))`**

Nième paramètre à passer à l'événement "Déclarations globales" de la fenêtre à ouvrir. Ce paramètre est passé par valeur et il est considéré comme une variable globale à la fenêtre.
Ce paramètre ne peut pas correspondre à une variable de type tableau (les tableaux peuvent uniquement être passés par référence).


<a name="SYNTAXE2"></a>

### Ouvrir une fenêtre fille en définissant sa position et son niveau d'affichage

`OuvreFille(<Nom de la fenêtre [ + <Niveau>]> [, <Paramètre 1> [... [, <Paramètre N>]]])`
---

**`<Nom de la fenêtre [ + ]> : (Chaîne de caractères + Constante de type entier)`**

Permet d'indiquer : 

- **la fenêtre à ouvrir** (&lt;Nom de la fenêtre&gt;). Ce paramètre peut correspondre au : 

	- Nom de la fenêtre fille à ouvrir.

	- Nom et chemin complet de la fenêtre fille (fichier ".WDW") à ouvrir.
			![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Il n'est pas possible d'indiquer le nom complet du fichier à ouvrir ".WDW".


 Par défaut, la fenêtre est affichée selon la position définie sous l'éditeur. Il est possible de définir la position d'affichage de la fenêtre. Le nom de la fenêtre est alors complété par les coordonnées d'affichage de la fenêtre à son ouverture. Ce paramètre est de la forme :
	
	```txt
	"[<Alias>] = <Nom de la fenêtre> [, <Y>, <X>]"
	```

	où :

- &lt;Alias&gt; : alias de la fenêtre si la même fenêtre est ouverte plusieurs fois.

- &lt;Nom de la fenêtre&gt; : nom de la fenêtre fille à ouvrir. 
			![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Pour ne pas donner le focus à la fenêtre ouverte, utilisez la notation &lt;Nom de la fenêtre&gt; + *SansFocus*. L'événement "Prise de focus" de la fenêtre fille ne sera pas exécuté. **Attention, dans ce cas, le nom de la fenêtre doit être entre guillemets.**

- &lt;Y&gt; : coordonnée verticale (abscisse en pixels) d'affichage de la fenêtre (par rapport au coin haut gauche de l'écran ou de la fenêtre mère).

- &lt;X&gt; : coordonnée horizontale (ordonnée en pixels) d'affichage de la fenêtre (par rapport au coin haut gauche de l'écran ou de la fenêtre mère).

- **le niveau d'affichage de la fenêtre** (&lt;Niveau&gt;) :
	


|   |   |
| --- | --- |
| *Dessus* | Fenêtre ouverte au-dessus de toutes ses fenêtres soeurs. |
| *DessusTout* | Fenêtre ouverte au-dessus de toutes les autres fenêtres (y compris les fenêtres des autres applications).<br>![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Constante non disponible. |


	**Si une de ces constantes est utilisée, le nom de la fenêtre doit obligatoirement être entouré de guillemets.**
	Remarque : Si deux fenêtres sont ouvertes avec la même constante (*Dessus* ou *DessusTout*), la seconde fenêtre sera ouverte au-dessus de la première fenêtre.
	Il est conseillé d'utiliser la fonction [FenEtat](../WDLang1/3038030.md) pour modifier le niveau d'affichage d'une fenêtre.
	![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png) Paramètre non disponible. 




**`<Paramètre 1> : (Type de la valeur envoyée à la fenêtre (optionnel))`**

Premier paramètre à passer à l'événement "Déclarations globales" de la fenêtre à ouvrir. Ce paramètre est passé par valeur et il est considéré comme une variable globale à la fenêtre.
Ce paramètre ne peut pas correspondre à une variable de type tableau (les tableaux peuvent uniquement être passés par référence).



**`<Paramètre N> : (Type de la valeur envoyée à la fenêtre (optionnel))`**

Nième paramètre à passer à l'événement "Déclarations globales" de la fenêtre à ouvrir. Ce paramètre est passé par valeur et il est considéré comme une variable globale à la fenêtre.
Ce paramètre ne peut pas correspondre à une variable de type tableau (les tableaux peuvent uniquement être passés par référence).


<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques


### Paramètres passés à la fenêtre fille à ouvrir
<a name="parametres_passes_fenetre_fille_ouvrir_ELTPARAGRAPHE000231"></a>Les paramètres sont récupérés dans l'événement "Déclarations globales" de la fenêtre. Il suffit d'indiquer en début de code la ligne suivante :

```txt
PROCEDURE <Nom de la fenêtre> (<Paramètre1> [, <Paramètre2> [, ...]])
```


**Ces paramètres sont passés par valeur et non par référence.**

Pour plus de détails, consultez [Fenêtre paramétrée](../WDChamp/1010026.md).


<a name="NOTE0_2"></a>


### Mode d'ouverture de la fenêtre
<a name="mode_ouverture_fenetre_ELTPARAGRAPHE000257"></a>L'ouverture de la fenêtre est non modale :

- la fenêtre fille devient la fenêtre en cours.

- après l'ouverture de la fenêtre fille, les traitements suivants l'appel de la fonction **OuvreFille** dans la fenêtre mère sont exécutés.

- l'utilisateur pourra cliquer dans l'une des fenêtres parentes de la fenêtre ouverte. 
	


![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) **Remarque** : La fonction **OuvreFille** donne le focus à la fenêtre fille. Les codes de prise de focus de la fenêtre fille et de perte de focus de la fenêtre mère sont exécutés. Pour que la fenêtre mère conserve le focus, utilisez la constante *SansFocus* dans le paramètre &lt;Nom de la fenêtre&gt;. 
Pour gérer le MDI, utilisez la fonction [MDIOuvre](../WDLang1/3052005.md).
<a name="NOTE0_3"></a>


### Position de la fenêtre mère
<a name="position_fenetre_mere_ELTPARAGRAPHE000289"></a>La fenêtre mère reste toujours en dessous de la fenêtre fille, même si la fenêtre mère est en saisie.

Si cette situation ne convient pas, il faut ouvrir la fenêtre fille avec la fonction [OuvreSoeur](../WDLang1/3038045.md) (à condition que la fenêtre mère ne soit pas modale).
<a name="NOTE0_4"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Ouverture d'une même fenêtre plusieurs fois
<a name="ouverture_une_meme_fenetre_plusieurs_fois_ELTPARAGRAPHE000305"></a>

- Si une même fenêtre est ouverte plusieurs fois, il est conseillé d'utiliser un alias. Cet alias permet de différencier chaque fenêtre.

- Le positionnement de la fenêtre appelante (relatif à l'écran ou à la fenêtre mère) est choisi lors de la description de la fenêtre sous l'éditeur. Si une même fenêtre est ouverte plusieurs fois (avec un alias), il faut modifier les positions d'affichage à chaque ouverture (sinon les fenêtres seront superposées).

- Le nombre de fenêtres pouvant être ouvertes simultanément dépend de la mémoire disponible.



<a name="NOTE0_5"></a>


### Limitations
<a name="limitations_ELTPARAGRAPHE000316"></a>

- La fonction **OuvreFille** ne doit pas être appelée dans le code d'initialisation d'un projet.
	![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Pour afficher une fenêtre "Splash Screen" au démarrage de l'application, utilisez l'option "Splash Screen" lors de la création de l'exécutable.

- ![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png) La fonction **OuvreFille** ne doit pas être appelée dans le code de fermeture d'une fenêtre fille.



<a name="NOTE0_6"></a>


### Fermeture d'une fenêtre
<a name="fermeture_une_fenetre_ELTPARAGRAPHE000338"></a>Une fenêtre ouverte avec la fonction **OuvreFille** peut être fermée avec la fonction [Ferme](../WDLang1/3038018.md) (sans paramètre) à partir de n'importe quel événement :

- de la fenêtre,

- d'un champ de la fenêtre.




Si une fenêtre mère est fermée, ses fenêtres filles sont également fermées.
<a name="NOTE0_7"></a>


### Titre de la fenêtre à ouvrir
<a name="titre_fenetre_ouvrir_ELTPARAGRAPHE000358"></a>Par défaut, le titre de la fenêtre est celui défini sous l'éditeur.

Pour modifier le titre de la fenêtre, utilisez les fonctions [TitreSuivant](../WDLang1/3038043.md) ou [TitreEnCours](../WDLang1/3038023.md).
<a name="NOTE0_8"></a>


### Ouvrir une fenêtre d'un composant
<a name="ouvrir_une_fenetre_composant_ELTPARAGRAPHE000375"></a>Pour ouvrir une fenêtre d'un composant, il suffit d'utiliser directement le nom de la fenêtre du composant (le composant étant intégré dans le projet). Par exemple :

```wl
OuvreFille(FenêtreDuComposant)
```
En cas de conflit avec un élément du projet, il suffit de préfixer le nom de l'élément par le nom du composant. Par exemple :

```wl
OuvreFille(MonComposant.Fenêtre)
```
Pour utiliser le nom de la fenêtre dans une variable, il est nécessaire de préciser le nom du composant. Par exemple :

```wl
sFenêtre est une chaîne ="MonComposant.MaFenêtre"
OuvreFille(sFenêtre)
```


<a name="XComposante"></a>

## Classification Métier / UI :
Code UI
## Composante :
wd280obj.dll
