


## DécrypteAsymétrique (Fonction)

***En anglais : DecryptAsymmetric***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Décrypte un buffer avec un algorithme clé privée/publique selon le cryptage RSA. Ce message a été préalablement crypté avec la fonction [CrypteAsymétrique](../WDLang1/1000024049.md). 


<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Cryptage d'une chaîne de caractères
// ---------------------------------------
bufACrypter est un Buffer = "Message à crypter"
bufMessageCrypté est un Buffer
sFichierCléPublique est une chaîne = fRepExe() + "\ClePublique.pem"
sMotDePasseCléPublique est une chaîne = "xxx"

bufMessageCrypté = CrypteAsymétrique(bufACrypter, sFichierCléPublique, ...
	sMotDePasseCléPublique, cryptePaddingPKCS1)

// Décryptage  
// -------------
bufMessageCrypté est un Buffer
bufMessageDécrypté est un Buffer
sFichierCléPrivée est une chaîne = fRepExe() + "\ClePrivee.pem"
sMotDePasseCléPrivée est une chaîne = "xxx"

bufMessageDécrypté = DécrypteAsymétrique(bufMessageCrypté, sFichierCléPrivée, ...
	sMotDePasseCléPrivée, cryptePaddingPKCS1)
```

```wl
bufACrypter est un Buffer = ChaîneVersUTF8("?????? Test")
bufCléPrivée est un Buffer
bufCléPublique est un Buffer
(bufCléPrivée, bufCléPublique) = CrypteGénèreCléRSA(1024)
// Cryptage
bufChiffré est un Buffer = CrypteAsymétrique(bufACrypter, bufCléPublique)
bufSign est un Buffer = CertificatSigneChaîne(bufChiffré, bufCléPrivée, "", ...
					certSignatureSeule + certSHA256)
// Décryptage
SI CertificatVérifieChaîne(bufChiffré, bufSign, bufCléPublique, "", "", ...
					certSignatureSeule + certSHA256) ALORS
	bufClair est un Buffer = DécrypteAsymétrique(bufChiffré, bufCléPrivée)
	Trace("Message authentique")
	Trace(UTF8VersChaîne(bufClair))	
SINON
	Trace("Message non authentifié")
FIN
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

`<Résultat> = DécrypteAsymétrique(<Contenu à décrypter> , <Fichier clé privée> [, <Mot de passe> [, <Remplissage>]])`
---

**`<Résultat> : (Buffer)`**

Résultat du décryptage du message spécifié. 

**`<Contenu à décrypter> : (Buffer)`**

Buffer à décrypter. 

**`<Fichier clé privée> : (Chaîne de caractères ou Buffer)`**



- Nom et chemin du fichier correspondant à la clé privée RSA à utiliser pour décrypter. Les formats de clé pem et p12 sont supportés.

- Buffer contenant la clé privée RSA à utiliser pour décrypter. 




**`<Mot de passe> : (Chaîne de caractères optionnelle)`**

Mot de passe du fichier de clé (si nécessaire). 

**`<Remplissage> : (Constante optionnelle de type Entier)`**

Mode de remplissage des données cryptées (utilisé lors du cryptage) pour être compatibles avec la taille requise par les algorithmes de cryptage par blocs :


|   |   |
| --- | --- |
| *cryptePaddingOAEP* | Remplissage effectué selon l'algorithme OAEP (Optimal Asymmetric Encryption Padding). |
| *cryptePaddingPKCS1*<br>(Valeur par défaut) | Remplissage effectué selon l'algorithme PKCS 1 (Public Key Cryptographic Standards). |






- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Chiffrementasymetrique.gif) ***Exemples unitaires (WINDEV)*** : **Chiffrement asymétrique** <br>Utilisation des fonctions WLangage de chiffrement asymétrique (CrypteAsymétrique, DécrypteAsymétrique)

<a name="XComposante"></a>

## Composante :
wd280com.dll
