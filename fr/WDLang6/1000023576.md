
## gpwAjouteAuthLogin (Fonction)

***En anglais : gpwAddAuthLogin***



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
Ajoute un bouton de connexion représentant un type d'identification au Groupware Utilisateur (Facebook, Google, Microsoft, ...) dans la fenêtre ou la page de login du Groupware.

Remarques : 

- Ce paramétrage est autorisé uniquement dans le cas où le Groupware Utilisateur est configuré en lancement manuel.

- Il est nécessaire d'avoir préalablement enregistré l'application dans chaque service utilisé. 



<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
// Se connecter avec Google
GoogleOpenIDParams est un OpenIDParamètres
GoogleOpenIDParams.ClientID = "106034950???????.apps.googleusercontent.com" 
GoogleOpenIDParams.ClientSecret = "oBTQL??????MpiM"
gpwAjouteAuthLogin(GoogleOpenIDParams, gpwGoogle)

// Se connecter avec Facebook
FacebookOAuthParams est un Oauth2Paramètres
FacebookOAuthParams.ClientID = "1702?????741"
FacebookOAuthParams.ClientSecret = "badf00d?????1ce8ecd"
gpwAjouteAuthLogin(FacebookOAuthParams, gpwFacebook)

// Se connecter avec mon domaine perso
PersoOpenIDParams est un OpenIDParamètres
PersoOpenIDParams.ClientID = "1745?????4741"
PersoOpenIDParams.ClientSecret = "dbeefba?????1ce8ecd"
gpwAjouteAuthLogin(PersoOpenIDParams, "DomainePerso", fRepExe() + "\domaineperso.png")

// Ouvre la fenêtre de login du groupware utilisateur 
nRes est un entier = gpwOuvre()
// Si le login a échoué 
SI nRes <> gpwOk ALORS 
	SELON nRes 
		CAS gpwAnnulation : Info("Vous avez cliqué sur le bouton Annuler.")
		CAS gpwErreur : Erreur("Erreur à l'initialisation du groupware.")
		CAS gpwUtilisateurInconnu : Erreur("Utilisateur inconnu.")
		CAS gpwMotPasseInvalide : Erreur("Mot de passe invalide.")
	FIN 
	FinProgramme()
FIN 
// Récupération du prénom de l'utilisateur 
Prénom est une chaîne = gpwRecupInfoUtilisateur(gpwInfoPrénom)
Info("Bienvenue, " + Prénom)
```

<a name="XSYNTAXE"></a>

## Syntaxe
<a name="SYNTAXE1"></a>

### Ajouter un bouton de connexion à un des services disponibles par défaut

`gpwAjouteAuthLogin(<Type d'authentification> , <Type>)`
---

**`<Type d'authentification> : (Variable de type OAuth2Paramètres ou variable de type OpenIDParamètres)`**



- Nom d'une variable de type [OAuth2Paramètres](../WDLang3/1000022212.md) pour s'authentifier sur un service Web implémentant le standard OAuth 2.0.  

- Nom d'une variable de type [OpenIDParamètres](../WDLang3/1000023561.md) pour s'authentifier sur un service Web implémentant le standard OpenID.


Remarque : les propriétés **URLAuth**, **URLRedirection** et **URLToken** sont optionnelles. Les URL par défaut sont utilisées. 

**`<Type> : (Constante de type Entier)`**

Type de Webservice à utiliser : 



|   |   |
| --- | --- |
| *gpwFacebook* | Utilisation d'un compte Facebook. |
| *gpwGoogle* | Utilisation d'un compte Google. |
| *gpwMicrosoft* | Utilisation d'un compte Microsoft MSN. |
| *gpwSalesforce* | Utilisation d'un compte Salesforce. |
| *gpwYahoo* | Utilisation d'un compte Yahoo. |




<a name="SYNTAXE2"></a>

### Ajouter un bouton de connexion personnalisé

`gpwAjouteAuthLogin(<Type d'authentification> , <Libellé> [, <Image>])`
---

**`<Type d'authentification> : (Variable de type OAuth2Paramètres ou variable de type OpenIDParamètres)`**



- Nom d'une variable de type [OAuth2Paramètres](../WDLang3/1000022212.md) pour s'authentifier sur un service Web implémentant le standard OAuth 2.0. 

- Nom d'une variable de type [OpenIDParamètres](../WDLang3/1000023561.md) pour s'authentifier sur un service Web implémentant le standard OpenID. 




**`<Libellé> : (Chaîne de caractères)`**

Libellé du service affiché dans le bouton. 

**`<Image> : (Chaîne de caractères optionnelle)`**

Nom et chemin du fichier image correspondant au logo du service. 

- Cette image peut être à l'un des formats suivants : .ICO, .PNG, .JPG, .GIF. 

- Sa taille doit être 24 x 24 pixels.










<a name="XComposante"></a>

## Classification Métier / UI :
Code neutre
## Composante :
wd280gpu.dll
