


## Champ Table lié à un fichier de données ou à une requête
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000242"></a>
Une champ Table peut être utilisé pour afficher le contenu d'un fichier de données ou d'une requête : un utilisateur peut ainsi sélectionner un ou plusieurs enregistrements de ce fichier de données ou de cette requête.

Un champ Table peut être lié à :

- une requête ***existante*** : il suffit de sélectionner cette requête parmi les requêtes de votre projet.

- une requête ***intégrée au champ Table*** : cette requête sera créée dans l'assistant de création du champ Table. Cette requête sera disponible uniquement pour ce champ.




Lorsqu'un champ Table est lié à un fichier de données ou une requête, le champ Table pourra être initialisé avec le contenu du fichier de données :

- **soit automatiquement** : Aucun code spécifique n'est nécessaire pour initialiser le champ Table. Les caractéristiques du parcours du fichier de données lié au champ sont décrites dans l'onglet "Contenu" de la fenêtre de description du champ Table.

- **soit par programmation** : Il est nécessaire de saisir le code de parcours du fichier de données lié au champ Table dans les différents événements du champ Table. Cette méthode est déconseillée.
	




**Remarque** : Lors de la création d'un champ Table, l'assistant demande les différents renseignements nécessaires pour effectuer la liaison entre le champ et un fichier de données ou une requête.

Pour plus de détails sur la gestion des champs "Table fichier" liés à une requête, consultez [Champs Table fichier et requêtes](../WDChamp/1013203.md).



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Champ de type Table fichier automatique
<a name="champ_type_table_fichier_automatique_ELTTEXTE000266"></a>
Un champ Table fichier permet d'afficher des données provenant d'une source de données spécifique (fichier de données, requête, ...).

Le contenu du champ Table est défini lors de sa création et peut être modifié dans la fenêtre de description du champ (onglet "Contenu").

![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Champ_Table_Contenu.gif)
Cet écran permet de définir si le champ Table est un champ Table fichier ou un champ Table par programmation. Dans le cas d'un champ Table fichier, cet écran permet de déterminer les caractéristiques du parcours de la source de données :



|   |   |
| --- | --- |
| <br><br>- **Fichier parcouru**<br><br><br> | Fichier ou requête contenant les données à afficher.<br>Si le champ Table est basé sur une requête intégrée, le nom du fichier parcouru est de la forme &lt;Nom de la Fenêtre&gt;_&lt;Numéro&gt;$Requête. Dans ce cas, toutes les options du bouton "Requête intégrée" sont disponibles. |
| <br><br>- **Rubrique mémorisée** (optionnel)<br><br><br> | Rubrique dont la valeur est retournée au programme lorsque une ligne du champ Table est sélectionnée. |
| <br><br>- **Parcours automatique (décrit ci-dessous)**<br><br><br> | Si cette option est cochée, le moteur d'exécution prend en charge le parcours du fichier et l'affichage des données dans le champ Table. Aucun code WLangage n'est nécessaire. |
| <br><br>- **Rubrique de parcours**<br><br><br> | Rubrique utilisée pour parcourir la source de données. Les enregistrements affichés dans le champ Table seront triés selon cette rubrique. <br>Si l'option &lt;Automatique&gt; est sélectionnée, le moteur HFSQL sélectionnera automatiquement la meilleure clé de parcours. |
| <br><br>- **Parcours inversé (décroissant)**<br><br><br> | Le sens de parcours dépend de la rubrique de parcours. Le sens de parcours a été défini dans l'éditeur d'analyses, dans les caractéristiques de la rubrique.<br>Si cette option est cochée, le sens de parcours utilisé sera l'inverse de celui défini dans l'éditeur d'analyses. |
| <br><br>- **Afficher les enregistrements dont la rubrique de parcours commence par**<br><br><br> | Condition utilisée pour filtrer les enregistrements affichés. Ce filtre est du type "Commence par" et s'applique sur la rubrique de parcours. Pour utiliser des filtres plus élaborés, utilisez la fonction [HFiltre](../WDLang4/3044100.md). Pour plus de détails sur les filtres, consultez [Filtre dans les champs Table fichier](../WDChamp/1013202.md).<br><br> |
| ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) **Afficher le contenu pendant le déplacement de l'ascenseur** | Si cette option est cochée, la taille du curseur de l'ascenseur vertical sera proportionnelle au nombre d'éléments présents dans le champ Table. |
| ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) **Utiliser la fonction HFiltre pour parcourir le fichier** | Permet de filtrer les enregistrements affichés dans le champ Table et le fichier de données de base du champ. Pour plus de détails sur cette option, consultez [Filtre dans les champs Table fichier](../WDChamp/1013202.md).<br><br><br><br> |
| ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) **Synchroniser l'affichage (HFSQL C/S)** | Cette option permet de rafraîchir automatiquement le champ Table fichier, dès que le fichier de données HFSQL Client/Serveur associé est modifié. <br><br>Pour plus de détails, consultez [Champ Table fichier : Synchronisation automatique (données HFSQL Client/Serveur)](../WDChamp/1013177.md). <br><br> |
| ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) **Afficher un [ + ] de détail d'une ligne** | Cette option permet de dérouler une ligne du champ Table pour voir les enregistrements d'autres fichiers de données, reliés à la ligne sélectionnée.  <br><br>Pour plus de détails, consultez [Champ Table fichier : Visualisation automatique des enregistrements reliés](../WDChamp/1013177.md). |



<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Programmation d'un champ Table Fichier programmée
<a name="programmation_champ_table_fichier_programmee_ELTTEXTE000290"></a>
Si vous utilisez un champ Table basé sur un fichier de données avec initialisation programmée, il est nécessaire de saisir le code de parcours du fichier de données dans les différents événements associés au champ. Cette méthode est déconseillée et conservée uniquement par compatibilité.

**Par exemple** : Initialisation d'un champ Table avec les clients du fichier de données CLIENT.

```wl
// Initialisation du champ Table
HLitPremier(CLIENT, NOM)

// Enregistrement précédent 
HLitPrécédent(CLIENT, NOM)
// Enregistrement suivant 
HLitSuivant(CLIENT, NOM)
// Dernier enregistrement
HLitDernier(CLIENT, NOM)
```



