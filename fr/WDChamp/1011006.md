


## Imprimer des états imbriqués
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Principe
<a name="principe_ELTTEXTE000124"></a>
<a name="Impression_Imbrique"></a>
Pour imprimer un état principal composé de plusieurs états secondaires : 

1. Paramétrer la destination de l'impression de l'état principal grâce à la fonction [iDestination](../WDLang5/3046074.md).

2. Préciser le nom de l'état principal à imprimer grâce à la fonction [iImprimeEtat](../WDLang5/3046032.md).




**Remarques** :

- Si des paramètres supplémentaires doivent être passés à l'état principal, ces paramètres doivent être indiqués dans la fonction [iImprimeEtat](../WDLang5/3046032.md), après le nom de l'état. Pour plus de détails, consultez [Etat paramétré](../WDChamp/1011008.md).

- La fonction [iListeEtatImbriqués](../WDLang5/3046005.md) permet d'obtenir la liste des états secondaires imbriqués dans un état principal.

- Pour effectuer des impressions utilisant des états avec des orientations différentes (portrait/paysage), il est conseillé d'utiliser l'enchaînement d'états. Cette méthode est très simple à mettre en oeuvre. Pour plus de détails, consultez [Enchaîner des états](../WDChamp/9000128.md).




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Exemple
<a name="exemple_ELTTEXTE000148"></a>


### Exemple à réaliser
<a name="exemple_realiser_ELTPARAGRAPHE000048"></a>L'état "ETAT_EtatCommande" est composé d'un état principal et d'un état secondaire.

L'état "ETAT_EtatCommande" s'imprime lors d'un clic sur le champ Bouton "Imprimer".


### Code correspondant
<a name="code_correspondant_ELTPARAGRAPHE000055"></a>Dans cet exemple, le code de clic du champ Bouton "Imprimer" est le suivant :
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Code WINDEV :

```wl
// Ouvrir le visualisateur de rapports
iDestination(iVisualisateur)
// Imprimer l'état ETAT_EtatCommande
iImprimeEtat(ETAT_EtatCommande)
```


<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Fonctions WLangage spécifiques aux états imbriqués
<a name="fonctions_wlangage_specifiques_aux_etats_imbriques_ELTTEXTE000178"></a>
Les fonctions suivantes sont spécifiques à la gestion des états imbriqués : 



|   |   |
| --- | --- |
| [iHautBasPageImbriqué](../WDLang5/3046047.md) | Imprime ou non les hauts et bas de page de l'état imbriqué. |
| [iListeEtatsImbriqués](../WDLang5/3046005.md) | Renvoie : <br><br>- la liste des états imbriqués en cours d'impression (états lancés par la fonction [iImprimeEtat](../WDLang5/3046032.md) dans un des traitements de l'état en cours d'impression). <br><br>- la liste des états enchaînés en cours d'impression (fonction [iEnchaînementAjoute](../WDLang5/1000020059.md)).<br><br><br> |






