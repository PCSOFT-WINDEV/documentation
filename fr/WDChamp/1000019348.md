


## Le champ Captcha
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation du champ Captcha
<a name="presentation_champ_captcha_ELTTEXTE000192"></a>
Les "captcha" sont des textes biscornus que l'internaute doit déchiffrer et ressaisir dans un site avant de valider un formulaire. 

Le but des "captcha" est d'empêcher les pirates d'attaquer un site à l'aide d'un automate (robot) qui saisirait des informations en cascade.

En plaçant une sécurité de ce type dans un formulaire de saisie, vous êtes quasiment assuré que c'est effectivement un être humain qui effectue la saisie des informations !

**Le principe est simple** : le champ Captcha calcule et affiche automatiquement l'image déformée correspondant à un texte. Ce texte est soit généré automatiquement par le champ, soit défini par l'application.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Créer un champ Captcha
<a name="creer_champ_captcha_ELTTEXTE000216"></a>
Pour créer un champ Captcha : 

1. Sous le volet "Création", dans le groupe "Champs graphiques", cliquez sur "Captcha".

2. Cliquez dans la page à la position où le champ doit être créé. Le champ apparaît en création.


Pour afficher les caractéristiques du champ, sélectionnez l'option "Description" dans le menu contextuel du champ.

Remarque : WEBDEV propose plusieurs champs métier permettant de créer des champs Captcha. Pour afficher ces champs et les utiliser, sous le volet "Création", dans le groupe "Champs graphiques", déroulez "Captcha". Les champs métier proposés sont : 

- Captcha code de sécurité

- Bouton protégé par Google reCaptcha

- Bouton protégé par Google reCaptcha avec case à cocher. 


Le code de ces champs métier peut être adapté selon vos besoins. 
<a name="NOTE2_2"></a>


### Configurer un champ Captcha
<a name="configurer_champ_captcha_ELTPARAGRAPHE000066"></a>Plusieurs caractéristiques du champ Captcha peuvent être modifiées sous l'éditeur, dans la fenêtre de description du champ (option "Description" du menu contextuel du champ). 

Dans l'onglet "Général", il est possible de définir : 

- le nombre de caractères à afficher dans le champ Captcha. 

- la plage de caractères autorisés : minuscules et/ou majuscules et/ou chiffres.




Dans l'onglet "Style", il est possible de définir : 

- la couleur du captcha. 

- la police utilisée. Il est conseillé d'utiliser des polices simples pour que le captcha soit lisible.  




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Manipuler un champ Captcha
<a name="manipuler_champ_captcha_ELTTEXTE000246"></a>


### Mise en place et utilisation
<a name="mise_place_utilisation_ELTPARAGRAPHE000085"></a>Pour utiliser un champ Captcha : 

1. Créez le champ Captcha et modifiez ses caractéristiques si nécessaire (police, plage des caractères, ...). Créez également un champ de saisie dans lequel l'internaute saisira la valeur du captcha. 

2. Initialisez le champ Captcha avec la valeur voulue. Il est possible : 

	- soit d'utiliser la fonction [CaptchaAffiche](../WDLang2/1000019389.md). Cette fonction permet de générer aléatoirement la valeur du captcha selon les paramètres spécifiés. 

	- soit d'affecter une valeur au champ Captcha par une affectation simple : 
			
		```txt
		<Champ Captcha> = <Valeur du captcha>
		```

			Par exemple : 
			
		```wl
		CPTCH_Captcha = "ToTo1567"
		```



 **Astuce** : Selon les lettres et les chiffres utilisés par le captcha, celui-ci peut être difficilement déchiffrable. Prévoyez un bouton pour générer un nouveau captcha à la demande. Il suffira d'appeler la fonction [CaptchaAffiche](../WDLang2/1000019389.md) dans le code du bouton pour obtenir un nouveau captcha. A noter que l'algorithme de construction du captcha change à chaque affichage, ce qui offre une sécurité automatique supplémentaire. La déformation change à chaque affichage.

3. Vérifiez si la valeur saisie par l'internaute correspond au champ Captcha grâce à la fonction [CaptchaVérifie](../WDLang2/1000019390.md). 




**Remarques** : 

- Les champs Captcha peuvent être également manipulés via la [syntaxe préfixée des fonctions Captcha](../WDLang2/1000019584.md). 

- Plusieurs propriétés permettent de modifier l'aspect d'un champ Captcha. Pour plus de détails, consultez [Propriétés associées au champ Captcha](../WDChamp/1000019450.md).

- Pour utiliser un champ Captcha dans une application gérant des alphabets spécifiques, il est possible de : 

	- utiliser un captcha Google proposé par les champs métier. Le captcha utilisera des caractères pouvant être saisis dans la langue en cours. 

	- utiliser le champ Captcha en autorisant uniquement des chiffres (option disponible dans l'onglet "Général" du champ). 







<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Evénement géré par défaut
<a name="evenement_gere_par_defaut_ELTTEXTE000270"></a>
WEBDEV gère par défaut l'événement suivant :

| Evénement | Condition d'exécution |
| --- | --- |
| Initialisation (Code serveur) | Exécuté à l'ouverture de la page. |




- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WW_Blog_AWP.gif) ***Exemples complets (WEBDEV)*** : **WW_Blog_AWP** <br>Cet exemple est un site de gestion de blog.<br>Un blog est un journal ou un recueil d'actualités sur un site Internet. <br>Il est consultable par tous, et chacun peut y apporter des commentaires.<br>L'auteur du blog écrit ses messages lorsqu'il le souhaite.<br>Il est possible de mettre en forme le texte, d'inclure des images, des citations, etc...<br>Cet exemple est basé sur une génération AWP, ce qui permet entre autres de pouvoir référencer le site dans tous les moteurs de recherche.<br>De plus, le blog peut être exporté en RSS. (Utilisation des types RSS du WLangage)
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LechampCaptcha.gif) ***Exemples unitaires (WEBDEV)*** : **Le champ Captcha** <br>Utilisation du champ "Captcha" de WEBDEV. <br>Ce champ permet d'éviter les saisies automatiques dans les formulaires.


