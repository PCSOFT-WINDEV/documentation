


## Le champ Durée : Masques de saisie ou d'affichage
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000245"></a>


### Rappel
<a name="rappel_ELTPARAGRAPHE000011"></a>WINDEV, WEBDEV et WINDEV Mobile proposent deux types de masques :

- les ***masques de saisie*** qui définissent les caractères pouvant être saisis dans les champs d'une fenêtre ou d'une page. Parfois, ces masques permettent également de modifier la casse (majuscule / minuscule) des valeurs affectées aux champs d'une fenêtre ou d'une page par programmation.

- les ***masques d'affichage*** qui définissent les caractères pouvant être : 

	- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) affichés dans les champs d'une fenêtre.

	- imprimés dans les champs d'un état.







<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Masque d'affichage par défaut
<a name="masque_affichage_par_defaut_ELTTEXTE000269"></a>
Par défaut, lors de la création d'un champ de type Durée : 

- le masque de saisie "Durée définie par le projet" est sélectionné : les informations définies dans les paramètres de gestion des durées pour le projet sont automatiquement pris en compte. Rappel : Ces paramètres sont définis pour chaque langue dans l'onglet "Langues" de la description du projet : 

	1. Sous le volet "Projet", dans le groupe "Projet", cliquez sur "Description".

	2. Sélectionnez l'onglet "Langues" puis l'onglet "Durée".




- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) le masque d'affichage "Même masque que la saisie" est sélectionné.




Remarques : 

- Dans la fenêtre de description du champ, une liste de masques prédéfinis est proposée. Vous pouvez au choix :

	- soit sélectionner un masque prédéfini.

	- soit créer un masque personnalisé.




- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Pour afficher une durée relative (par exemple le nombre de jours écoulés depuis une date), il est également possible d'utiliser un champ de type Date utilisant un masque d'affichage de type "Durée relative". Pour plus de détails, consultez [Masque de saisie et d'affichage des champs de saisie de type Date](../WDChamp/1014016.md). 




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Les masques personnalisés
<a name="les_masques_personnalises_ELTTEXTE000293"></a>
Les éléments suivants peuvent être utilisés pour définir un masque personnalisé (attention, il est nécessaire de respecter la casse). 
Pour présenter les masques personnalisés, nous allons prendre une durée égale à 0 jours 04 heures 15 minutes 03 secondes et 412 millièmes de seconde :

- **+1** : seule l'unité la plus significative sera affichée (dans notre exemple, seul le nombre d'heures sera affiché)

- **+2** : seules les deux unités les plus significatives seront affichées (dans notre exemple, seuls le nombre d'heures et le nombre de minutes seront affichés)
	Il est également possible de spécifier '+3' ou '+4' pour afficher uniquement les trois ou les quatre unités les plus significatives.

- **J** : le nombre de jours sera affiché si ce nombre est supérieur à 0 (dans notre exemple, le nombre de jours ne sera pas affiché)

- **H** : le nombre d'heures sera affiché si ce nombre ou le nombre de jours est supérieur à 0. Si ce nombre est composé d'un seul chiffre, seul ce chiffre sera affiché (dans notre exemple, le nombre d'heures sera '4')

- **HH** : le nombre d'heures sera affiché si ce nombre ou le nombre de jours est supérieur à 0. Si ce nombre est composé d'un seul chiffre, ce chiffre sera précédé du chiffre '0' (dans notre exemple, le nombre d'heures sera '04')

- **M** : le nombre de minutes sera affiché si ce nombre ou le nombre d'une durée supérieure (nombre de jours ou d'heures) est supérieur à 0. Si ce nombre est composé d'un seul chiffre, seul ce chiffre sera affiché (dans notre exemple, le nombre de minutes sera '15')

- **MM** : le nombre de minutes sera affiché si ce nombre ou le nombre d'une durée supérieure (nombre de jours ou d'heures) est supérieur à 0. Si ce nombre est composé d'un seul chiffre, ce chiffre sera précédé du chiffre '0' (dans notre exemple, le nombre de minutes sera '15')

- **S** : le nombre de secondes sera affiché si ce nombre ou le nombre d'une durée supérieure (nombre de jours, d'heures ou de minutes) est supérieur à 0. Si ce nombre est composé d'un seul chiffre, seul ce chiffre sera affiché (dans notre exemple, le nombre de secondes sera '3')

- **SS** : le nombre de secondes sera affiché si ce nombre ou le nombre d'une durée supérieure (nombre de jours, d'heures ou de minutes) est supérieur à 0. Si ce nombre est composé d'un seul chiffre, ce chiffre sera précédé du chiffre '0' (dans notre exemple, le nombre de secondes sera '03')

- **CC** : le nombre de centième de seconde sera affiché (dans notre exemple, le nombre de centièmes de seconde sera '41')

- **CCC** : le nombre de millième de seconde sera affiché (dans notre exemple, le nombre de millièmes de seconde sera '412')




**Remarque** : Si le séparateur correspond au caractère ":", la lettre correspondant à l'unité la plus significative sera ajoutée (lettre 'h' pour heure, 'm' pour minute, 's' pour seconde, 'cs' pour centième de seconde et 'ms' pour millième de seconde).


<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Les masques prédéfinis
<a name="les_masques_predefinis_ELTTEXTE000317"></a>
Les masques suivants sont proposés (ordre d'apparition sous l'éditeur de fenêtres, de pages et d'états) :

- '+2J j HH:MM:SS:CC'

- '+2J j H:M:S:CC'

- '+2J j HH:MM:SS:CCC'

- '+2J j HH:MM:SS'

- '+2J j H:M:S'

- '+2J j H h MM m SS s CCC ms'

- '+2J j H h M m S s CCC ms'

- '+2J j H h MM m SS s'

- '+2J j H h M m S s'

- '+1J j HH:MM:SS:CC'

- '+1J j H:M:S:CC'

- '+1J j HH:MM:SS:CCC'

- '+1J j HH:MM:SS'

- '+1J j H:M:S'

- '+1J j H h MM m SS s CCC ms'

- '+1J j H h M m S s CCC ms'

- '+1J j H h MM m SS s'

- '+1J j H h M m S s'

- '+J j HH:MM:SS:CC'

- '+J j H:M:S:CC'

- '+J j HH:MM:SS:CCC'

- '+J j HH:MM:SS'

- '+J j H:M:S'

- '+J j H h MM m SS s CCC ms'

- '+J j H h M m S s CCC ms'

- '+J j H h MM m SS s'

- '+J j H h M m S s'

- '+2J jour(s) HH h. MM min. SS sec. CC'

- '+2J jour(s) HH h. MM min. SS sec. CCC'




**Remarque** : Si le séparateur correspond au caractère ":", la lettre correspondant à l'unité la plus significative sera ajoutée (lettre 'h' pour heure, 'm' pour minute, 's' pour seconde, 'cs' pour centième de seconde et 'ms' pour millième de seconde).

<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Quelques exemples
<a name="quelques_exemples_ELTTEXTE000341"></a>
Voici quelques exemples d'utilisation des masques des durées :

   |   | --- | --- |
| --- | --- |
|   | Exemples de durées : |
| 23 jours, 4 heures, 43 minutes, 56 secondes, 124 millièmes | 12 heures, 06 minutes, 24 secondes, 451 millièmes | 32 minutes, 51 secondes, 347 millièmes |
|   |   |   |
| +2J jour(s) HH h. MM min. SS sec. CC | 23 jour(s) 04 h. | 12 h. 06 min. | 32 min. 51 sec. |
| +2J j H:M:S:CC | 23 j 4 h | 12:6 h | 32:51 m |
| +1J j HH:MM:SS | 23 j | 12 h | 32 m |
| +J j HH:MM:SS:CC | 23 j 04:43:56:12 h | 12:06:24:45 h | 32:51:34 m |
| +J j H h MM m SS s | 23 j 4 h 43 m 56 s | 12 h 06 m 24 s | 32 m 51 s |
| +5 HH h MM m | 556 h 43 m | 12 h 06 m | 32 m |




