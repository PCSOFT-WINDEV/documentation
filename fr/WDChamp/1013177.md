


## Le champ Table fichier
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000327"></a>
Un champ Table fichier est un champ dont les colonnes sont reliées à des rubriques d'un fichier de données ou d'une requête (source de données). Chaque colonne du champ Table peut être :

- Liée à une rubrique de la source de données.

- Liée à une rubrique d'un fichier relié à la source de données.

- Calculée : Si la colonne n'est pas reliée à une rubrique d'un fichier, c'est une **colonne calculée**. Pour les colonnes calculées, le contenu de la colonne est re-calculé à chaque affichage de ligne, il n'est pas mémorisé.




Chaque ligne du champ Table correspond à un enregistrement de la source de données.

**Un champ Table fichier permet de** :

- Visualiser le contenu d'un fichier de données (ou d'une requête) à raison d'un enregistrement par ligne et de sélectionner un enregistrement (visualisation de tout le fichier ou d'une sélection d'enregistrements sélectionnés selon un filtre).

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Visualiser le contenu des enregistrements liés (par exemple, visualiser les lignes de commandes associées à une commande affichée dans le champ Table). 

- Supprimer un enregistrement en supprimant une ligne dans le champ Table.

- Modifier un enregistrement en modifiant le contenu d'une ligne du champ Table.

- Ajouter un enregistrement en saisissant une ligne dans le champ Table.

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![HFSQL Client/Serveur](https://doc.pcsoft.fr/ext/images/fr/HFCS.png) Rafraîchir automatiquement les données modifiées depuis un autre poste.  




Le nombre d'enregistrements pouvant être visualisés est illimité, seules les lignes visibles du champ Table sont chargées en mémoire.






### Notes
<a name="notes_ELTPARAGRAPHE000054"></a>

- Les champs Table fichier sont essentiellement utilisés pour visualiser des données. Pour saisir des données, utilisez des champs de saisie.

- La ligne sélectionnée dans le champ Table correspond à l'enregistrement en cours dans le fichier de données. S'il y a changement de ligne dans le champ Table, l'enregistrement en cours dans le fichier de données est automatiquement modifié.




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Table fichier à accès direct et Table fichier chargé en mémoire
<a name="table_fichier_acces_direct_table_fichier_charge_memoire_ELTTEXTE000369"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) 

### Types de champs Table fichier
<a name="types_champs_table_fichier_ELTPARAGRAPHE000100"></a>Deux types de champs Table fichier sont disponibles :

- Les champs Table fichier basés sur le fichier en accès direct. Ce sont les champs Table fichier "classiques".

- Les champs Table fichier basés sur un fichier chargé en mémoire. Seul un nombre spécifique d'enregistrements du fichier (défini sous l'éditeur) est chargé en mémoire. Ces champs Table fichier permettent notamment de réaliser des tris et des recherches sur n'importe quelle colonne.
	




Pour plus de détails sur ces deux types de champs Table fichier, consultez le [Comparatif des fonctionnalités des champs Table](../WDChamp/1013290.md).
<a name="NOTE2_2"></a>
![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) 

### Limitation Java : Saisie en cascade
<a name="limitation_java_saisie_cascade_ELTPARAGRAPHE000121"></a>En Java, la saisie en cascade n'est pas disponible sur les champs Table fichier à accès direct. La saisie en cascade est disponible uniquement pour les champs Table fichier chargé en mémoire.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

## Synchronisation automatique (données HFSQL Client/Serveur)
<a name="synchronisation_automatique_donnees_hfsql_clientserveur_ELTTEXTE000399"></a>
Un champ Table fichier peut se rafraîchir automatiquement, dès que le fichier de données HFSQL Client/Serveur associé est modifié. Cette fonctionnalité peut être mise en place : 

- sous l'éditeur : 

	1. Affichez la fenêtre de description du champ Table fichier. 

	2. Dans l'onglet "Contenu", sélectionnez le mode de synchronisation de l'affichage : ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Table_Fichier_Synchro%20-%20HC%20N%B0001.gif)


		- Jamais : Aucune synchronisation n'est effectuée (cas par défaut). 

- Modification seulement : La synchronisation est effectuée uniquement lors de la modification d'un enregistrement. 

- Ajout/Suppression seulement : La synchronisation est effectuée uniquement lors de l'ajout ou de la suppression d'un enregistrement.

- Toujours : La synchronisation est effectuée dès qu'une opération d'écriture ou de suppression est effectuée dans le fichier de données.

3. Validez. 

- par programmation : via la propriété [SynchroHFSQL](../Proprietes/1000023408.md) utilisable sur le champ Table fichier. 




La synchronisation automatique s'applique :

- entre les différentes instances d'une même application sur un poste ou différents postes,

- entre différentes applications sur un poste ou différents postes,

- entre les différentes fenêtres d'une même application, que le contexte HFSQL soit le même ou non entre les fenêtres.




Attention : L'activation de cette fonctionnalité augmente la charge du serveur lors de l'affichage du champ Table ou lors des déplacements dans le champ.

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

## Visualisation automatique des enregistrements reliés
<a name="visualisation_automatique_des_enregistrements_relies_ELTTEXTE000423"></a>
Dans un champ Table fichier, il est possible de dérouler une ligne pour voir les enregistrements d'autres fichiers de données, reliés à la ligne sélectionnée. 

Exemple : 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Visu_enreg_li%E9_auto%20-%20HC%20N%B0004.gif&type=thumb)



### Mise en place via l'éditeur de fenêtres (mode automatique)
<a name="mise_place_via_editeur_fenetres_mode_automatique_ELTPARAGRAPHE000172"></a>Pour permettre à l'utilisateur de dérouler les lignes d'un champ Table fichier pour visualiser les enregistrements liés : 

1. Affichez la fenêtre de description du champ Table fichier. 

2. Dans l'onglet "Contenu", cochez l'option "Afficher un [ + ] de détail d'une ligne". 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Visu_enreg_li%E9_auto%20-%20HC%20N%B0001.gif&type=thumb)
La fenêtre de paramétrage s'affiche automatiquement. 

3. Dans la fenêtre de paramétrage : 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Visu_enreg_li%E9_auto%20-%20HC%20N%B0002.gif)


	- Cochez si nécessaire l'option "Activer l'affichage des données reliées". 

- Sélectionnez le mode d'affichage "Automatique". Avec ce mode, tous les fichiers de données reliés sont proposés à l'utilisateur. 

- Validez. 

4. Validez la fenêtre de description du champ Table. 




Lors de l'exécution du champ Table, l'utilisateur dispose d'un menu contextuel permettant d'afficher les différentes données liées au fichier de données actuellement affiché dans le champ Table fichier. 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Visu_enreg_li%E9_auto%20-%20HC%20N%B0003.gif)

![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Visu_enreg_li%E9_auto%20-%20HC%20N%B0004.gif&type=thumb)


Remarque : l'image du "+" affiché en début de ligne peut être personnalisée : 

1. Affichez la fenêtre de description du champ Table fichier. 

2. Dans l'onglet "Style" : 

	- Sélectionnez l'élément "Image [+]/[-] FI de détails de ligne". 

	- Cliquez sur le bouton "Image Plus/Moins de la Fenêtre Interne de détails". 

	- Sélectionnez l'image correspondant au bouton et validez.








### Mise en place via l'éditeur de fenêtres (mode personnalisé)
<a name="mise_place_via_editeur_fenetres_mode_personnalise_ELTPARAGRAPHE000220"></a>Pour permettre à l'utilisateur de dérouler les lignes d'un champ Table fichier pour visualiser les enregistrements liés : 

1. Affichez la fenêtre de description du champ Table fichier. 

2. Dans l'onglet "Contenu", cochez l'option "Afficher un [ + ] de détail d'une ligne". La fenêtre de paramétrage s'affiche automatiquement. 

3. Dans la fenêtre de paramétrage : 

	- Cochez si nécessaire l'option "Activer l'affichage des données reliées". 

	- Sélectionnez le mode d'affichage "Manuel". Avec ce mode, seules les données d'un fichier de données sont proposées à l'utilisateur. Il est possible de personnaliser les données affichées. 

	- Sélectionnez la rubrique source, présente dans le fichier affiché par le champ Table. 

	- Sélectionnez la rubrique liée, présente dans le fichier de données lié. 

	- Sélectionnez les rubriques à afficher dans la table de visualisation des données liées. Les boutons ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=IconeAjouterPropriete.gif)
 et ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=IconeSupprimerPropriete.gif)
 permettent de gérer les données à afficher. 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Visu_enreg_li%E9_manuel%20-%20HC%20N%B0001.gif&type=thumb)


	- Validez. 

4. Validez la fenêtre de description du champ Table. 




Lors de l'exécution du champ Table, l'utilisateur dispose d'un signe "+" pour afficher les données liées au fichier de données actuellement affiché dans le champ Table fichier. ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Visu_enreg_li%E9_manuel%20-%20HC%20N%B0003.gif)


Remarque : l'image du "+" affiché en début de ligne peut être personnalisée : 

1. Affichez la fenêtre de description du champ Table fichier. 

2. Dans l'onglet "Style" : 

	- Sélectionnez l'élément "Image [+]/[-] FI de détails de ligne". 

	- Cliquez sur le bouton "Image Plus/Moins de la Fenêtre Interne de détails". 

	- Sélectionnez l'image correspondant au bouton et validez.








### Mise en place par programmation
<a name="mise_place_par_programmation_ELTPARAGRAPHE000272"></a>Pour permettre à l'utilisateur de dérouler les lignes d'un champ Table fichier pour visualiser les enregistrements liés : 

1. Créez un champ Table fichier basé sur un fichier de données ou une requête. 

2. Dans le code d'initialisation du champ Table, utilisez la propriété [LiaisonsDétailLigne](../Proprietes/1000023414.md). 





