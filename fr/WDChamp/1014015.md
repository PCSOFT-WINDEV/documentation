


## Le champ Numérique ou Monétaire : Masques de saisie ou d'affichage
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000336"></a>


### Rappel
<a name="rappel_ELTPARAGRAPHE000011"></a>WINDEV, WINDEV Mobile et WEBDEV proposent deux types de masques :

- les ***masques de saisie*** qui définissent les caractères pouvant être saisis dans les champs d'une fenêtre ou d'une page. Parfois, ces masques permettent également de modifier la casse (majuscule / minuscule) des valeurs affectées aux champs d'une fenêtre ou d'une page par programmation.

- les ***masques d'affichage*** qui définissent les caractères pouvant être imprimés dans les champs d'un état.




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Masque de saisie et d'affichage par défaut
<a name="masque_saisie_affichage_par_defaut_ELTTEXTE000360"></a>


### Dans une fenêtre ou une page
<a name="dans_une_fenetre_une_page_ELTPARAGRAPHE000023"></a>Par défaut, le masque de saisie correspond à celui défini pour le projet : les informations définies dans les paramètres de gestion des numériques, monétaires, ... pour le projet sont automatiquement pris en compte. 
Rappel : Ces paramètres sont définis pour chaque langue dans l'onglet "Langues" de la description du projet : sous le volet "Projet", dans le groupe "Projet", cliquez sur "Description".

Les masques de saisie proposés par défaut sont les suivants : 

- Numérique défini par le projet.

- Taille de fichier.

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Bitcoin.

- ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Notation scientifique (exponentielle).

- Pourcentage.







### Dans un état
<a name="dans_etat_ELTPARAGRAPHE000111"></a>Par défaut, le masque de saisie :

- 999 999,99 est associé à un champ de type numérique.

- +99 999 999,99 est associé à un champ de type monétaire.

- +999 999,99 $ est associé à un champ de type monétaire + Euro.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Masques de saisie personnalisés
<a name="masques_saisie_personnalises_ELTTEXTE000396"></a>
Pour les champs de type Numérique et de type Monétaire, les masques de saisie / d'affichage se définissent à l'aide des caractères suivants :

- '9' : chiffre,

- '.' : point,

- ',' : virgule,

- '+' : signe plus (pour autoriser les nombres signés),

- '-' : signe moins utilisé en fin de chaîne pour afficher les nombres négatifs. Pour afficher le signe "-" en fin de chaîne que le nombre soit positif ou négatif, il suffit d'indiquer "--".

- ' ' : espace,

- '0' : à gauche du masque, pour que le nombre soit automatiquement complété par des zéros (à gauche),

- '%' : pourcentage. La valeur affichée (affectée par programmation par exemple) est multipliée par 100 et le sigle % est affiché. 
	Pour afficher le signe % sans multiplier par 100, il suffit de doubler le sigle % (exemple : "99.99%%"). 
	**Important** : si dans les versions précédentes de WINDEV 9, WEBDEV 9 ou WINDEV Mobile 9 (Version 90028 ou antérieures) vous utilisiez le caractère % dans vos masques de saisie, celui-ci est automatiquement doublé pour compatibilité.
	**Exemple** :
	Masque 99.99%, valeur saisie : 19.6, valeur affichée : 19,6%, valeur manipulée par programmation : 0,196.
	Masque 99.99%%, valeur saisie : 19.6, valeur affichée : 19,6%, valeur manipulée par programmation : 19.6. 

- '()' : parenthèses, pour l'affichage des nombres négatifs.




**Format personnalisé avancé :** Il est également possible de définir en même temps :

- le format des chiffres positifs

- le format des chiffres négatifs

- la valeur si 0

- la valeur si NULL




Le format de ce type de maque de saisie / d'affichage est le suivant :

```txt
<Format des positif>;<Format des négatifs>;<Valeur si 0>;<Valeur si NULL>
```


Il est possible de spécifier une couleur en utilisant [&lt;Couleur&gt;] à côté du masque voulu. &lt;Couleur&gt; peut correspondre :

- à une des constantes suivantes : Rouge, Vert, Bleu, Noir, Blanc, Jaune, Orange

- à une valeur hexadécimale en utilisant le format "#BBVVRR".


![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Les formats '-', '%','()' et le format personnalisé avancé ne sont pas gérés.![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) **Masque de saisie hexadécimal**
Il est également possible d'utiliser un masque de saisie hexadécimal.  

Plusieurs masques de saisie hexadécimal sont proposés : 

- 0xFF

- 0xFFFF

- 0xFFFFFFFF

- 0xFFFFFFFFFFFFFFFF




Dans ce cas, le champ autorise la saisie d'une valeur hexadécimale ([0-9a-fA-F]) sur n caractères avec n correspondant au nombre de F dans le masque. 
<a name="NOTE3_2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Exemples
<a name="exemples_ELTPARAGRAPHE000199"></a>

- Le masque '09.999,99' donnera un résultat de la forme '02.458.35'.

- Utilisez le masque "999 999,000" pour afficher "0" dans un champ vide et non "0,0000".

- Le masque '999 999-' donnera un résultat de la forme '1 234-'.

- Le masque '(999 999)' permettra d'afficher "(1 234)" et "1 234".

- Le masque '999 999;-999 999[Rouge];0;&lt;NULL&gt;' affiche '-1 234' en rouge.



<a name="NOTE3_3"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Remarques
<a name="remarques_ELTPARAGRAPHE000218"></a>

- Les masques tiennent compte en affichage des séparateurs décimaux, de milliers et du symbole monétaire défini pour la langue (dans les paramètres Windows). En programmation, quelle que soit la langue en cours :

	- l'espace (' ') est remplacé par le séparateur de milliers

	- la virgule (',') est remplacée par le séparateur décimal

	- le dollar ("$") est remplacé par le symbole monétaire ($$ pour ne pas avoir cette substitution).




- **Utilisation du 0 dans le masque de saisie** : 

	- Pour que le nombre saisi soit complété à gauche par des zéros, utilisez le caractère "0" à gauche du masque. Par exemple, le masque '099.999,99' utilisé pour la saisie '23,50' affichera '023,5'. 

	- Pour que la partie décimale du nombre saisi soit complétée par des zéros, utilisez le caractère "9" placé à droite de la virgule. Par exemple, le masque '9999,000' utilisé pour la saisie '12' affichera '12,00'. Le même masque utilisé pour la saisie '12,368' affichera '12,368' (la valeur n'est pas arrondie). 







<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Champs de type Monétaire
<a name="champs_type_monetaire_ELTTEXTE000432"></a>


### Différences entre le type Numérique et le type Monétaire
<a name="differences_entre_type_numerique_type_monetaire_ELTPARAGRAPHE000235"></a>Les masques proposés pour les champs de type Monétaire sont du même type que les masques numériques. La différence se situe dans la précision : les monétaires ont 17 chiffres significatifs pour la partie entière et 6 décimales maximum.
<a name="NOTE4_2"></a>


### Champ de type Monétaire + Euro
<a name="champ_type_monetaire_euro_ELTPARAGRAPHE000242"></a>Il est possible d'ajouter** le caractère dollar ("$")** dans le masque pour afficher :

- soit le sigle '![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=SigleEuro.gif)
' si la devise en cours est l'Euro.

- soit le libellé de la devise (défini dans la table des changes grâce à la fonction [eInitDevise](../WDLang1/3033003.md)) si la devise est différente de l'Euro.




Par exemple : Le masque '999,99 $' affichera '250,25 ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=SigleEuro.gif)
' si la devise en cours est l'Euro et '250,25 GBP' si la devise en cours est la Livre Sterling.

**Remarque** : Il est possible d'écrire "$$" pour forcer l'utilisation du sigle $.

![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) Si la devise est affichée dans le masque, la devise utilisée sera celle sélectionnée dans les options linguistiques de Windows pour le poste d'exécution.
<a name="NOTE4_3"></a>


### Remarques
<a name="remarques_ELTPARAGRAPHE000267"></a>

- La valeur "++++" sera affichée dans le champ si les conditions suivantes sont réunies :

	- affectation par programmation.

	- nombre de chiffres de la partie entière supérieur au nombre de chiffres de la partie entière du masque.


 **Par exemple**, si le masque est '99.999' et si la valeur affectée par programmation est '123456', la valeur "++++" sera affichée dans le champ.

- La partie décimale sera arrondie si les conditions suivantes sont réunies :

	- affectation par programmation.

	- nombre de chiffres de la partie décimale supérieur au nombre de chiffres de la partie décimale du masque.


 **Par exemple**, si le masque est '99.999,99' et si la valeur affectée par programmation est '12345,159', la valeur "12345,16" sera affichée dans le champ.







- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Masquedesaisieavance.gif) ***Exemples unitaires (WINDEV)*** : **Masque de saisie avancé** <br>Manipulation des masques de saisie dans WINDEV :<br>- Définition du format des positifs/négatifs dans un champ de saisie numérique<br>- Définition de l'apparence des négatifs dans un champ de saisie numérique<br>- Définition de l'apparence de la valeur 0 dans un champ de saisie numérique<br>- Utilisation d'une expression régulière pour empêcher la saisie d'autres caractères que les chiffres 1, 2, 3, 4, 5 et 6.<br>- Utilisation d'une expression régulière pour "réguler" la saisie d'un numéro de plaque d'immatriculation français


