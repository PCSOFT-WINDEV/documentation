
## Variable Clavier (Utilisation des claviers physiques en Android)
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000144"></a>
La variable **Clavier** permet de récupérer les paramètres des événements d'un clavier physique. En effet, un matériel Android peut disposer d'un clavier physique ou être connectable à un clavier physique (par le système Samsung Dex par exemple). 

Cette variable doit être utilisée uniquement dans les événements relatifs à l'utilisation du clavier physique : 

- Touche enfoncée (WM_KEYDOWN), 

- Touche relâchée (WM_KEYUP).


Sous Android, ces deux événements sont appelés uniquement s'ils sont déclenchés par un événement clavier provenant d'un clavier physique. 
Sous Chrome OS, ces deux événements ne sont pas appelés. 



Remarque : Cette variable est utilisable en mode Simulateur. 

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Variable Clavier
<a name="variable_clavier_ELTTEXTE000168"></a>
La variable Clavier est composée des éléments suivants :



|   |   |
| --- | --- |
| Clavier.Alt | Booléen<br><br>Indique si la touche Alt est enfoncée au moment du déclenchement de l'événement clavier. |
| Clavier.Code | Entier<br><br>Indique le code correspondant à la touche clavier qui a déclenché l'événement clavier. |
| Clavier.Ctrl | Booléen<br><br>Indique si la touche Ctrl est enfoncée au moment du déclenchement de l'événement clavier. |
| Clavier.Shift | Booléen<br><br>Indique si la touche Shift (Maj) est enfoncée au moment du déclenchement de l'événement clavier. |










### Manipuler les codes des touches clavier
<a name="manipuler_les_codes_des_touches_clavier_ELTPARAGRAPHE000060"></a>Pour manipuler facilement les codes des touches clavier : 

1. Intégrez le fichier KeyConst.WL dans votre projet. Ce fichier associe à chaque touche du clavier une constante spécifique. Ce fichier est disponible dans le répertoire de WINDEV/WEBDEV/WINDEV Mobile (sous-répertoire "Personnel\\Externe"). Pour intégrer ce fichier dans vos applications, il est nécessaire d'utiliser le mot-clé [EXTERNE](../Motscles/1511013.md) de la façon suivante : 
	
	```wl
	EXTERNE "KEYCONST.wl"
	```


2. Utilisez ensuite les constantes voulues avec la variable Clavier.code : 
	
	```wl
	SI Clavier.Code = VK_Space ALORS 
	...
	FIN
	```



Remarques : 

- Pour gérer les touches de caractères, il suffit d'utiliser le code ASCII du caractère (obtenu avec la fonction [Asc](../WDLang1/3024004.md)).

- Toutes les constantes contenues dans le fichier KeyConst.WL commencent par les lettres VK_. A partir du moment où le fichier a été intégré avec le mot-clé [EXTERNE](../Motscles/1511013.md), ces constantes sont proposées par la complétion automatique dans l'éditeur de code.






<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Exemple
<a name="exemple_ELTTEXTE000198"></a>


### Effectuer une action dans l'événement Touche enfoncée
<a name="effectuer_une_action_dans_evenement_touche_enfoncee_ELTPARAGRAPHE000091"></a>Le code suivant permet d'effectuer une action dans l'événement "Touche enfoncée" d'un champ de saisie lors d'un coller (Ctrl + V). 


```wl
SI Clavier.Code = VK_V _ET_ Clavier.Ctrl ALORS 
	Info ("Ctrl V utilisé")
	...
FIN
```







