
## Le champ Caméra dans une application mobile
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000266"></a>


### Champ d'une fenêtre WINDEV Mobile
<a name="champ_une_fenetre_windev_mobile_ELTPARAGRAPHE000010"></a>Le champ Caméra permet de : 

- visualiser la séquence vidéo actuellement retransmise par la caméra d'un appareil Android ou iOS. 

- lire et décoder les codes-barres. Pour plus de détails, consultez [Champ Caméra : décoder les codes-barres](../WDChamp/1013304.md). 




Il est possible d'enregistrer cette séquence vidéo ou une photo de cette séquence vidéo.

**Remarque** :  Il est possible d'utiliser directement l'application Caméra native de l'appareil afin d'enregistrer une vidéo ou de prendre une photo (fonction [CaméraLanceAppli](../WDLang1/1000022470.md)).




### Créer un champ Caméra
<a name="creer_champ_camera_ELTPARAGRAPHE000054"></a>Pour créer un champ Caméra :

1. Sous le volet "Création", dans le groupe "Champs graphiques", cliquez sur "Caméra".

2. Cliquez dans la fenêtre à la position où le champ doit être créé. Le champ apparaît en création.




Pour afficher les caractéristiques du champ, sélectionnez l'option "Description" dans le menu contextuel du champ.

Le champ Caméra peut être manipulé par programmation grâce aux [fonctions Caméra](../WDLang1/1410086597.md). 
Remarque : Ces fonctions sont également disponibles avec une syntaxe préfixée. Pour plus de détails, consultez [Fonctions Caméra (Syntaxe préfixée)](../WDLang1/1000022386.md).

**Remarques** : 

- Un seul champ Caméra peut être utilisé dans une fenêtre.

- Le champ Caméra existe en 2 versions : 

	- **Mode 27 ou supérieur** : le champ Caméra est créé à partir de la version 27. Il permet d'utiliser toutes les nouvelles fonctions et propriétés disponibles à partir de la version 27 (voir ci-dessous).  

	- **Mode 26 compatible** : le champ Caméra a été créé avant la version 26. Il utilise des fonctionnalités dépréciées par Google. Le mode "Compatible 26" disponible dans la fenêtre de description du champ permet de conserver le fonctionnement des versions précédentes. Si cette option est décochée, le champ passe alors en mode 27 ou supérieur.  








### Champ Métier
<a name="champ_metier_ELTPARAGRAPHE000096"></a>WINDEV Mobile propose un champ Métier permettant d'utiliser la caméra de l'appareil. Toutes les principales fonctionnalités sont intégrées dans ce champ Métier. Il est composé d'un champ Bouton (à placer dans la fenêtre devant afficher la caméra de l'appareil) et d'une fenêtre (ouverte par le champ Bouton). 

Pour ajouter le champ Métier dans votre fenêtre : 

1. Affichez sous l'éditeur la fenêtre dans laquelle le bouton d'utilisation de la caméra doit être intégré. 

2. Sous le volet "Création", dans le groupe "Champs graphiques", déroulez "Caméra".

3. Cliquez sur le champ qui s'affiche puis cliquez dans la fenêtre à la position où le bouton doit être créé. Le bouton apparaît en création et la fenêtre "FEN_Mobile_Camera_UI" est ajoutée au projet. Cette fenêtre contient différents plans permettant de gérer la prise de photos et de vidéos.  




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Fonctionnalités disponibles
<a name="fonctionnalites_disponibles_ELTTEXTE000302"></a>


### Champ Caméra version 27 et supérieur
<a name="champ_camera_version_27_superieur_ELTPARAGRAPHE000119"></a>**A partir de la version 27**, tout nouveau champ Caméra peut être manipulé par programmation : 

- via les fonctions suivantes : 
	


|   |   |
| --- | --- |
| [CaméraArrêteDécodage](../WDLang1/1000022449.md) | Arrête le décodage des codes-barres via un champ Caméra. |
| [CaméraDémarreDécodage](../WDLang1/1000022454.md) | Démarre le décodage des codes-barres dans un champ Caméra. |
| [CaméraPhoto](../WDLang1/1410087225.md) | Prend une photo via un champ Caméra dans une application Android ou iOS. |
| [CaméraVidéoArrête](../WDLang1/1410087229.md) | Arrête l'enregistrement d'une vidéo précédemment démarré par la fonction [CaméraVidéoDémarre](../WDLang1/1410087227.md). |
| [CaméraVidéoDémarre](../WDLang1/1410087227.md) | Démarre l'enregistrement d'une vidéo via un champ Caméra dans une application Android ou iOS. |

- via le propriétés spécifiques suivantes : 
	


|   |   |
| --- | --- |
| [AutoFocusAuClic](../Proprietes/1410087701.md) | La propriété **AutoFocusAuClic** permet de : <br><br>	- Savoir si le focus au clic est activé dans un champ Caméra. <br><br>	- Activer ou non le focus au clic dans un champ Caméra. <br><br><br> |
| [Caméra](../Proprietes/1410087704.md) | La propriété **Caméra** permet de connaître et de modifier la caméra utilisée (caméra dorsale ou frontale). |
| [Flash](../Proprietes/1410087703.md) | La propriété **Flash** permet de connaître et de modifier le mode d'utilisation du flash dans un champ Caméra. |
| [ModeAffichagePrévisualisation](../Proprietes/1410087702.md) | La propriété **ModeAffichagePrévisualisation** permet de connaître et de modifier le mode d'affichage de la prévisualisation de la caméra. |
| [RépertoireDeTravail](../Proprietes/1000026169.md) | La propriété **RépertoireDeTravail** permet de : <br><br>	- connaître ou modifier le répertoire utilisé par le champ Editeur HTML pour stocker les images et feuilles CSS d'une page HTML.<br><br>	- connaître le répertoire utilisé par le champ d'affichage HTML pour stocker les images et feuilles CSS d'une page HTML.<br><br>	- connaître le répertoire utilisé par le champ Caméra pour enregistrer les photos et les vidéos. <br><br><br> |
| [Torche](../Proprietes/1410087848.md) | La propriété **Torche** permet de connaître et de modifier le mode d'utilisation de la torche par un champ Caméra. |
| [Zoom](../Proprietes/1000017201.md) | La propriété **Zoom** permet de connaître ou de modifier la valeur du zoom utilisée : <br><br>	- dans un champ Image.<br><br>	- dans un champ Carte. <br><br>	- dans un champ Organigramme.<br><br>	- dans un champ Table, Table hiérarchique, Tableau Croisé Dynamique, Tableur ou Liste. <br><br>	- dans un champ Traitement de texte. <br><br>	- dans un champ Lecteur PDF.<br><br>	- dans un champ Caméra.<br><br>	- dans un champ Editeur de diagrammes; <br><br>	- dans une fenêtre.<br><br><br> |
| [ZoomAuDoigt](../Proprietes/1000022497.md) | La propriété **ZoomAuDoigt** permet de : <br><br>	- savoir si un champ Image ou Caméra autorise le zoom au doigt. <br><br>	- autoriser ou non le zoom au doigt dans un champ Image ou Caméra.<br><br><br> |
| [ZoomMax](../Proprietes/1410088099.md) | La propriété **ZoomMax** permet de connaître la valeur maximale du zoom utilisable pour le champ Caméra (pour la caméra en cours d'utilisation). |
| [ZoomMin](../Proprietes/1410088098.md) | La propriété **ZoomMin** permet de connaître la valeur minimale du zoom utilisable pour le champ Caméra (pour la caméra en cours d'utilisation). |




Seule la séquence vidéo actuellement retransmise peut être visualisée dans un champ Caméra.

Enregistrement audio : 




Pour visualiser :

- une image capturée avec la fonction [CaméraPhoto](../WDLang1/1410087225.md), utilisez un [champ Image](../WDChamp/1013218.md).

- une séquence vidéo capturée avec la fonction [CaméraVidéoDémarre](../WDLang1/1410087227.md), utilisez un [champ Multimédia](../WDChamp/9500200.md).




Remarque : Si vous utilisez un champ Caméra créé à partir de la version 27 (ou si l'option "Compatible 26" est décochée) : 

- L'utilisation de la fonction [VidéoParamètre](../WDLang1/1000019694.md) est ignorée par le champ Caméra. 

- Les fonctions suivantes ne sont pas disponibles : 
	


|   |   |
| --- | --- |
| [CaméraAffiche](../WDLang1/1410086595.md) | Affiche dans un champ "Caméra" la séquence vidéo actuellement retransmise par une "web caméra" ou par la caméra de l'appareil mobile.<br><br> |
| [CaméraArrête](../WDLang1/1410086596.md) | Arrête l'affichage ou l'enregistrement d'une séquence vidéo affichée dans un champ Caméra.<br><br> |
| [CaméraCapture](../WDLang1/1000022450.md) | Capture la séquence vidéo actuellement retransmise par une "caméra" :<br><br>	- sous forme d'une image : prend une photo.<br><br>	- sous forme de vidéo : enregistre une vidéo.<br><br><br><br><br> |
| [CaméraEtat](../WDLang1/1000022455.md) | Renvoie l'état d'un champ Caméra.<br><br> |







### Champ Caméra version 26 et inférieure 
<a name="champ_camera_version_26_inferieure_ELTPARAGRAPHE000174"></a>Si vous utilisiez le champ Caméra dans les versions précédentes, le champ est automatiquement définit en mode "Compatible 26" lors du passage du projet en version 27. Dans ce mode : 

- Les nouvelles propriétés et fonctions de la version 27 ne sont pas disponibles et provoquent une erreur fatale.

- Lors de la prise de la photo : 

	- l'autofocus est pris en compte s'il est activé. 

	- l'orientation de la caméra est prise en compte pour l'orientation finale de la photo.




- Le code de clic sur le champ Caméra permet de déclencher la prise de photo ou l'enregistrement du clip (puis son arrêt). 




Seule la séquence vidéo actuellement retransmise peut être visualisée dans un champ Caméra.

Pour visualiser :

- une image capturée avec la fonction [CaméraCapture](../WDLang1/1000022450.md), utilisez un [champ Image](../WDChamp/1013218.md).

- une séquence vidéo capturée avec la fonction [CaméraCapture](../WDLang1/1000022450.md), utilisez un [champ Multimédia](../WDChamp/9500200.md).









- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=LesfonctionsCamera.gif) ***Exemples unitaires (WINDEV Mobile)*** : **Les fonctions Caméra** <br>Utilisation des fonctions WLangage "Caméra" pour, notamment, lancer l'application caméra native de l'appareil afin d'enregistrer une vidéo ou de prendre une photo.
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMSysteme.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Système** <br>Cette application est un exemple didactique montrant quelques unes des fonctionnalités de WINDEV Mobile pour Android/iOS.<br>Les fonctions système utilisées sont : <br>- NFC<br>- Champ Multimédia<br>- Luminosité<br>- Volume<br>- WIFI<br>- Bluetooth<br>- Toast<br>- Boussole<br>- Accéléromètre<br>- Champ caméra<br>- LED<br>- Vibrations<br>- Notifications<br>- Fonctions de dessin<br>- Internet
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMPhotos.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Photos** <br>Cet exemple Android/iOS permet de prendre des photos, et de les sauvegarder en leur associant un titre et des mot-clés.<br>Une recherche est également disponible.<br>Les photos sont stockées dans le répertoire de l'application et sont donc privées (non visibles par d'autres applications).


