


## Evénements associés aux champs Carte
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Evénements gérés par défaut
<a name="evenements_geres_par_defaut_ELTTEXTE000232"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Universal Windows 10 App](https://doc.pcsoft.fr/ext/images/fr/UNIVERSALAPP.png) WINDEV et WINDEV Mobile gèrent par défaut les événements suivants (ordre d'apparition sous l'éditeur de code) : 


| Evénement | Conditions d'exécution |
| --- | --- |
| Initialisation | Exécuté à l'ouverture de la fenêtre. \* |
| A chaque changement de position | Exécuté à chaque fois que l'affichage est modifié, notamment :<br><br>- lorsque l'utilisateur réalise un défilement avec le doigt ou la souris,<br><br>- lors de l'utilisation de la fonction [CarteAffichePosition](../WDLang3/1000019787.md),<br><br>- lors de l'affectation de la propriété [Valeur](../Proprietes/2510130.md).<br><br><br> |


(\*) Par défaut, l'événement "Initialisation" de chaque champ est exécuté selon l'ordre de création des différents champs dans la fenêtre. Pour modifier cet ordre d'exécution : 

1. Sous le volet "Fenêtre", dans le groupe "Ordre", cliquez sur "Initialisation".

2. Dans la fenêtre qui s'affiche, utilisez les flèches situées sur la droite pour modifier l'ordre d'initialisation des champs.




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Evénements optionnels
<a name="evenements_optionnels_ELTTEXTE000256"></a>


### Evénements optionnels
<a name="evenements_optionnels_ELTPARAGRAPHE000136"></a>Plusieurs événements optionnels peuvent être gérés.
Pour ajouter un événement optionnel :

1. Sélectionnez le champ voulu.

2. Affichez la fenêtre de code de ce champ (touche F2).

3. Cliquez sur le lien "Ajouter d'autres événements à xxx" situé à la fin de la fenêtre de code, après le dernier événement.  ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Traitements_optionnels_WD_OK%20-%20HC%20N%B0001.gif)


4. La totalité des événements optionnels disponibles pour le champ est affichée. 

5. Cochez l'événement optionnel à ajouter et validez. 
	Remarque : Il est possible de sélectionner plusieurs événements optionnels. 

6. L'événement optionnel sélectionné est automatiquement ajouté dans les événements gérés par le champ.




Pour désactiver un événement optionnel, il suffit d'effectuer les mêmes manipulations pour afficher la liste des événements optionnels. Il suffit ensuite de décocher les événements optionnels à supprimer. 
Remarque : Si le code désactivé contient du code WLangage, ce code est automatiquement supprimé.




### Evénement optionnel : Modification d'un cluster de marqueurs
<a name="evenement_optionnel_modification_cluster_marqueurs_ELTPARAGRAPHE000164"></a>L'événement "Modification d'un cluster de marqueurs" est exécuté lorsque le champ Carte contenant des clusters est affiché. Cet événement est exécuté pour chaque cluster de marqueurs trouvé. Il permet notamment de modifier l'affichage du cluster. 

Cet événement est de la forme : 

```txt
PROCÉDURE ModifCluster(tabMarqueur est un tableau de Marqueurs)
```
où tabMarqueur est un tableau contenant les variables de type Marqueur associées au cluster. 
Cet événement peut renvoyer : 

- rien ou une chaîne vide : dans ce cas, l'affichage par défaut du cluster sera utilisé.

- le chemin d'une image : cette image sera utilisée pour représenter le cluster. 

- une variable de type [MarqueurImage](../WDLang3/1000025796.md), permettant de personnaliser l'image du cluster. 









