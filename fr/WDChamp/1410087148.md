
## Manipuler un champ Affichage HTML par programmation
			

<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000135"></a>
Le champ d'affichage HTML permet d'afficher une page Web dans une application. Ainsi, en une ligne de code, sans utiliser de navigateur externe, vos applications WINDEV et WINDEV Mobile peuvent afficher une page d'un site.

Le champ d'affichage HTML peut être manipulé directement par programmation. Il suffit d'utiliser directement la variable du champ d'affichage HTML dans le code. La variable du champ d'affichage HTML correspond au nom du champ d'affichage HTML. Le type de la variable est une chaîne de caractères.

Un champ d'affichage HTML peut être également manipulé par programmation grâce aux [Fonctions de gestion des champs d'affichage HTML](../WDLang1/1000026264.md). 

Cette page d'aide détaille comment manipuler un champ Affichage HTML par programmation. 





## Manipuler le champ d'affichage HTML par programmation
<a name="manipuler_champ_affichage_html_par_programmation_ELTTEXTE000159"></a>


### Afficher une information dans un champ d'affichage HTML
<a name="afficher_une_information_dans_champ_affichage_html_ELTPARAGRAPHE000024"></a>Pour afficher une information dans un champ d'affichage HTML, une simple affectation suffit.

Quelques exemples :

- Affectation directe :
	
	```wl
	HTM_PageWeb = "http://www.pcsoft.fr"
	```


- Affectation par variable :
	
	```wl
	HTM_PageWeb = MaPage
	```



Il est également possible d'utiliser la propriété [Valeur](../Proprietes/2510130.md) ou la propriété [URL](../Proprietes/2510132.md).


### Récupérer la valeur d'un champ d'affichage HTML
<a name="recuperer_valeur_champ_affichage_html_ELTPARAGRAPHE000046"></a>Pour récupérer le contenu d'un champ d'affichage HTML (l'utilisateur a la possibilité par exemple d'utiliser les liens présents dans la page affichée dans le champ) :

- Réalisez une simple affectation. Par exemple :
	
	```wl
	ContenuHTML = HTM_ChampAffichageHTML
	```


- Utilisez la propriété [Valeur](../Proprietes/2510130.md). 







### Empêcher l'utilisateur d'utiliser un lien présent dans une page
<a name="empecher_utilisateur_utiliser_lien_present_dans_une_page_ELTPARAGRAPHE000060"></a>Dans le champ d'affichage HTML, par défaut, l'utilisateur peut utiliser les différents liens présents dans la page affichée dans le champ. 

Pour limiter l'utilisation de ces liens, il est possible d'utiliser l'événement "Avant chargement de la page HTML". 

Dans l'exemple suivant, on suppose que la liste des sites autorisés est contenue dans un tableau WLangage. 


```wl
PROCÉDURE ChangePage(sUrl est chaîne, sDestination est une chaîne)
Tabsiteautorisé est un tableau de 2 chaînes
Tabsiteautorisé[1] = "pcsoft.fr"
Tabsiteautorisé[2] = "google.fr"
soit sDomaine = URLExtraitChemin(sUrl, urlDomaine)
SI TableauCherche(Tabsiteautorisé, tcLinéairePremier, sDomaine) = -1 ALORS
		ToastAffiche("Site non autorisé", toastCourt, cvMilieu)
		RENVOYER Faux
FIN
RENVOYER Vrai
```


Ce code renvoie <u><u><u><u>Faux</u></u></u></u> si le site n'est pas autorisé et affiche un toast. 







## Propriétés WLangage associées
<a name="proprietes_wlangage_associees_ELTTEXTE000195"></a>


### Propriétés spécifiques à la gestion d'un champ Affichage HTML
<a name="proprietes_specifiques_gestion_champ_affichage_html_ELTPARAGRAPHE000080"></a>Les propriétés suivantes sont spécifiques à la gestion des caractéristiques d'un champ d'affichage HTML par programmation : 



|   |   |
| --- | --- |
| [Body](../Proprietes/1000025914.md) | La propriété **Body** permet de connaître et de modifier le corps HTML d'un champ d'affichage HTML ou d'un champ Editeur HTML. |
| [Document](../Proprietes/1000026145.md) | La propriété **Document** permet de connaître ou de modifier le document HTML associé à un champ d'affichage HTML ou à un champ Editeur HTML. |
| [SécuritéHtml](../Proprietes/1000019121.md) | La propriété **SécuritéHtml** permet de connaître et de modifier l'état du mécanisme de sécurité des champs d'affichage HTML et des champs Editeur HTML. |
| [URL](../Proprietes/2510132.md) | La propriété **URL** permet de :<br><br>- Connaître l'adresse associée à un champ.<br><br>- Modifier l'adresse associée à un champ.<br><br><br> |





Pour connaître la liste complète des propriétés du WLangage pouvant être utilisées avec un champ de type Affichage HTML, consultez [Propriétés associées au champ Affichage HTML](../WDChamp/1410087146.md).


