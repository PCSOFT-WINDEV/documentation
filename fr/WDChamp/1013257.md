


## Evénements associés aux fenêtres internes
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Evénements gérés par défaut
<a name="evenements_geres_par_defaut_ELTTEXTE000331"></a>


**Attention : Ne confondez pas "Champ Fenêtre Interne" et "Fenêtre interne" : le "Champ Fenêtre interne" est un type de champ et la "Fenêtre interne" est un type de fenêtre.**

WINDEV et WINDEV Mobile gèrent par défaut les événements suivants pour les **champs "Fenêtre interne"** :


| Evénement | Condition d'exécution |
| --- | --- |
| Sélection par balayage | **Fenêtre interne avec parcours par balayage**.<br><br>Exécuté après que la nouvelle fenêtre interne ait été affichée et chargée.<br><br>Pour plus de détails, consultez [Changement du contenu d'une fenêtre interne par balayage](../WDChamp/1013277.md). |
| Après chargement de la fenêtre interne | Exécuté lors du changement de la fenêtre interne avec la fonction [ChangeFenêtreSource](../WDLang1/3038053.md). Cet événement est exécuté après l'événement "Déclarations globales" et l'événement "Initialisation" de la nouvelle fenêtre interne.<br><br>Cet événement permet par exemple d'initialiser des champs, de restaurer des valeurs dans la fenêtre interne.<br><br>La fonction [ChangeFenêtreSource](../WDLang1/3038053.md) ne doit pas être utilisée dans cet événement. |
| Avant déchargement de la fenêtre interne | Exécuté lors du changement de la fenêtre interne avec la fonction [ChangeFenêtreSource](../WDLang1/3038053.md). Cet événement est exécuté avant l'événement de fermeture de la fenêtre interne initiale.<br><br>Cet événement permet par exemple de sauvegarder les valeurs présentes dans la fenêtre interne.<br><br>La fonction [ChangeFenêtreSource](../WDLang1/3038053.md) ne doit pas être utilisée dans cet événement. |



WINDEV et WINDEV Mobile gèrent par défaut les événements suivants pour les **fenêtres internes** : 


| Evénement | Condition d'exécution |
| --- | --- |
| Déclarations globales | Déclaration des variables globales à la fenêtre. C'est le premier code exécuté lors de l'ouverture de la fenêtre.<br>Ce code est exécuté avant le code de déclaration des globales de la fenêtre hôte (fenêtre dans laquelle la fenêtre interne est intégrée).<br>Il est par exemple possible d'appeler une procédure de la fenêtre interne depuis le code de déclaration des globales de la fenêtre hôte. |
| Fin d'initialisation | Exécuté lors de l'ouverture de la fenêtre.<br>L'ordre d'exécution des événements est le suivant :<br><br>- Initialisation des champs de la fenêtre<br><br>- Initialisation de la fenêtre<br><br>- Prise de focus<br><br><br> |
| Fermeture | Exécuté lors de la fermeture de la fenêtre.<br>**Remarque** : Une reprise de saisie sur un des champs de la fenêtre dans ce code empêche la fenêtre de se fermer. |
| ![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) Demande de mise à jour de l'affichage | Permet de regrouper le code de mise à jour des champs de la fenêtre : contenu des champs, état (visible, grisé, ...), libellé à mettre à jour, ...<br><br>Cet événement peut attendre des paramètres. Il suffit de déclarer une procédure dans l'événement. Par exemple : <br><br><pre><code>// Demande de mise à jour de l'affichage<br>PROCEDURE DemandeMiseAjour(TypeMiseAJour est un booléen)</code></pre><br><br><br>Cet événement est lancé sur demande grâce aux fonctions : <br><br>- [DemandeMiseAJourUI](../WDLang1/1000023899.md) ou [DemandeMiseAJourUIParent](../WDLang1/1000023900.md) : Exécute l'événement à la fin de l'événement en cours (lancement asynchrone). <br><br>- [ExécuteMiseAJourUI](../WDLang1/1000023901.md) ou [ExécuteMiseAJourUIParent](../WDLang1/1000023902.md) : Exécute immédiatement l'événement. <br><br><br>Lors de l'appel de ces fonctions, il est possible de préciser la valeur des paramètres attendus par l'événement. |
| Entrée | Evénement optionnel :<br>Exécuté lors de l'entrée du curseur dans le champ Fenêtre Interne.  |
| Sortie | Evénement optionnel : <br>Exécuté lors du changement de champ (passage du champ Fenêtre interne à un autre champ de la fenêtre). |
| A chaque modification | Exécuté à chaque modification du contenu du champ |
| Affectation de la propriété Valeur | Exécuté à chaque affectation de la propriété ***Valeur*** sur la Fenêtre Interne (affectation directe ou effectuée avec la propriété Valeur). Ce code permet par exemple de récupérer des paramètres passés à la fenêtre interne. |
| Récupération de la propriété Valeur | Exécuté à chaque récupération de la propriété ***Valeur*** de la fenêtre interne. Ce code permet par exemple à la fenêtre interne de renvoyer une valeur à la fenêtre accueillant le champ Fenêtre Interne. |



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Evénements optionnels
<a name="evenements_optionnels_ELTTEXTE000355"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000174"></a>Plusieurs événements optionnels peuvent être gérés.
Pour ajouter un événement optionnel :

1. Sélectionnez le champ voulu.

2. Affichez la fenêtre de code de ce champ (touche F2).

3. Cliquez sur le lien "Ajouter d'autres événements à xxx" situé à la fin de la fenêtre de code, après le dernier événement.  <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Traitements_optionnels_WD_OK%20-%20HC%20N%B0001.gif)


4. La totalité des événements optionnels disponibles pour le champ est affichée. 

5. Cochez l'événement optionnel à ajouter et validez. 
	Remarque : Il est possible de sélectionner plusieurs événements optionnels. 

6. L'événement optionnel sélectionné est automatiquement ajouté dans les événements gérés par le champ.




Pour désactiver un événement optionnel, il suffit d'effectuer les mêmes manipulations pour afficher la liste des événements optionnels. Il suffit ensuite de décocher les événements optionnels à supprimer. 
Remarque : Si le code désactivé contient du code WLangage, ce code est automatiquement supprimé.Il est ainsi possible de gérer par exemple :

- le survol du champ par la souris,

- le bouton gauche enfoncé, relâché, avec un double-clic,

- le bouton droit enfoncé, relâché, avec double-clic,

- la roulette de la souris, ...




Pour plus de détails, consultez les [Evénements optionnels](../WDChamp/1014004.md).
<a name="NOTE2_2"></a>
<a name="NOTE2_3"></a>




<a name="NOTE2_6"></a>


### Evénement optionnel : Début de défilement
<a name="evenement_optionnel_debut_defilement_ELTPARAGRAPHE000241"></a>Exécuté lors du début de défilement de l'ascenseur vertical du champ Fenêtre Interne, utilisé pour faire défiler le contenu de la fenêtre interne (cas où le contenu de la fenêtre interne est plus important que la taille du champ Fenêtre interne). 
Rappel : La fonction [AscenseurPosition](../WDLang1/1000021057.md) permet de connaître la position de l'ascenseur. 

Remarque : Cet événement est disponible aussi bien pour le champ Fenêtre interne que pour les fenêtres internes. 




<a name="NOTE2_7"></a>


### Evénement optionnel : Pendant le défilement
<a name="evenement_optionnel_pendant_defilement_ELTPARAGRAPHE000258"></a>Exécuté lors du défilement de l'ascenseur vertical du champ Fenêtre Interne, utilisé pour faire défiler le contenu de la fenêtre interne (cas où le contenu de la fenêtre interne est plus important que la taille du champ Fenêtre interne). 
Rappel : La fonction [AscenseurPosition](../WDLang1/1000021057.md) permet de connaître la position de l'ascenseur. 

Remarque : Cet événement est disponible aussi bien pour le champ Fenêtre interne que pour les fenêtres internes. 
<a name="NOTE2_8"></a>


### Evénement optionnel : Fin de défilement
<a name="evenement_optionnel_fin_defilement_ELTPARAGRAPHE000274"></a>Exécuté à la fin défilement de l'ascenseur vertical du champ Fenêtre Interne, utilisé pour faire défiler le contenu de la fenêtre interne (cas où le contenu de la fenêtre interne est plus important que la taille du champ Fenêtre interne). 
Rappel : La fonction [AscenseurPosition](../WDLang1/1000021057.md) permet de connaître la position de l'ascenseur. 

Remarque : Cet événement est disponible aussi bien pour le champ Fenêtre interne que pour les fenêtres internes. 




