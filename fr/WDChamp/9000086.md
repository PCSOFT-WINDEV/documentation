


## Les modèles de fenêtres (templates)
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000421"></a>
WINDEV et WINDEV Mobile permettent de créer des modèles de fenêtres. Ces modèles contiennent tous les éléments graphiques et le code communs à l'ensemble des fenêtres de votre application.

Les modifications effectuées dans un modèle de fenêtres sont automatiquement reportées sur toutes les fenêtres utilisant ce modèle.

Un modèle de fenêtres permet de respecter la charte graphique définie pour une application.

L'utilisation de modèles de fenêtres dans vos applications permet de :

- simplifier la création des fenêtres de l'application.

- simplifier la mise en page des fenêtres de l'application.

- simplifier la mise à jour de la charte graphique de l'application.








<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Création d'un modèle de fenêtres
<a name="creation_modele_fenetres_ELTTEXTE000445"></a>
Un modèle de fenêtres peut être créé :

- soit directement, comme une nouvelle fenêtre.

- soit à partir d'une fenêtre existante.



<a name="NOTE2_2"></a>


### Créer un modèle de fenêtres
<a name="creer_modele_fenetres_ELTPARAGRAPHE000062"></a>Pour créer un modèle de fenêtres :

1. Créez un nouveau modèle de fenêtres : 

	- Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_nouveau.gif) parmi les boutons d'accès rapide. 

	- La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Fenêtre" puis sur "Modèle de fenêtres".




2. Vous pouvez :

	- Créer un modèle de fenêtres vierge (basé ou non sur le gabarit utilisé par le projet),

	- Créer un modèle de fenêtres vierge basé sur un gabarit différent de celui du projet,

	- Si votre projet utilise déjà des modèles de fenêtres, créer un modèle de fenêtres basé sur un autre modèle de fenêtres du projet. Dans ce cas, les mises à jour des modèles de fenêtres seront effectuées en cascade.




3. L'éditeur de fenêtres affiche une nouvelle fenêtre dans un cadre orange intitulé "Modèle de fenêtres".

4. Créez tous les champs nécessaires. Ces champs seront présents sur toutes les fenêtres utilisant le modèle.

5. Saisissez si nécessaire :

	- les événements associés à la fenêtre.

	- les événements associés aux différents champs du modèle.
			Ces événements seront automatiquement importés dans les fenêtres utilisant le modèle.




6. Donnez un nom à votre modèle (onglet "Général" de la fenêtre de description).

7. Sous le volet "Accueil", dans le groupe "Général", cliquez sur "Enregistrer" (ou cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_Enregistrer.gif) parmi les boutons d'accès rapide).

<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P1_Mod%E8les%20de%20fen%EAtres%20-%20HC%20N%B0001.gif)
Le modèle de fenêtres correspond à un fichier d'extension ".WDT".
<a name="NOTE2_3"></a>


### Créer un modèle de fenêtres à partir d'une fenêtre existante
<a name="creer_modele_fenetres_partir_une_fenetre_existante_ELTPARAGRAPHE000108"></a>Pour créer un modèle de fenêtres à partir d'une fenêtre existante : 

1. Ouvrez la fenêtre choisie comme modèle.

2. Conservez uniquement les champs nécessaires au modèle. Ces champs seront présents sur toutes les fenêtres utilisant le modèle de fenêtres.

3. Conservez uniquement le code des événements nécessaires au modèle. Ces événements seront automatiquement importés dans les fenêtres utilisant le modèle.

4. Donnez un nom à votre fenêtre (onglet "Général" de la fenêtre de description de la fenêtre).

5. Sous le volet "Accueil", dans le groupe "Général", cliquez sur "Enregistrer" et sélectionnez "Enregistrer comme un modèle". La fenêtre en cours devient un modèle :

	- son nom est précédé de "Modèle".

	- un cadre orange entoure la fenêtre dans l'éditeur de fenêtres.

	- le modèle de fenêtres apparaît dans le volet "Explorateur de projet" dans le dossier "Modèles de fenêtres".







Le modèle de fenêtres correspond à un fichier d'extension ".WDT".

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Appliquer un modèle de fenêtres
<a name="appliquer_modele_fenetres_ELTTEXTE000481"></a>


### Créer une nouvelle fenêtre basée sur un modèle de fenêtres
<a name="creer_une_nouvelle_fenetre_basee_sur_modele_fenetres_ELTPARAGRAPHE000141"></a>Pour créer une nouvelle fenêtre basée sur un modèle de fenêtres : 

1. Créez une nouvelle fenêtre : 

	- Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_nouveau.gif) parmi les boutons d'accès rapide.

	- La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Fenêtre" puis sur "Fenêtre".




2. Sélectionnez le volet "Basée sur un Modèle" dans l'assistant qui s'affiche.

3. Choisissez votre modèle dans la liste des modèles disponibles.

4. Validez. La nouvelle fenêtre apparaît sous l'éditeur.




Un carré jaune permet d'identifier les éléments appartenant au modèle de fenêtres. Ces éléments pourront être modifiés :

- dans le modèle de fenêtres : la modification sera effective pour toutes les fenêtres utilisant ce modèle.

- dans la fenêtre, par le [mécanisme de "surcharge de champs"](../WDChamp/9000087.md) : la modification sera effective uniquement pour la fenêtre.

<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P1_Mod%E8les%20de%20fen%EAtres%20-%20HC%20N%B0002.gif)

<a name="NOTE3_2"></a>


### Appliquer un modèle sur une fenêtre existante
<a name="appliquer_modele_sur_une_fenetre_existante_ELTPARAGRAPHE000168"></a>Pour appliquer un modèle sur une fenêtre existante : 

1. Affichez la fenêtre sous l'éditeur de fenêtres.

2. Sous le volet "Fenêtre", dans le groupe "Modèles", déroulez "Modèles" et sélectionnez "Hériter d'un modèle".

3. Sélectionnez le modèle de fenêtres à appliquer.

4. Validez.

5. Indiquez si vous souhaitez mettre à jour les propriétés de la fenêtre depuis le modèle. 
	Si vous répondez "Oui", la liste des propriétés à surcharger apparaît. Dans cette fenêtre, vous pouvez sélectionner les propriétés de la fenêtre initiale à conserver. Le modèle de fenêtres appliqué sera automatiquement surchargé pour les propriétés conservées. Pour toutes les autres caractéristiques, la fenêtre sera automatiquement liée au modèle.

6. Validez.




**Remarque** : Par défaut, les caractéristiques de taille ainsi que le titre de la fenêtre sont automatiquement surchargés.
<a name="NOTE3_3"></a>


### Remarques
<a name="remarques_ELTPARAGRAPHE000198"></a>

- Il est possible d'appliquer plusieurs modèles à une fenêtre. Dans ce cas, les champs des différents modèles sont présents dans la fenêtre, ainsi que les différents traitements de chacun des modèles. Les propriétés de la fenêtre (dimensions, cadre, ...) ne peuvent être liées qu'à un seul modèle.

- Certains gabarits utilisent des champs de "décor" (par exemple le gabarit ActiveVista). Ces champs permettent d'afficher le titre de la fenêtre, les boutons système, ... Ces champs de décor sont considérés comme étant des propriétés de la fenêtre.

- Dans cette version : 

	- les menus du modèle ne sont pas appliqués dans la fenêtre utilisant le modèle.




- La surcharge au niveau des barres de messages n'est pas gérée.

- La surcharge de styles au niveau des modèles est gérée.

- Il est également possible d'appliquer un modèle de fenêtres sur une fenêtre interne existante. Pour plus de détails, consultez [Champ Fenêtre interne](../WDChamp/1013255.md).




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Ouvrir le modèle associé à une fenêtre
<a name="ouvrir_modele_associe_une_fenetre_ELTTEXTE000517"></a>
Pour ouvrir le modèle associé à une fenêtre :

1. Affichez la fenêtre sous l'éditeur de fenêtres.

2. Dans le menu contextuel d'un élément du modèle, sélectionnez l'option "Ouvrir le modèle".




**Autre possibilité** : 

- Listez les modèles associés à la fenêtre : sous le volet "Fenêtre", dans le groupe "Modèles", déroulez "Modèles" et sélectionnez "Liste des modèles utilisés".

- Sélectionnez le modèle voulu et cliquez sur le bouton "Ouvrir le modèle".




<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Reporter les modifications effectuées sur un modèle
<a name="reporter_les_modifications_effectuees_sur_modele_ELTTEXTE000541"></a>
Lors de la modification d'un modèle de fenêtres, il est possible de reporter les modifications effectuées sur une ou plusieurs fenêtres utilisant ce modèle dans le projet en cours.

Ce report des modifications est proposé à la fermeture du modèle.

Il peut également être effectué à tout moment :

- depuis le modèle : sous le volet "Fenêtre", dans le groupe "Modèles", déroulez "Modèles" et sélectionnez "Mettre à jour les fenêtres associées".

- depuis n'importe quelle fenêtre utilisant le modèle : 

	- en ouvrant la liste des modèles utilisés : sous le volet "Fenêtre", dans le groupe "Modèles", déroulez "Modèles" et sélectionnez "Liste des modèles utilisés". 

	- puis en cliquant sur le bouton "Se mettre à jour".




- directement depuis le modèle de fenêtres, en cliquant sur l'icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Modele_MAJ.gif) dans le bandeau orange du modèle. 




**Remarque** : Le report des modifications du modèle est effectué en fonction des caractéristiques surchargées dans les fenêtres qui utilisent le modèle.

<a name="NOTE6"></a>
<a name="NOTE6_1"></a>


## Tester un modèle de fenêtres
<a name="tester_modele_fenetres_ELTTEXTE000565"></a>
Pour tester un modèle de fenêtres :

1. Ouvrez le modèle à tester : 

	- Sous le volet "Fenêtre", dans le groupe "Modèles", déroulez "Modèles" et sélectionnez "Liste des modèles utilisés", 

	- Cliquez sur le bouton "Ouvrir le modèle".




2. Cliquez sur le bouton ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Ico_Go_Fenetre_WD_bl.gif) parmi les boutons d'accès rapide.




<a name="NOTE7"></a>
<a name="NOTE7_1"></a>


## Liste des modèles utilisés
<a name="liste_des_modeles_utilises_ELTTEXTE000589"></a>
Pour afficher la liste des modèles utilisés pour une fenêtre, sous le volet "Fenêtre", dans le groupe "Modèles", déroulez "Modèles" et sélectionnez "Liste des modèles utilisés".<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Modele_Liste%20-%20HC%20N%B0001.gif)
Depuis cette fenêtre, il est possible de :

- "Ouvrir un modèle" : ouvre le modèle sélectionné dans l'éditeur de fenêtres.

- "Se mettre à jour" : les champs et le code du modèle sont mis à jour dans la fenêtre.

- "Ajouter" : ajoute un modèle à la fenêtre en cours.

- "Dissocier" : les champs du modèle présents dans la fenêtre sont dissociés du modèle. Le modèle est supprimé de la liste des modèles utilisés, mais ses champs ne sont pas supprimés de la fenêtre.

- "Supprimer" : supprime le modèle (champs et code) de la fenêtre.




<a name="NOTE8"></a>
<a name="NOTE8_1"></a>


## Synchronisation des fenêtres et des modèles de fenêtres
<a name="synchronisation_des_fenetres_des_modeles_fenetres_ELTTEXTE000613"></a>
Il est possible de synchroniser les fenêtres et leurs modèles : 

- lors de la création d'exécutables, de composants, ... Il suffit de cocher l'option "Synchroniser les modèles lors de la génération" (onglet "Options" de la description du projet).

- lors du GO du projet. La mise à jour des fenêtres en fonction des modèles de fenêtres est automatiquement proposée.




<a name="NOTE9"></a>
<a name="NOTE9_1"></a>


## Exemple
<a name="exemple_ELTTEXTE000637"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png) L'exemple "Gestion Commerciale" livré avec WINDEV utilise :

- le mécanisme des modèles de modèles,

- les modèles de fenêtres,

- les modèles de champs,

- la rétromodélisation des modèles.





