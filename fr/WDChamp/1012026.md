


## Dialoguer avec l'internaute
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000262"></a>
Grâce aux nouvelles technologies Web, les sites peuvent ressembler à des applications Windows et afficher des boîtes de dialogues.

Pour que l'internaute identifie rapidement la page active, le système de grisage automatique des pages est automatiquement utilisé. La page inactive est assombrie, et ainsi les pages actives sont plus visibles par l'internaute.

Par exemple :<br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=GFI_WebDEv.gif)
Le dialogue avec l'internaute peut être géré : 

- [via les popups](#NOTE2_2),

- [via les champs Cellule](#NOTE2_3),

- [via des pages](#NOTE2_4),

- [via les fonctions OuiNon et OKAnnuler](#NOTE2_5).




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Comment le faire ?
<a name="comment_faire_ELTTEXTE000286"></a>


### Les fonctions WLangage disponibles
<a name="les_fonctions_wlangage_disponibles_ELTPARAGRAPHE000039"></a>WEBDEV met à votre disposition plusieurs fonctions permettant d'effectuer un dialogue avec l'internaute :



|   |   |
| --- | --- |
| [CelluleAfficheDialogue](../WDLang2/1000017139.md) | Affiche un champ Cellule dans la page avec un effet de GFI (Grisage des Fenêtres Inaccessibles). Cette fonction permet de simuler simplement une boîte de dialogue en code navigateur, en utilisant un champ Cellule dans une page. |
| [CelluleFermeDialogue](../WDLang2/1000017140.md) | Masque un champ Cellule précédemment affiché dans la page via la fonction [CelluleAfficheDialogue](../WDLang2/1000017139.md). |
| [OKAnnuler](../WDLang1/3021004.md) | Affiche un message dans une boîte de dialogue standard proposant les réponses "OK" et "Annuler" et renvoie la réponse de l'utilisateur. |
| [OuiNon](../WDLang1/3021005.md) | Affiche un message dans une boîte de dialogue standard proposant les réponses "Oui" et "Non" et renvoie la réponse de l'utilisateur. |
| [PageAfficheDialogue](../WDLang2/1000017124.md) | Affiche une page de manière modale. Cette fonction permet de créer un dialogue avec l'utilisateur. La page est affichée devant et en arrière-plan se trouve la page ouvrante, grisée par le mécanisme de GFI. |
| [PageFermeDialogue](../WDLang2/1000017166.md) | Ferme la page courante. Cette page a été ouverte avec la fonction [PageAfficheDialogue](../WDLang2/1000017124.md). Une valeur de retour peut être renvoyée à la page appelante. |
| [PopupAffiche](../WDLang2/1000019788.md) | Affiche une popup dans la page avec un effet de GFI (Grisage des Fenêtres Inaccessibles). |
| [PopupFerme](../WDLang2/1000019789.md) | Masque une popup affichée dans la page via la fonction [PopupAffiche](../WDLang2/1000019788.md). |





Toutes ces fonctions permettent de dialoguer avec l'utilisateur et prennent en compte les paramètres du GFI définis par les fonctions suivantes :


|   |   |
| --- | --- |
| [PageActiveGFI](../WDLang2/1000017087.md) | Active ou désactive le GFI (Grisage des pages inaccessibles) lors de l'affichage d'une page modale (par exemple les pages permettant de dialoguer avec l'utilisateur). |
| [PageTauxGFI](../WDLang2/1000017086.md) | Définit et renvoie le taux de grisage utilisé par le GFI. |


<a name="NOTE2_2"></a>
![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png) 

### Gérer un dialogue via des popups
<a name="gerer_dialogue_via_des_popups_ELTPARAGRAPHE000064"></a>Voici un exemple permettant de gérer un dialogue à l'aide d'une popup présente dans une page.

Pour gérer un dialogue avec une popup, il suffit de : 

1. Créer une popup dans la page devant afficher le dialogue : sous le volet "Création", dans le groupe "Conteneurs", cliquez sur "Popup". Cette popup permettra de dialoguer avec l'internaute. Cette popup contient au minimum :

	- un libellé qui permet d'afficher le texte du dialogue.

	- un bouton permettant de valider la boîte de dialogue.
			L'onglet "Style" de la fenêtre de description de la popup permet de définir toutes les options de style voulues (image de fond de la popup, ...). Pour plus de détails, consultez [Champ Popup](../WDChamp/1000022001.md). 




2. Le bouton de fermeture du dialogue présent dans la popup contient le code suivant :
	
	```wl
	PopupFerme()
	```

	La fonction [PopupFerme](../WDLang2/1000019789.md) permet de fermer la popup.

3. Pour dialoguer avec l'internaute depuis la page (par exemple à partir d'un bouton de la page), il suffit d'utiliser la fonction [PopupAffiche](../WDLang2/1000019788.md), en précisant le nom de la popup à utiliser pour le dialogue. Cette popup est associée à la page ou au modèle de page utilisé par la page.



<a name="NOTE2_3"></a>
![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Linux](https://doc.pcsoft.fr/ext/images/fr/LX.png) 

### Gérer un dialogue avec des cellules
<a name="gerer_dialogue_avec_des_cellules_ELTPARAGRAPHE000109"></a>Voici un exemple permettant de gérer un dialogue à l'aide d'une cellule présente dans une page. Cette solution est conseillée si seule une page du site doit proposer un dialogue avec l'internaute.

Pour gérer un dialogue avec une cellule, il suffit de :

1. Créer une cellule dans la page devant afficher le dialogue. Cette cellule permettra de dialoguer avec l'internaute. Cette cellule contient au minimum :

	- un libellé qui permet d'afficher le texte du dialogue.

	- un bouton permettant de valider la boîte de dialogue.




2. La cellule (et les champs qui la composent) est invisible. Elle doit également être superposable.
	Si nécessaire, il est possible d'ajouter des champs dans la cellule (image, ...).
	Remarque : Pour ne pas afficher d'ascenseurs inutiles dans le navigateur, cochez l'option "Positionnement automatique au chargement pour éviter les ascenseurs" (onglet "Détail" de la description de la cellule). Cette option permet de positionner automatiquement la cellule à la position (0,0) au chargement de la page.

3. Le bouton de fermeture du dialogue (présent dans la cellule) contient le code suivant :
	
	```wl
	CelluleFermeDialogue(CELL_MaCellule)
	```

	La fonction [CelluleFermeDialogue](../WDLang2/1000017140.md) permet de rendre invisible la cellule précédemment affichée.
	

4. Pour dialoguer avec l'internaute depuis la page (par exemple à partir d'un bouton de la page), il suffit d'utiliser la fonction [CelluleAfficheDialogue](../WDLang2/1000017139.md), en précisant le nom de la cellule à utiliser pour le dialogue.



<a name="NOTE2_4"></a>
![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png) 

### Gérer un dialogue avec les pages
<a name="gerer_dialogue_avec_les_pages_ELTPARAGRAPHE000143"></a>Voici un exemple permettant de gérer un dialogue à l'aide d'une page du site. Cette solution est conseillée si plusieurs pages du site doivent proposer un dialogue avec l'internaute. La page de dialogue pourra être ouverte depuis n'importe quelle page du site.

Pour gérer un dialogue avec une page : 

1. Créez une page (nommée par exemple PAGE_Info). Cette page permettra de dialoguer avec l'internaute. Cette page contient au minimum :

	- une cellule qui délimite la boîte de dialogue.

	- un libellé qui permet d'afficher le texte. Ce libellé est contenu dans la cellule.

	- un bouton permettant de valider la boîte de dialogue. Ce bouton est contenu dans la cellule.
			Si nécessaire, il est possible d'ajouter des champs dans la cellule (images, ...).
			Il est conseillé de centrer la page dans le navigateur.




2. Le bouton de fermeture du dialogue (présent dans la page) contient le code suivant : 
	
	```wl
	PageFermeDialogue()
	```

	La fonction [PageFermeDialogue](../WDLang2/1000017166.md) permet de renvoyer une valeur à la page qui a ouvert le dialogue.
	

3. Pour appeler la page de dialogue depuis une autre page, utilisez la fonction [PageAfficheDialogue](../WDLang2/1000017124.md) en précisant le nom de la page à ouvrir et si nécessaire les paramètres à lui passer. Ces paramètres peuvent par exemple permettre de remplir dynamiquement le texte affiché dans le libellé.



<a name="NOTE2_5"></a>
![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png) 

### Gérer un dialogue avec OuiNon et OKAnnuler
<a name="gerer_dialogue_avec_ouinon_okannuler_ELTPARAGRAPHE000177"></a>Les fonctions [OuiNon](../WDLang1/3021005.md) et [OKAnnuler](../WDLang1/3021004.md) permettent également de gérer un dialogue simple avec l'internaute. Ces fonctions permettent de poser une question à l'internaute à laquelle la réponse sera soit "Oui" ou "Non", soit "OK" ou "Annuler".

Pour gérer un dialogue avec les fonctions OuiNon et OKAnnuler :

**1.** Intégrez des pages internes spécifiques dans votre projet. Ces pages internes contiennent la boîte de dialogue :

- WebDevOKAnnuler pour la fonction [OKAnnuler](../WDLang1/3021004.md).

- WebDevOuiNon pour la fonction [OuiNon](../WDLang1/3021005.md).


Pour intégrer ces pages : 

- Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_nouveau.gif) parmi les boutons d'accès rapide. 

- La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Page" puis sur "Page".

- L'assistant de création d'une page se lance. 

- Dans l'assistant, cliquez sur "Page interne". 

- Sélectionnez "Ok / Annuler" ou "Oui / Non". Ces pages doivent être enregistrées dans votre projet avec le nom proposé par défaut.


**2.** Utilisez les fonctions [OuiNon](../WDLang1/3021005.md) et [OKAnnuler](../WDLang1/3021004.md) dans le code de l'application.


