
## Champ Caméra : décoder les codes-barres (syntaxe préfixée)
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000082"></a>
Sous iOS et Android, il est possible de décoder les codes-barres via le champ Caméra via la fonction [CBCapture](../WDLang5/1000019456.md). Cette fonction ouvre une fenêtre système pour décoder le code-barres. Cette fenêtre système n'est pas personnalisable. 

Une autre solution consiste à utiliser le champ Caméra. Il est ainsi possible d'intégrer le champ et le décodage des codes-barres dans des UI complexes.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Créer et configurer le champ Caméra pour décoder les codes-barres
<a name="creer_configurer_champ_camera_pour_decoder_les_codesbarres_ELTTEXTE000113"></a>


### Créer un champ Caméra
<a name="creer_champ_camera_ELTPARAGRAPHE000136"></a>Pour créer un champ Caméra :

1. Sous le volet "Création", dans le groupe "Champs graphiques", cliquez sur "Caméra".

2. Cliquez dans la fenêtre à la position où le champ doit être créé. Le champ apparaît en création.





### Configurer le champ Caméra
<a name="configurer_champ_camera_ELTPARAGRAPHE000161"></a>Pour configurer le champ Caméra :

1. Affichez la fenêtre de description du champ (option "Description" du menu contextuel). 

2. Dans l'onglet "Détail", configurez le paramétrage du champ : 

	- **Type de décodage ** : 

		- Aucun : Pas de décodage du code-barres. 

		- Code-barres : Décodage sans zone de visée. 

		- Code-barres avec zone de visée : Une zone de visée permet de visualiser la zone dans laquelle le code-barres doit être placé. 

		- Code-barres avec zone de visée contrastée : Une zone de visée permet de visualiser la zone dans laquelle le code-barres doit être placé et les sections en dehors de cette zone sont floutées. 




- **Type de code-barres** : Type de code-barres à décoder. Il est possible de gérer tous les codes-barres. 

- **Taille de la zone de visée** : Taille de la zone de visée, exprimée en pourcentage de la zone visible. Cette option est disponible uniquement si une zone de visée a été demandée.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Traitement "Décodage d'un code-barres"
<a name="traitement_decodage_codebarres_ELTTEXTE000190"></a>
Lorsque le décodage des codes-barres est activé sur le champ Vidéo, l'événement "Décodage d'un code-barres" associé au champ Caméra permet de traiter le code-barres lu via le champ. 

Cet événement est exécuté lorsque le code-barres est détecté. 

Cet événement est de la forme : 

```txt
PROCEDURE DécodeCodeBarre(cb est un CodeBarres)
```
Il est possible de récupérer les informations lues via la variable de type [CodeBarres](../WDLang5/1000019451.md) passée en paramètre. 

Si cet événement renvoie : 

- <u><u><u><u>Vrai</u></u></u></u> (valeur par défaut), le décodage du code-barres s'arrête. 
	La fonction [CaméraDémarreDécodage](../WDLang1/1000022454.md) (ou la fonction  [&lt;Caméra&gt;.DémarreDécodage](../WDLang1/1000022475.md)) permet de relancer la lecture.

- <u><u><u><u>Faux</u></u></u></u>, le décodage du code-barres continue.




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Remarque
<a name="remarque_ELTTEXTE000249"></a>


- La fonction [CaméraDemandePermission](../WDLang1/1000022453.md) (ou la fonction [VidéoDemandePermission](../WDLang1/1000022355.md)) permet de savoir si l'appareil utilisé est autorisé à utiliser la caméra. 

- Attention : Si la prévisualisation du champ Caméra est déformée, l'image à décoder sera également déformée.

- Décodage et prise de photos : 

	- Si le champ Caméra est en mode "Compatible 26" : La prise de photos et l'enregistrement de vidéos sont interdits si la détection de codes-barres est activée (la fonction [&lt;Caméra&gt;.Capture](../WDLang1/1000022382.md) renvoie une erreur dans ce cas). 




- Lorsque le champ Caméra est configuré pour autoriser le décodage de code-barres (dans la fenêtre de description), le décodage démarre automatiquement à l'ouverture de la fenêtre. 
	Pour empêcher ce comportement, il est possible d'appeler la fonction [CaméraArrêteDécodage](../WDLang1/1000022449.md) (ou la fonction [&lt;Caméra&gt;.ArrêteDécodage](../WDLang1/1000022474.md)) dans l'événement "Initialisation" du champ Caméra. Le décodage des codes-barres pourra être relancé grâce à la fonction [CaméraDémarreDécodage](../WDLang1/1000022454.md) (ou la fonction [&lt;Caméra&gt;.DémarreDécodage](../WDLang1/1000022475.md)).







