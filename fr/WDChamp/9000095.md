


## Modèle de champs
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000248"></a>
Un modèle de champs est un ensemble de champs, réutilisables dans plusieurs fenêtres ou pages. 

- WINDEV et WINDEV Mobile permettent de créer des modèles de champs utilisables dans des fenêtres. 

- WEBDEV permet de créer des modèles de champs utilisables dans des pages.




Un modèle de champs peut être édité, modifié, et lors d'une modification, il est possible de reporter ces modifications dans toutes les fenêtres ou les pages qui utilisent ce modèle.

Les modèles de champs permettent de :

- regrouper un ensemble de champs dans un but précis.

- rendre des champs indépendants de la fenêtre les accueillant.




De plus, les modèles de champs sont un fichier au format ".WDT" qui peuvent être facilement transférés d'un projet à un autre.

**Avantage par rapport aux superchamps** : Les modifications apportées aux modèles de champs peuvent être reportées automatiquement sur toutes les fenêtres (ou les pages) comportant le modèle de champs.

**Avantage par rapport aux fenêtres ou pages internes** : Les modèles de champs sont directement intégrés, visibles et modifiables dans la fenêtre ou la page. Ils peuvent être surchargés directement dans la fenêtre ou la page utilisant le modèle de champs.

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Création d'un modèle de champs
<a name="creation_modele_champs_ELTTEXTE000272"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) 

### Créer un modèle de champs depuis l'éditeur de fenêtres
<a name="creer_modele_champs_depuis_editeur_fenetres_ELTPARAGRAPHE000036"></a>Pour créer un modèle de champs depuis l'éditeur de fenêtres : 

1. Depuis l'éditeur de fenêtres, créez un nouveau modèle de champs : 

	- Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_nouveau.gif)
 parmi les boutons d'accès rapide. 

	- La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Fenêtre" puis sur "Modèle de champs". Vous pouvez :

		- Créer un modèle de champs vierge (basé ou non sur le gabarit utilisé par le projet),

		- Créer un modèle de champs vierge basé sur un gabarit différent de celui du projet,

		- Si votre projet utilise déjà des modèles de champs, créer un modèle de champs basé sur un autre modèle de champs du projet. Dans ce cas, les mises à jour des modèles de champs seront effectuées en cascade.




2. L'éditeur de fenêtres affiche une nouvelle zone dans un cadre vert intitulé "Modèle de champs".

3. Créez tous les champs nécessaires. Ces champs seront présents dans toutes les fenêtres ou les pages utilisant le modèle de champs.
	Remarque : Les modèles de champs peuvent être imbriqués. Un modèle de champs peut utiliser un autre modèle de champs.

4. Si nécessaire :

	- Saisissez les traitements associés aux différents champs. Ces traitements seront automatiquement importés dans la fenêtre ou dans la page utilisant le modèle de champs.

	- Ancrez les différents champs dans le modèle. Ces ancrages seront automatiquement utilisés dans la fenêtre ou dans la page utilisant le modèle de champs.

	- Adaptez la taille du modèle de champs aux champs présents dans le modèle (option "Adapter la taille" du menu contextuel).




5. Donnez un nom à votre modèle (onglet "Général" de la fenêtre de description).
	Remarque : Si vous utilisez la charte de programmation, le nom du modèle de champs est préfixé par "MDLC_".

6. Enregistrez votre modèle de champs (icône ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ico_Enregistrer.gif)
). Le modèle de champs est disponible pour être utilisé dans un champ de type "Modèle de champs". Le fichier créé est au format ".WDT".


![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Modele_Champ.gif)
**Limite** : La surcharge de style au niveau des modèles n'est pas disponible.
<a name="NOTE2_2"></a>


### Créer un modèle de champs à partir de champs existants
<a name="creer_modele_champs_partir_champs_existants_ELTPARAGRAPHE000106"></a>Pour créer un modèle de champs à partir de champs existants :

1. Sélectionnez les champs devant faire partie du modèle de champs.

2. Sous le volet "Modification", dans le groupe "Transformations", déroulez "Refactoring et permutations" et sélectionnez "Créer un modèle de champs avec la sélection".




Remarques :

- Il est également possible d'utiliser l'option "Refactoring .. Créer un modèle de champs avec la sélection" du menu contextuel de la sélection.

- Il est possible de créer un modèle de modèle de champs, c'est-à-dire un modèle de champs basé sur un autre modèle de champs.



<a name="NOTE2_3"></a>


### Cas particuliers
<a name="cas_particuliers_ELTPARAGRAPHE000133"></a>

- Les menus contextuels sont disponibles dans les modèles de champs :

	- Si la fenêtre possède des menus contextuels, les menus contextuel du modèle de champs doivent avoir des noms différents.

	- Les menus contextuels du modèle de champs sont ajoutés aux menus contextuels de la fenêtre.

	- Si deux modèles de champs identiques et avec menus contextuels sont présents dans une fenêtre, la surcharge du menu contextuel du modèle de champs est valide pour les deux modèles de champs.




- Si plusieurs modèles de champs présents dans une fenêtre ont la même source, la mise à jour d'un modèle de champs entraîne la mise à jour de tous les modèles de champs utilisant la même source dans la fenêtre. 




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Tester un modèle de champs
<a name="tester_modele_champs_ELTTEXTE000314"></a>
Pour tester un modèle de champs :

1. Ouvrez le modèle de champs sous l'éditeur.

2. Cliquez sur le bouton "Go" (icône "Tester la fenêtre" ou "Tester la page").




<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## Utiliser un modèle de champs
<a name="utiliser_modele_champs_ELTTEXTE000338"></a>
Pour utiliser un modèle de champs :

1. Ouvrez la fenêtre ou la page dans laquelle le modèle de champs doit être intégré.

2. Créez un champ de type modèle de champs : sous le volet "Création", dans le groupe "Conteneurs", cliquez sur "Modèle de champs".

3. Sélectionnez le modèle de champs à incorporer dans la fenêtre ou la page.
	**Attention** : Le modèle de champs est associé une fois pour toutes au champ "Modèle de champs". Pour changer l'association, il faut supprimer le champ "Modèle de champs" et le re-créer.  

4. Validez et positionnez le champ dans la fenêtre ou dans la page.


**Remarque** : Un modèle de champs créé avec WINDEV (pour une fenêtre) ne peut pas être utilisé dans une page, et un modèle de champs créé sous WEBDEV (dans une page) ne peut pas être utilisé dans une fenêtre.
<a name="NOTE4_2"></a>


### Renommer un modèle de champs
<a name="renommer_modele_champs_ELTPARAGRAPHE000183"></a>Si un modèle de champs est renommé, le lien avec les éléments utilisant ce modèle est perdu. 

Il est possible de rétablir cette liaison grâce à la fenêtre listant les modèles : sous le volet "Fenêtre", dans le groupe "Modèles", déroulez "Modèles" et sélectionnez "Liste des modèles utilisées".


- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WW_Zoom_Auto.gif) ***Exemples didactiques (WEBDEV)*** : **WW_Zoom_Auto** <br>Cet exemple propose un modèle de champ basé sur une image, permettant d'afficher une miniature d'une image et grâce à un clic sur celle-ci, d'agrandir l'image sans perturber la mise en page.<br>Limitations :<br>- Les images ne peuvent pas être chargées depuis une base de données<br>- Le modèle de champ ne peut pas être inclus dans une zone répétée
- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WW_Flux_RSS.gif) ***Exemples didactiques (WEBDEV)*** : **WW_Flux_RSS** <br>Cet exemple montre comment lire et afficher un flux RSS dans une page WEBDEV grâce au type RSS et aux fonctions de manipulation du RSS du WLangage.<br>Un modèle de champ facilement réutilisable est utilisé pour afficher les données RSS.


