
## Evénements associés aux superchamps
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Evénements gérés par défaut
<a name="evenements_geres_par_defaut_ELTTEXTE000233"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png) WINDEV et WINDEV Mobile gèrent par défaut les événements suivants (ordre d'apparition sous l'éditeur de code) :

| Evénement | Condition d'exécution |
| --- | --- |
| Déclarations globales | Code de déclaration des variables globales au superchamp. Ces variables peuvent être de n'importe quel type. Elles pourront être utilisées dans n'importe quel événement associé au superchamp ou à un des champs composant le superchamp. |
| Initialisation | Exécuté à l'ouverture de la fenêtre. |
| Demande de mise à jour de l'affichage | Permet de regrouper le code de mise à jour des champs du superchamp : contenu des champs, état (visible, grisé, ...), libellé à mettre à jour, ...<br><br>Cet événement peut attendre des paramètres. Il suffit de déclarer une procédure dans l'événement. Par exemple : <br><br><pre><code>// Demande de mise à jour de l'affichage <br>PROCEDURE DemandeMiseAjour(TypeMiseAJour est un booléen)</code></pre><br><br><br>Cet événement est lancé sur demande grâce aux fonctions : <br><br>- [DemandeMiseAJourUI](../WDLang1/1000023899.md) ou [DemandeMiseAJourUIParent](../WDLang1/1000023900.md) : Exécute l'événement à la fin de l'événement en cours (lancement asynchrone). <br><br>- [ExécuteMiseAJourUI](../WDLang1/1000023901.md) ou [ExécuteMiseAJourUIParent](../WDLang1/1000023902.md) : Exécute immédiatement l'événement. <br><br><br>Lors de l'appel de ces fonctions, il est possible de préciser la valeur des paramètres attendus par l'événement. |
| Entrée | Exécuté lors de l'entrée du curseur dans un champ composant le superchamp |
| Sortie | Exécuté lors de la sortie du curseur d'un des champs composant le superchamp |
| Affectation de la propriété Valeur | Exécuté à chaque affectation de la propriété ***Valeur*** sur le superchamp (affectation directe ou effectuée avec la propriété [Valeur](../Proprietes/2510130.md)). Ce code permet par exemple de récupérer des paramètres passés au superchamp. |
| Récupération de la propriété Valeur | Exécuté à chaque récupération de la propriété ***Valeur*** de la fenêtre interne. Ce code permet par exemple au superchamp de renvoyer une valeur à la fenêtre accueillant le superchamp. |
| A chaque modification | Ce code n'est pas exécuté par défaut. Pour l'exécuter, utilisez la fonction [ExécuteTraitement](../WDLang1/3013031.md) avec la constante *trtModification*. |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Associer une procédure locale à un super champ
<a name="associer_une_procedure_locale_super_champ_ELTTEXTE000263"></a>
Pour créer une procédure locale au superchamp : 

1. Affichez la description du superchamp.

2. Cliquez sur le bouton "Ajouter" placé sous le champ "Procédures locales". Une nouvelle procédure est créée.

3. Cliquez sur le bouton "Code" pour éditer le code de la procédure.




**Astuce** : Pour créer des procédures locales liées au superchamp, il est possible de réaliser les manipulations suivantes :

1. Sélectionnez votre fenêtre (ou page) puis le superchamp dans le volet "Explorateur de projet".

2. Cliquez sur la flèche noire à côté du nom du superchamp dans l'explorateur de projet. Les procédures locales apparaissent. 

3. Sélectionnez "Procédures locales". Les procédures locales affichées sont celles du superchamp. Vous pouvez ajouter, renommer ou supprimer des procédures locales au superchamp.






<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Evénements optionnels
<a name="evenements_optionnels_ELTTEXTE000287"></a>


### Présentation
<a name="presentation_ELTPARAGRAPHE000130"></a>Plusieurs événements optionnels peuvent être gérés.

Pour ajouter un événement optionnel :

1. Sélectionnez le champ voulu.

2. Affichez la fenêtre de code de ce champ (touche F2).

3. Cliquez sur le lien "Ajouter d'autres événements à xxx" situé à la fin de la fenêtre de code, après le dernier événement.  <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Traitements_optionnels_WD_OK%20-%20HC%20N%B0001.gif)


4. La totalité des événements optionnels disponibles pour le champ est affichée. 

5. Cochez l'événement optionnel à ajouter et validez. 
	Remarque : Il est possible de sélectionner plusieurs événements optionnels. 

6. L'événement optionnel sélectionné est automatiquement ajouté dans les événements gérés par le champ.




Pour désactiver un événement optionnel, il suffit d'effectuer les mêmes manipulations pour afficher la liste des événements optionnels. Il suffit ensuite de décocher les événements optionnels à supprimer. 
Remarque : Si le code désactivé contient du code WLangage, ce code est automatiquement supprimé.

Il est ainsi possible de gérer par exemple :

- le survol du champ par la souris,

- le bouton gauche enfoncé, relâché, avec un double-clic,

- le bouton droit enfoncé, relâché, avec double-clic,

- la roulette de la souris, etc.





<a name="NOTE2_6"></a>


### Evénement optionnel : Début de défilement
<a name="evenement_optionnel_debut_defilement_ELTPARAGRAPHE000149"></a>Exécuté lors du début de défilement de l'ascenseur vertical du superchamp, utilisé pour faire défiler le contenu du superchamp (cas où le contenu du superchamp est plus important que la taille du superchamp). 
Rappel : La fonction [AscenseurPosition](../WDLang1/1000021057.md) permet de connaître la position de l'ascenseur. 




<a name="NOTE2_7"></a>


### Evénement optionnel : Pendant le défilement
<a name="evenement_optionnel_pendant_defilement_ELTPARAGRAPHE000164"></a>Exécuté lors du défilement de l'ascenseur vertical superchamp, utilisé pour faire défiler le contenu du superchamp (cas où le contenu du superchamp est plus important que la taille du superchamp). 
Rappel : La fonction [AscenseurPosition](../WDLang1/1000021057.md) permet de connaître la position de l'ascenseur. 
<a name="NOTE2_8"></a>


### Evénement optionnel : Fin de défilement
<a name="evenement_optionnel_fin_defilement_ELTPARAGRAPHE000178"></a>Exécuté à la fin défilement de l'ascenseur vertical superchamp, utilisé pour faire défiler le contenu du superchamp (cas où le contenu du superchamp est plus important que la taille du superchamp). 
Rappel : La fonction [AscenseurPosition](../WDLang1/1000021057.md) permet de connaître la position de l'ascenseur. 




