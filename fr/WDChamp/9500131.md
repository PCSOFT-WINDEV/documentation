


## Multi-touch dans un champ Image
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000271"></a>
L'une des applications les plus courante du multi-touch est la manipulation d'images. La taille de l'affichage sur un téléphone étant souvent réduite, il est souvent nécessaire de zoomer et/ou de se déplacer dans une image. 

Il est ainsi possible de réaliser un zoom sur une image avec le contact de 2 doigts qui s'écartent. 

Le multi-touch peut être mis en place : 

- sur les applications s'exécutant sur un téléphone. 

- sur les sites s'affichant sur un téléphone. 




La gestion du multi-touch dans les champs Image peut être mise en place grâce à : 

- [Différentes options spécifiques disponibles dans la description du champ](#NOTE2_1).

- [Des événements optionnels spécifiques](#NOTE3_1).




 


<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Description du champ Image : Options spécifiques au multi-touch
<a name="description_champ_image_options_specifiques_multitouch_ELTTEXTE000295"></a>
L'onglet "Détail" de la fenêtre de description du champ Image permet de gérer les actions effectuées lors de l'utilisation des doigts : <br>![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=multitouch.gif)
Il est possible de gérer : 

- **Pas de scroll, pas de zoom** : dans ce cas, le multi-touch est désactivé. 

- **Scroll automatique seulement** : Si l'image n'est pas affichée dans son intégralité dans le champ, il est possible de la déplacer en scrollant directement dans l'image avec le doigt.

- **Scroll et zoom automatiques** : En plus du scroll, il est possible de réaliser un zoom. Dans ce cas : 

	- l'écartement de deux doigts en contact avec l'écran permet de zoomer dans l'image. Le zoom sera centré sur le point situé au milieu de la ligne tracée par les deux points de contact.

	- le resserrement de deux doigts en contact avec l'écran permet de dé-zoomer dans l'image. 







Les options supplémentaires permettent de définir : 

- **Facteur de zoom maximal** : Zoom maximum pouvant être effectué avec les doigts. 

- **Autoriser la mise à l'échelle par double tap** : Dans ce cas, une double tape (ou double-clic) dans le champ permet d'appliquer le zoom sur une zone de l'image. Si l'image est déjà zoomée, elle sera réinitialisée à son affichage d'origine. 





<a name="NOTE2_2"></a>

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Evénements optionnels spécifiques pour le multi-touch
<a name="evenements_optionnels_specifiques_pour_multitouch_ELTTEXTE000325"></a>
Trois événements optionnels spécifiques permettent de gérer le multi-touch sur les champs Image : 

- [Scroll au doigt](#NOTE3_2)

- [Balayage horizontal et vertical](#NOTE3_3)

- [Zoom au doigt](#NOTE3_4)



<a name="NOTE3_2"></a>


### Evénement optionnel Scroll au doigt
<a name="evenement_optionnel_scroll_doigt_ELTPARAGRAPHE000134"></a>L'événement "Scroll au doigt" est exécuté lors du déplacement vertical ou horizontal d'un ou plusieurs doigts en gardant le contact avec l'écran.

Cet événement peut accepter des paramètres en déclarant une procédure directement dans l'événement "Scroll au doigt" avec la syntaxe suivante : 

```txt
PROCEDURE <Nom de la procédure>(<Distance X>, <Distance Y>)
```
où : 

- &lt;Distance X&gt; : Entier correspondant à la distance (en pixels) qui a été scrollée sur l'axe des X dans le champ.

- &lt;Distance Y&gt; : Entier correspondant à la distance (en pixels) qui a été scrollée sur l'axe des Y dans le champ.




Remarques : 





<a name="NOTE3_3"></a>


### Balayage horizontal et vertical
<a name="balayage_horizontal_vertical_ELTPARAGRAPHE000167"></a>L'événement "Balayage horizontal et vertical" est exécuté lors d'un petit mouvement rapide d'un ou de plusieurs doigts sur l'écran. 

Cet événement peut accepter des paramètres en déclarant une procédure directement dans l'événement "Balayage horizontal et vertical" avec la syntaxe suivante : 

```txt
PROCEDURE <Nom de la procédure>(<Vitesse X>, <Vitesse Y>)
```
où : 

- &lt;Vitesse X&gt; : Entier correspondant à la vitesse (en pixels par seconde) du mouvement sur l'axe des X.

- &lt;Vitesse Y&gt; : Entier correspondant à la vitesse (en pixels par seconde) du mouvement sur l'axe des Y.





<a name="NOTE3_4"></a>


### Evénement optionnel "Zoom aux doigts"
<a name="evenement_optionnel_zoom_aux_doigts_ELTPARAGRAPHE000190"></a>L'événement "Zoom aux doigts" est exécuté lors de l'écartement ou du rapprochement de deux doigts sur l'écran. 

Cet événement peut accepter des paramètres en déclarant une procédure directement dans l'événement "Zoom aux doigts" avec la syntaxe suivante : 

```txt
PROCEDURE <Nom de la procédure>(<Ecartement>)
```
où &lt;Ecartement&gt; : Entier correspondant à la distance (en pixels) entre les deux points de contact au moment de l'appel de l'événement.





**Attention** : Le zoom au doigt n'est pas disponible si la fonction [dDébutDessin](../WDLang1/3029009.md) est utilisée sur le champ Image. Dans ce cas, il faut : 

- sauver l'image avec une fonction dSauveImageXXX. 

- utiliser la fonction [dFinDessin](../WDLang1/3029019.md). 

- réafficher l'image dans le champ Image. 





- ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=WMSysteme.gif) ***Exemples multiplateforme (WINDEV Mobile)*** : **WM Système** <br>Cette application est un exemple didactique montrant quelques unes des fonctionnalités de WINDEV Mobile pour Android/iOS.<br>Les fonctions système utilisées sont : <br>- NFC<br>- Champ Multimédia<br>- Luminosité<br>- Volume<br>- WIFI<br>- Bluetooth<br>- Toast<br>- Boussole<br>- Accéléromètre<br>- Champ caméra<br>- LED<br>- Vibrations<br>- Notifications<br>- Fonctions de dessin<br>- Internet


