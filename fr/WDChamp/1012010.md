


## Gestion de la synchronisation
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000174"></a>
Grâce au mécanisme de synchronisation des pages, lors de chaque action effectuée dans une page une vérification de synchronisation est automatiquement réalisée. Cette vérification consiste à vérifier si la page affichée sur le navigateur correspond bien au contexte de page présent sur le serveur.

Deux modes de gestion de la synchronisation sont disponibles :

1. [Gestion de la synchronisation par défaut](#NOTE2),

2. [Gestion de la synchronisation par programmation, dans le code de synchronisation de la page](#NOTE3).




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Synchronisation par défaut
<a name="synchronisation_par_defaut_ELTTEXTE000198"></a>


### Présentation 
<a name="presentation_ELTPARAGRAPHE000027"></a>Le mécanisme de synchronisation par défaut est déclenché uniquement si l'option "Utiliser le mécanisme de synchronisation des pages" est sélectionnée pour la page.

En cas de désynchronisation, un message d'avertissement informe l'internaute que l'action demandée n'a pu être effectuée. La page correspondant au contexte présent sur le serveur est réaffichée. Le site peut continuer à fonctionner.
<a name="NOTE2_2"></a>


### Mise en place
<a name="mise_place_ELTPARAGRAPHE000036"></a>Pour mettre en place la gestion de la synchronisation dans une page :

1. Dans l'onglet "UI" de la description de la page (option "Description" du menu contextuel), pour l'option "Utilisation du bouton "Précédent" du navigateur", sélectionnez "Autorisé (exécute le code de synchronisation)".

2. Validez. Cette page sera automatiquement incluse dans l'historique des pages du navigateur : il sera possible de revenir sur cette page par le bouton "Précédent" du navigateur. 




Pour mettre en place la gestion de la synchronisation dans toutes les pages du projet :

1. Affichez la description du projet : sous le volet "Projet", dans le groupe "Projet", cliquez sur "Description". Dans l'onglet "Avancé", pour l'option "Option par défaut pour l'utilisation du bouton "Précédent" du navigateur", sélectionnez "Autorisé (exécute le code de synchronisation)".

2. Validez. Les pages du projet seront automatiquement incluses dans l'historique des pages du navigateur : il sera possible de revenir sur ces pages par le bouton "Précédent" du navigateur.



<a name="NOTE2_3"></a>


### Remarques
<a name="remarques_ELTPARAGRAPHE000071"></a>

- Ce mode de gestion ne nécessite aucun code WLangage particulier.

- Pour les champs de la page ne nécessitant pas une gestion de la synchronisation (bouton "Fermer" par exemple), il est possible de débrancher le mécanisme de synchronisation : il suffit de décocher l'option "Appeler le traitement de synchronisation de la page si l'internaute a utilisé le bouton précédent du navigateur" dans l'onglet "Avancé" de la description du champ.

- Le message d'avertissement peut être personnalisé (voir la synchronisation par programmation).




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Synchronisation par programmation
<a name="synchronisation_par_programmation_ELTTEXTE000234"></a>
Pour gérer la synchronisation par programmation : 

1. Dans l'onglet "UI" de la description de la page (option "Description" du menu contextuel), pour l'option "Utilisation du bouton "Précédent" du navigateur", sélectionnez "Autorisé (exécute le code de synchronisation)".

2. Configurez si nécessaire les champs de la page pour lesquels la synchronisation ne doit pas être gérée. 
	Pour chaque champ déclenchant une action sur le serveur, il est possible de paramétrer si la gestion de la synchronisation de la page doit être effectuée (option par défaut) ou ignorée lors de cette action. 
	Pour ignorer la gestion de la synchronisation, il suffit de décocher l'option "Appeler le traitement de synchronisation de la page si l'internaute a utilisé le bouton précédent du navigateur" dans l'onglet "Avancé" de la description du champ.

3. Saisissez le code nécessaire à la gestion personnalisée de la synchronisation dans le code de synchronisation de la page. Utilisez la fonction [ChangeAction](../WDLang2/3058007.md) dans le code de synchronisation de la page. Cette fonction permet de déterminer l'action qui sera faite en cas de désynchronisation de la page.



<a name="NOTE3_2"></a>


### Remarques
<a name="remarques_ELTPARAGRAPHE000110"></a>

- La fonction [ChangeAction](../WDLang2/3058007.md) est initialisée avec l'action "Ne rien faire" si une fonction WLangage permettant d'afficher ou de réafficher une page est utilisée dans le code de synchronisation de la page.

- Pour personnaliser le message de désynchronisation, il suffit de saisir dans le code de synchronisation de la page :

	1. le message personnalisé

	2. le réaffichage de la page en cours sur le serveur (avec la fonction [PageActualise](../WDLang2/3058011.md) par exemple).




- Pour réaliser une synchronisation à partir des informations présentes sur le poste de l'internaute, il est conseillé de :

	1. utiliser un champ caché contenant l'identifiant de l'enregistrement affiché et sélectionné,

	2. rechercher dans le code de synchronisation l'enregistrement en cours sur le navigateur. Cette recherche est réalisée à partir de l'identifiant contenu dans le champ caché.

	3. réactualiser la page.








