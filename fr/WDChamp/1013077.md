
## Champ Zone répétée lié à un fichier de données
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000124"></a>
Un champ Zone répétée peut être utilisé pour afficher le contenu d'un fichier de données ou d'une requête.

Lorsqu'un champ Zone répétée est lié à un fichier de données ou à une requête, le champ pourra être initialisé avec le contenu du fichier de données ou de la requête :

- **soit automatiquement** : Aucun code spécifique n'est nécessaire pour initialiser le champ Zone répétée. Les caractéristiques du parcours du fichier de données lié au champ sont décrites dans l'onglet "Contenu" de la description du champ.

- **soit par programmation** : Il est nécessaire de saisir le code de parcours du fichier de données lié au champ Zone répétée dans les différents traitements du champ. Cette méthode est déconseillée.




**Remarque** : Lors de la création d'un champ Zone répétée, l'assistant demande les différents renseignements nécessaires à la création d'un champ Zone répétée liée à un fichier de données ou une requête.



<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Champ Zone répétée fichier initialisé automatiquement
<a name="champ_zone_repetee_fichier_initialise_automatiquement_ELTTEXTE000148"></a>
Un champ Zone répétée fichier permet d'afficher des données provenant d'une source de données spécifique (fichier de données, requête, ...).

Le contenu du champ est défini lors de sa création et peut être modifié dans sa fenêtre de description (onglet "Contenu").

![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Zonerepeteecontenu.gif)


Cet onglet permet de définir si le champ est un champ Zone répétée fichier, mémoire ou sur variable. Dans le cas d'un champ Zone répétée fichier, cet onglet permet de déterminer les caractéristiques du parcours de la source de données :


|   |   |
| --- | --- |
| <br><br>- **Fichier parcouru**<br><br><br> | Fichier de données ou requête contenant les données à afficher. |
| <br><br>- **Rubrique mémorisée** (optionnel)<br><br><br> | Rubrique dont la valeur est retournée au programme lorsqu'un élément d'une répétition est sélectionné. |
| <br><br>- **Parcours automatique**<br><br><br> | Si cette option est cochée, WINDEV, WINDEV Mobile ou WEBDEV prennent en charge le parcours du fichier de données et l'affichage des données dans le champ Zone répétée. Aucun code WLangage n'est nécessaire. |
| <br><br>- **Rubrique de parcours**<br><br><br> | Rubrique utilisée pour parcourir la source de données. Les enregistrements seront affichés dans le champ Zone répétée triés selon cette rubrique. |
| <br><br>- **Parcours inversé**<br><br><br> | Le sens de parcours dépend de la rubrique de parcours. Le sens de parcours a été défini dans l'éditeur d'analyses, dans les caractéristiques de la rubrique. <br>Si cette option est cochée, le sens de parcours utilisé sera l'inverse de celui défini dans l'éditeur d'analyses. |
| <br><br>- **Afficher les enregistrements dont la clé de parcours commence par** : <br><br><br> | Condition utilisée pour filtrer les enregistrements affichés. Ce filtre est du type "Commence par" et s'applique sur la rubrique de parcours. Pour utiliser des filtres plus élaborés, utilisez la fonction [HFiltre](../WDLang4/3044100.md). |





<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Champ Zone répétée fichier initialisé par programmation
<a name="champ_zone_repetee_fichier_initialise_par_programmation_ELTTEXTE000172"></a>
Si vous utilisez un champ Zone répétée basé sur un fichier de données avec initialisation programmée, il est nécessaire de saisir le code de parcours du fichier de données dans les différents traitements associés au champ. Cette méthode est déconseillée et conservée uniquement par compatibilité.

**Par exemple** : Initialisation d'un champ Zone répétée avec les produits du fichier de données Produit.


```wl
// Le champ Zone répétée ZR_REPETE1 contient 5 libellés et une image
// 6 attributs permettent de modifier la valeur des libellés et l'image affichée
// Initialisation de la zone répétée à partir du contenu d'un fichier de données HFSQL
HLitPremier(Produit, NomProduit)
TANTQUE PAS hEndehors()
	ZoneRépétéeAjoute(ZR_REPETE1, Produit.NomProduit + TAB + Produit.Duree + ...
					TAB + Produit.Realisateur + TAB + Produit.Acteur + ...
					TAB + Produit.Photo + TAB + Produit.Designation)
	HLitSuivant(Produit, NomProduit)
FIN
```





