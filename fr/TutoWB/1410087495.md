
## Leçon 5.2. Imprimer une facture


<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Ce que vous allez apprendre dans cette leçon
<a name="que_vous_allez_apprendre_dans_cette_lecon_ELTTEXTE000581"></a>


- Créer un état basé sur une requête.

- Lancer l'impression d'un état basé sur une requête paramétrée.





|   |   |
| --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=dur%E9e.png)<br> | <br>Durée estimée : 45 mn |

| [Leçon précédente](../TutoWB/1410087494.md) | [Sommaire](../TutoWB/1410087510.md) | [Leçon suivante](../TutoWB/1410087496.md) |
| --- | --- | --- |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000628"></a>
Nous allons donner la possibilité à l'utilisateur d'imprimer directement la facture correspondant à la commande recherchée.



- Ré-ouvrez si nécessaire le projet que vous avez manipulé dans la leçon précédente. 

	1. Affichez la page d'accueil de WEBDEV (Ctrl + &lt;).

	2. Dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 3 à 6", double-cliquez sur "Site WEBDEV Complet - Exercice".

	3. WEBDEV vous propose d'ouvrir le projet que vous avez manipulé dans la leçon précédente. Vous pouvez ouvrir le projet présent sur votre poste ou ouvrir le projet original. Choisissez "Ouvrir la copie locale". 





|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=exemple-WB.png)<br> | Corrigé | Un projet corrigé est disponible. Ce projet contient les différents éléments créés dans cette leçon. Pour ouvrir le projet corrigé, dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 3 à 6", double-cliquez sur "Site WEBDEV Complet - Corrigé". |







<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Principe de l'impression sur Internet
<a name="principe_impression_sur_internet_ELTTEXTE000670"></a>
A proprement parler, on ne devrait pas parler "d'impression" sur Internet. En effet, si un document doit être "imprimé", un fichier est d'abord généré (en HTML, en PDF ou encore en XML) puis trans­mis au navigateur. Dès que le transfert du fichier est terminé, c'est à l'internaute de décider si le document qu'il vient de recevoir doit être imprimé ou non.

Une "impression" sur le serveur reste toutefois possible. Mais le document imprimé (sur l'imprimante du serveur même ou sur une imprimante partagée du réseau) ne sera pas accessible ni même consultable par l'internaute.

Le document imprimé ou généré est préparé et mis en forme avec l'éditeur d'états. Les informations contenues dans le document peuvent provenir d'une base de données.

Nous distinguerons donc deux types d'impression :

- L'impression directe (sur l'imprimante du serveur).

- La génération de documents divers (HTML, PDF, etc.).



<a name="NOTE3_2"></a>


### Impression directe
<a name="impression_directe_ELTPARAGRAPHE000057"></a>L'impression directe consiste à imprimer directement sur une imprimante. Cette imprimante est reliée au poste serveur ou accessible depuis le réseau.

L'impression directe avec WEBDEV n'est conseillée que dans le cadre d'un Intranet ou un Extranet. Ce type d'impression permet par exemple d'imprimer des journaux de connexions des clients, d'imprimer les commandes en direct sur l'imprimante du service commercial.
<a name="NOTE3_3"></a>


### Génération de documents HTML, PDF ou XML
<a name="generation_documents_html_pdf_xml_ELTPARAGRAPHE000066"></a>L'impression à partir de documents HTML, PDF, XML consiste à créer un document puis à l'afficher sur le navigateur de l'internaute. Pour créer ce document, il suffit d'utiliser l'éditeur d'états de WEBDEV. Ainsi, depuis une source de données, votre site WEBDEV peut "générer" un fichier mis en forme. Ce fichier peut être au format HTML, PDF, RTF ou XML.

Le principal intérêt de cette méthode d'impression est que le fichier ainsi généré peut être trans­mis au navigateur. L'internaute peut alors imprimer ou stocker le document sur son poste.

L'impression dans un fichier peut être utilisée tant pour un site Internet que pour un site Intranet/ Extranet (par exemple : transmettre un bon de commande PDF à l'internaute, ...).

<a name="NOTE4"></a>
<a name="NOTE4_1"></a>


## De quoi est constitué un état ?
<a name="quoi_est_constitue_etat_ELTTEXTE000706"></a>
Dans notre exemple, la facture que nous allons imprimer va correspondre à un état. Un état est un élément d'un projet permettant de regrouper les données à imprimer et à les mettre en forme.
Pour créer et manipuler les états, WEBDEV propose un éditeur spécifique, l'éditeur d'états.

Un état est constitué de :

- différents blocs. Les blocs permettent de définir les zones dans lesquelles seront affichées les données. Les différents blocs disponibles sont les suivants :

	- Début de document : bloc affiché uniquement sur la première page.

	- Entête de page : bloc affiché en haut de chaque page.

	- Corps : bloc contenant les données. Ce bloc est répété tant qu'il y a des données à imprimer.

	- Pied de page : bloc affiché en bas, sur chaque page.

	- Fin de document : bloc affiché uniquement sur la dernière page.




- champs permettant d'afficher les données.


Voici par exemple l'état que nous allons créer : 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Requ%EAte%20-%20HC%20N%B0001.jpg&type=thumb)


<a name="NOTE5"></a>
<a name="NOTE5_1"></a>


## Création de l'état "Facture"
<a name="creation_etat_facture_ELTTEXTE000730"></a>
Nous allons tout d'abord lister les informations qui doivent être affichées dans l'état :

- Les caractéristiques de la commande : date et numéro de commande.

- Les coordonnées du client : nom, adresse, code postal, ville et pays.

- Les caractéristiques des lignes de commande :

	- Quantité commandée,

	- Référence du produit,

	- Libellé du produit,

	- Total HT,

	- Total TTC.





Pour créer simplement cet état, nous allons rassembler toutes les données à imprimer dans une requête. Cette requête pourra être utilisée par l'état ou par tout autre élément du projet WEBDEV (champ Table, champ Zone répétée, ...).|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png)<br> | Note | WEBDEV propose de créer des états à partir de nombreuses sources de données : fichiers de données, requêtes, champs, fichiers texte, ...<br><br>Dans la majorité des cas, il est conseillé de rassembler les données à imprimer via une requête, puis de créer un état sur cette requête. Si une information doit être ajoutée dans l'état, il suffira d'ajouter la rubrique correspondante dans la requête.<br><br>Les états réalisés directement sur les fichiers de données doivent être réservés à des états simples, c'est-à-dire affichant des données provenant d'un seul fichier de données. |




<a name="NOTE5_2"></a>


### Création de la requête
<a name="creation_requete_ELTPARAGRAPHE000125"></a>

- Pour créer la requête de base de l'état, nous allons utiliser l'éditeur de requêtes.

	1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Cr%E9er_WB_GAF.jpg)
 parmi les boutons d'accès rapide. La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Requête­". L'assistant de création d'une requête se lance.

	2. Sélectionnez l'option "Sélection (SELECT)".
			En effet, la requête que nous allons créer va nous permettre de sélectionner les enregistrements qui seront imprimés dans l'état. Passez à l'étape suivante.

	3. La fenêtre de description de la requête apparaît.







- Tout d'abord, donnez un nom à la requête : saisissez "REQ_Facture" à la place de "REQ_SansNom1" dans la zone "Nom de la requête".




- Nous allons construire la requête en sélectionnant les éléments que nous voulons dans le résultat. La requête va contenir le contenu du fichier de données Commande, le contenu du fichier de données LigneCommande et le contenu du fichier de données Client.

	1. Dans la zone de gauche de l'écran, sélectionnez le fichier de données Commande et cliquez sur la flèche (![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Recherche%20multi-crit%E8res%20-%20HC%20N%B0003%201.jpg)
) : les rubriques du fichier de données Commande apparaissent au centre de l'écran.

	2. Répétez cette opération pour les fichiers de données LigneCommande et Client.





La fenêtre de description de la requête est la suivante : ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Requ%EAte%20-%20HC%20N%B0004.jpg)
A ce stade, cette requête permet de sélectionner toutes les commandes et les lignes de commande correspondantes.

Nous allons réorganiser les rubriques de la requête. En effet, cet ordre sera utilisé pour créer les différents champs de l'état basé sur cette requête. Nous voulons que le libellé du produit soit positionné juste après la référence du produit. 

- Pour réorganiser l'ordre des rubriques :

	1. Sélectionnez la rubrique LibelléProduit du fichier de données LigneCommande.

	2. Cliquez sur le bouton ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Requ%EAte%20-%20HC%20N%B0004%201.jpg)
 à droite de la liste des rubriques. La rubrique remonte. 

	3. Positionnez la rubrique juste après la référence du produit (LigneCommande.Référence).







Nous voulons sélectionner les données correspondant à une seule commande dont l'identifiant est connu. Nous allons donc définir en paramètre le numéro de commande.


- Pour gérer le paramètre "Identifiant de la commande" :

	1. Sélectionnez au centre de l'écran la rubrique Commande.IDCommande.

	2. Cliquez dans la quatrième colonne (voir ci-dessous) : dans le menu qui s'affiche, sélectionnez l'option "Nouvelle condition".
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png)<br> | Note | Lors de la description d'une requête, la zone listant les éléments de la requête est constituée de 4 colonnes : ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Recherche%20multi-crit%E8res%20-%20HC%20N%B0009.jpg)<br><br><br>		- Une colonne avec le nom de la rubrique,<br><br>		- Une colonne permettant d'afficher ou non la rubrique dans le résultat de la requête,<br><br>		- Une colonne pour gérer le tri pour la rubrique,<br><br>		- Une colonne affichant le nombre de conditions associées à la rubrique.<br><br><br>Pour accéder à une de ces caractéristiques, il suffit de cliquer dans la colonne correspondante. |





	3. Dans la fenêtre qui s'affiche, nous allons indiquer que la condition de sélection correspond à un paramètre : 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Requ%EAte%20-%20HC%20N%B0003.jpg)
Effectuez les opérations suivantes :

		- Sélectionnez "Est égal à".

		- Cochez "au paramètre".

		- Indiquez le nom du paramètre : "ParamIDCommande".




4. Validez la fenêtre de description de la condition. Le chiffre "1" apparaît à droite de la rubrique Commande.IDCommande, indiquant qu'une condition de sélection a été définie.

5. L'identifiant de la commande ne sera pas visualisable, rendez-le invisible : cliquez sur l'oeil présent sur la ligne de la rubrique et sélectionnez l'option "Ne pas afficher".

6. De la même manière, rendez invisibles les rubriques suivantes :

	- Commande.Etat,

	- Commande.IDClient,

	- Commande.IDModeRèglement,

	- LigneCommande.IDCommande,

	- Client.IDClient.



<a name="NOTE5_3"></a>


### Création de l'état basé sur une requête
<a name="creation_etat_base_sur_une_requete_ELTPARAGRAPHE000207"></a>

- Pour créer un état :

	1. Cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Cr%E9er_WB_GAF.jpg)
 parmi les boutons d'accès rapide.

	2. La fenêtre de création d'un nouvel élément s'affiche : cliquez sur "Etat" puis sur "Etat". L'assistant de création d'un état se lance.

	3. L'assistant de création d'un état propose plusieurs types d'états : 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Cr%E9ation%20Etat%20-%20HC%20N%B0001.jpg&type=thumb)


	4. Sélectionnez "Tableau". Passez à l'étape suivante.

5. Sélectionnez la source des données de l'état. L'état va être basé sur la requête que vous venez de créer. Sélectionnez "Un fichier de données ou une requête existante". Passez à l'étape suivante. 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Cr%E9ation%20Etat%20-%20HC%20N%B0002.jpg&type=thumb)



![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Cr%E9ation%20Etat%20-%20HC%20N%B0008.jpg&type=thumb)


1. Validez.

2. Le tableau tel qu'il est défini ne rentre pas sur une page A4 portrait. WEBDEV propose de : 

	- imprimer l'état sur 2 pages en largeur, 

	- basculer en mode paysage,

	- réduire la taille du tableau. ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Cr%E9ation%20Etat%20-%20HC%20N%B0009.jpg)



 Choisissez "Réduire le tableau".

3. Validez les informations de sauvegarde. 

4. L'état apparaît en édition sous l'éditeur d'états : 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Cr%E9ation%20Etat%20-%20HC%20N%B0010.jpg&type=thumb)


5. Les différentes lignes de la commande sont regroupées sous forme de tableau.




- Exécutez cet état en cliquant sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Go_Page_WB_GAF.jpg)
 parmi les boutons d'accès rapide.

	1. L'éditeur d'états demande la destination de l'impression. La destination de l'impression peut être au choix :

		- Visualisateur de rapports : l'état est affiché à l'écran dans une fenêtre spécifique.
						|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png)<br> | Note | Le visualisateur de rapports est disponible uniquement lors du développement du site.<br><br>En exécution, l'utilisateur ne pourra pas utiliser le visualisateur de rapports. Le seul aperçu disponible sera l'affichage par le navigateur du fichier généré. |





		- Imprimante : l'état est directement imprimé sur l'imprimante par défaut.

		- Fichier spécifique : l'état est imprimé dans un fichier au format sélectionné.![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Cr%E9ation%20Etat%20-%20HC%20N%B0011.jpg)



 Choisissez "Visualisateur de rapports" et validez.

2. L'éditeur d'états demande les paramètres de la requête utilisée par l'état. Rappelez-vous, nous avons, en effet, utilisé un paramètre pour spécifier le numéro de la commande à imprimer. Pour l'exemple, saisissez la valeur de test "5". ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Cr%E9ation%20Etat%20-%20HC%20N%B0012.jpg)
Validez.

3. L'exécution de l'état s'affiche à l'écran. 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Cr%E9ation%20Etat%20-%20HC%20N%B0013.jpg&type=thumb)



<a name="NOTE5_4"></a>


### Modifications de l'état "Facture"
<a name="modifications_etat_facture_ELTPARAGRAPHE000380"></a>Nous allons effectuer quelques modifications dans l'état que nous venons de créer.

- Nous allons maintenant positionner les informations concernant le client et la commande dans le haut de page :

	1. Supprimez les libellés devant les informations client (Nom, etc.). 

	2. Positionnez la rubrique contenant la ville à côté du code postal.

	3. Agrandissez le champ contenant le nom de la société à l'aide des poignées : la taille du champ doit être identique à la taille des champs Code postal et Ville.

	4. Alignez les champs :

		- Sélectionnez le champ Société.

		- Appuyez sur la touche Ctrl puis sélectionnez à l'aide de la souris les champs contenant l'adresse, l'état et le pays.

		- Sous le volet "Alignement", cliquez sur "Justifier (Int. et Ext.)".
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Modification%20Etat%20-%20HC%20N%B0001.jpg&type=thumb)







- Nous allons créer un cadre autour des informations concernant le client. Pour cela, nous allons créer un champ Libellé superposé aux informations client. Seule la bordure de ce libellé sera visible.

	1. Créez un champ Libellé : sous le volet "Création", dans le groupe "Texte", cliquez sur "Libellé".

	2. Cliquez dans la zone "Début de document", à l'endroit où sont affichées les informations client.

	3. Appuyez sur la touche Maj et agrandissez le champ Libellé (à l'aide des poignées) afin qu'il se superpose à toutes les informations client. Cette manipulation permet d'agrandir le champ Libellé sans déplacer les champs situés dessous (contenant les informations client).

	4. Dans le menu contextuel du champ Libellé, sélectionnez "Editer le libellé" et supprimez le libellé. Cliquez dans l'état pour valider la modification.







- Pour configurer le cadre :

	1. Sélectionnez le champ Libellé que nous venons d'ajouter.

	2. Appuyez sur la touche R et cliquez sur le picto ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Modification%20Etat%20-%20HC%20N%B0003%201.jpg)
 qui apparaît en haut à droite du champ. 

	3. Sélectionnez l'option "Editer le cadre". Les options de configuration apparaissent : 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Modification%20Etat%20-%20HC%20N%B0004.jpg&type=thumb)


	4. Sélectionnez :

	- la couleur "Bleu" dans les couleurs contextuelles.

	- un cadre simple (trait fin).

	- un arrondi de 2 mm en largeur et en hauteur.




- Nous allons positionner les totaux correctement dans le bloc "Fin de document" :

	1. Sélectionnez les champs (libellés et rubriques) correspondant aux totaux présents dans le bloc "Fin de document".

	2. Positionnez ces champs à l'aide de la souris en bas à droite du tableau (au-dessus du libellé "Développé avec WEBDEV").

	3. L'état est affiché sous l'éditeur d'états : 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Modification%20Etat%20-%20HC%20N%B0005.jpg&type=thumb)


	4. Notre état "Facture" est terminé. Enregistrez l'état en cliquant sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Sauver_WB_GAF.jpg)
 parmi les boutons d'accès rapide.

5. Vérifiez les modifications effectuées en exécutant l'état en mode "Visualisateur de rapports" (cliquez sur ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Go%20Page.gif)
 parmi les boutons d'accès rapide).
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Modification%20Etat%20-%20HC%20N%B0006.jpg&type=thumb)



<a name="NOTE6"></a>
<a name="NOTE6_1"></a>


## Affichage de l'état imprimé depuis un champ Bouton
<a name="affichage_etat_imprime_depuis_champ_bouton_ELTTEXTE000844"></a>
Comme nous l'avons vu au début de cette leçon, le site s'exécutant sur un serveur, l'impression d'un document sera effectuée sur une imprimante reliée au serveur (et donc inaccessible pour l'utilisateur).

L'impression va donc être réalisée au format PDF sur le serveur et le document PDF généré sera téléchargé ou affiché sur le poste de l'internaute. Le document pourra ensuite être imprimé par l'utilisateur sur son imprimante.

Dans notre site, l'état "ETAT_Facture" va être imprimé depuis un champ Bouton présent dans la page permettant de rechercher une commande. Ce champ Bouton permettra d'imprimer la facture de la commande sélectionnée.

Remarque : Pour réaliser cette partie du cours, vous devez avoir créé la page "PAGE_Recherche_Multicritere" dans la [Leçon 5.1. Recherche Multicritère](../TutoWB/1410087494.md).

<a name="NOTE6_2"></a>


### Mise en place de l'impression
<a name="mise_place_impression_ELTPARAGRAPHE000470"></a>Pour imprimer l'état "ETAT_Facture" :

1. Placez-vous sur la page "PAGE_Recherche_Multicritere" : cliquez sur "PAGE_Recherche_Multicritere" dans la barre des documents.

2. Sous le volet "Création", dans le groupe "Champs usuels", cliquez sur "Bouton".

3. Cliquez à droite du champ Table pour créer le champ Bouton.

4. Sélectionnez le champ créé et appuyez sur la touche Entrée du clavier. Le libellé passe en édition.

5. Remplacez "BOUTON" par "IMPRIMER" et validez.
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Modification%20Etat%20-%20HC%20N%B0007.jpg&type=thumb)


6. Affichez le code de ce bouton (touche F2) et saisissez le code suivant dans l'événement "Clic xxx (serveur)" :
	
	```wl
	iDestination(iPDFGénérique)
	ETAT_Facture.InitRequête(TABLE_REQ_RechercheCommandes.COL_IDCommande[TABLE_REQ_RechercheCommandes])
	ETAT_Facture.Imprime()
	FichierAffiche(iDernierFichier(), "application/pdf")
	```

	Examinons ce code :

	- La fonction [iDestination](../WDLang5/3046074.md) permet de définir le format d'impression utilisé (ici, format PDF).

	- L'état "ETAT_Facture" étant basé sur une requête paramétrée, il est nécessaire de passer le paramètre à la requête avant d'exécuter l'état. Cette opération est réalisée par la fonction [&lt;Etat&gt;.InitRequête](../WDLang5/1000025143.md). Dans notre cas, le paramètre correspond au numéro de la commande en cours, affiché dans le champ Table.

	- La fonction [&lt;Etat&gt;.Imprime](../WDLang5/1000024554.md) permet de lancer la génération de l'état "Etat_Facture" au format spécifié (PDF dans notre cas).

	- La fonction [FichierAffiche](../WDLang2/3012005.md) permet d'afficher à l'utilisateur la facture :

		- La fonction [iDernierFichier](../WDLang5/3046068.md) permet d'obtenir le chemin du dernier fichier généré par un état. 

		- "application/pdf" est le type MIME du fichier renvoyé. Lorsque ce type est précisé, le navigateur peut afficher le fichier directement ou choisir à quelle application déléguer l'affichage sur le poste de l'internaute.




7. Fermez l'éditeur de code.

8. Enregistrez la page (![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Sauver_WB_GAF.jpg)
 ou Ctrl + S).



<a name="NOTE6_3"></a>


### Test de l'impression
<a name="test_impression_ELTPARAGRAPHE000528"></a>

- Il ne reste plus qu'à effectuer un test en réel :

	1. Lancez le test de la page "PAGE_Recherche_Multicritere".

	2. Spécifiez vos critères (ceux que vous voulez) et lancez une recherche.

	3. Sélectionnez une des commandes affichées dans le champ Table.

	4. Imprimez la commande via le bouton "IMPRIMER".
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Modification%20Etat%20-%20HC%20N%B0008.jpg&type=thumb)


	5. Le navigateur ouvre le fichier PDF. Le navigateur a remplacé la page courante par le fichier PDF. Nous allons changer ce comportement.

6. Fermez le navigateur.




- Pour ouvrir le fichier PDF dans un autre onglet ou navigateur :

	1. Double-cliquez sur le bouton "Imprimer" dans la page "PAGE_Recherche_Multicritere". La fenêtre de description s'affiche.

	2. Dans l'onglet "Général", dans le champ Destination, sélectionnez "Nouvel onglet du navigateur".
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P5_Impression%20-%20Modification%20Etat%20-%20HC%20N%B0009.jpg&type=thumb)


	3. Validez.


|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png)<br> | Note | **Nouvel onglet ou nouvelle fenêtre ?**<br><br>L'affichage dans un nouvel onglet ou dans une nouvelle fenêtre ne peut être choisi ni par l'utilisateur ni par le développeur du site. C'est le navigateur qui choisit s'il ouvre un nouvel onglet ou une nouvelle fenêtre. Le comportement pourra être différent selon le navigateur utilisé ! |





| [Leçon précédente](../TutoWB/1410087494.md) | [Sommaire](../TutoWB/1410087510.md) | [Leçon suivante](../TutoWB/1410087496.md) |
| --- | --- | --- |




