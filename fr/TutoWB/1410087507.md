
## Leçon 9.1. Les composants internes


<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Ce que vous allez apprendre dans cette leçon
<a name="que_vous_allez_apprendre_dans_cette_lecon_ELTTEXTE000221"></a>


- Qu'est-ce qu'un composant interne ?

- Etape par étape, création d'un composant interne.

- Diffusion et utilisation d'un composant interne.





|   |   |
| --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=dur%E9e.png)<br> | <br>Durée estimée : 30 mn |

| [Leçon précédente](../TutoWB/1410087506.md) | [Sommaire](../TutoWB/1410087510.md) | [Leçon suivante](../TutoWB/1410087508.md) |
| --- | --- | --- |





<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000268"></a>
Un composant interne est un regroupement d'éléments d'un projet. Ce regroupement permet :

- d'organiser un projet,

- de partager des éléments entre différents projets (principalement via le Gestionnaire de Sources).




Lorsqu'un composant interne est intégré dans un projet, tous les éléments du composant sont intégrés dans le projet. Il est possible de manipuler les éléments publics directement sous l'éditeur. De plus, le composant interne peut être débogué directement depuis le projet qui l'utilise.

Les projets qui utilisent un composant interne ont accès sous l'éditeur WEBDEV au nom des objets, procédures ou méthodes rendus visibles par le concepteur du composant.

La réalisation d'un composant est **très simple**.

Comment faut-il faire ? Faites comme d'habitude, créez vos pages, procédures, classes. Puis lors­que vous aurez terminé, choisissez l'option de création d'un composant interne, c'est tout !

Un composant interne peut contenir du code, des pages, une analyse, des fichiers de données, etc.

<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Etape par étape
<a name="etape_par_etape_ELTTEXTE000292"></a>


### Etape 1 : Création d'un composant interne
<a name="etape_1_creation_composant_interne_ELTPARAGRAPHE000045"></a>Nous allons créer un composant interne permettant de s'inscrire et de se désinscrire à une lettre d'information dans un site Web.

Ce composant est constitué :

- d'une page, permettant de visualiser la liste des inscrits à la lettre d'information,

- d'un modèle de champs Web qui contient les différents champs (saisie de l'adresse email, bouton de validation, ...),

- d'une analyse décrivant le fichier de données des inscrits.


Pour ne pas avoir à développer le code nécessaire au fonctionnement du composant, nous avons regroupé tous les éléments nécessaires dans un projet "WW_Composant_Interne". Nous allons nous servir de ce projet pour créer notre composant interne. Ce composant interne sera ensuite utilisé dans le projet "Site WEBDEV complet". 



- Pour ouvrir le projet exemple :

	1. Lancez WEBDEV 28 (si ce n'est déjà fait). 

	2. Affichez si nécessaire la page d'accueil de WEBDEV (Ctrl + &lt;). 

	3. Dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 9 - Leçon 9.1 - Les composants internes", double-cliquez sur "Composant interne - Exercice".

	4. Le projet se charge.
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=exemple-WB.png)<br> | Corrigé | Un projet corrigé est disponible, contenant déjà le composant interne. Pour ouvrir le projet corrigé, dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 9 - Leçon 9.1 - Les composants internes", double-cliquez sur "Composant interne - Corrigé". |












<a name="NOTE3_2"></a>


### Etape 2 : Utilisation du composant interne
<a name="etape_2_utilisation_composant_interne_ELTPARAGRAPHE000124"></a>Une fois créé, votre composant interne est utilisable dans n'importe quel autre projet WEBDEV.
Nous allons maintenant voir comment réutiliser ce composant.|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=note.png)<br> | Note | Dans cet exemple, nous allons voir une utilisation "directe" du composant interne. Pour un partage des ressources, il est conseillé d'utiliser les composants internes via le Gestionnaire de Sources (GDS).<br><br>Pour plus de détails, consultez [Composant interne](../Editeurs/2014100.md). |



Dans notre exemple, nous allons importer le composant interne dans le projet "Site WEBDEV Complet". 



- Ouvrez le projet "Site_WEBDEV_Complet".

	1. Affichez la page d'accueil de WEBDEV (Ctrl + &lt;).

	2. Dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 9 - Leçon 9.1 - Les composants internes", double-cliquez sur "Site WEBDEV Complet - Exercice". 

	3. WEBDEV vous informe que ce projet a déjà été ouvert et vous propose d'ouvrir la version locale ou d'écraser ce projet avec la version initiale du cours. Pour récupérer vos manipulations, cliquez sur le bouton "Ouvrir la copie locale". 
			|   |   |   |
| --- | --- | --- |
| ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=exemple-WB.png)<br> | Corrigé | Un projet corrigé est disponible. Ce projet vous permet d'effectuer les différentes manipulations de cette leçon. Pour ouvrir le projet corrigé, dans la page d'accueil, cliquez sur "Tutoriel" puis dans la zone "Partie 9 - Leçon 9.1 - Les composants internes", double-cliquez sur "Site WEBDEV Complet - Corrigé". |












- Intégrez le composant interne dans le projet.

	1. Dans le ruban, sous le volet "Projet", dans le groupe "Projet", déroulez l'option "Importer" et sélectionnez l'option "Un composant Interne .. A partir d'un fichier".

	2. Sélectionnez le fichier "Mes Projets\\Mes Exemples\\WW_Composant_Interne (Exercices)\\ComposantInterneInscriptionNewsletter\\ComposantInterneInscriptionNewletter.wci". Ce fichier correspond au composant que nous avons créé précédemment. 

	3. Le composant interne est intégré au projet.







- Pour utiliser le composant interne, nous allons instancier le modèle de champs Web fourni par le composant interne dans la page d'accueil du site. Pour cela :

	1. Affichez sous l'éditeur la page "PAGE_Liste_des_nouveautes" (double-cliquez sur son nom dans le volet "Explorateur de projet").

	2. Déplacez la zone répétée présente dans la page vers le bas afin d'insérer le modèle de champs du composant interne. 

	3. Sélectionnez le volet "Création" du ruban et dans le groupe "Conteneurs", cliquez sur "Modèle de champs".

	4. La fenêtre de sélection du modèle à instancier s'affiche. ![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P9_Composant%20Interne%20-%20HC%20N%B0009.jpg)


	5. Sélectionnez le modèle provenant du composant interne et validez.

6. Placez le modèle de champs Web dans la page en cliquant à l'endroit souhaité. 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P9_Composant%20Interne%20-%20HC%20N%B0010.jpg&type=thumb)




- Nous allons maintenant tester le fonctionnement du modèle de champs :

	1. Lancez le test de la page (![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=ICO_Go_Page_WB_GAF.jpg)
 parmi les boutons d'accès rapide).

	2. Saisissez une adresse email.

	3. Cliquez sur "VALIDER".

	4. Un message confirme l'inscription. 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=P9_Composant%20Interne%20-%20HC%20N%B0011.jpg&type=thumb)








| [Leçon précédente](../TutoWB/1410087506.md) | [Sommaire](../TutoWB/1410087510.md) | [Leçon suivante](../TutoWB/1410087508.md) |
| --- | --- | --- |




