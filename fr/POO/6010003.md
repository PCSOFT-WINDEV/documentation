
## Instanciation dynamique d'un objet
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000192"></a>
Un objet peut être associé dynamiquement à une classe, on parle alors d'instanciation dynamique de l'objet.

L'instanciation dynamique d'objet permet de créer un objet à un instant donné et de libérer cet objet lorsqu'il n'est plus utilisé.

**Pour instancier un objet, il faut :**

1. Déclarer un objet dynamique.

2. Instancier l'objet.




**Remarques** : 

- La libération de l'objet est automatique lorsqu'il n'est plus utilisé. Toutefois, il est possible de forcer la destruction de l'objet (pour provoquer l'exécution du destructeur par exemple).

- La mise en oeuvre du polymorphisme requiert l'instanciation dynamique.

- Pour récupérer l'instance de l'objet en cours dans les méthodes de la classe, utilisez le mot-clé **objet** (ou le mot-clé **this**). 





```wl
MFichier est une classe 
	Nom est une Chaîne
	Extension est une Chaîne
	Répertoire est une Chaîne
FIN

FichierSource est un objet MFichier dynamique
// ...
// Créer l'objet
FichierSource = Allouer un MFichier 
// Traitement sur l'objet...
// ...
// Libérer l'objet
libérer
```




<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Syntaxe
<a name="syntaxe_ELTTEXTE000216"></a>


### Déclaration d'un objet dynamique
<a name="declaration_objet_dynamique_ELTPARAGRAPHE000054"></a>
```txt
<NomObjet> est [un] [objet] <NomClasse> dynamique
```


**Détail de la syntaxe**
**&lt;NomObjet&gt;**
Nom identifiant l'instance de la classe.

**&lt;NomClasse&gt;**
Nom identifiant la classe, défini lors de la création de la classe sous l'éditeur de code.


<a name="NOTE2_2"></a>


### Instancier un objet dynamique
<a name="instancier_objet_dynamique_ELTPARAGRAPHE000075"></a>
```txt
<NomObjet> = allouer un <NomClasse> ([<Paramètres>])
```


**Détail de la syntaxe**
**&lt;NomObjet&gt;**
Nom identifiant l'instance de la classe.

**&lt;NomClasse&gt;**
Nom identifiant la classe, défini lors de la création de la classe sous l'éditeur de code.

**&lt;Paramètres&gt;**
Paramètres optionnels du constructeur.


<a name="NOTE2_3"></a>


### Libérer un objet dynamique
<a name="liberer_objet_dynamique_ELTPARAGRAPHE000101"></a>

**Syntaxe 1** :

```txt
libérer <NomObjet>
```


**Détail de la syntaxe**
**&lt;NomObjet&gt;**
Nom identifiant l'instance de la classe.




**Syntaxe 2** :

```txt
<NomObjet> = Null
```


**Détail de la syntaxe**
**&lt;NomObjet&gt;**
Nom identifiant l'instance de la classe.
Ce paramètre peut correspondre à un objet non dynamique.


<a name="NOTE2_4"></a>


### Remarques
<a name="remarques_ELTPARAGRAPHE000135"></a>

- La libération de l'objet est automatique lorsque il n'est plus utilisé. Toutefois, il est possible de forcer la destruction de l'objet (pour provoquer l'exécution du destructeur par exemple).

- Pour tester si un objet dynamique est alloué et n'a pas encore été libéré, il faut comparer cet objet à NULL. Par exemple : 
	
	```txt
	SI <Nom Objet> = NULL ...
	
	SI <Nom Objet> <> NULL ...
	```




<a name="NOTE2_5"></a>
![Java](https://doc.pcsoft.fr/ext/images/fr/JAVA.png) **Cas particulier en Java/Android**
La notion de destructeur n'existe pas en Java/Android. Le code situé dans le destructeur d'une classe ne sera par conséquent jamais exécuté. 
Un objet est libéré par le ramasse-miette (garbage collector) lorsqu'il n'est plus référencé dans l'application. Le moment où intervient cette libération n'est pas prévisible.
Pour forcer la libération d'un objet, il est possible de l'affecter à NULL ou d'utiliser l'instruction [Libérer](../Motscles/1511012.md).


