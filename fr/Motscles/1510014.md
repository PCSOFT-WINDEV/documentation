
## Etiquette "FIN :" 

***En anglais : "END :"***
				



<a name="XUtilisation"></a>
<a name="Utilisation"></a>
<a name="description"></a>
L'étiquette **FIN :** permet de définir un code qui sera exécuté systématiquement à la fin de l'exécution d'un traitement. Ce code sera exécuté même si la sortie du traitement est réalisée avec le mot-clé [RETOUR](../Motscles/1510009.md) ou le mot-clé [RENVOYER](../Motscles/1510007.md) (sauf dans le cas d'un traitement d'exception provoqué par la fonction [ExceptionDéclenche](../WDLang1/3034005.md)).


<a name="Exemple1"></a>
<a name="sample_code"></a>

## Exemple


```wl
PROCEDURE CompareContenu(Fic1, Fic2)

// Ouvre les fichiers
nFic1 est un entier = fOuvre(Fic1, foLecture)
nFic2 est un entier = fOuvre(Fic2, foLecture)

// En cas d'erreur d'ouverture, renvoie -3
SI nFic1 = -1 ou nFic2 = -1 ALORS RENVOYER -3

// Lit la première ligne de chaque fichier
sLigne1 est une chaîne = fLitLigne(nFic1)
sLigne2 est une chaîne = fLitLigne(nFic2)
nLigne est un entier = 1

BOUCLE
	// Si les deux lignes sont vides, c'est la fin des deux fichiers
	// Renvoie 0 
	SI sLigne1 = EOT _ET_ sLigne2 = EOT ALORS RENVOYER 0

	// Si fin du fichier 1, le fichier 1 est plus court
	// renvoie -1 
	SI sLigne1 = EOT ALORS RENVOYER -1

	// Si fin du fichier 2, le fichier 2 est plus court
	// renvoie -2 
	SI sLigne2 = EOT ALORS RENVOYER - 2

	// Si les lignes sont différentes, renvoie le numéro de la ligne différente 
	SI sLigne1 <> sLigne2 ALORS RENVOYER nLigne

	// Passe à la ligne suivante
	sLigne1 = fLitLigne(nFic1) 
	sLigne2 = fLitLigne(nFic2)
	nLigne++
FIN

FIN:
// Ferme les fichiers
fFerme(nFic1)
fFerme(nFic2)
```



<a name="XSYNTAXE"></a>
<a name="SYNTAXE1"></a>

## Syntaxe

`// Code principal
...
SI ...ALORS
   ...
   RENVOYER 0
FIN
...
SI ...ALORS
   ...
   RENVOYER 1
FIN
 
RENVOYER 2
 
// Instructions exécutées dans tous les cas
// en fin d'exécution du traitement
FIN :
...`
---



<a name="NOTE0"></a>
<a name="NOTE0_1"></a>

## Remarques




### Fonctionnement
<a name="fonctionnement_ELTPARAGRAPHE000075"></a>La valeur à renvoyer est mémorisée, puis le code suivant l'étiquette "FIN:" est exécuté. La valeur est renvoyée réellement à la fin de l'exécution du code suivant l'instruction "FIN:"

**Remarque** : L'étiquette **FIN:** est également exécutée après la gestion automatique des erreurs si celle-ci est activée (avec les mots-clé "CAS ERREUR:" et "CAS EXCEPTION:"). 


<a name="NOTE0_2"></a>




### Cas particulier
<a name="cas_particulier_ELTPARAGRAPHE000086"></a>Après un appel à la fonction [DonneFocusEtRetourUtilisateur](../WDLang1/1410088107.md) ou à la fonction [Ferme](../WDLang1/3038018.md), le code suivant l'étiquette "FIN:" n'est pas exécuté. La fonction [DonneFocusEtRetourUtilisateur](../WDLang1/1410088107.md) peut être remplacée par l'appel à la fonction [EcranPremier](../WDLang1/3025039.md) suivie de RETOUR ou RENVOYER.




