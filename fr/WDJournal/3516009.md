
## WDJournal : Restauration de fichiers de données HFSQL
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000130"></a>
WDJournal permet de restaurer les fichiers de données précédemment sauvegardés avec WDJournal.

Cette restauration des fichiers de données peut être réalisée :

- En mode interactif (WDJournal est lancé).

- En mode "Ligne de commande". Le mode "Ligne de commande" permet d'inclure la gestion des sauvegardes de vos fichiers de données directement dans vos applications. Dans ce cas, l'utilisateur n'a aucune manipulation spécifique à réaliser. 
	**Attention** : Ce type de restauration doit être utilisé uniquement si aucun des fichiers sauvegardés n'est journalé.






<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Mode Interactif
<a name="mode_interactif_ELTTEXTE000160"></a>


### Restaurer des fichiers de données HFSQL précédemment sauvegardés
<a name="restaurer_des_fichiers_donnees_hfsql_precedemment_sauvegardes_ELTPARAGRAPHE000027"></a>Pour restaurer des fichiers de données HFSQL précédemment sauvegardés : 

1. Lancez WDJournal.

2. Sélectionnez l'option "Sauvegardes .. Restauration de données" (ou cliquez sur la flèche verte).

3. Sélectionnez le répertoire contenant les fichiers précédemment sauvegardés. Utilisez le bouton "Parcourir" si nécessaire. Validez.

4. Le nom de la sauvegarde et la liste des fichiers de données présents dans la sauvegarde s'affichent. Sélectionnez les fichiers de données à restaurer (option cochée = fichier à restaurer).

5. Sélectionnez si nécessaire :

	- **Le répertoire de restauration.** Par défaut, le répertoire de restauration est identique au répertoire contenant les fichiers originaux. Il est possible de restaurer les fichiers dans un autre répertoire (pour effectuer une comparaison par exemple). L'arborescence de la sauvegarde est restaurée. 
			Il suffit : 
			- de cocher l'option "Modifier le répertoire de restauration des données",
			- d'indiquer le répertoire de restauration (bouton "Parcourir").

	- **"Ne pas restaurer les journaux et mettre les fichiers de données à jour avec les journaux actuels".** Par défaut, cette option est cochée si des fichiers journaux sont présents dans la sauvegarde : les fichiers journaux (fichiers XXXJNL.FIC) ne sont pas restaurés et sont automatiquement appliqués aux fichiers restaurés.




6. Validez. La restauration est automatiquement effectuée.




**Remarque** : Si des fichiers de données de même nom sont déjà présents dans le répertoire de restauration, les fichiers de données existants sont automatiquement renommés.



<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Mode ligne de commande
<a name="mode_ligne_commande_ELTTEXTE000184"></a>


### Pour restaurer des fichiers, la syntaxe est :
<a name="pour_restaurer_des_fichiers_syntaxe_est_ELTPARAGRAPHE000055"></a>
```txt
WDJournal /REST=<RepSauve> /REP_REST=<RepRestauration> /SANSREINDEXE=<Vrai ou Faux>
```


Le tableau ci-dessous liste les différents éléments pouvant être présents sur la ligne de commande :


| Paramètre | Signification |
| --- | --- |
| /REST=&lt;RepSauve&gt; | Chemin contenant les fichiers sauvegardés |
| /REP_REST=&lt;RepRestauration&gt; | Chemin où la restauration doit être effectuée |
| /SANSREINDEXE=&lt;Vrai ou Faux&gt; | Si cette option est à Vrai, aucune ré-indexation des fichiers restaurés ne sera effectuée |


Exemple : La ligne de commande suivante permet de restaurer les fichiers présents dans le répertoire "D:\\Sauvegarde".


```wl
LanceAppli("WDJournal /REST=D:\Sauvegarde")
```





