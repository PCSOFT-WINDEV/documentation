


## WDJournal : Visualisation d'un fichier journal
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000173"></a>
WDJournal permet de visualiser le contenu d'un fichier journal :

- en mode HFSQL Classic. Le fichier visualisé sous WDJournal est le fichier &lt;NomFichierJournalé&gt;JNL.FIC.

- en mode HFSQL Client/Serveur. Il est cependant conseillé d'utiliser le Centre de Contrôle HFSQL.




Rappel : 

- Le mode de fonctionnement de la journalisation comporte quelques différences en HFSQL Classic et HFSQL Client/Serveur.

- En programmation, la fonction [HHistoriqueModification](../WDLang4/3044344.md) renvoie les modifications apportées à une ou plusieurs rubriques d'un enregistrement donné.






<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Mode Interactif
<a name="mode_interactif_ELTTEXTE000203"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png)![HFSQL Classic](https://doc.pcsoft.fr/ext/images/fr/HF.png) 

### Visualiser le fichier JournalOpération.FIC (HFSQL Classic)
<a name="visualiser_fichier_journaloperationfic_hfsql_classic_ELTPARAGRAPHE000033"></a>Pour visualiser le fichier JournalOpération.FIC (HFSQL Classic)

1. Lancez WDJournal.

2. Sélectionnez l'option "Fichier .. Gestion des journaux" (ou cliquez sur le livre).

3. Cliquez sur le bouton "Ouvrir un journal HFSQL Classic".

4. Sélectionnez le fichier journal de votre application (fichier XXXJNL.FIC).

5. Le contenu du fichier est affiché.



<a name="NOTE2_2"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png)![HFSQL Client/Serveur](https://doc.pcsoft.fr/ext/images/fr/HFCS.png) 

### Visualiser le fichier Journal (HFSQL Client/Serveur)
<a name="visualiser_fichier_journal_hfsql_clientserveur_ELTPARAGRAPHE000048"></a>Pour visualiser le fichier Journal (HFSQL Client/Serveur)

1. Lancez WDJournal.

2. Sélectionnez l'option "Fichier .. Gestion des journaux" (ou cliquez sur le livre).

3. Cliquez sur le bouton "Ouvrir un journal HFSQL Client/Serveur".

4. Décrivez la connexion au serveur HFSQL dans l'assistant qui s'ouvre.

5. Sélectionnez le fichier journalé.

6. Le contenu du fichier est affiché.



<a name="NOTE2_3"></a>


### Les différentes informations affichées
<a name="les_differentes_informations_affichees_ELTPARAGRAPHE000062"></a>


|   |   |
| --- | --- |
| Adresse IP | Adresse IP du poste qui a effectué l'opération. |
| Application | Nom de l'application qui a effectué l'opération (utile dans le cas de fichiers partagés entre plusieurs applications).<br>Cette information est une chaîne sur 12 caractères. |
| Clé | Valeur de la première clé unique du fichier. |
| Date | Date à laquelle l'opération a été effectuée. |
| Heure | Heure à laquelle l'opération a été effectuée. |
| HPoste | Identifiant du poste qui a effectué la modification (identifiant déterminé par la fonction ***HPoste***). <br>Cette information est une chaîne de 16 caractères. |
| Nom Réseau | Nom de la machine (limité à 12 caractères). Si ce nom comporte plus de 12 caractères, le début du nom est tronqué (c'est souvent la fin du nom de la machine qui est le plus déterminant).<br>![HFSQL Client/Serveur](https://doc.pcsoft.fr/ext/images/fr/HFCS.png) Il est possible d'obtenir le nom de la machine du client grâce au fichier JNLUSER.Fic. |
| Notes | Notes personnalisées définies par la fonction ***HJournalInfo***.<br>Cette information est une chaîne de 12 caractères. |
| Opération | Opération effectuée sur le fichier de données. Dans le fichier de données, cette opération est identifiée par un numéro. La correspondance "Numéro - fonction HFSQL" est disponible dans le fichier ListeDéfinitionHF.WL présent dans le sous-répertoire \\Personnel\\Externe de WINDEV. |
| Valeurs | La loupe permet de visualiser les différentes valeurs de l'enregistrement :<br><br>- Lors d'un ajout, la valeur ajoutée est visualisée.<br><br>- Lors d'une modification, les valeurs avant et après modification sont visualisées.<br><br>- Lors d'une suppression, les valeurs supprimées sont visualisées.<br><br><br> |


<a name="NOTE2_4"></a>
![WINDEV](https://doc.pcsoft.fr/ext/images/fr/WD.png)![Windows](https://doc.pcsoft.fr/ext/images/fr/WINDOWS.png)![Code Utilisateur (MCU)](https://doc.pcsoft.fr/ext/images/fr/MCU.png) 

### Opérations possibles
<a name="operations_possibles_ELTPARAGRAPHE000124"></a>Cette fenêtre permet d'effectuer des recherches avancées sur tous les éléments enregistrés dans le journal. Il est ainsi possible par exemple de rechercher toutes les modifications effectuées par un poste sur une période définie ou encore de rechercher toutes les opérations effectuées par un poste spécifique.


