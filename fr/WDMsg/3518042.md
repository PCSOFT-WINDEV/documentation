


## Intégrer les messages dans un projet
			



<a name="NOTE1"></a>
<a name="NOTE1_1"></a>


## Présentation
<a name="presentation_ELTTEXTE000291"></a>
L'intégration des messages permet d'ajouter dans un projet, pour une langue donnée, tous les messages contenus dans le fichier de traduction.

Le fichier de traduction (contenant les messages traduits ou corrigés) doit utiliser le même format de fichier que le fichier d'extraction créé par WDMSG (option "Extraction des messages" ou "Liste des messages non traduits").

**Remarques** :

- Plusieurs points doivent être vérifiés avant de procéder à l'intégration des messages (voir notes).

- Si des modifications ont été effectuées sur le fichier d'extraction original créé par WDMSG, il est nécessaire d'intégrer ce fichier pour prendre en compte les modifications.




**Éléments (fenêtres, pages, états, ...) gérant plus de langues que le projet :**
WDMSG propose uniquement les langues gérées par le projet en cours. Si des éléments (fenêtres, pages, états, etc.) gèrent plus de langues que le projet, les traductions de ces langues supplémentaires ne pourront pas être intégrées dans le projet en cours.

Vérifiez que le projet gère la langue dans laquelle les messages vont être réintégrés. Si nécessaire, ajoutez cette langue dans l'onglet "Langues" de la description du projet. 
Rappel : Pour afficher la description du projet, sous le volet "Projet", dans le groupe "Projet", cliquez sur "Description". 

<a name="NOTE2"></a>
<a name="NOTE2_1"></a>


## Comment le faire ?
<a name="comment_faire_ELTTEXTE000315"></a>


### Intégrer les messages dans un projet
<a name="integrer_les_messages_dans_projet_ELTPARAGRAPHE000047"></a>Pour intégrer les messages (traduits ou corrigés) dans votre projet :

1. Ouvrez votre projet sous WINDEV, WEBDEV ou WINDEV Mobile : sous le volet "Accueil", dans le groupe "Général", déroulez "Ouvrir" et sélectionnez "Ouvrir un projet".

2. Lancez WDMSG : sous le volet "Projet", dans le groupe "Traduire", déroulez "Traduire" et sélectionnez "Réintégration des messages".

3. Sélectionnez les langues dans lesquelles les messages vont être intégrés. 
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Assistant%20WDMSG%20-%20HC%20N%B0005.gif&type=thumb)
Remarques : 

	- Le nom des langues personnalisées est également proposé. 

	- La multisélection de langues est disponible uniquement pour les fichiers de traduction au format HFSQL ou WDMSG. Les différentes ressources à traduire ont été préalablement extraites dans le fichier de traduction et traduites par l'outil WDTRAD. 

	- L'option "Utiliser une des autres langues disponibles si une traduction est vide." permet d'éviter les "trous" dans l'interface. Il est ensuite possible de sélectionner la langue à utiliser en priorité si la traduction est vide. Ainsi, si cette option est cochée, lorsqu'une ressource n'est pas trouvée dans la langue réintégrée, elle est recherchée dans la langue spécifiée. Si après cette recherche, la ressource n'est toujours pas trouvée, la ressource est conservée dans la langue de référence.  

	- L'option "Réintégrer une langue supplémentaire hors projet" permet de réintégrer une langue supplémentaire, non gérée dans le projet. Il suffit d'indiquer la langue à réintégrer.  




4. Passez à l'étape suivante de l'assistant.

5. Sélectionnez les paramètres d'intégration du fichier contenant les messages traduits. Ces paramètres sont détaillées dans le paragraphe ci-dessous.  
![](https://doc.pcsoft.fr/fr-FR/images/image.awp?langid=5&name=Assistant%20WDMSG%20-%20HC%20N%B0006.gif&type=thumb)


6. Passez à l'étape suivante.

7. Lors de l'intégration des messages, il est possible de vérifier si les messages précédemment extraits sont identiques aux messages du projet en cours. Cette fonctionnalité est utile lorsque la traduction des messages est réalisée en même temps que le développement de l'application.
	Si cette vérification est effectuée, la traduction (ou correction) des messages modifiés dans le projet ne sera pas réintégrée. Les messages modifiés seront extraits et enregistrés dans un nouveau fichier d'extraction. 
	Si vous voulez effectuer cette vérification :

	- cochez l'option "Vérifier si des messages ont été modifiés depuis leur extraction".

	- spécifiez le fichier d'extraction initial (messages ni traduits, ni corrigés) et le nouveau fichier d'extraction qui contiendra uniquement les messages modifiés. 
			Passez à l'étape suivante.

	- sélectionnez la langue originale d'extraction.
			Passez à l'étape suivante.




8. Lors de l'intégration des messages, il est possible de réintégrer également les corrections (fautes d'orthographe, ...) effectuées dans le fichier d'extraction original (contenant les messages à traduire). Cette fonctionnalité est utile lorsque les traducteurs modifient le fichier original. Il est alors possible de réintégrer la traduction et les modifications effectuées. 
	Si vous voulez effectuer cette réintégration :

	- cochez l'option "Réintégrer les corrections sur les messages donnés à traduire".

	- spécifiez le fichier d'extraction original contenant les corrections.

	- sélectionnez la langue originale d'extraction.


 Passez à l'étape suivante.

9. WDMSG offre la possibilité de créer un fichier de référence. Ce fichier de référence permettra pour les prochaines traductions de l'application de faire traduire uniquement les nouveaux messages ou les messages modifiés depuis la dernière traduction. 
	Si vous voulez créer un fichier de référence :

	- cochez l'option "Extraire un fichier de référence".

	- spécifiez le fichier de référence.

	- sélectionnez la langue du fichier de référence.


 Passez à l'étape suivante.

10. Validez. Les messages sont intégrés. Si vous avez demandé des opérations spécifiques, les fichiers correspondants seront traités et générés. 
	Vous pouvez vérifier cette intégration directement sous l'outil utilisé (WINDEV, WEBDEV ou WINDEV Mobile).
	Par exemple, affichez la description d'un champ de saisie. La traduction du libellé de ce champ sera disponible.



<a name="NOTE2_2"></a>


### Paramètres d'intégration
<a name="parametres_integration_ELTPARAGRAPHE000153"></a>En règle générale, pour un même projet, vous devez utiliser les mêmes paramètres lors de l'extraction et de l'intégration des messages. Les paramètres d'intégration sont les suivants :

- **Récupérer au format OEM** : si l'option est cochée, le texte du fichier doit être au format OEM (Format des caractères DOS), sinon au format ANSI (Format des caractères Windows).




Il est également possible d'indiquer des paramètres spécifiques au logiciel de traduction utilisé (voir le paragraphe suivant).
<a name="NOTE2_3"></a>


### Paramètres d'intégration pour un logiciel de traduction
<a name="parametres_integration_pour_logiciel_traduction_ELTPARAGRAPHE000166"></a>Si vous utilisez [WDTRAD](../WDTrad/3518010.md) pour traduire les messages de votre projet, les paramètres suivants ne sont pas nécessaires.

Si vous utilisez un autre logiciel de traduction, des paramètres spéciaux sont à définir (paramètres différents selon le logiciel utilisé). En règle générale, pour un même projet, vous devez utiliser les mêmes paramètres lors de l'extraction et de l'intégration des messages. Les paramètres spécifiques au logiciel de traduction utilisé sont les suivants :

- **Considérer le délimiteur de parties de texte à ne pas traduire** : pour certains logiciels de traduction, il est possible d'ignorer des parties de texte dans un document à traduire. Par exemple, il est possible d'ignorer les commentaires générés par WDMSG. Pour cela, il faut encadrer le texte à ignorer avec des délimiteurs (spécifiques au logiciel).
	Si l'option est cochée, tous les textes spécifiques au format du fichier d'extraction seront encadrés par les délimiteurs (par défaut SSTRX) pour qu'ils ne soient pas traduits.
	Pour connaître les délimiteurs à employer, consultez la documentation du logiciel de traduction utilisé.

- **Considérer l'espace avant le délimiteur** : pour certains logiciels de traduction, il est nécessaire d'ajouter un espace avant le délimiteur. 
	Si cette option est cochée, un espace est ajouté au début du délimiteur.

- **Considérer l'espace après le délimiteur** : pour certains logiciels de traduction, il est nécessaire d'ajouter un espace après le délimiteur. 
	Si cette option est cochée, un espace est ajouté à la fin du délimiteur.




<a name="NOTE3"></a>
<a name="NOTE3_1"></a>


## Notes
<a name="notes_ELTTEXTE000351"></a>


### Avant de lancer l'intégration des messages
<a name="avant_lancer_integration_des_messages_ELTPARAGRAPHE000194"></a>Avant de procéder à l'intégration des messages, il faut s'assurer que :

- une sauvegarde du projet a été effectuée sous WINDEV, WEBDEV ou WINDEV Mobile. Pour réaliser une sauvegarde, sous le volet "Projet", dans le groupe "Autres actions", déroulez "Sauver/Restaurer" et sélectionnez "Sauvegarder le projet".
	**Important** : WDMSG ne crée pas de fichier de sauvegarde.

- dans le cas d'un fichier texte de traduction : les mots-clés du fichier d'extraction n'ont pas été modifiés lors de la traduction ou de la correction orthographique du fichier (sinon des messages d'erreur apparaîtront lors de l'intégration).

- dans le cas de la traduction des messages, la langue de traduction a été définie dans le projet. Si ce n'est pas le cas, il faut : 

	- ajouter la langue dans l'onglet "Langues" de la description du projet : sous le volet "Projet", dans le groupe "Projet", cliquez sur "Description".

	- mettre à niveau le projet avant de réaliser l'intégration : sous le volet "Projet", dans le groupe "Projet", déroulez "Recompiler et synchroniser" et sélectionnez "Réparer le projet (Mise à niveau)".




- dans le cas d'une réintégration simultanée de plusieurs langues (fichier HFSQL ou WDMSG) : les différentes langues contenues dans le fichier de traduction ont bien été traduites sous l'outil WDTRAD.





